!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.leafletMap=e():t.leafletMap=e()}(window,function(){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);class i extends L.Marker{constructor(t,e){super(t,e)}setData(t){this.__data=t}getData(){return this.__data}}class o{constructor(t,e,s,i){this.type="marker",this.map=t,this.dataList=e,this.options=Object.assign({},{renderType:"point",renderPointColorType:"single",iconType:"unicode",iconSize:[20,20],iconClass:"iconfont",iconColor:"#3388FF",iconAnchor:[10,20],segmentedColors:["#3388FF"],isCluster:!1,heatOptions:{max:1,minOpacity:1}},s),this.channelFunc=i,this.visible=!0,this.layer=null,this.focusedMarker=null,this.hoveredMarker=null,this.focusedDisplayMarker=null,this.markers=[],this.markerLayer=null,this.heatLayer=null,this.clusterLayer=null,this.segmentedMin=1/0,this.segmentedStep=1,this.zoomStartCb=this._zoomStartCb.bind(this),this.zoomEndCb=this._zoomEndCb.bind(this)}draw(t){return this.visible=!0,this.options=Object.assign(this.options,t),this.initMarkers(),this.redraw()}redraw(){if(this.visible){if(this.layer&&this.layer.remove(),this.options.isCluster&&"point"===this.options.renderType)this.layer=this.configClusterLayer();else switch(this.options.renderType){case"point":this.layer=this.configMarkerLayer();break;case"cluster":this.layer=this.configClusterLayer();break;case"heat":this.layer=this.configHeatLayer();break;default:throw new Error(`renderType 不支持"${this.options.renderType}"`)}return this.map.addLayer(this.layer),this}}setData(t){this.dataList=t}setOptions(t,e=!1){this.options=Object.assign(this.options,t),e&&this.redraw()}fitBounds(){this.map.fitBounds(this.getBounds())}getBounds(){return this.markers.length<=0?this.map.getBounds():this.markers.map(t=>[t.getLatLng().lat,t.getLatLng().lng])}destroy(){this.layer&&this.map.removeLayer(this.layer),this.map.off("zoomstart",this.zoomStartCb),this.map.off("zoomend",this.zoomEndCb)}toggleVisible(t){this.visible=t,this.layer&&(t?this.map.addLayer(this.layer):this.map.removeLayer(this.layer))}changeColor(t){this.options.iconColor=t,this.redraw()}changeIcon(t){this.options.iconUnicode=t,this.redraw()}pitch(t){this.markers.forEach(e=>{e.getData().id!==t||e.fire("click")})}_zoomStartCb(){this.visible&&("marker"===this.type&&("point"!==this.options.renderType||this.options.isCluster)||this.map.removeLayer(this.markerLayer))}_zoomEndCb(){this.visible&&("marker"===this.type&&("point"!==this.options.renderType||this.options.isCluster)||this.map.addLayer(this.markerLayer))}configMarkerLayer(){this.markerLayer&&this.markerLayer.remove();const t=L.canvasIconLayer({}).addTo(this.map);return t.addOnClickListener((t,[{data:e}])=>{this.markerClickHandler(e)}),t.addOnHoverListener((t,[{data:e}])=>{this.hoveredMarker&&this.hoveredMarker.closeTooltip(),this.hoveredMarker=e,this.hoveredMarker.getTooltip()?this.hoveredMarker.openTooltip():this.options.tooltipAttr&&this.hoveredMarker.bindTooltip(""+this.hoveredMarker.getData()[this.options.tooltipAttr])}),t.addMarkers(this.markers),this.map.on("zoomstart",this.zoomStartCb),this.map.on("zoomend",this.zoomEndCb),this.map.panTo(this.map.getCenter()),this.markerLayer=t,this.markerLayer}getToolTipContent(t){return""+t[this.options.tooltipAttr]}initMarkers(){this.cacheSegmentParams(),this.markers=[],this.dataList.forEach(t=>{const e=L.geoJSON(t.geometry).getLayers()[0],s=new i([e.getLatLng().lat,e.getLatLng().lng],{icon:this.getMarkerIcon(t)});s.setData(t),s.on("click",()=>{this.markerClickHandler(s)}),this.markers.push(s)})}markerClickHandler(t){this.focusedMarker=t,this.focusedDisplayMarker&&this.focusedDisplayMarker.removeFrom(this.map),this.focusedDisplayMarker=new i(t.getLatLng(),{icon:this.getLargerMarkerIcon(t.getData())}),this.focusedDisplayMarker.addTo(this.map),this.focusedDisplayMarker.bindPopup(this.getPopupContent(t.getData())).openPopup(),this.focusedDisplayMarker.on("popupclose",()=>{this.focusedDisplayMarker.remove()}),this.map.panTo(this.focusedMarker.getLatLng()),this.channelFunc("on-click-marker",t)}configClusterLayer(){return this.clusterLayer&&this.clusterLayer.remove(),this.clusterLayer=L.markerClusterGroup(),this.clusterLayer.addLayers(this.markers.map(t=>{const e=new i(t.getLatLng(),{icon:this.getMarkerIcon(t.getData())});return e.setData(t.getData()),e.bindTooltip(""+e.getData()[this.options.tooltipAttr]),e.bindPopup(this.getPopupContent(e.getData())),e.on("click",()=>{this.markerClickHandler(e)}),e})),this.clusterLayer}configHeatLayer(){return this.heatLayer&&this.heatLayer.remove(),this.markers.forEach(t=>{const e=t.getLatLng(),s=this.options.heatOptions&&this.options.heatOptions.dimensionAttr;let i=s&&t.getData()[s]||this.options.heatOptions.max;"number"!=typeof i&&(i=this.options.heatOptions.max),t.setLatLng(L.latLng(e.lat,e.lng,i))}),this.heatLayer=L.heatLayer(this.markers.map(t=>t.getLatLng()),Object.assign({},this.options.heatOptions,{minOpacity:1})),this.heatLayer}getLargerMarkerIcon(t){return this._getMarkerIcon(t,!0)}getMarkerIcon(t){return this._getMarkerIcon(t,!1)}_getMarkerIcon(t,e){const s=this.options.iconSize,i=this.options.iconAnchor,o=[1.5*s[0],1.5*s[1]],n=[1.5*i[0],1.5*i[1]],r=this.options.iconColor;switch(this.options.iconType){case"image":case"font_class":case"symbol":case"unicode":return L.divIcon({html:this.getCustomIconHTML(t,{iconSize:e?o:s,iconColor:r}),className:e?"large-div-icon-marker":"",iconSize:e?o:s,iconAnchor:e?n:i,tooltipAnchor:e?[0,-n[1]/2]:[0,-i[1]/2],popupAnchor:e?[0,-n[1]/2]:[0,-i[1]/2]});default:throw new Error(`renderType 不能为 ${this.options.iconType}`)}}getCustomIconHTML(t,e){if(this.options.iconRenderer)return e=Object.assign({},this.options,e),this.options.iconRenderer(t,e);switch(this.options.renderPointColorType){case"single":switch(this.options.iconType){case"font_class":return`\n              <i class="${this.options.iconClass}"\n                style="\n                  color: ${e.iconColor};\n                  font-size: ${e.iconSize[0]}px;\n                "\n                />\n            `;case"symbol":return`\n              <svg class="icon-symbol" aria-hidden="true">\n                <use xlink:href="${this.options.iconSymbol}" />\n              </svg>\n            `;case"unicode":return`\n              <i\n                class="${this.options.iconClass}"\n                style="\n                  color: ${e.iconColor};\n                  font-size: ${e.iconSize[0]}px;\n                "\n                >\n                ${this.options.iconUnicode}\n              </i>\n            `}break;case"segmented":switch(this.options.iconType){case"font_class":return`\n              <i\n                class="${this.options.iconClass}"\n                style="\n                  color: ${this.getSegmentedMarkerColor(t)};\n                  font-size: ${e.iconSize[0]}px;\n                "\n                />\n            `;case"symbol":return`\n              <svg class="icon-symbol" aria-hidden="true">\n                <use xlink:href="${this.options.iconSymbol}" />\n              </svg>\n            `;case"unicode":return`\n              <i\n                class="${this.options.iconClass}"\n                style="\n                  color: ${this.getSegmentedMarkerColor(t)};\n                  font-size: ${e.iconSize[0]}px;\n                "\n                >\n                ${this.options.iconUnicode}\n              </i>\n            `}break;default:throw new Error(`renderPointColorType 不支持"${this.options.renderPointColorType}"`)}}cacheSegmentParams(){const t=this.options.segmentedColors.length;let e=-1/0,s=1/0;for(const t of this.dataList){const i=t[this.options.segmentedAttr];e=Math.max(e,i),s=Math.min(s,i)}const i=(e-s+1)/t;this.segmentedMin=s,this.segmentedStep=i}getSegmentedMarkerColor(t){const e=t[this.options.segmentedAttr];return this.options.segmentedColors[parseInt(""+(e-this.segmentedMin)/this.segmentedStep,10)]}getPopupContent(t){return this.options.popupAttr?"string"==typeof this.options.popupAttr?`${this.options.popupAttr}: ${t[this.options.popupAttr]}`:"object"==typeof this.options.popupAttr?`${this.options.popupAttr.label}: ${t[this.options.popupAttr.value]}`:void 0:""}}class n extends o{constructor(t,e,s,i){super(t,e,s,i),this.type="markerBuffer";this.options=Object.assign(this.options,{bufferOptions:{radius:1e3,stroke:!0,weight:1}},s)}draw(t){return this.options=Object.assign(this.options,t),this.options.bufferOptions.color=this.options.iconColor,this.initMarkers(),this.redraw()}redraw(){if(this.visible)return this.markerLayer&&this.map.removeLayer(this.markerLayer),this.bufferLayer&&this.map.removeLayer(this.bufferLayer),this.markerLayer=this.configMarkerLayer(),this.bufferLayer=this.configBufferLayer(),this.layer=L.layerGroup(),this.layer.addLayer(this.markerLayer),this.layer.addLayer(this.bufferLayer),this.map.addLayer(this.layer),this}getBounds(){return this.markers.length<=0?this.map.getBounds():this.markers.reduce((t,e)=>t.extend(e.getLatLng().toBounds(this.options.bufferOptions.radius)),this.markers[0].getLatLng().toBounds(this.options.bufferOptions.radius))}configBufferLayer(){const t=L.layerGroup();return this.markers.forEach(e=>{const s=L.circle(e.getLatLng(),this.options.bufferOptions);if(this.options.bufferTooltipAttr)s.bindTooltip(""+e.getData()[this.options.bufferTooltipAttr]);else switch(typeof this.options.popupAttr){case"string":s.bindTooltip(""+e.getData()[this.options.popupAttr]);break;case"object":s.bindTooltip(""+e.getData()[this.options.popupAttr.value])}t.addLayer(s)}),t}}class r extends L.Polyline{constructor(t,e){super(t,e)}setData(t){this.__data=t}getData(){return this.__data}}class a{constructor(t,e,s,i){this.type="polyline",this.map=t,this.dataList=e,this.options=s,this.channelFunc=i,this.visible=!0,this.polylines=[],this.segmentedMin=1/0,this.segmentedStep=1,this.options=Object.assign({},{color:"#3388FF",renderPolylineColorType:"single",segmentedColors:["#3388FF"]},s)}draw(t){return this.options=Object.assign(this.options,t),this.initPolylines(),this.redraw()}redraw(){if(this.visible)return this.layer&&this.layer.remove(),this.layer=this.configPolylineLayer(),this.map.addLayer(this.layer),this}fitBounds(){this.map.fitBounds(this.getBounds())}getBounds(){return this.polylines.length<=0?this.map.getBounds():this.polylines.reduce((t,e)=>t.extend(e.getBounds()),this.polylines[0].getBounds())}destroy(){this.layer&&this.map.removeLayer(this.layer)}toggleVisible(t){this.visible=t,this.layer&&(t?this.map.addLayer(this.layer):this.map.removeLayer(this.layer))}changeColor(t){this.options.fillColor=t,this.redraw()}pitch(t){this.polylines.forEach(e=>{e.getData().id!==t||e.fire("click")})}initPolylines(){this.cacheSegmentParams(),this.polylines=this.dataList.map(t=>{const e=L.geoJSON(t.geometry).getLayers()[0],s=new r(e.getLatLngs());return s.setData(t),s})}getSegmentedPolylineColor(t){const e=t[this.options.segmentedAttr];return this.options.segmentedColors[parseInt(""+(e-this.segmentedMin)/this.segmentedStep,10)]}polylineClickHandler(t){this.channelFunc("on-click-polyline",t)}getToolTipContent(t){return""+t[this.options.tooltipAttr]}getPopupContent(t){return this.options.popupAttr?"string"==typeof this.options.popupAttr?`${this.options.popupAttr}: ${t[this.options.popupAttr]}`:"object"==typeof this.options.popupAttr?`${this.options.popupAttr.label}: ${t[this.options.popupAttr.value]}`:void 0:""}configPolylineLayer(){return this.polylineLayer=L.layerGroup(),this.polylines.forEach(t=>{let e=this.options.color;"segmented"===this.options.renderPolylineColorType&&(e=this.getSegmentedPolylineColor(t.getData()));const s=Object.assign({},this.options,{color:e}),i=new r(t.getLatLngs(),s);i.on("click",()=>{this.polylineClickHandler(t)}),i.setData(t.getData()),this.options.tooltipAttr&&i.bindTooltip(this.getToolTipContent(i.getData())),this.options.popupAttr&&i.bindPopup(this.getPopupContent(i.getData())),this.polylineLayer.addLayer(i)}),this.polylineLayer}cacheSegmentParams(){const t=this.options.segmentedColors.length;let e=-1/0,s=1/0;for(const t of this.dataList){const i=t[this.options.segmentedAttr];e=Math.max(e,i),s=Math.min(s,i)}const i=(e-s+1)/t;this.segmentedMin=s,this.segmentedStep=i}}class h extends a{constructor(t,e,s,i){super(t,e,s,i);this.type="polylineBuffer",this.map=t,this.dataList=e,this.options=s,this.channelFunc=i,this.visible=!0,this.polylines=[],this.segmentedMin=1/0,this.segmentedStep=1,this.options=Object.assign({},{renderPolylineColorType:"single",segmentedColors:["#3388FF"],corridor:100,color:"#3388FF",opacity:.5},s)}draw(t){return this.options=Object.assign(this.options,t),this.initPolylines(),this.redraw()}redraw(){if(this.visible)return this.layer&&this.layer.remove(),this.layer=this.configPolylineBufferLayer(),this.map.addLayer(this.layer),this}fitBounds(){this.map.fitBounds(this.getBounds())}getBounds(){return this.polylines.length<=0?this.map.getBounds():this.polylines.reduce((t,e)=>t.extend(e.getBounds()),this.polylines[0].getBounds())}changeColor(t){this.options.color=t,this.redraw()}configPolylineBufferLayer(){return this.polylineLayer=L.layerGroup(),this.polylines.forEach(t=>{t.on("click",()=>{this.polylineClickHandler(t)});const e=Object.assign({},this.options,{color:"single"===this.options.renderPolylineColorType?this.options.color:this.getSegmentedPolylineColor(t.getData())}),s=L.corridor(t.getLatLngs().map(t=>L.latLng([t.lat,t.lng])),e);this.options.tooltipAttr&&s.bindTooltip(this.getToolTipContent(t.getData())),this.polylineLayer.addLayer(s)}),this.polylineLayer}}class p extends L.Polygon{constructor(t,e){super(t,e)}setData(t){this.__data=t}getData(){return this.__data}}class l{constructor(t,e,s,i){this.type="polygon",this.map=t,this.dataList=e,this.options=s,this.channelFunc=i,this.visible=!0,this.polygons=[],this.segmentedMin=1/0,this.segmentedStep=1,this.options=Object.assign({},{color:"#3388FF",fillColor:"#3388FF",opacity:.3,renderPolygonColorType:"single",segmentedColors:["#3388FF"]},s)}draw(t){return this.options=Object.assign(this.options,t),this.initPolygons(),this.redraw()}redraw(){if(this.visible)return this.layer&&this.layer.remove(),this.layer=this.configPolygonLayer(),this.map.addLayer(this.layer),this}fitBounds(){this.map.fitBounds(this.getBounds())}getBounds(){return this.polygons.length<=0?this.map.getBounds():this.polygons.reduce((t,e)=>t.extend(e.getBounds()),this.polygons[0].getBounds())}destroy(){this.layer&&this.map.removeLayer(this.layer)}toggleVisible(t){this.visible=t,this.layer&&(t?this.map.addLayer(this.layer):this.map.removeLayer(this.layer))}changeColor(t){this.options.fillColor=t,this.redraw()}pitch(t){this.polygons.forEach(e=>{e.getData().id!==t||e.fire("click")})}getToolTipContent(t){return""+t[this.options.tooltipAttr]}getPopupContent(t){return this.options.popupAttr?"string"==typeof this.options.popupAttr?`${this.options.popupAttr}: ${t[this.options.popupAttr]}`:"object"==typeof this.options.popupAttr?`${this.options.popupAttr.label}: ${t[this.options.popupAttr.value]}`:void 0:""}cacheSegmentParams(){const t=this.options.segmentedColors.length;let e=-1/0,s=1/0;for(const t of this.dataList){const i=t[this.options.segmentedAttr];e=Math.max(e,i),s=Math.min(s,i)}const i=(e-s+1)/t;this.segmentedMin=s,this.segmentedStep=i}getSegmentedPolygonColor(t){const e=t[this.options.segmentedAttr];return this.options.segmentedColors[parseInt(""+(e-this.segmentedMin)/this.segmentedStep,10)]}polygonClickHandler(t){this.channelFunc("on-click-polygon",t)}initPolygons(){this.cacheSegmentParams(),this.polygons=[],this.dataList.forEach(t=>{const e=L.geoJSON(t.geometry).getLayers()[0],s=new p(e.getLatLngs());s.setData(t),this.polygons.push(s)})}configPolygonLayer(){return this.polygonLayer=L.layerGroup(),this.polygons.forEach(t=>{let e=this.options.color,s=this.options.fillColor;"segmented"===this.options.renderPolygonColorType&&(s=e=this.getSegmentedPolygonColor(t.getData()));const i=Object.assign({},this.options,{color:e,fillColor:s}),o=new p(t.getLatLngs(),i);o.setData(t.getData()),o.on("click",()=>{this.polygonClickHandler(t)}),this.options.tooltipAttr&&o.bindTooltip(this.getToolTipContent(o.getData())),this.options.popupAttr&&o.bindPopup(this.getPopupContent(o.getData())),this.polygonLayer.addLayer(o)}),this.polygonLayer}}class c{constructor(t,e,s,i){this.map=t,this.dynamicDataList=e,this.options=s,this.channelFunc=i,this.currentStep=0,this.isPause=!0}restart(){this.isPause=!1,this.currentStep=0,this.gotoStep(this.currentStep),this.start()}start(){this.isPause=!1,this.options.auto&&setTimeout(()=>{if(!this.isPause)if(this.currentStep>=this.dynamicDataList.length-1){if(!this.options.loop)return;this.restart()}else this.currentStep++,this.gotoStep(this.currentStep),this.start()},this.options.interval)}pause(){this.isPause=!0}prev(){this.currentStep--,this.currentStep=(this.currentStep+this.dynamicDataList.length)%this.dynamicDataList.length,this.gotoStep(this.currentStep)}next(){this.currentStep++,this.currentStep=this.currentStep%this.dynamicDataList.length,this.gotoStep(this.currentStep)}gotoStep(t){if(t<0||t>=this.dynamicDataList.length)throw new Error(`gotoStep(${t}): step is out of index `);this.layer.setData(this.dynamicDataList[t]),this.layer.draw()}draw(t){return this.initOptions(t),this.initLayer(),this.layer.draw(),this}initOptions(t){this.options=Object.assign({loop:!1,auto:!1,interval:1e3},this.options,t)}initLayer(){const t={renderType:"heat",heatOptions:this.options};return this.layer=new o(this.map,this.dynamicDataList[0],t,this.channelFunc),this.layer}}s.d(e,"Marker",function(){return i}),s.d(e,"MarkersLayer",function(){return o}),s.d(e,"MarkersBufferLayer",function(){return n}),s.d(e,"Polyline",function(){return r}),s.d(e,"PolylinesLayer",function(){return a}),s.d(e,"PolylinesBufferLayer",function(){return h}),s.d(e,"Polygon",function(){return p}),s.d(e,"PolygonsLayer",function(){return l}),s.d(e,"DynamicHeatLayer",function(){return c});e.default={Marker:i,MarkersLayer:o,MarkersBufferLayer:n,Polyline:r,PolylinesLayer:a,PolylinesBufferLayer:h,Polygon:p,PolygonsLayer:l,DynamicHeatLayer:c}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWFmbGV0TWFwL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvbWFya2VyL01hcmtlci50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL21hcmtlci9NYXJrZXJzTGF5ZXIudHMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL3NyYy9tYXJrZXIvTWFya2Vyc0J1ZmZlckxheWVyLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvcG9seWxpbmUvUG9seWxpbmUudHMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL3NyYy9wb2x5bGluZS9Qb2x5bGluZXNMYXllci50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL3BvbHlsaW5lL1BvbHlsaW5lc0J1ZmZlckxheWVyLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvcG9seWdvbi9Qb2x5Z29uLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvcG9seWdvbi9Qb2x5Z29uc0xheWVyLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvZHluYW1pY0hlYXRMYXllci9EeW5hbWljSGVhdExheWVyLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIk1hcmtlciIsIkwiLCJbb2JqZWN0IE9iamVjdF0iLCJsYXRsbmciLCJvcHRpb25zIiwic3VwZXIiLCJkYXRhIiwidGhpcyIsIl9fZGF0YSIsIk1hcmtlcnNMYXllcl9NYXJrZXJzTGF5ZXIiLCJtYXAiLCJkYXRhTGlzdCIsImNoYW5uZWxGdW5jIiwidHlwZSIsImFzc2lnbiIsInJlbmRlclR5cGUiLCJyZW5kZXJQb2ludENvbG9yVHlwZSIsImljb25UeXBlIiwiaWNvblNpemUiLCJpY29uQ2xhc3MiLCJpY29uQ29sb3IiLCJpY29uQW5jaG9yIiwic2VnbWVudGVkQ29sb3JzIiwiaXNDbHVzdGVyIiwiaGVhdE9wdGlvbnMiLCJtYXgiLCJtaW5PcGFjaXR5IiwidmlzaWJsZSIsImxheWVyIiwiZm9jdXNlZE1hcmtlciIsImhvdmVyZWRNYXJrZXIiLCJmb2N1c2VkRGlzcGxheU1hcmtlciIsIm1hcmtlcnMiLCJtYXJrZXJMYXllciIsImhlYXRMYXllciIsImNsdXN0ZXJMYXllciIsInNlZ21lbnRlZE1pbiIsIkluZmluaXR5Iiwic2VnbWVudGVkU3RlcCIsInpvb21TdGFydENiIiwiX3pvb21TdGFydENiIiwiem9vbUVuZENiIiwiX3pvb21FbmRDYiIsImluaXRNYXJrZXJzIiwicmVkcmF3IiwicmVtb3ZlIiwiY29uZmlnQ2x1c3RlckxheWVyIiwiY29uZmlnTWFya2VyTGF5ZXIiLCJjb25maWdIZWF0TGF5ZXIiLCJFcnJvciIsImFkZExheWVyIiwiZml0Qm91bmRzIiwiZ2V0Qm91bmRzIiwibGVuZ3RoIiwibWFya2VyIiwiZ2V0TGF0TG5nIiwibGF0IiwibG5nIiwicmVtb3ZlTGF5ZXIiLCJvZmYiLCJjb2xvciIsImljb25Vbmljb2RlIiwiaWQiLCJmb3JFYWNoIiwiZ2V0RGF0YSIsImZpcmUiLCJjYW52YXNJY29uTGF5ZXIiLCJhZGRUbyIsImFkZE9uQ2xpY2tMaXN0ZW5lciIsIl8iLCJtYXJrZXJDbGlja0hhbmRsZXIiLCJhZGRPbkhvdmVyTGlzdGVuZXIiLCJjbG9zZVRvb2x0aXAiLCJnZXRUb29sdGlwIiwib3BlblRvb2x0aXAiLCJ0b29sdGlwQXR0ciIsImJpbmRUb29sdGlwIiwiYWRkTWFya2VycyIsIm9uIiwicGFuVG8iLCJnZXRDZW50ZXIiLCJjYWNoZVNlZ21lbnRQYXJhbXMiLCJnZW9KU09OIiwiZ2VvbWV0cnkiLCJnZXRMYXllcnMiLCJpY29uIiwiZ2V0TWFya2VySWNvbiIsInNldERhdGEiLCJwdXNoIiwicmVtb3ZlRnJvbSIsImdldExhcmdlck1hcmtlckljb24iLCJiaW5kUG9wdXAiLCJnZXRQb3B1cENvbnRlbnQiLCJvcGVuUG9wdXAiLCJtYXJrZXJDbHVzdGVyR3JvdXAiLCJhZGRMYXllcnMiLCJsYXRMbmciLCJkaW1lbnNpb25BdHRyIiwiYWx0Iiwic2V0TGF0TG5nIiwiaXQiLCJfZ2V0TWFya2VySWNvbiIsImlzTGFyZ2VyIiwibGFyZ2VySWNvblNpemUiLCJsYXJnZXJJY29uQW5jaG9yIiwiZGl2SWNvbiIsImh0bWwiLCJnZXRDdXN0b21JY29uSFRNTCIsImNsYXNzTmFtZSIsInRvb2x0aXBBbmNob3IiLCJwb3B1cEFuY2hvciIsImljb25SZW5kZXJlciIsImljb25TeW1ib2wiLCJnZXRTZWdtZW50ZWRNYXJrZXJDb2xvciIsInNlZ21lbnRlZExlbmd0aCIsIm1heFZhbCIsIm1pblZhbCIsInZhbCIsInNlZ21lbnRlZEF0dHIiLCJNYXRoIiwibWluIiwic3RlcCIsInBhcnNlSW50IiwicG9wdXBBdHRyIiwibGFiZWwiLCJNYXJrZXJzQnVmZmVyTGF5ZXJfTWFya2Vyc0J1ZmZlckxheWVyIiwiYnVmZmVyT3B0aW9ucyIsInJhZGl1cyIsInN0cm9rZSIsIndlaWdodCIsImJ1ZmZlckxheWVyIiwiY29uZmlnQnVmZmVyTGF5ZXIiLCJsYXllckdyb3VwIiwicmVkdWNlIiwicHJldiIsImN1cnIiLCJleHRlbmQiLCJ0b0JvdW5kcyIsImdyb3VwTGF5ZXIiLCJjaXJjbGVMYXllciIsImNpcmNsZSIsImJ1ZmZlclRvb2x0aXBBdHRyIiwiUG9seWxpbmUiLCJsYXRsbmdzIiwiUG9seWxpbmVzTGF5ZXJfUG9seWxpbmVzTGF5ZXIiLCJwb2x5bGluZXMiLCJyZW5kZXJQb2x5bGluZUNvbG9yVHlwZSIsImluaXRQb2x5bGluZXMiLCJjb25maWdQb2x5bGluZUxheWVyIiwiZmlsbENvbG9yIiwicG9seWxpbmUiLCJnZXRMYXRMbmdzIiwicG9seWxpbmVMYXllciIsImdldFNlZ21lbnRlZFBvbHlsaW5lQ29sb3IiLCJuZXdQb2x5bGluZSIsInBvbHlsaW5lQ2xpY2tIYW5kbGVyIiwiZ2V0VG9vbFRpcENvbnRlbnQiLCJQb2x5bGluZXNCdWZmZXJMYXllcl9Qb2x5bGluZXNCdWZmZXJMYXllciIsImNvcnJpZG9yIiwib3BhY2l0eSIsImNvbmZpZ1BvbHlsaW5lQnVmZmVyTGF5ZXIiLCJwb2x5bGluZUJ1ZmZlciIsIlBvbHlnb24iLCJQb2x5Z29uc0xheWVyX1BvbHlnb25zTGF5ZXIiLCJwb2x5Z29ucyIsInJlbmRlclBvbHlnb25Db2xvclR5cGUiLCJpbml0UG9seWdvbnMiLCJjb25maWdQb2x5Z29uTGF5ZXIiLCJwb2x5Z29uIiwicG9seWdvbkxheWVyIiwiZ2V0U2VnbWVudGVkUG9seWdvbkNvbG9yIiwibmV3UG9seWdvbiIsInBvbHlnb25DbGlja0hhbmRsZXIiLCJEeW5hbWljSGVhdExheWVyX0R5bmFtaWNIZWF0TGF5ZXIiLCJkeW5hbWljRGF0YUxpc3QiLCJjdXJyZW50U3RlcCIsImlzUGF1c2UiLCJnb3RvU3RlcCIsInN0YXJ0IiwiYXV0byIsInNldFRpbWVvdXQiLCJsb29wIiwicmVzdGFydCIsImludGVydmFsIiwiZHJhdyIsImluaXRPcHRpb25zIiwiaW5pdExheWVyIiwibWFya2Vyc0xheWVyT3B0aW9ucyIsIl9fd2VicGFja19leHBvcnRzX18iLCJNYXJrZXJzTGF5ZXIiLCJNYXJrZXJzQnVmZmVyTGF5ZXIiLCJQb2x5bGluZXNMYXllciIsIlBvbHlsaW5lc0J1ZmZlckxheWVyIiwiUG9seWdvbnNMYXllciIsIkR5bmFtaWNIZWF0TGF5ZXIiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsaUJBQUFDLFNBQUEsaUJBQUFDLE9BQ0FBLE9BQUFELFFBQUFELElBQ0EsbUJBQUFHLGVBQUFDLElBQ0FELFVBQUFILEdBQ0EsaUJBQUFDLFFBQ0FBLFFBQUEsV0FBQUQsSUFFQUQsRUFBQSxXQUFBQyxJQVJBLENBU0NLLE9BQUEsV0FDRCxtQkNUQSxJQUFBQyxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBUCxRQUdBLElBQUFDLEVBQUFJLEVBQUFFLElBQ0FDLEVBQUFELEVBQ0FFLEdBQUEsRUFDQVQsWUFVQSxPQU5BVSxFQUFBSCxHQUFBSSxLQUFBVixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBTSxHQUdBTCxFQUFBUSxHQUFBLEVBR0FSLEVBQUFELFFBMERBLE9BckRBTSxFQUFBTSxFQUFBRixFQUdBSixFQUFBTyxFQUFBUixFQUdBQyxFQUFBUSxFQUFBLFNBQUFkLEVBQUFlLEVBQUFDLEdBQ0FWLEVBQUFXLEVBQUFqQixFQUFBZSxJQUNBRyxPQUFBQyxlQUFBbkIsRUFBQWUsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNWLEVBQUFnQixFQUFBLFNBQUF0QixHQUNBLG9CQUFBdUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQW5CLEVBQUF1QixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQW5CLEVBQUEsY0FBaUR5QixPQUFBLEtBUWpEbkIsRUFBQW9CLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFuQixFQUFBbUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFY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QUssVUFDQStCLGNBQUE5QixFQUNBK0IsaUJBQUFyQiIsImZpbGUiOiJsZWFmbGV0LWxheWVyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImxlYWZsZXRNYXBcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibGVhZmxldE1hcFwiXSA9IGZhY3RvcnkoKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IHsgRGF0YUxpc3RJdGVtIH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmtlciBleHRlbmRzIEwuTWFya2VyIHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbiAgcHJpdmF0ZSBfX2RhdGE6IERhdGFMaXN0SXRlbVxuICBjb25zdHJ1Y3RvcihsYXRsbmc6IEwuTGF0TG5nRXhwcmVzc2lvbiwgb3B0aW9ucz86IEwuTWFya2VyT3B0aW9ucykge1xuICAgIHN1cGVyKGxhdGxuZywgb3B0aW9ucylcbiAgfVxuICBwdWJsaWMgc2V0RGF0YShkYXRhOiBEYXRhTGlzdEl0ZW0pIHtcbiAgICB0aGlzLl9fZGF0YSA9IGRhdGFcbiAgfVxuICBwdWJsaWMgZ2V0RGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fX2RhdGFcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGF0YUxpc3RJdGVtLCBDaGFubmVsRnVuYyB9IGZyb20gJy4uL2RlZmluaXRpb25zJ1xuaW1wb3J0IE1hcmtlciBmcm9tICcuL01hcmtlcidcblxuLyoqIOa4suafk+agt+W8jyDmlaPngrl854Ot5Yqb5Zu+ICovXG50eXBlIE1hcmtlcnNMYXllclJlbmRlclR5cGUgPSAncG9pbnQnIHwgJ2hlYXQnIHwgJ2NsdXN0ZXInXG5cbi8qKiDmuLLmn5PpopzoibLmoLflvI8g5Y2V6ImyfOWIhuautSAqL1xudHlwZSBNYXJrZXJzTGF5ZXJSZW5kZXJQb2ludENvbG9yVHlwZSA9ICdzaW5nbGUnIHwgJ3NlZ21lbnRlZCdcblxuLyoqIOaVo+eCueWbvuagh+exu+WeiyBpY29uZm9udHxzdmd8aW1hZ2UgKi9cbnR5cGUgTWFya2Vyc0xheWVySWNvblR5cGUgPSAnZm9udF9jbGFzcycgfCAndW5pY29kZScgfCAnc3ltYm9sJyB8ICdpbWFnZSdcblxuaW50ZXJmYWNlIEljb25SZW5kZXJGdW5jT3B0aW9uIHtcbiAgaWNvblNpemU6IFtudW1iZXIsIG51bWJlcl1cbiAgaWNvbkNvbG9yOiBzdHJpbmdcbn1cbnR5cGUgSWNvblJlbmRlckZ1bmMgPSAoXG4gIGRhdGE6IERhdGFMaXN0SXRlbSxcbiAgcGFyYW1zOiBJY29uUmVuZGVyRnVuY09wdGlvblxuKSA9PiBzdHJpbmdcblxuZXhwb3J0IGludGVyZmFjZSBNYXJrZXJzTGF5ZXJPcHRpb25zIHtcbiAgcmVuZGVyVHlwZTogTWFya2Vyc0xheWVyUmVuZGVyVHlwZVxuICByZW5kZXJQb2ludENvbG9yVHlwZT86IE1hcmtlcnNMYXllclJlbmRlclBvaW50Q29sb3JUeXBlXG4gIGljb25UeXBlPzogTWFya2Vyc0xheWVySWNvblR5cGVcblxuICBpY29uSW1hZ2VVcmw/OiBzdHJpbmdcbiAgaWNvblNpemU/OiBbbnVtYmVyLCBudW1iZXJdXG4gIGljb25DbGFzcz86IHN0cmluZ1xuICBpY29uVW5pY29kZT86IHN0cmluZ1xuICBpY29uU3ltYm9sPzogc3RyaW5nXG4gIGljb25Db2xvcj86IHN0cmluZ1xuICBpY29uQW5jaG9yPzogW251bWJlciwgbnVtYmVyXVxuICBpY29uUmVuZGVyZXI/OiBJY29uUmVuZGVyRnVuY1xuXG4gIC8vIOaYr+WQpuiBmuWQiO+8jOS8mOWFiOe6p+mrmOS6jiByZW5kZXJUeXBlID09IHBvaW50XG4gIGlzQ2x1c3Rlcj86IGJvb2xlYW5cblxuICAvKiogcG9wdXAg5bGV56S65a2X5q61ICovXG4gIHBvcHVwQXR0cj86IHN0cmluZyB8IHsgbGFiZWw6IHN0cmluZzsgdmFsdWU6IGFueSB9XG4gIC8qKiB0b29sdGlwIOWxleekuuWtl+autSAqL1xuICB0b29sdGlwQXR0cj86IHN0cmluZ1xuXG4gIG9wYWNpdHk/OiBudW1iZXJcblxuICAvKiog5YiG5q615riy5p+T57uf6K6h5a2X5q61ICovXG4gIHNlZ21lbnRlZEF0dHI/OiBzdHJpbmdcbiAgc2VnbWVudGVkQ29sb3JzPzogc3RyaW5nW11cblxuICBoZWF0T3B0aW9ucz86IE1hcmtlcnNIZWF0TGF5ZXJPcHRpb25zXG4gIGNsdXN0ZXJPcHRpb25zPzogTC5NYXJrZXJzQ2x1c3Rlck9wdGlvbnNcbn1cblxuLyoqIOi9rOWMluS4uueDreWKm+WbvueahCBvcHRpb25zICovXG5leHBvcnQgaW50ZXJmYWNlIE1hcmtlcnNIZWF0TGF5ZXJPcHRpb25zIGV4dGVuZHMgTC5IZWF0TGF5ZXJPcHRpb25zIHtcbiAgZGltZW5zaW9uQXR0cj86IHN0cmluZ1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXJrZXJzTGF5ZXIge1xuICBwdWJsaWMgbWFwOiBMLk1hcFxuICBwdWJsaWMgZGF0YUxpc3Q6IERhdGFMaXN0SXRlbVtdXG4gIHB1YmxpYyBvcHRpb25zOiBNYXJrZXJzTGF5ZXJPcHRpb25zXG4gIHB1YmxpYyBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcblxuICBwdWJsaWMgdHlwZTogc3RyaW5nXG5cbiAgcHJvdGVjdGVkIG1hcmtlcnM6IE1hcmtlcltdXG5cbiAgcHJvdGVjdGVkIGZvY3VzZWRNYXJrZXI6IE1hcmtlclxuICBwcm90ZWN0ZWQgaG92ZXJlZE1hcmtlcjogTWFya2VyXG4gIC8qKiDpnIDopoHlsZXnpLrnmoTmlL7lpKfnmoTlm77moIcgKi9cbiAgcHJvdGVjdGVkIGZvY3VzZWREaXNwbGF5TWFya2VyOiBNYXJrZXJcbiAgcHJvdGVjdGVkIG1hcmtlckxheWVyOiBMLkNhbnZhc0ljb25MYXllclxuXG4gIHByb3RlY3RlZCB2aXNpYmxlOiBib29sZWFuXG4gIHByb3RlY3RlZCBsYXllcjpcbiAgICB8IEwuQ2FudmFzSWNvbkxheWVyXG4gICAgfCBMLkhlYXRMYXllclxuICAgIHwgTC5NYXJrZXJzQ2x1c3RlclxuICAgIHwgTC5MYXllckdyb3VwXG4gIHByb3RlY3RlZCB6b29tU3RhcnRDYjogKCkgPT4gdm9pZFxuICBwcm90ZWN0ZWQgem9vbUVuZENiOiAoKSA9PiB2b2lkXG4gIHByaXZhdGUgaGVhdExheWVyOiBMLkhlYXRMYXllclxuICBwcml2YXRlIGNsdXN0ZXJMYXllcjogTC5NYXJrZXJzQ2x1c3RlclxuXG4gIHByaXZhdGUgc2VnbWVudGVkTWluOiBudW1iZXJcbiAgcHJpdmF0ZSBzZWdtZW50ZWRTdGVwOiBudW1iZXJcbiAgY29uc3RydWN0b3IoXG4gICAgbWFwOiBMLk1hcCxcbiAgICBkYXRhTGlzdDogRGF0YUxpc3RJdGVtW10sXG4gICAgb3B0aW9uczogTWFya2Vyc0xheWVyT3B0aW9ucyxcbiAgICBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgKSB7XG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnM6IE1hcmtlcnNMYXllck9wdGlvbnMgPSB7XG4gICAgICByZW5kZXJUeXBlOiAncG9pbnQnLFxuICAgICAgcmVuZGVyUG9pbnRDb2xvclR5cGU6ICdzaW5nbGUnLFxuICAgICAgaWNvblR5cGU6ICd1bmljb2RlJyxcbiAgICAgIGljb25TaXplOiBbMjAsIDIwXSxcbiAgICAgIGljb25DbGFzczogJ2ljb25mb250JyxcbiAgICAgIGljb25Db2xvcjogJyMzMzg4RkYnLFxuICAgICAgaWNvbkFuY2hvcjogWzEwLCAyMF0sXG4gICAgICBzZWdtZW50ZWRDb2xvcnM6IFsnIzMzODhGRiddLFxuICAgICAgaXNDbHVzdGVyOiBmYWxzZSxcbiAgICAgIGhlYXRPcHRpb25zOiB7XG4gICAgICAgIG1heDogMSxcbiAgICAgICAgbWluT3BhY2l0eTogMSxcbiAgICAgIH0sXG4gICAgfVxuICAgIHRoaXMudHlwZSA9ICdtYXJrZXInXG4gICAgdGhpcy5tYXAgPSBtYXBcbiAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YUxpc3RcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucylcbiAgICB0aGlzLmNoYW5uZWxGdW5jID0gY2hhbm5lbEZ1bmNcblxuICAgIHRoaXMudmlzaWJsZSA9IHRydWVcbiAgICB0aGlzLmxheWVyID0gbnVsbFxuICAgIHRoaXMuZm9jdXNlZE1hcmtlciA9IG51bGxcbiAgICB0aGlzLmhvdmVyZWRNYXJrZXIgPSBudWxsXG4gICAgdGhpcy5mb2N1c2VkRGlzcGxheU1hcmtlciA9IG51bGxcbiAgICB0aGlzLm1hcmtlcnMgPSBbXVxuICAgIHRoaXMubWFya2VyTGF5ZXIgPSBudWxsXG4gICAgdGhpcy5oZWF0TGF5ZXIgPSBudWxsXG4gICAgdGhpcy5jbHVzdGVyTGF5ZXIgPSBudWxsXG5cbiAgICB0aGlzLnNlZ21lbnRlZE1pbiA9IEluZmluaXR5XG4gICAgdGhpcy5zZWdtZW50ZWRTdGVwID0gMVxuXG4gICAgdGhpcy56b29tU3RhcnRDYiA9IHRoaXMuX3pvb21TdGFydENiLmJpbmQodGhpcylcbiAgICB0aGlzLnpvb21FbmRDYiA9IHRoaXMuX3pvb21FbmRDYi5iaW5kKHRoaXMpXG4gIH1cbiAgcHVibGljIGRyYXcob3B0aW9ucz86IE1hcmtlcnNMYXllck9wdGlvbnMpIHtcbiAgICB0aGlzLnZpc2libGUgPSB0cnVlXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpXG4gICAgdGhpcy5pbml0TWFya2VycygpXG4gICAgcmV0dXJuIHRoaXMucmVkcmF3KClcbiAgfVxuICBwdWJsaWMgcmVkcmF3KCkge1xuICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMubGF5ZXIpIHtcbiAgICAgIHRoaXMubGF5ZXIucmVtb3ZlKClcbiAgICB9XG5cbiAgICAvLyDkvJjlhYjliKTmlq0gaXNDbHVzdGVyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5pc0NsdXN0ZXIgJiYgdGhpcy5vcHRpb25zLnJlbmRlclR5cGUgPT09ICdwb2ludCcpIHtcbiAgICAgIHRoaXMubGF5ZXIgPSB0aGlzLmNvbmZpZ0NsdXN0ZXJMYXllcigpXG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXRjaCAodGhpcy5vcHRpb25zLnJlbmRlclR5cGUpIHtcbiAgICAgICAgY2FzZSAncG9pbnQnOiB7XG4gICAgICAgICAgdGhpcy5sYXllciA9IHRoaXMuY29uZmlnTWFya2VyTGF5ZXIoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnY2x1c3Rlcic6IHtcbiAgICAgICAgICB0aGlzLmxheWVyID0gdGhpcy5jb25maWdDbHVzdGVyTGF5ZXIoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnaGVhdCc6IHtcbiAgICAgICAgICB0aGlzLmxheWVyID0gdGhpcy5jb25maWdIZWF0TGF5ZXIoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcmVuZGVyVHlwZSDkuI3mlK/mjIFcIiR7dGhpcy5vcHRpb25zLnJlbmRlclR5cGV9XCJgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubWFwLmFkZExheWVyKHRoaXMubGF5ZXIpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBwdWJsaWMgc2V0RGF0YShkYXRhOiBEYXRhTGlzdEl0ZW1bXSkge1xuICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhXG4gIH1cbiAgcHVibGljIHNldE9wdGlvbnMob3B0aW9uczogTWFya2Vyc0xheWVyT3B0aW9ucywgcmVkcmF3ID0gZmFsc2UpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucylcbiAgICBpZiAocmVkcmF3KSB7XG4gICAgICB0aGlzLnJlZHJhdygpXG4gICAgfVxuICB9XG4gIHB1YmxpYyBmaXRCb3VuZHMoKSB7XG4gICAgdGhpcy5tYXAuZml0Qm91bmRzKHRoaXMuZ2V0Qm91bmRzKCkpXG4gIH1cbiAgcHVibGljIGdldEJvdW5kcygpOiBMLkxhdExuZ0JvdW5kc0V4cHJlc3Npb24ge1xuICAgIGlmICh0aGlzLm1hcmtlcnMubGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcC5nZXRCb3VuZHMoKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tYXJrZXJzLm1hcChcbiAgICAgIChtYXJrZXIpID0+XG4gICAgICAgIFttYXJrZXIuZ2V0TGF0TG5nKCkubGF0LCBtYXJrZXIuZ2V0TGF0TG5nKCkubG5nXSBhcyBbbnVtYmVyLCBudW1iZXJdXG4gICAgKVxuICB9XG4gIHB1YmxpYyBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmxheWVyKSB7XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmxheWVyKVxuICAgIH1cbiAgICB0aGlzLm1hcC5vZmYoJ3pvb21zdGFydCcsIHRoaXMuem9vbVN0YXJ0Q2IpXG4gICAgdGhpcy5tYXAub2ZmKCd6b29tZW5kJywgdGhpcy56b29tRW5kQ2IpXG4gIH1cbiAgcHVibGljIHRvZ2dsZVZpc2libGUodmlzaWJsZTogYm9vbGVhbikge1xuICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGVcbiAgICBpZiAoIXRoaXMubGF5ZXIpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodmlzaWJsZSkge1xuICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllcilcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIodGhpcy5sYXllcilcbiAgICB9XG4gIH1cbiAgcHVibGljIGNoYW5nZUNvbG9yKGNvbG9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLm9wdGlvbnMuaWNvbkNvbG9yID0gY29sb3JcbiAgICB0aGlzLnJlZHJhdygpXG4gIH1cbiAgcHVibGljIGNoYW5nZUljb24oaWNvblVuaWNvZGU6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy5pY29uVW5pY29kZSA9IGljb25Vbmljb2RlXG4gICAgdGhpcy5yZWRyYXcoKVxuICB9XG4gIHB1YmxpYyBwaXRjaChpZDogc3RyaW5nKSB7XG4gICAgdGhpcy5tYXJrZXJzLmZvckVhY2goKG1hcmtlcikgPT4ge1xuICAgICAgaWYgKG1hcmtlci5nZXREYXRhKCkuaWQgPT09IGlkKSB7XG4gICAgICAgIG1hcmtlci5maXJlKCdjbGljaycpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgcHJvdGVjdGVkIF96b29tU3RhcnRDYigpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0aGlzLnR5cGUgPT09ICdtYXJrZXInKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJlbmRlclR5cGUgPT09ICdwb2ludCcgJiYgIXRoaXMub3B0aW9ucy5pc0NsdXN0ZXIpIHtcbiAgICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIodGhpcy5tYXJrZXJMYXllcilcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIodGhpcy5tYXJrZXJMYXllcilcbiAgICB9XG4gIH1cbiAgcHJvdGVjdGVkIF96b29tRW5kQ2IoKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodGhpcy50eXBlID09PSAnbWFya2VyJykge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW5kZXJUeXBlID09PSAncG9pbnQnICYmICF0aGlzLm9wdGlvbnMuaXNDbHVzdGVyKSB7XG4gICAgICAgIHRoaXMubWFwLmFkZExheWVyKHRoaXMubWFya2VyTGF5ZXIpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWFwLmFkZExheWVyKHRoaXMubWFya2VyTGF5ZXIpXG4gICAgfVxuICB9XG4gIC8qKiDmuLLmn5PkuLrmlaPngrnlm74gKi9cbiAgcHJvdGVjdGVkIGNvbmZpZ01hcmtlckxheWVyKCkge1xuICAgIGlmICh0aGlzLm1hcmtlckxheWVyKSB7XG4gICAgICB0aGlzLm1hcmtlckxheWVyLnJlbW92ZSgpXG4gICAgfVxuICAgIGNvbnN0IGNhbnZhc0ljb25MYXllciA9IEwuY2FudmFzSWNvbkxheWVyKHt9KS5hZGRUbyh0aGlzLm1hcClcbiAgICAvLyDmt7vliqDngrnlh7vkuovku7ZcbiAgICBjYW52YXNJY29uTGF5ZXIuYWRkT25DbGlja0xpc3RlbmVyKChfLCBbeyBkYXRhOiBtYXJrZXIgfV0pID0+IHtcbiAgICAgIHRoaXMubWFya2VyQ2xpY2tIYW5kbGVyKG1hcmtlciBhcyBNYXJrZXIpXG4gICAgfSlcbiAgICAvLyDmt7vliqAgaG92ZXIg5LqL5Lu2XG4gICAgY2FudmFzSWNvbkxheWVyLmFkZE9uSG92ZXJMaXN0ZW5lcigoXywgW3sgZGF0YTogbWFya2VyIH1dKSA9PiB7XG4gICAgICAvLyDkuYvliY3mnIkgaG92ZXIg55qE5YWz6ZetIHRvb2x0aXBcbiAgICAgIGlmICh0aGlzLmhvdmVyZWRNYXJrZXIpIHtcbiAgICAgICAgdGhpcy5ob3ZlcmVkTWFya2VyLmNsb3NlVG9vbHRpcCgpXG4gICAgICB9XG4gICAgICB0aGlzLmhvdmVyZWRNYXJrZXIgPSBtYXJrZXIgYXMgTWFya2VyXG5cbiAgICAgIGlmICh0aGlzLmhvdmVyZWRNYXJrZXIuZ2V0VG9vbHRpcCgpKSB7XG4gICAgICAgIC8vIOWmguaenOW3sue7j+iuvue9riB0b29sdGlwIOebtOaOpeWxleekuiB0b29sdGlwXG4gICAgICAgIHRoaXMuaG92ZXJlZE1hcmtlci5vcGVuVG9vbHRpcCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDlkKbliJnnu5HlrpogdG9vbHRpcCDlubblsZXnpLpcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50b29sdGlwQXR0cikge1xuICAgICAgICAgIHRoaXMuaG92ZXJlZE1hcmtlci5iaW5kVG9vbHRpcChcbiAgICAgICAgICAgICcnICsgdGhpcy5ob3ZlcmVkTWFya2VyLmdldERhdGEoKVt0aGlzLm9wdGlvbnMudG9vbHRpcEF0dHJdXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICBjYW52YXNJY29uTGF5ZXIuYWRkTWFya2Vycyh0aGlzLm1hcmtlcnMpXG5cbiAgICB0aGlzLm1hcC5vbignem9vbXN0YXJ0JywgdGhpcy56b29tU3RhcnRDYilcbiAgICB0aGlzLm1hcC5vbignem9vbWVuZCcsIHRoaXMuem9vbUVuZENiKVxuXG4gICAgLy8g6Kej5Yaz5Yid5qyh5riy5p+T5LiN5Ye65Zu+5qCH6Zeu6aKYXG4gICAgdGhpcy5tYXAucGFuVG8odGhpcy5tYXAuZ2V0Q2VudGVyKCkpXG5cbiAgICB0aGlzLm1hcmtlckxheWVyID0gY2FudmFzSWNvbkxheWVyXG4gICAgcmV0dXJuIHRoaXMubWFya2VyTGF5ZXJcbiAgfVxuICBwcm90ZWN0ZWQgZ2V0VG9vbFRpcENvbnRlbnQoZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgcmV0dXJuICcnICsgZGF0YVt0aGlzLm9wdGlvbnMudG9vbHRpcEF0dHJdXG4gIH1cbiAgcHJvdGVjdGVkIGluaXRNYXJrZXJzKCkge1xuICAgIC8vIOe8k+WtmCBzZWdtZW50IOebuOWFs+aVsOaNrlxuICAgIHRoaXMuY2FjaGVTZWdtZW50UGFyYW1zKClcbiAgICB0aGlzLm1hcmtlcnMgPSBbXVxuICAgIHRoaXMuZGF0YUxpc3QuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgbGF5ZXIgPSBMLmdlb0pTT04oZGF0YS5nZW9tZXRyeSkuZ2V0TGF5ZXJzKClbMF1cblxuICAgICAgY29uc3QgbWFya2VyID0gbmV3IE1hcmtlcihcbiAgICAgICAgW1xuICAgICAgICAgIChsYXllciBhcyBMLk1hcmtlcikuZ2V0TGF0TG5nKCkubGF0LFxuICAgICAgICAgIChsYXllciBhcyBMLk1hcmtlcikuZ2V0TGF0TG5nKCkubG5nLFxuICAgICAgICBdLFxuICAgICAgICB7XG4gICAgICAgICAgaWNvbjogdGhpcy5nZXRNYXJrZXJJY29uKGRhdGEpLFxuICAgICAgICB9XG4gICAgICApXG5cbiAgICAgIC8vIOWwhuebuOWFs+WAvOe7keWumuWIsCBtYXJrZXLkuIpcbiAgICAgIG1hcmtlci5zZXREYXRhKGRhdGEpXG4gICAgICBtYXJrZXIub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLm1hcmtlckNsaWNrSGFuZGxlcihtYXJrZXIpXG4gICAgICB9KVxuXG4gICAgICB0aGlzLm1hcmtlcnMucHVzaChtYXJrZXIpXG4gICAgfSlcbiAgfVxuICAvLyDlpITnkIYgbWFya2VyIOeCueWHu+S6i+S7tlxuICBwcml2YXRlIG1hcmtlckNsaWNrSGFuZGxlcihtYXJrZXI6IE1hcmtlcikge1xuICAgIHRoaXMuZm9jdXNlZE1hcmtlciA9IG1hcmtlclxuICAgIC8vIOWIoOmZpOWJjeS4gOS4quaUvuWkp+Wbvuagh1xuICAgIGlmICh0aGlzLmZvY3VzZWREaXNwbGF5TWFya2VyKSB7XG4gICAgICB0aGlzLmZvY3VzZWREaXNwbGF5TWFya2VyLnJlbW92ZUZyb20odGhpcy5tYXApXG4gICAgfVxuICAgIC8vIOeUn+aIkOW9k+WJjeaUvuWkp+Wbvuagh1xuICAgIHRoaXMuZm9jdXNlZERpc3BsYXlNYXJrZXIgPSBuZXcgTWFya2VyKG1hcmtlci5nZXRMYXRMbmcoKSwge1xuICAgICAgaWNvbjogdGhpcy5nZXRMYXJnZXJNYXJrZXJJY29uKG1hcmtlci5nZXREYXRhKCkpLFxuICAgIH0pXG4gICAgdGhpcy5mb2N1c2VkRGlzcGxheU1hcmtlci5hZGRUbyh0aGlzLm1hcClcblxuICAgIHRoaXMuZm9jdXNlZERpc3BsYXlNYXJrZXJcbiAgICAgIC5iaW5kUG9wdXAodGhpcy5nZXRQb3B1cENvbnRlbnQobWFya2VyLmdldERhdGEoKSkpXG4gICAgICAub3BlblBvcHVwKClcbiAgICB0aGlzLmZvY3VzZWREaXNwbGF5TWFya2VyLm9uKCdwb3B1cGNsb3NlJywgKCkgPT4ge1xuICAgICAgdGhpcy5mb2N1c2VkRGlzcGxheU1hcmtlci5yZW1vdmUoKVxuICAgIH0pXG5cbiAgICB0aGlzLm1hcC5wYW5Ubyh0aGlzLmZvY3VzZWRNYXJrZXIuZ2V0TGF0TG5nKCkpXG4gICAgdGhpcy5jaGFubmVsRnVuYygnb24tY2xpY2stbWFya2VyJywgbWFya2VyKVxuICB9XG4gIHByaXZhdGUgY29uZmlnQ2x1c3RlckxheWVyKCkge1xuICAgIC8vIOWxleekuuiBmuWQiOWbvuWxglxuICAgIGlmICh0aGlzLmNsdXN0ZXJMYXllcikge1xuICAgICAgdGhpcy5jbHVzdGVyTGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gICAgdGhpcy5jbHVzdGVyTGF5ZXIgPSBMLm1hcmtlckNsdXN0ZXJHcm91cCgpXG4gICAgdGhpcy5jbHVzdGVyTGF5ZXIuYWRkTGF5ZXJzKFxuICAgICAgdGhpcy5tYXJrZXJzLm1hcCgobSkgPT4ge1xuICAgICAgICBjb25zdCBtYXJrZXIgPSBuZXcgTWFya2VyKG0uZ2V0TGF0TG5nKCksIHtcbiAgICAgICAgICBpY29uOiB0aGlzLmdldE1hcmtlckljb24obS5nZXREYXRhKCkpLFxuICAgICAgICB9KVxuICAgICAgICBtYXJrZXIuc2V0RGF0YShtLmdldERhdGEoKSlcbiAgICAgICAgbWFya2VyLmJpbmRUb29sdGlwKCcnICsgbWFya2VyLmdldERhdGEoKVt0aGlzLm9wdGlvbnMudG9vbHRpcEF0dHJdKVxuICAgICAgICBtYXJrZXIuYmluZFBvcHVwKHRoaXMuZ2V0UG9wdXBDb250ZW50KG1hcmtlci5nZXREYXRhKCkpKVxuICAgICAgICBtYXJrZXIub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHRoaXMubWFya2VyQ2xpY2tIYW5kbGVyKG1hcmtlcilcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIG1hcmtlclxuICAgICAgfSlcbiAgICApXG4gICAgcmV0dXJuIHRoaXMuY2x1c3RlckxheWVyXG4gIH1cblxuICAvKiog5riy5p+T5Li654Ot5Yqb5Zu+ICovXG4gIHByaXZhdGUgY29uZmlnSGVhdExheWVyKCkge1xuICAgIGlmICh0aGlzLmhlYXRMYXllcikge1xuICAgICAgdGhpcy5oZWF0TGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gICAgdGhpcy5tYXJrZXJzLmZvckVhY2goKG1hcmtlcikgPT4ge1xuICAgICAgY29uc3QgbGF0TG5nID0gbWFya2VyLmdldExhdExuZygpXG4gICAgICBjb25zdCBkaW1lbnNpb25BdHRyID1cbiAgICAgICAgdGhpcy5vcHRpb25zLmhlYXRPcHRpb25zICYmIHRoaXMub3B0aW9ucy5oZWF0T3B0aW9ucy5kaW1lbnNpb25BdHRyXG4gICAgICBsZXQgYWx0ID1cbiAgICAgICAgKGRpbWVuc2lvbkF0dHIgJiYgbWFya2VyLmdldERhdGEoKVtkaW1lbnNpb25BdHRyXSkgfHxcbiAgICAgICAgdGhpcy5vcHRpb25zLmhlYXRPcHRpb25zLm1heFxuICAgICAgaWYgKHR5cGVvZiBhbHQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIGFsdCA9IHRoaXMub3B0aW9ucy5oZWF0T3B0aW9ucy5tYXhcbiAgICAgIH1cbiAgICAgIG1hcmtlci5zZXRMYXRMbmcoTC5sYXRMbmcobGF0TG5nLmxhdCwgbGF0TG5nLmxuZywgYWx0KSlcbiAgICB9KVxuICAgIHRoaXMuaGVhdExheWVyID0gTC5oZWF0TGF5ZXIoXG4gICAgICB0aGlzLm1hcmtlcnMubWFwKChpdCkgPT4gaXQuZ2V0TGF0TG5nKCkpLFxuICAgICAgLy8gVE9ETzog5L2/55SoIG1lcmdlQ29uZmlnIOeugOWMllxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zLmhlYXRPcHRpb25zLCB7IG1pbk9wYWNpdHk6IDEgfSlcbiAgICApXG4gICAgcmV0dXJuIHRoaXMuaGVhdExheWVyXG4gIH1cblxuICBwcml2YXRlIGdldExhcmdlck1hcmtlckljb24oZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldE1hcmtlckljb24oZGF0YSwgdHJ1ZSlcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TWFya2VySWNvbihkYXRhOiBEYXRhTGlzdEl0ZW0pIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0TWFya2VySWNvbihkYXRhLCBmYWxzZSlcbiAgfVxuXG4gIC8qKiDojrflj5blvZPliY0gbWFya2VyIOmcgOimgeWxleekuueahCBpY29uICovXG4gIHByaXZhdGUgX2dldE1hcmtlckljb24oXG4gICAgZGF0YTogRGF0YUxpc3RJdGVtLFxuICAgIGlzTGFyZ2VyOiBib29sZWFuXG4gICk6IEwuSWNvbiB8IEwuRGl2SWNvbiB7XG4gICAgY29uc3QgaWNvblNpemUgPSB0aGlzLm9wdGlvbnMuaWNvblNpemVcbiAgICBjb25zdCBpY29uQW5jaG9yID0gdGhpcy5vcHRpb25zLmljb25BbmNob3JcbiAgICBjb25zdCBsYXJnZXJJY29uU2l6ZSA9IFtpY29uU2l6ZVswXSAqIDEuNSwgaWNvblNpemVbMV0gKiAxLjVdIGFzIFtcbiAgICAgIG51bWJlcixcbiAgICAgIG51bWJlclxuICAgIF1cbiAgICBjb25zdCBsYXJnZXJJY29uQW5jaG9yID0gW2ljb25BbmNob3JbMF0gKiAxLjUsIGljb25BbmNob3JbMV0gKiAxLjVdIGFzIFtcbiAgICAgIG51bWJlcixcbiAgICAgIG51bWJlclxuICAgIF1cblxuICAgIGNvbnN0IGljb25Db2xvciA9IHRoaXMub3B0aW9ucy5pY29uQ29sb3JcblxuICAgIHN3aXRjaCAodGhpcy5vcHRpb25zLmljb25UeXBlKSB7XG4gICAgICBjYXNlICdpbWFnZSc6IHtcbiAgICAgICAgLy8gcmV0dXJuIEwuaWNvbih7XG4gICAgICAgIC8vICAgaWNvblVybDogdGhpcy5vcHRpb25zLmljb25JbWFnZVVybCxcbiAgICAgICAgLy8gICBpY29uU2l6ZTogaXNMYXJnZXIgPyBsYXJnZXJJY29uU2l6ZSA6IGljb25TaXplLFxuICAgICAgICAvLyAgIGljb25BbmNob3IsXG4gICAgICAgIC8vIH0pXG4gICAgICB9XG4gICAgICBjYXNlICdmb250X2NsYXNzJzpcbiAgICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgICBjYXNlICd1bmljb2RlJzoge1xuICAgICAgICByZXR1cm4gTC5kaXZJY29uKHtcbiAgICAgICAgICBodG1sOiB0aGlzLmdldEN1c3RvbUljb25IVE1MKGRhdGEsIHtcbiAgICAgICAgICAgIGljb25TaXplOiBpc0xhcmdlciA/IGxhcmdlckljb25TaXplIDogaWNvblNpemUsXG4gICAgICAgICAgICBpY29uQ29sb3IsXG4gICAgICAgICAgfSksXG4gICAgICAgICAgY2xhc3NOYW1lOiBpc0xhcmdlciA/ICdsYXJnZS1kaXYtaWNvbi1tYXJrZXInIDogJycsXG4gICAgICAgICAgaWNvblNpemU6IGlzTGFyZ2VyID8gbGFyZ2VySWNvblNpemUgOiBpY29uU2l6ZSxcbiAgICAgICAgICBpY29uQW5jaG9yOiBpc0xhcmdlciA/IGxhcmdlckljb25BbmNob3IgOiBpY29uQW5jaG9yLFxuICAgICAgICAgIHRvb2x0aXBBbmNob3I6IGlzTGFyZ2VyXG4gICAgICAgICAgICA/IFswLCAtbGFyZ2VySWNvbkFuY2hvclsxXSAvIDJdXG4gICAgICAgICAgICA6IFswLCAtaWNvbkFuY2hvclsxXSAvIDJdLFxuICAgICAgICAgIHBvcHVwQW5jaG9yOiBpc0xhcmdlclxuICAgICAgICAgICAgPyBbMCwgLWxhcmdlckljb25BbmNob3JbMV0gLyAyXVxuICAgICAgICAgICAgOiBbMCwgLWljb25BbmNob3JbMV0gLyAyXSxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZW5kZXJUeXBlIOS4jeiDveS4uiAke3RoaXMub3B0aW9ucy5pY29uVHlwZX1gKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBwcml2YXRlIGdldEN1c3RvbUljb25IVE1MKFxuICAgIGRhdGE6IERhdGFMaXN0SXRlbSxcbiAgICBvcHRpb25zPzogSWNvblJlbmRlckZ1bmNPcHRpb25cbiAgKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmljb25SZW5kZXJlcikge1xuICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucylcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaWNvblJlbmRlcmVyKGRhdGEsIG9wdGlvbnMpXG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy5vcHRpb25zLnJlbmRlclBvaW50Q29sb3JUeXBlKSB7XG4gICAgICBjYXNlICdzaW5nbGUnOiB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5vcHRpb25zLmljb25UeXBlKSB7XG4gICAgICAgICAgLy8g5L2/55SoIGNsYXNzXG4gICAgICAgICAgY2FzZSAnZm9udF9jbGFzcyc6IHtcbiAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiJHt0aGlzLm9wdGlvbnMuaWNvbkNsYXNzfVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAke29wdGlvbnMuaWNvbkNvbG9yfTtcbiAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogJHtvcHRpb25zLmljb25TaXplWzBdfXB4O1xuICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8g5L2/55SoIHN2Z1xuICAgICAgICAgIGNhc2UgJ3N5bWJvbCc6IHtcbiAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uLXN5bWJvbFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj1cIiR7dGhpcy5vcHRpb25zLmljb25TeW1ib2x9XCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIOS9v+eUqCB1bmljb2RlXG4gICAgICAgICAgY2FzZSAndW5pY29kZSc6IHtcbiAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgY2xhc3M9XCIke3RoaXMub3B0aW9ucy5pY29uQ2xhc3N9XCJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIlxuICAgICAgICAgICAgICAgICAgY29sb3I6ICR7b3B0aW9ucy5pY29uQ29sb3J9O1xuICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAke29wdGlvbnMuaWNvblNpemVbMF19cHg7XG4gICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJHt0aGlzLm9wdGlvbnMuaWNvblVuaWNvZGV9XG4gICAgICAgICAgICAgIDwvaT5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3NlZ21lbnRlZCc6IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLm9wdGlvbnMuaWNvblR5cGUpIHtcbiAgICAgICAgICAvLyDkvb/nlKggY2xhc3NcbiAgICAgICAgICBjYXNlICdmb250X2NsYXNzJzoge1xuICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgICBjbGFzcz1cIiR7dGhpcy5vcHRpb25zLmljb25DbGFzc31cIlxuICAgICAgICAgICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJHt0aGlzLmdldFNlZ21lbnRlZE1hcmtlckNvbG9yKGRhdGEpfTtcbiAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogJHtvcHRpb25zLmljb25TaXplWzBdfXB4O1xuICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8g5L2/55SoIHN2Z1xuICAgICAgICAgIGNhc2UgJ3N5bWJvbCc6IHtcbiAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uLXN5bWJvbFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj1cIiR7dGhpcy5vcHRpb25zLmljb25TeW1ib2x9XCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIOS9v+eUqCB1bmljb2RlXG4gICAgICAgICAgY2FzZSAndW5pY29kZSc6IHtcbiAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgY2xhc3M9XCIke3RoaXMub3B0aW9ucy5pY29uQ2xhc3N9XCJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIlxuICAgICAgICAgICAgICAgICAgY29sb3I6ICR7dGhpcy5nZXRTZWdtZW50ZWRNYXJrZXJDb2xvcihkYXRhKX07XG4gICAgICAgICAgICAgICAgICBmb250LXNpemU6ICR7b3B0aW9ucy5pY29uU2l6ZVswXX1weDtcbiAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAke3RoaXMub3B0aW9ucy5pY29uVW5pY29kZX1cbiAgICAgICAgICAgICAgPC9pPlxuICAgICAgICAgICAgYFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYHJlbmRlclBvaW50Q29sb3JUeXBlIOS4jeaUr+aMgVwiJHt0aGlzLm9wdGlvbnMucmVuZGVyUG9pbnRDb2xvclR5cGV9XCJgXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBjYWNoZVNlZ21lbnRQYXJhbXMoKSB7XG4gICAgY29uc3Qgc2VnbWVudGVkTGVuZ3RoID0gdGhpcy5vcHRpb25zLnNlZ21lbnRlZENvbG9ycy5sZW5ndGhcbiAgICBsZXQgbWF4VmFsID0gLUluZmluaXR5XG4gICAgbGV0IG1pblZhbCA9IEluZmluaXR5XG4gICAgZm9yIChjb25zdCBkYXRhIG9mIHRoaXMuZGF0YUxpc3QpIHtcbiAgICAgIGNvbnN0IHZhbCA9IGRhdGFbdGhpcy5vcHRpb25zLnNlZ21lbnRlZEF0dHJdXG4gICAgICBtYXhWYWwgPSBNYXRoLm1heChtYXhWYWwsIHZhbClcbiAgICAgIG1pblZhbCA9IE1hdGgubWluKG1pblZhbCwgdmFsKVxuICAgIH1cbiAgICBjb25zdCBzdGVwID0gKG1heFZhbCAtIG1pblZhbCArIDEpIC8gc2VnbWVudGVkTGVuZ3RoXG4gICAgdGhpcy5zZWdtZW50ZWRNaW4gPSBtaW5WYWxcbiAgICB0aGlzLnNlZ21lbnRlZFN0ZXAgPSBzdGVwXG4gIH1cbiAgcHJpdmF0ZSBnZXRTZWdtZW50ZWRNYXJrZXJDb2xvcihkYXRhOiBEYXRhTGlzdEl0ZW0pOiBzdHJpbmcge1xuICAgIGNvbnN0IHZhbCA9IGRhdGFbdGhpcy5vcHRpb25zLnNlZ21lbnRlZEF0dHJdXG4gICAgY29uc3QgY29sb3IgPSB0aGlzLm9wdGlvbnMuc2VnbWVudGVkQ29sb3JzW1xuICAgICAgcGFyc2VJbnQoJycgKyAodmFsIC0gdGhpcy5zZWdtZW50ZWRNaW4pIC8gdGhpcy5zZWdtZW50ZWRTdGVwLCAxMClcbiAgICBdXG4gICAgcmV0dXJuIGNvbG9yXG4gIH1cbiAgcHJpdmF0ZSBnZXRQb3B1cENvbnRlbnQoZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMucG9wdXBBdHRyKSB7XG4gICAgICByZXR1cm4gJydcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMucG9wdXBBdHRyID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGAke3RoaXMub3B0aW9ucy5wb3B1cEF0dHJ9OiAke2RhdGFbdGhpcy5vcHRpb25zLnBvcHVwQXR0cl19YFxuICAgIH1cbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5wb3B1cEF0dHIgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5vcHRpb25zLnBvcHVwQXR0ci5sYWJlbH06ICR7XG4gICAgICAgIGRhdGFbdGhpcy5vcHRpb25zLnBvcHVwQXR0ci52YWx1ZV1cbiAgICAgIH1gXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhTGlzdEl0ZW0sIENoYW5uZWxGdW5jIH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMnXG5pbXBvcnQgTWFya2Vyc0xheWVyLCB7IE1hcmtlcnNMYXllck9wdGlvbnMgfSBmcm9tICcuL01hcmtlcnNMYXllcidcbmludGVyZmFjZSBNYXJrZXJzQnVmZmVyTGF5ZXJPcHRpb25zIGV4dGVuZHMgTWFya2Vyc0xheWVyT3B0aW9ucyB7XG4gIGJ1ZmZlclRvb2x0aXBBdHRyOiBzdHJpbmdcbiAgYnVmZmVyT3B0aW9uczogTC5DaXJjbGVNYXJrZXJPcHRpb25zXG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXJrZXJzQnVmZmVyTGF5ZXIgZXh0ZW5kcyBNYXJrZXJzTGF5ZXIge1xuICBwdWJsaWMgb3B0aW9uczogTWFya2Vyc0J1ZmZlckxheWVyT3B0aW9uc1xuICBwcml2YXRlIGJ1ZmZlckxheWVyOiBMLkxheWVyR3JvdXBcbiAgY29uc3RydWN0b3IoXG4gICAgbWFwOiBMLk1hcCxcbiAgICBkYXRhTGlzdDogRGF0YUxpc3RJdGVtW10sXG4gICAgb3B0aW9uczogTWFya2Vyc0J1ZmZlckxheWVyT3B0aW9ucyxcbiAgICBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgKSB7XG4gICAgc3VwZXIobWFwLCBkYXRhTGlzdCwgb3B0aW9ucywgY2hhbm5lbEZ1bmMpXG4gICAgdGhpcy50eXBlID0gJ21hcmtlckJ1ZmZlcidcbiAgICBjb25zdCBkZWZhdWx0QnVmZmVyT3B0aW9uczogTC5DaXJjbGVNYXJrZXJPcHRpb25zID0ge1xuICAgICAgcmFkaXVzOiAxMDAwLFxuICAgICAgc3Ryb2tlOiB0cnVlLFxuICAgICAgd2VpZ2h0OiAxLFxuICAgIH1cbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKFxuICAgICAgdGhpcy5vcHRpb25zLFxuICAgICAgeyBidWZmZXJPcHRpb25zOiBkZWZhdWx0QnVmZmVyT3B0aW9ucyB9LFxuICAgICAgb3B0aW9uc1xuICAgIClcbiAgfVxuXG4gIHB1YmxpYyBkcmF3KG9wdGlvbnM/OiBNYXJrZXJzQnVmZmVyTGF5ZXJPcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpXG4gICAgdGhpcy5vcHRpb25zLmJ1ZmZlck9wdGlvbnMuY29sb3IgPSB0aGlzLm9wdGlvbnMuaWNvbkNvbG9yXG4gICAgdGhpcy5pbml0TWFya2VycygpXG4gICAgcmV0dXJuIHRoaXMucmVkcmF3KClcbiAgfVxuXG4gIHB1YmxpYyByZWRyYXcoKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodGhpcy5tYXJrZXJMYXllcikge1xuICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIodGhpcy5tYXJrZXJMYXllcilcbiAgICB9XG4gICAgaWYgKHRoaXMuYnVmZmVyTGF5ZXIpIHtcbiAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKHRoaXMuYnVmZmVyTGF5ZXIpXG4gICAgfVxuICAgIHRoaXMubWFya2VyTGF5ZXIgPSB0aGlzLmNvbmZpZ01hcmtlckxheWVyKClcbiAgICB0aGlzLmJ1ZmZlckxheWVyID0gdGhpcy5jb25maWdCdWZmZXJMYXllcigpXG5cbiAgICB0aGlzLmxheWVyID0gTC5sYXllckdyb3VwKClcbiAgICB0aGlzLmxheWVyLmFkZExheWVyKHRoaXMubWFya2VyTGF5ZXIpXG4gICAgdGhpcy5sYXllci5hZGRMYXllcih0aGlzLmJ1ZmZlckxheWVyKVxuXG4gICAgdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllcilcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcHVibGljIGdldEJvdW5kcygpOiBMLkxhdExuZ0JvdW5kc0V4cHJlc3Npb24ge1xuICAgIGlmICh0aGlzLm1hcmtlcnMubGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcC5nZXRCb3VuZHMoKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tYXJrZXJzLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgcmV0dXJuIHByZXYuZXh0ZW5kKFxuICAgICAgICBjdXJyLmdldExhdExuZygpLnRvQm91bmRzKHRoaXMub3B0aW9ucy5idWZmZXJPcHRpb25zLnJhZGl1cylcbiAgICAgIClcbiAgICB9LCB0aGlzLm1hcmtlcnNbMF0uZ2V0TGF0TG5nKCkudG9Cb3VuZHModGhpcy5vcHRpb25zLmJ1ZmZlck9wdGlvbnMucmFkaXVzKSlcbiAgfVxuXG4gIHByaXZhdGUgY29uZmlnQnVmZmVyTGF5ZXIoKSB7XG4gICAgY29uc3QgZ3JvdXBMYXllciA9IEwubGF5ZXJHcm91cCgpXG4gICAgdGhpcy5tYXJrZXJzLmZvckVhY2goKG1hcmtlcikgPT4ge1xuICAgICAgY29uc3QgY2lyY2xlTGF5ZXIgPSBMLmNpcmNsZShcbiAgICAgICAgbWFya2VyLmdldExhdExuZygpLFxuICAgICAgICB0aGlzLm9wdGlvbnMuYnVmZmVyT3B0aW9uc1xuICAgICAgKVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5idWZmZXJUb29sdGlwQXR0cikge1xuICAgICAgICBjaXJjbGVMYXllci5iaW5kVG9vbHRpcChcbiAgICAgICAgICAnJyArIG1hcmtlci5nZXREYXRhKClbdGhpcy5vcHRpb25zLmJ1ZmZlclRvb2x0aXBBdHRyXVxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0aGlzLm9wdGlvbnMucG9wdXBBdHRyKSB7XG4gICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIGNpcmNsZUxheWVyLmJpbmRUb29sdGlwKFxuICAgICAgICAgICAgICAnJyArIG1hcmtlci5nZXREYXRhKClbdGhpcy5vcHRpb25zLnBvcHVwQXR0cl1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgIGNpcmNsZUxheWVyLmJpbmRUb29sdGlwKFxuICAgICAgICAgICAgICAnJyArIG1hcmtlci5nZXREYXRhKClbdGhpcy5vcHRpb25zLnBvcHVwQXR0ci52YWx1ZV1cbiAgICAgICAgICAgIClcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZ3JvdXBMYXllci5hZGRMYXllcihjaXJjbGVMYXllcilcbiAgICB9KVxuICAgIHJldHVybiBncm91cExheWVyXG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFMaXN0SXRlbSB9IGZyb20gJy4uL2RlZmluaXRpb25zJ1xuXG5leHBvcnQgdHlwZSBQb2x5bGluZU9wdGlvbnMgPSBMLkxhdExuZ0V4cHJlc3Npb25bXSB8IEwuTGF0TG5nRXhwcmVzc2lvbltdW11cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvbHlsaW5lIGV4dGVuZHMgTC5Qb2x5bGluZSB7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lXG4gIHByaXZhdGUgX19kYXRhOiBEYXRhTGlzdEl0ZW1cbiAgY29uc3RydWN0b3IobGF0bG5nczogUG9seWxpbmVPcHRpb25zLCBvcHRpb25zPzogTC5Qb2x5bGluZU9wdGlvbnMpIHtcbiAgICBzdXBlcihsYXRsbmdzLCBvcHRpb25zKVxuICB9XG4gIHB1YmxpYyBzZXREYXRhKGRhdGE6IERhdGFMaXN0SXRlbSkge1xuICAgIHRoaXMuX19kYXRhID0gZGF0YVxuICB9XG4gIHB1YmxpYyBnZXREYXRhKCkge1xuICAgIHJldHVybiB0aGlzLl9fZGF0YVxuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhTGlzdEl0ZW0sIENoYW5uZWxGdW5jIH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMnXG5pbXBvcnQgUG9seWxpbmUsIHsgUG9seWxpbmVPcHRpb25zIH0gZnJvbSAnLi9Qb2x5bGluZSdcblxuLyoqIOa4suafk+minOiJsuagt+W8jyDljZXoibJ85YiG5q61ICovXG50eXBlIFBvbHlsaW5lTGF5ZXJSZW5kZXJDb2xvclR5cGUgPSAnc2luZ2xlJyB8ICdzZWdtZW50ZWQnXG5pbnRlcmZhY2UgUG9seWxpbmVMYXllck9wdGlvbnMgZXh0ZW5kcyBMLlBvbHlsaW5lT3B0aW9ucyB7XG4gIHJlbmRlclBvbHlsaW5lQ29sb3JUeXBlOiBQb2x5bGluZUxheWVyUmVuZGVyQ29sb3JUeXBlXG5cbiAgLyoqIHBvcHVwIOWxleekuuWtl+autSAqL1xuICBwb3B1cEF0dHI/OiBzdHJpbmcgfCB7IGxhYmVsOiBzdHJpbmc7IHZhbHVlOiBhbnkgfVxuICAvKiogdG9vbHRpcCDlsZXnpLrlrZfmrrUgKi9cbiAgdG9vbHRpcEF0dHI/OiBzdHJpbmdcblxuICBvcGFjaXR5PzogbnVtYmVyXG5cbiAgLyoqIOWIhuautea4suafk+e7n+iuoeWtl+autSAqL1xuICBzZWdtZW50ZWRBdHRyPzogc3RyaW5nXG4gIHNlZ21lbnRlZENvbG9ycz86IHN0cmluZ1tdXG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2x5bGluZXNMYXllciB7XG4gIHB1YmxpYyB0eXBlOiBzdHJpbmdcblxuICBwcm90ZWN0ZWQgdmlzaWJsZTogYm9vbGVhblxuICBwcm90ZWN0ZWQgbGF5ZXI6IEwuTGF5ZXJHcm91cFxuXG4gIHByb3RlY3RlZCBtYXA6IEwuTWFwXG4gIHByb3RlY3RlZCBkYXRhTGlzdDogRGF0YUxpc3RJdGVtW11cbiAgcHJvdGVjdGVkIG9wdGlvbnM6IFBvbHlsaW5lTGF5ZXJPcHRpb25zXG4gIHByb3RlY3RlZCBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgcHJvdGVjdGVkIHBvbHlsaW5lczogUG9seWxpbmVbXVxuICBwcm90ZWN0ZWQgc2VnbWVudGVkTWluOiBudW1iZXJcbiAgcHJvdGVjdGVkIHNlZ21lbnRlZFN0ZXA6IG51bWJlclxuICAvLyBwcml2YXRlIGZvY3VzZWRQb2x5bGluZTogUG9seWxpbmVcbiAgcHJvdGVjdGVkIHBvbHlsaW5lTGF5ZXI6IEwuTGF5ZXJHcm91cFxuICBjb25zdHJ1Y3RvcihcbiAgICBtYXA6IEwuTWFwLFxuICAgIGRhdGFMaXN0OiBEYXRhTGlzdEl0ZW1bXSxcbiAgICBvcHRpb25zOiBQb2x5bGluZUxheWVyT3B0aW9ucyxcbiAgICBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgKSB7XG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnM6IFBvbHlsaW5lTGF5ZXJPcHRpb25zID0ge1xuICAgICAgY29sb3I6ICcjMzM4OEZGJyxcbiAgICAgIHJlbmRlclBvbHlsaW5lQ29sb3JUeXBlOiAnc2luZ2xlJyxcbiAgICAgIHNlZ21lbnRlZENvbG9yczogWycjMzM4OEZGJ10sXG4gICAgfVxuICAgIHRoaXMudHlwZSA9ICdwb2x5bGluZSdcbiAgICB0aGlzLm1hcCA9IG1hcFxuICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhTGlzdFxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLmNoYW5uZWxGdW5jID0gY2hhbm5lbEZ1bmNcblxuICAgIHRoaXMudmlzaWJsZSA9IHRydWVcbiAgICB0aGlzLnBvbHlsaW5lcyA9IFtdXG4gICAgdGhpcy5zZWdtZW50ZWRNaW4gPSBJbmZpbml0eVxuICAgIHRoaXMuc2VnbWVudGVkU3RlcCA9IDFcbiAgICAvLyB0aGlzLmZvY3VzZWRQb2x5bGluZSA9IG51bGxcblxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKVxuICB9XG4gIHB1YmxpYyBkcmF3KG9wdGlvbnM/OiBQb2x5bGluZUxheWVyT3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKVxuICAgIHRoaXMuaW5pdFBvbHlsaW5lcygpXG4gICAgcmV0dXJuIHRoaXMucmVkcmF3KClcbiAgfVxuICBwdWJsaWMgcmVkcmF3KCkge1xuICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMubGF5ZXIpIHtcbiAgICAgIHRoaXMubGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gICAgdGhpcy5sYXllciA9IHRoaXMuY29uZmlnUG9seWxpbmVMYXllcigpXG4gICAgdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllcilcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIHB1YmxpYyBmaXRCb3VuZHMoKSB7XG4gICAgdGhpcy5tYXAuZml0Qm91bmRzKHRoaXMuZ2V0Qm91bmRzKCkpXG4gIH1cbiAgcHVibGljIGdldEJvdW5kcygpOiBMLkxhdExuZ0JvdW5kc0V4cHJlc3Npb24ge1xuICAgIGlmICh0aGlzLnBvbHlsaW5lcy5sZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwLmdldEJvdW5kcygpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBvbHlsaW5lcy5yZWR1Y2UoXG4gICAgICAocHJldiwgY3VycikgPT4gcHJldi5leHRlbmQoY3Vyci5nZXRCb3VuZHMoKSksXG4gICAgICB0aGlzLnBvbHlsaW5lc1swXS5nZXRCb3VuZHMoKVxuICAgIClcbiAgfVxuICBwdWJsaWMgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5sYXllcikge1xuICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIodGhpcy5sYXllcilcbiAgICB9XG4gIH1cbiAgcHVibGljIHRvZ2dsZVZpc2libGUodmlzaWJsZTogYm9vbGVhbikge1xuICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGVcbiAgICBpZiAoIXRoaXMubGF5ZXIpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodmlzaWJsZSkge1xuICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllcilcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIodGhpcy5sYXllcilcbiAgICB9XG4gIH1cbiAgcHVibGljIGNoYW5nZUNvbG9yKGNvbG9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLm9wdGlvbnMuZmlsbENvbG9yID0gY29sb3JcbiAgICB0aGlzLnJlZHJhdygpXG4gIH1cbiAgcHVibGljIHBpdGNoKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLnBvbHlsaW5lcy5mb3JFYWNoKChwb2x5bGluZSkgPT4ge1xuICAgICAgaWYgKHBvbHlsaW5lLmdldERhdGEoKS5pZCA9PT0gaWQpIHtcbiAgICAgICAgcG9seWxpbmUuZmlyZSgnY2xpY2snKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIHByb3RlY3RlZCBpbml0UG9seWxpbmVzKCkge1xuICAgIC8vIOe8k+WtmCBzZWdtZW50IOebuOWFs+aVsOaNrlxuICAgIHRoaXMuY2FjaGVTZWdtZW50UGFyYW1zKClcblxuICAgIHRoaXMucG9seWxpbmVzID0gdGhpcy5kYXRhTGlzdC5tYXAoKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IGxheWVyID0gTC5nZW9KU09OKGRhdGEuZ2VvbWV0cnkpLmdldExheWVycygpWzBdXG4gICAgICAvLyBsZXQgY29sb3IgPSB0aGlzLm9wdGlvbnMuY29sb3JcbiAgICAgIC8vIGlmICh0aGlzLm9wdGlvbnMucmVuZGVyUG9seWxpbmVDb2xvclR5cGUgPT09ICdzZWdtZW50ZWQnKSB7XG4gICAgICAvLyAgIGNvbG9yID0gdGhpcy5nZXRTZWdtZW50ZWRQb2x5bGluZUNvbG9yKGRhdGEpXG4gICAgICAvLyB9XG4gICAgICBjb25zdCBwb2x5bGluZSA9IG5ldyBQb2x5bGluZShcbiAgICAgICAgKGxheWVyIGFzIEwuUG9seWxpbmUpLmdldExhdExuZ3MoKSBhcyBQb2x5bGluZU9wdGlvbnNcbiAgICAgIClcblxuICAgICAgLy8g5bCG55u45YWz5YC857uR5a6a5YiwIG1hcmtlcuS4ilxuICAgICAgcG9seWxpbmUuc2V0RGF0YShkYXRhKVxuXG4gICAgICByZXR1cm4gcG9seWxpbmVcbiAgICB9KVxuICB9XG4gIHByb3RlY3RlZCBnZXRTZWdtZW50ZWRQb2x5bGluZUNvbG9yKGRhdGE6IERhdGFMaXN0SXRlbSk6IHN0cmluZyB7XG4gICAgY29uc3QgdmFsID0gZGF0YVt0aGlzLm9wdGlvbnMuc2VnbWVudGVkQXR0cl1cbiAgICBjb25zdCBjb2xvciA9IHRoaXMub3B0aW9ucy5zZWdtZW50ZWRDb2xvcnNbXG4gICAgICBwYXJzZUludCgnJyArICh2YWwgLSB0aGlzLnNlZ21lbnRlZE1pbikgLyB0aGlzLnNlZ21lbnRlZFN0ZXAsIDEwKVxuICAgIF1cbiAgICByZXR1cm4gY29sb3JcbiAgfVxuICBwcm90ZWN0ZWQgcG9seWxpbmVDbGlja0hhbmRsZXIocG9seWxpbmU6IFBvbHlsaW5lKSB7XG4gICAgLy8gdGhpcy5mb2N1c2VkUG9seWxpbmUgPSBwb2x5bGluZVxuICAgIHRoaXMuY2hhbm5lbEZ1bmMoJ29uLWNsaWNrLXBvbHlsaW5lJywgcG9seWxpbmUpXG4gIH1cbiAgcHJvdGVjdGVkIGdldFRvb2xUaXBDb250ZW50KGRhdGE6IERhdGFMaXN0SXRlbSkge1xuICAgIHJldHVybiAnJyArIGRhdGFbdGhpcy5vcHRpb25zLnRvb2x0aXBBdHRyXVxuICB9XG4gIHByb3RlY3RlZCBnZXRQb3B1cENvbnRlbnQoZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMucG9wdXBBdHRyKSB7XG4gICAgICByZXR1cm4gJydcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMucG9wdXBBdHRyID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGAke3RoaXMub3B0aW9ucy5wb3B1cEF0dHJ9OiAke2RhdGFbdGhpcy5vcHRpb25zLnBvcHVwQXR0cl19YFxuICAgIH1cbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5wb3B1cEF0dHIgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5vcHRpb25zLnBvcHVwQXR0ci5sYWJlbH06ICR7XG4gICAgICAgIGRhdGFbdGhpcy5vcHRpb25zLnBvcHVwQXR0ci52YWx1ZV1cbiAgICAgIH1gXG4gICAgfVxuICB9XG4gIHByaXZhdGUgY29uZmlnUG9seWxpbmVMYXllcigpIHtcbiAgICB0aGlzLnBvbHlsaW5lTGF5ZXIgPSBMLmxheWVyR3JvdXAoKVxuICAgIHRoaXMucG9seWxpbmVzLmZvckVhY2goKHBvbHlsaW5lKSA9PiB7XG4gICAgICBsZXQgY29sb3IgPSB0aGlzLm9wdGlvbnMuY29sb3JcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVuZGVyUG9seWxpbmVDb2xvclR5cGUgPT09ICdzZWdtZW50ZWQnKSB7XG4gICAgICAgIGNvbG9yID0gdGhpcy5nZXRTZWdtZW50ZWRQb2x5bGluZUNvbG9yKHBvbHlsaW5lLmdldERhdGEoKSlcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9wdGlvbnM6IEwuUG9seWxpbmVPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zLCB7XG4gICAgICAgIGNvbG9yLFxuICAgICAgfSlcbiAgICAgIGNvbnN0IG5ld1BvbHlsaW5lID0gbmV3IFBvbHlsaW5lKFxuICAgICAgICBwb2x5bGluZS5nZXRMYXRMbmdzKCkgYXMgUG9seWxpbmVPcHRpb25zLFxuICAgICAgICBvcHRpb25zXG4gICAgICApXG4gICAgICBuZXdQb2x5bGluZS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMucG9seWxpbmVDbGlja0hhbmRsZXIocG9seWxpbmUpXG4gICAgICB9KVxuICAgICAgbmV3UG9seWxpbmUuc2V0RGF0YShwb2x5bGluZS5nZXREYXRhKCkpXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRvb2x0aXBBdHRyKSB7XG4gICAgICAgIG5ld1BvbHlsaW5lLmJpbmRUb29sdGlwKHRoaXMuZ2V0VG9vbFRpcENvbnRlbnQobmV3UG9seWxpbmUuZ2V0RGF0YSgpKSlcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucG9wdXBBdHRyKSB7XG4gICAgICAgIG5ld1BvbHlsaW5lLmJpbmRQb3B1cCh0aGlzLmdldFBvcHVwQ29udGVudChuZXdQb2x5bGluZS5nZXREYXRhKCkpKVxuICAgICAgfVxuICAgICAgdGhpcy5wb2x5bGluZUxheWVyLmFkZExheWVyKG5ld1BvbHlsaW5lKVxuICAgIH0pXG4gICAgcmV0dXJuIHRoaXMucG9seWxpbmVMYXllclxuICB9XG4gIHByaXZhdGUgY2FjaGVTZWdtZW50UGFyYW1zKCkge1xuICAgIGNvbnN0IHNlZ21lbnRlZExlbmd0aCA9IHRoaXMub3B0aW9ucy5zZWdtZW50ZWRDb2xvcnMubGVuZ3RoXG4gICAgbGV0IG1heFZhbCA9IC1JbmZpbml0eVxuICAgIGxldCBtaW5WYWwgPSBJbmZpbml0eVxuICAgIGZvciAoY29uc3QgZGF0YSBvZiB0aGlzLmRhdGFMaXN0KSB7XG4gICAgICBjb25zdCB2YWwgPSBkYXRhW3RoaXMub3B0aW9ucy5zZWdtZW50ZWRBdHRyXVxuICAgICAgbWF4VmFsID0gTWF0aC5tYXgobWF4VmFsLCB2YWwpXG4gICAgICBtaW5WYWwgPSBNYXRoLm1pbihtaW5WYWwsIHZhbClcbiAgICB9XG4gICAgY29uc3Qgc3RlcCA9IChtYXhWYWwgLSBtaW5WYWwgKyAxKSAvIHNlZ21lbnRlZExlbmd0aFxuICAgIHRoaXMuc2VnbWVudGVkTWluID0gbWluVmFsXG4gICAgdGhpcy5zZWdtZW50ZWRTdGVwID0gc3RlcFxuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhTGlzdEl0ZW0sIENoYW5uZWxGdW5jIH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMnXG5pbXBvcnQgUG9seWxpbmVzTGF5ZXIgZnJvbSAnLi9Qb2x5bGluZXNMYXllcidcblxuLyoqIOa4suafk+minOiJsuagt+W8jyDljZXoibJ85YiG5q61ICovXG50eXBlIFBvbHlsaW5lTGF5ZXJSZW5kZXJDb2xvclR5cGUgPSAnc2luZ2xlJyB8ICdzZWdtZW50ZWQnXG5pbnRlcmZhY2UgUG9seWxpbmVCdWZmZXJMYXllck9wdGlvbnMgZXh0ZW5kcyBMLkNvcnJpZG9yT3B0aW9ucyB7XG4gIHJlbmRlclBvbHlsaW5lQ29sb3JUeXBlOiBQb2x5bGluZUxheWVyUmVuZGVyQ29sb3JUeXBlXG5cbiAgLyoqIHBvcHVwIOWxleekuuWtl+autSAqL1xuICBwb3B1cEF0dHI/OiBzdHJpbmdcbiAgLyoqIHRvb2x0aXAg5bGV56S65a2X5q61ICovXG4gIHRvb2x0aXBBdHRyPzogc3RyaW5nXG5cbiAgb3BhY2l0eT86IG51bWJlclxuXG4gIC8qKiDliIbmrrXmuLLmn5Pnu5/orqHlrZfmrrUgKi9cbiAgc2VnbWVudGVkQXR0cj86IHN0cmluZ1xuICBzZWdtZW50ZWRDb2xvcnM/OiBzdHJpbmdbXVxufVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9seWxpbmVzQnVmZmVyTGF5ZXIgZXh0ZW5kcyBQb2x5bGluZXNMYXllciB7XG4gIHB1YmxpYyB0eXBlOiBzdHJpbmdcbiAgcHJvdGVjdGVkIG9wdGlvbnM6IFBvbHlsaW5lQnVmZmVyTGF5ZXJPcHRpb25zXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1hcDogTC5NYXAsXG4gICAgZGF0YUxpc3Q6IERhdGFMaXN0SXRlbVtdLFxuICAgIG9wdGlvbnM6IFBvbHlsaW5lQnVmZmVyTGF5ZXJPcHRpb25zLFxuICAgIGNoYW5uZWxGdW5jOiBDaGFubmVsRnVuY1xuICApIHtcbiAgICBzdXBlcihtYXAsIGRhdGFMaXN0LCBvcHRpb25zLCBjaGFubmVsRnVuYylcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9uczogUG9seWxpbmVCdWZmZXJMYXllck9wdGlvbnMgPSB7XG4gICAgICByZW5kZXJQb2x5bGluZUNvbG9yVHlwZTogJ3NpbmdsZScsXG4gICAgICBzZWdtZW50ZWRDb2xvcnM6IFsnIzMzODhGRiddLFxuICAgICAgY29ycmlkb3I6IDEwMCxcbiAgICAgIGNvbG9yOiAnIzMzODhGRicsXG4gICAgICBvcGFjaXR5OiAwLjUsXG4gICAgfVxuICAgIHRoaXMudHlwZSA9ICdwb2x5bGluZUJ1ZmZlcidcbiAgICB0aGlzLm1hcCA9IG1hcFxuICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhTGlzdFxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLmNoYW5uZWxGdW5jID0gY2hhbm5lbEZ1bmNcblxuICAgIHRoaXMudmlzaWJsZSA9IHRydWVcbiAgICB0aGlzLnBvbHlsaW5lcyA9IFtdXG4gICAgdGhpcy5zZWdtZW50ZWRNaW4gPSBJbmZpbml0eVxuICAgIHRoaXMuc2VnbWVudGVkU3RlcCA9IDFcbiAgICAvLyB0aGlzLmZvY3VzZWRQb2x5bGluZSA9IG51bGxcblxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKVxuICB9XG4gIHB1YmxpYyBkcmF3KG9wdGlvbnM/OiBQb2x5bGluZUJ1ZmZlckxheWVyT3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKVxuICAgIHRoaXMuaW5pdFBvbHlsaW5lcygpXG4gICAgcmV0dXJuIHRoaXMucmVkcmF3KClcbiAgfVxuICBwdWJsaWMgcmVkcmF3KCkge1xuICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMubGF5ZXIpIHtcbiAgICAgIHRoaXMubGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gICAgdGhpcy5sYXllciA9IHRoaXMuY29uZmlnUG9seWxpbmVCdWZmZXJMYXllcigpXG4gICAgdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllcilcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIHB1YmxpYyBmaXRCb3VuZHMoKSB7XG4gICAgdGhpcy5tYXAuZml0Qm91bmRzKHRoaXMuZ2V0Qm91bmRzKCkpXG4gIH1cbiAgcHVibGljIGdldEJvdW5kcygpOiBMLkxhdExuZ0JvdW5kc0V4cHJlc3Npb24ge1xuICAgIGlmICh0aGlzLnBvbHlsaW5lcy5sZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwLmdldEJvdW5kcygpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBvbHlsaW5lcy5yZWR1Y2UoXG4gICAgICAocHJldiwgY3VycikgPT4gcHJldi5leHRlbmQoY3Vyci5nZXRCb3VuZHMoKSksXG4gICAgICB0aGlzLnBvbHlsaW5lc1swXS5nZXRCb3VuZHMoKVxuICAgIClcbiAgfVxuICBwdWJsaWMgY2hhbmdlQ29sb3IoY29sb3I6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy5jb2xvciA9IGNvbG9yXG4gICAgdGhpcy5yZWRyYXcoKVxuICB9XG4gIHByaXZhdGUgY29uZmlnUG9seWxpbmVCdWZmZXJMYXllcigpIHtcbiAgICB0aGlzLnBvbHlsaW5lTGF5ZXIgPSBMLmxheWVyR3JvdXAoKVxuICAgIHRoaXMucG9seWxpbmVzLmZvckVhY2goKHBvbHlsaW5lKSA9PiB7XG4gICAgICBwb2x5bGluZS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMucG9seWxpbmVDbGlja0hhbmRsZXIocG9seWxpbmUpXG4gICAgICB9KVxuICAgICAgY29uc3Qgb3B0aW9uczogUG9seWxpbmVCdWZmZXJMYXllck9wdGlvbnMgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgdGhpcy5vcHRpb25zLFxuICAgICAgICB7XG4gICAgICAgICAgY29sb3I6XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMucmVuZGVyUG9seWxpbmVDb2xvclR5cGUgPT09ICdzaW5nbGUnXG4gICAgICAgICAgICAgID8gdGhpcy5vcHRpb25zLmNvbG9yXG4gICAgICAgICAgICAgIDogdGhpcy5nZXRTZWdtZW50ZWRQb2x5bGluZUNvbG9yKHBvbHlsaW5lLmdldERhdGEoKSksXG4gICAgICAgIH1cbiAgICAgIClcblxuICAgICAgY29uc3QgcG9seWxpbmVCdWZmZXIgPSBMLmNvcnJpZG9yKFxuICAgICAgICAocG9seWxpbmUuZ2V0TGF0TG5ncygpIGFzIEwuTGF0TG5nW10pLm1hcCgobGF0TG5nKSA9PlxuICAgICAgICAgIEwubGF0TG5nKFtsYXRMbmcubGF0LCBsYXRMbmcubG5nXSlcbiAgICAgICAgKSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy50b29sdGlwQXR0cikge1xuICAgICAgICBwb2x5bGluZUJ1ZmZlci5iaW5kVG9vbHRpcCh0aGlzLmdldFRvb2xUaXBDb250ZW50KHBvbHlsaW5lLmdldERhdGEoKSkpXG4gICAgICB9XG4gICAgICB0aGlzLnBvbHlsaW5lTGF5ZXIuYWRkTGF5ZXIocG9seWxpbmVCdWZmZXIpXG4gICAgfSlcbiAgICByZXR1cm4gdGhpcy5wb2x5bGluZUxheWVyXG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFMaXN0SXRlbSB9IGZyb20gJy4uL2RlZmluaXRpb25zJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2x5Z29uIGV4dGVuZHMgTC5Qb2x5Z29uIHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbiAgcHJpdmF0ZSBfX2RhdGE6IERhdGFMaXN0SXRlbVxuICBjb25zdHJ1Y3RvcihcbiAgICBsYXRsbmdzOlxuICAgICAgfCBMLkxhdExuZ0V4cHJlc3Npb25bXVxuICAgICAgfCBMLkxhdExuZ0V4cHJlc3Npb25bXVtdXG4gICAgICB8IEwuTGF0TG5nRXhwcmVzc2lvbltdW11bXSxcbiAgICBvcHRpb25zPzogTC5Qb2x5bGluZU9wdGlvbnNcbiAgKSB7XG4gICAgc3VwZXIobGF0bG5ncywgb3B0aW9ucylcbiAgfVxuICBwdWJsaWMgc2V0RGF0YShkYXRhOiBEYXRhTGlzdEl0ZW0pIHtcbiAgICB0aGlzLl9fZGF0YSA9IGRhdGFcbiAgfVxuICBwdWJsaWMgZ2V0RGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fX2RhdGFcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGF0YUxpc3RJdGVtLCBDaGFubmVsRnVuYyB9IGZyb20gJy4uL2RlZmluaXRpb25zJ1xuaW1wb3J0IFBvbHlnb24gZnJvbSAnLi9Qb2x5Z29uJ1xuXG4vKiog5riy5p+T6aKc6Imy5qC35byPIOWNleiJsnzliIbmrrUgKi9cbnR5cGUgUG9seWdvbkxheWVyUmVuZGVyQ29sb3JUeXBlID0gJ3NpbmdsZScgfCAnc2VnbWVudGVkJ1xuZXhwb3J0IGludGVyZmFjZSBQb2x5Z29uTGF5ZXJPcHRpb25zIGV4dGVuZHMgTC5Qb2x5bGluZU9wdGlvbnMge1xuICByZW5kZXJQb2x5Z29uQ29sb3JUeXBlOiBQb2x5Z29uTGF5ZXJSZW5kZXJDb2xvclR5cGVcblxuICAvKiogcG9wdXAg5bGV56S65a2X5q61ICovXG4gIHBvcHVwQXR0cj86IHN0cmluZyB8IHsgbGFiZWw6IHN0cmluZzsgdmFsdWU6IGFueSB9XG4gIC8qKiB0b29sdGlwIOWxleekuuWtl+autSAqL1xuICB0b29sdGlwQXR0cj86IHN0cmluZ1xuXG4gIG9wYWNpdHk/OiBudW1iZXJcblxuICAvKiog5YiG5q615riy5p+T57uf6K6h5a2X5q61ICovXG4gIHNlZ21lbnRlZEF0dHI/OiBzdHJpbmdcbiAgc2VnbWVudGVkQ29sb3JzPzogc3RyaW5nW11cbn1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvbHlnb25zTGF5ZXIge1xuICBwdWJsaWMgdHlwZTogc3RyaW5nXG5cbiAgcHJvdGVjdGVkIHZpc2libGU6IGJvb2xlYW5cbiAgcHJvdGVjdGVkIGxheWVyOiBMLkxheWVyR3JvdXBcblxuICBwcm90ZWN0ZWQgbWFwOiBMLk1hcFxuICBwcm90ZWN0ZWQgZGF0YUxpc3Q6IERhdGFMaXN0SXRlbVtdXG4gIHByb3RlY3RlZCBvcHRpb25zOiBQb2x5Z29uTGF5ZXJPcHRpb25zXG4gIHByb3RlY3RlZCBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgcHJvdGVjdGVkIHNlZ21lbnRlZE1pbjogbnVtYmVyXG4gIHByb3RlY3RlZCBzZWdtZW50ZWRTdGVwOiBudW1iZXJcbiAgcHJvdGVjdGVkIHBvbHlnb25zOiBQb2x5Z29uW11cbiAgLy8gcHJpdmF0ZSBmb2N1c2VkUG9seWdvbjogUG9seWdvblxuICBwcm90ZWN0ZWQgcG9seWdvbkxheWVyOiBMLkxheWVyR3JvdXBcblxuICBjb25zdHJ1Y3RvcihcbiAgICBtYXA6IEwuTWFwLFxuICAgIGRhdGFMaXN0OiBEYXRhTGlzdEl0ZW1bXSxcbiAgICBvcHRpb25zOiBQb2x5Z29uTGF5ZXJPcHRpb25zLFxuICAgIGNoYW5uZWxGdW5jOiBDaGFubmVsRnVuY1xuICApIHtcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9uczogUG9seWdvbkxheWVyT3B0aW9ucyA9IHtcbiAgICAgIGNvbG9yOiAnIzMzODhGRicsXG4gICAgICBmaWxsQ29sb3I6ICcjMzM4OEZGJyxcbiAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgIHJlbmRlclBvbHlnb25Db2xvclR5cGU6ICdzaW5nbGUnLFxuICAgICAgc2VnbWVudGVkQ29sb3JzOiBbJyMzMzg4RkYnXSxcbiAgICB9XG4gICAgdGhpcy50eXBlID0gJ3BvbHlnb24nXG4gICAgdGhpcy5tYXAgPSBtYXBcbiAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YUxpc3RcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gICAgdGhpcy5jaGFubmVsRnVuYyA9IGNoYW5uZWxGdW5jXG5cbiAgICB0aGlzLnZpc2libGUgPSB0cnVlXG4gICAgdGhpcy5wb2x5Z29ucyA9IFtdXG4gICAgdGhpcy5zZWdtZW50ZWRNaW4gPSBJbmZpbml0eVxuICAgIHRoaXMuc2VnbWVudGVkU3RlcCA9IDFcbiAgICAvLyB0aGlzLmZvY3VzZWRQb2x5Z29uID0gbnVsbFxuXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpXG4gIH1cbiAgcHVibGljIGRyYXcob3B0aW9ucz86IFBvbHlnb25MYXllck9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucylcbiAgICB0aGlzLmluaXRQb2x5Z29ucygpXG4gICAgcmV0dXJuIHRoaXMucmVkcmF3KClcbiAgfVxuICBwdWJsaWMgcmVkcmF3KCkge1xuICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMubGF5ZXIpIHtcbiAgICAgIHRoaXMubGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gICAgdGhpcy5sYXllciA9IHRoaXMuY29uZmlnUG9seWdvbkxheWVyKClcbiAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmxheWVyKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgcHVibGljIGZpdEJvdW5kcygpIHtcbiAgICB0aGlzLm1hcC5maXRCb3VuZHModGhpcy5nZXRCb3VuZHMoKSlcbiAgfVxuICBwdWJsaWMgZ2V0Qm91bmRzKCk6IEwuTGF0TG5nQm91bmRzRXhwcmVzc2lvbiB7XG4gICAgaWYgKHRoaXMucG9seWdvbnMubGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcC5nZXRCb3VuZHMoKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wb2x5Z29ucy5yZWR1Y2UoXG4gICAgICAocHJldiwgY3VycikgPT4gcHJldi5leHRlbmQoY3Vyci5nZXRCb3VuZHMoKSksXG4gICAgICB0aGlzLnBvbHlnb25zWzBdLmdldEJvdW5kcygpXG4gICAgKVxuICB9XG4gIHB1YmxpYyBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmxheWVyKSB7XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmxheWVyKVxuICAgIH1cbiAgfVxuICBwdWJsaWMgdG9nZ2xlVmlzaWJsZSh2aXNpYmxlOiBib29sZWFuKSB7XG4gICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZVxuICAgIGlmICghdGhpcy5sYXllcikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmxheWVyKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmxheWVyKVxuICAgIH1cbiAgfVxuICBwdWJsaWMgY2hhbmdlQ29sb3IoY29sb3I6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy5maWxsQ29sb3IgPSBjb2xvclxuICAgIHRoaXMucmVkcmF3KClcbiAgfVxuICBwdWJsaWMgcGl0Y2goaWQ6IHN0cmluZykge1xuICAgIHRoaXMucG9seWdvbnMuZm9yRWFjaCgocG9seWdvbikgPT4ge1xuICAgICAgaWYgKHBvbHlnb24uZ2V0RGF0YSgpLmlkID09PSBpZCkge1xuICAgICAgICBwb2x5Z29uLmZpcmUoJ2NsaWNrJylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBwcm90ZWN0ZWQgZ2V0VG9vbFRpcENvbnRlbnQoZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgcmV0dXJuICcnICsgZGF0YVt0aGlzLm9wdGlvbnMudG9vbHRpcEF0dHJdXG4gIH1cbiAgcHJvdGVjdGVkIGdldFBvcHVwQ29udGVudChkYXRhOiBEYXRhTGlzdEl0ZW0pIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5wb3B1cEF0dHIpIHtcbiAgICAgIHJldHVybiAnJ1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5wb3B1cEF0dHIgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5vcHRpb25zLnBvcHVwQXR0cn06ICR7ZGF0YVt0aGlzLm9wdGlvbnMucG9wdXBBdHRyXX1gXG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnBvcHVwQXR0ciA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBgJHt0aGlzLm9wdGlvbnMucG9wdXBBdHRyLmxhYmVsfTogJHtcbiAgICAgICAgZGF0YVt0aGlzLm9wdGlvbnMucG9wdXBBdHRyLnZhbHVlXVxuICAgICAgfWBcbiAgICB9XG4gIH1cbiAgcHJvdGVjdGVkIGNhY2hlU2VnbWVudFBhcmFtcygpIHtcbiAgICBjb25zdCBzZWdtZW50ZWRMZW5ndGggPSB0aGlzLm9wdGlvbnMuc2VnbWVudGVkQ29sb3JzLmxlbmd0aFxuICAgIGxldCBtYXhWYWwgPSAtSW5maW5pdHlcbiAgICBsZXQgbWluVmFsID0gSW5maW5pdHlcbiAgICBmb3IgKGNvbnN0IGRhdGEgb2YgdGhpcy5kYXRhTGlzdCkge1xuICAgICAgY29uc3QgdmFsID0gZGF0YVt0aGlzLm9wdGlvbnMuc2VnbWVudGVkQXR0cl1cbiAgICAgIG1heFZhbCA9IE1hdGgubWF4KG1heFZhbCwgdmFsKVxuICAgICAgbWluVmFsID0gTWF0aC5taW4obWluVmFsLCB2YWwpXG4gICAgfVxuICAgIGNvbnN0IHN0ZXAgPSAobWF4VmFsIC0gbWluVmFsICsgMSkgLyBzZWdtZW50ZWRMZW5ndGhcbiAgICB0aGlzLnNlZ21lbnRlZE1pbiA9IG1pblZhbFxuICAgIHRoaXMuc2VnbWVudGVkU3RlcCA9IHN0ZXBcbiAgfVxuICBwcm90ZWN0ZWQgZ2V0U2VnbWVudGVkUG9seWdvbkNvbG9yKGRhdGE6IERhdGFMaXN0SXRlbSk6IHN0cmluZyB7XG4gICAgY29uc3QgdmFsID0gZGF0YVt0aGlzLm9wdGlvbnMuc2VnbWVudGVkQXR0cl1cbiAgICBjb25zdCBjb2xvciA9IHRoaXMub3B0aW9ucy5zZWdtZW50ZWRDb2xvcnNbXG4gICAgICBwYXJzZUludCgnJyArICh2YWwgLSB0aGlzLnNlZ21lbnRlZE1pbikgLyB0aGlzLnNlZ21lbnRlZFN0ZXAsIDEwKVxuICAgIF1cbiAgICByZXR1cm4gY29sb3JcbiAgfVxuICBwcm90ZWN0ZWQgcG9seWdvbkNsaWNrSGFuZGxlcihwb2x5Z29uOiBQb2x5Z29uKSB7XG4gICAgLy8gdGhpcy5mb2N1c2VkUG9seWdvbiA9IHBvbHlnb25cbiAgICB0aGlzLmNoYW5uZWxGdW5jKCdvbi1jbGljay1wb2x5Z29uJywgcG9seWdvbilcbiAgfVxuICBwcm90ZWN0ZWQgaW5pdFBvbHlnb25zKCkge1xuICAgIC8vIOe8k+WtmCBzZWdtZW50IOebuOWFs+aVsOaNrlxuICAgIHRoaXMuY2FjaGVTZWdtZW50UGFyYW1zKClcbiAgICB0aGlzLnBvbHlnb25zID0gW11cbiAgICB0aGlzLmRhdGFMaXN0LmZvckVhY2goKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IGxheWVyID0gTC5nZW9KU09OKGRhdGEuZ2VvbWV0cnkpLmdldExheWVycygpWzBdXG4gICAgICBjb25zdCBwb2x5Z29uID0gbmV3IFBvbHlnb24oKGxheWVyIGFzIEwuUG9seWdvbikuZ2V0TGF0TG5ncygpKVxuXG4gICAgICAvLyDlsIbnm7jlhbPlgLznu5HlrprliLAgbWFya2Vy5LiKXG4gICAgICBwb2x5Z29uLnNldERhdGEoZGF0YSlcblxuICAgICAgdGhpcy5wb2x5Z29ucy5wdXNoKHBvbHlnb24pXG4gICAgfSlcbiAgfVxuICBwcml2YXRlIGNvbmZpZ1BvbHlnb25MYXllcigpIHtcbiAgICB0aGlzLnBvbHlnb25MYXllciA9IEwubGF5ZXJHcm91cCgpXG4gICAgdGhpcy5wb2x5Z29ucy5mb3JFYWNoKChwb2x5Z29uKSA9PiB7XG4gICAgICBsZXQgY29sb3IgPSB0aGlzLm9wdGlvbnMuY29sb3JcbiAgICAgIGxldCBmaWxsQ29sb3IgPSB0aGlzLm9wdGlvbnMuZmlsbENvbG9yXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJlbmRlclBvbHlnb25Db2xvclR5cGUgPT09ICdzZWdtZW50ZWQnKSB7XG4gICAgICAgIGNvbG9yID0gdGhpcy5nZXRTZWdtZW50ZWRQb2x5Z29uQ29sb3IocG9seWdvbi5nZXREYXRhKCkpXG4gICAgICAgIGZpbGxDb2xvciA9IGNvbG9yXG4gICAgICB9XG4gICAgICBjb25zdCBvcHRpb25zOiBMLlBvbHlsaW5lT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucywge1xuICAgICAgICBjb2xvcixcbiAgICAgICAgZmlsbENvbG9yLFxuICAgICAgfSlcbiAgICAgIC8vIOmHjeaWsOW6lOeUqCBvcHRpb25zXG4gICAgICBjb25zdCBuZXdQb2x5Z29uID0gbmV3IFBvbHlnb24ocG9seWdvbi5nZXRMYXRMbmdzKCksIG9wdGlvbnMpXG4gICAgICBuZXdQb2x5Z29uLnNldERhdGEocG9seWdvbi5nZXREYXRhKCkpXG4gICAgICBuZXdQb2x5Z29uLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5wb2x5Z29uQ2xpY2tIYW5kbGVyKHBvbHlnb24pXG4gICAgICB9KVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy50b29sdGlwQXR0cikge1xuICAgICAgICBuZXdQb2x5Z29uLmJpbmRUb29sdGlwKHRoaXMuZ2V0VG9vbFRpcENvbnRlbnQobmV3UG9seWdvbi5nZXREYXRhKCkpKVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wb3B1cEF0dHIpIHtcbiAgICAgICAgbmV3UG9seWdvbi5iaW5kUG9wdXAodGhpcy5nZXRQb3B1cENvbnRlbnQobmV3UG9seWdvbi5nZXREYXRhKCkpKVxuICAgICAgfVxuXG4gICAgICB0aGlzLnBvbHlnb25MYXllci5hZGRMYXllcihuZXdQb2x5Z29uKVxuICAgIH0pXG4gICAgcmV0dXJuIHRoaXMucG9seWdvbkxheWVyXG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFMaXN0SXRlbSwgQ2hhbm5lbEZ1bmMgfSBmcm9tICcuLi9kZWZpbml0aW9ucydcbmltcG9ydCBNYXJrZXJzTGF5ZXIsIHtcbiAgTWFya2Vyc0xheWVyT3B0aW9ucyxcbiAgTWFya2Vyc0hlYXRMYXllck9wdGlvbnMsXG59IGZyb20gJy4uL21hcmtlci9NYXJrZXJzTGF5ZXInXG5cbmludGVyZmFjZSBEeW5hbWljSGVhdExheWVyT3B0aW9ucyBleHRlbmRzIE1hcmtlcnNIZWF0TGF5ZXJPcHRpb25zIHtcbiAgLyoqIOaYr+WQpuW+queOr+aSreaUviAqL1xuICBsb29wOiBib29sZWFuXG4gIC8qKiDmmK/lkKboh6rliqjmkq3mlL4gKi9cbiAgYXV0bzogYm9vbGVhblxuICAvKiog6Ze06ZqU5pe26Ze0ICovXG4gIGludGVydmFsOiBudW1iZXJcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHluYW1pY0hlYXRMYXllciB7XG4gIC8qKiDlvZPliY3mkq3mlL7liLDnrKzlh6DmraUgKi9cbiAgcHJpdmF0ZSBjdXJyZW50U3RlcDogbnVtYmVyXG5cbiAgcHJpdmF0ZSBtYXA6IEwuTWFwXG4gIHByaXZhdGUgZHluYW1pY0RhdGFMaXN0OiBEYXRhTGlzdEl0ZW1bXVtdXG4gIHByaXZhdGUgb3B0aW9uczogRHluYW1pY0hlYXRMYXllck9wdGlvbnNcbiAgcHJpdmF0ZSBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgcHJpdmF0ZSBsYXllcjogTWFya2Vyc0xheWVyXG4gIHByaXZhdGUgaXNQYXVzZTogYm9vbGVhblxuICBjb25zdHJ1Y3RvcihcbiAgICBtYXA6IEwuTWFwLFxuICAgIGR5bmFtaWNEYXRhTGlzdDogRGF0YUxpc3RJdGVtW11bXSxcbiAgICBvcHRpb25zOiBEeW5hbWljSGVhdExheWVyT3B0aW9ucyxcbiAgICBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgKSB7XG4gICAgdGhpcy5tYXAgPSBtYXBcbiAgICB0aGlzLmR5bmFtaWNEYXRhTGlzdCA9IGR5bmFtaWNEYXRhTGlzdFxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLmNoYW5uZWxGdW5jID0gY2hhbm5lbEZ1bmNcbiAgICB0aGlzLmN1cnJlbnRTdGVwID0gMFxuICAgIHRoaXMuaXNQYXVzZSA9IHRydWVcbiAgfVxuICBwdWJsaWMgcmVzdGFydCgpIHtcbiAgICB0aGlzLmlzUGF1c2UgPSBmYWxzZVxuICAgIHRoaXMuY3VycmVudFN0ZXAgPSAwXG4gICAgdGhpcy5nb3RvU3RlcCh0aGlzLmN1cnJlbnRTdGVwKVxuICAgIHRoaXMuc3RhcnQoKVxuICB9XG4gIHB1YmxpYyBzdGFydCgpIHtcbiAgICB0aGlzLmlzUGF1c2UgPSBmYWxzZVxuICAgIGlmICghdGhpcy5vcHRpb25zLmF1dG8pIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzUGF1c2UpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvKiog5pKt5pS+5a6M5q+VICovXG4gICAgICBpZiAodGhpcy5jdXJyZW50U3RlcCA+PSB0aGlzLmR5bmFtaWNEYXRhTGlzdC5sZW5ndGggLSAxKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmxvb3ApIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc3RhcnQoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcCsrXG4gICAgICAgIHRoaXMuZ290b1N0ZXAodGhpcy5jdXJyZW50U3RlcClcbiAgICAgICAgdGhpcy5zdGFydCgpXG4gICAgICB9XG4gICAgfSwgdGhpcy5vcHRpb25zLmludGVydmFsKVxuICB9XG4gIHB1YmxpYyBwYXVzZSgpIHtcbiAgICB0aGlzLmlzUGF1c2UgPSB0cnVlXG4gIH1cbiAgcHVibGljIHByZXYoKSB7XG4gICAgdGhpcy5jdXJyZW50U3RlcC0tXG4gICAgdGhpcy5jdXJyZW50U3RlcCA9XG4gICAgICAodGhpcy5jdXJyZW50U3RlcCArIHRoaXMuZHluYW1pY0RhdGFMaXN0Lmxlbmd0aCkgJVxuICAgICAgdGhpcy5keW5hbWljRGF0YUxpc3QubGVuZ3RoXG4gICAgdGhpcy5nb3RvU3RlcCh0aGlzLmN1cnJlbnRTdGVwKVxuICB9XG4gIHB1YmxpYyBuZXh0KCkge1xuICAgIHRoaXMuY3VycmVudFN0ZXArK1xuICAgIHRoaXMuY3VycmVudFN0ZXAgPSB0aGlzLmN1cnJlbnRTdGVwICUgdGhpcy5keW5hbWljRGF0YUxpc3QubGVuZ3RoXG4gICAgdGhpcy5nb3RvU3RlcCh0aGlzLmN1cnJlbnRTdGVwKVxuICB9XG4gIHB1YmxpYyBnb3RvU3RlcChzdGVwOiBudW1iZXIpIHtcbiAgICBpZiAoc3RlcCA8IDAgfHwgc3RlcCA+PSB0aGlzLmR5bmFtaWNEYXRhTGlzdC5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgZ290b1N0ZXAoJHtzdGVwfSk6IHN0ZXAgaXMgb3V0IG9mIGluZGV4IGApXG4gICAgfVxuICAgIHRoaXMubGF5ZXIuc2V0RGF0YSh0aGlzLmR5bmFtaWNEYXRhTGlzdFtzdGVwXSlcbiAgICB0aGlzLmxheWVyLmRyYXcoKVxuICB9XG4gIHB1YmxpYyBkcmF3KG9wdGlvbnM/OiBEeW5hbWljSGVhdExheWVyT3B0aW9ucykge1xuICAgIHRoaXMuaW5pdE9wdGlvbnMob3B0aW9ucylcbiAgICB0aGlzLmluaXRMYXllcigpXG4gICAgdGhpcy5sYXllci5kcmF3KClcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIHByaXZhdGUgaW5pdE9wdGlvbnMob3B0aW9ucz86IER5bmFtaWNIZWF0TGF5ZXJPcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgIGF1dG86IGZhbHNlLFxuICAgICAgICBpbnRlcnZhbDogMTAwMCxcbiAgICAgIH0sXG4gICAgICB0aGlzLm9wdGlvbnMsXG4gICAgICBvcHRpb25zXG4gICAgKVxuICB9XG4gIHByaXZhdGUgaW5pdExheWVyKCkge1xuICAgIGNvbnN0IG1hcmtlcnNMYXllck9wdGlvbnM6IE1hcmtlcnNMYXllck9wdGlvbnMgPSB7XG4gICAgICByZW5kZXJUeXBlOiAnaGVhdCcsXG4gICAgICBoZWF0T3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgIH1cbiAgICB0aGlzLmxheWVyID0gbmV3IE1hcmtlcnNMYXllcihcbiAgICAgIHRoaXMubWFwLFxuICAgICAgdGhpcy5keW5hbWljRGF0YUxpc3RbMF0sXG4gICAgICBtYXJrZXJzTGF5ZXJPcHRpb25zLFxuICAgICAgdGhpcy5jaGFubmVsRnVuY1xuICAgIClcbiAgICByZXR1cm4gdGhpcy5sYXllclxuICB9XG59XG4iLCJpbXBvcnQgTWFya2VyIGZyb20gJy4vbWFya2VyL01hcmtlcidcbmltcG9ydCBNYXJrZXJzTGF5ZXIgZnJvbSAnLi9tYXJrZXIvTWFya2Vyc0xheWVyJ1xuaW1wb3J0IE1hcmtlcnNCdWZmZXJMYXllciBmcm9tICcuL21hcmtlci9NYXJrZXJzQnVmZmVyTGF5ZXInXG5pbXBvcnQgUG9seWxpbmUgZnJvbSAnLi9wb2x5bGluZS9Qb2x5bGluZSdcbmltcG9ydCBQb2x5bGluZXNMYXllciBmcm9tICcuL3BvbHlsaW5lL1BvbHlsaW5lc0xheWVyJ1xuaW1wb3J0IFBvbHlsaW5lc0J1ZmZlckxheWVyIGZyb20gJy4vcG9seWxpbmUvUG9seWxpbmVzQnVmZmVyTGF5ZXInXG5pbXBvcnQgUG9seWdvbiBmcm9tICcuL3BvbHlnb24vUG9seWdvbidcbmltcG9ydCBQb2x5Z29uc0xheWVyIGZyb20gJy4vcG9seWdvbi9Qb2x5Z29uc0xheWVyJ1xuaW1wb3J0IER5bmFtaWNIZWF0TGF5ZXIgZnJvbSAnLi9keW5hbWljSGVhdExheWVyL0R5bmFtaWNIZWF0TGF5ZXInXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgTWFya2VyLFxuICBNYXJrZXJzTGF5ZXIsXG4gIE1hcmtlcnNCdWZmZXJMYXllcixcbiAgUG9seWxpbmUsXG4gIFBvbHlsaW5lc0xheWVyLFxuICBQb2x5bGluZXNCdWZmZXJMYXllcixcbiAgUG9seWdvbixcbiAgUG9seWdvbnNMYXllcixcbiAgRHluYW1pY0hlYXRMYXllcixcbn1cbmV4cG9ydCB7XG4gIE1hcmtlcixcbiAgTWFya2Vyc0xheWVyLFxuICBNYXJrZXJzQnVmZmVyTGF5ZXIsXG4gIFBvbHlsaW5lLFxuICBQb2x5bGluZXNMYXllcixcbiAgUG9seWxpbmVzQnVmZmVyTGF5ZXIsXG4gIFBvbHlnb24sXG4gIFBvbHlnb25zTGF5ZXIsXG4gIER5bmFtaWNIZWF0TGF5ZXIsXG59XG4iXSwic291cmNlUm9vdCI6IiJ9