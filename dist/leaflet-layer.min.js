!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.leafletMap=e():t.leafletMap=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=49)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(6),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var o=n(3);o.inherits=n(2);var s=n(21),a=n(11);o.inherits(h,s);for(var u=i(a.prototype),l=0;l<u.length;l++){var c=u[l];h.prototype[c]||(h.prototype[c]=a.prototype[c])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(4).Buffer)},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(33),i=n(34),o=n(20);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(r)return z(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function v(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function b(t,e,n,r){return W(z(e,t.length-n),t,n,r)}function _(t,e,n,r){return W(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return _(t,e,n,r)}function E(t,e,n,r){return W(U(e),t,n,r)}function T(t,e,n,r){return W(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function L(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,l=t[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=x));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?L(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return L(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,s=n-e,a=Math.min(o,s),l=this.slice(r,i),c=t.slice(e,n),h=0;h<a;++h)if(l[h]!==c[h]){o=l[h],s=c[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function A(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=j(t[o]);return i}function k(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function I(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,o){return o||I(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function D(t,e,n,r,o){return o||I(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return D(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return D(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:z(new u(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(0))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&p())}function p(){if(!c){var t=a(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,n(5))},function(t,e,n){var r=n(4),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){var r=n(19),i=n(47),o=n(25),s=n(48);t.exports={xml2js:r,xml2json:i,js2xml:o,json2xml:s}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,s,a,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),s=(l=n.slice()).length,u=0;u<s;u++)l[u].apply(this,a);return!0},n.prototype.addListener=function(t,e){var s;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},n.prototype.removeListener=function(t,e){var n,o,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(n=this._events[t]).length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){(e=t.exports=n(21)).Stream=e,e.Readable=e,e.Writable=n(11),e.Duplex=n(1),e.Transform=n(24),e.PassThrough=n(42)},function(t,e,n){"use strict";(function(e,r,i){var o=n(6);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=v;var a,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;v.WritableState=m;var l=n(3);l.inherits=n(2);var c={deprecate:n(41)},h=n(22),f=n(7).Buffer,p=i.Uint8Array||function(){};var d,g=n(23);function y(){}function m(t,e){a=a||n(1),t=t||{};var r=e instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,l=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(S,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),S(t,e))}(t,n,r,e,i);else{var s=E(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?u(_,t,n,s,i):_(t,n,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function v(t){if(a=a||n(1),!(d.call(v,this)||this instanceof a))return new v(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function b(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function _(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),S(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)i[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;i.allBuffers=u,b(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,h=n.callback;if(b(t,e,!1,e.objectMode?1:l.length,l,c,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function E(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function T(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),S(t,e)})}function S(t,e){var n=E(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(T,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}l.inherits(v,h),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===v&&(t&&t._writableState instanceof m)}})):d=function(t){return t instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(t,e,n){var r=this._writableState,i=!1,s=!r.objectMode&&function(t){return f.isBuffer(t)||t instanceof p}(t);return s&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=y),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(r,s),i=!1),i}(this,r,t,n))&&(r.pendingcb++,i=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,n));return e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,a,r,i,o);return u}(this,r,s,t,e,n)),i},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},v.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,S(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(5),n(39).setImmediate,n(0))},function(t,e,n){"use strict";var r=n(7).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=c,this.end=h,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){var r=n(14).isArray;t.exports={copyOptions:function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},ensureFlagExists:function(t,e){t in e&&"boolean"==typeof e[t]||(e[t]=!1)},ensureSpacesExists:function(t){"spaces"in t&&("number"==typeof t.spaces||"string"==typeof t.spaces)||(t.spaces=0)},ensureAlwaysArrayExists:function(t){"alwaysArray"in t&&("boolean"==typeof t.alwaysArray||r(t.alwaysArray))||(t.alwaysArray=!1)},ensureKeyExists:function(t,e){t+"Key"in e&&"string"==typeof e[t+"Key"]||(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}}},function(t,e){t.exports={isArray:function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}}},function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,p=2,d=4,g=1,y=2,m=1,v=2,b=4,_=8,w=16,E=32,T=64,S=128,L=256,x=512,C=30,P="...",A=800,k=16,R=1,M=2,O=1/0,F=9007199254740991,I=1.7976931348623157e308,N=NaN,D=4294967295,B=D-1,j=D>>>1,z=[["ary",S],["bind",m],["bindKey",v],["curry",_],["curryRight",w],["flip",x],["partial",E],["partialRight",T],["rearg",L]],U="[object Arguments]",W="[object Array]",K="[object AsyncFunction]",$="[object Boolean]",G="[object Date]",q="[object DOMException]",Y="[object Error]",V="[object Function]",H="[object GeneratorFunction]",X="[object Map]",J="[object Number]",Q="[object Null]",Z="[object Object]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",rt="[object String]",it="[object Symbol]",ot="[object Undefined]",st="[object WeakMap]",at="[object WeakSet]",ut="[object ArrayBuffer]",lt="[object DataView]",ct="[object Float32Array]",ht="[object Float64Array]",ft="[object Int8Array]",pt="[object Int16Array]",dt="[object Int32Array]",gt="[object Uint8Array]",yt="[object Uint8ClampedArray]",mt="[object Uint16Array]",vt="[object Uint32Array]",bt=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Et=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,St=RegExp(Et.source),Lt=RegExp(Tt.source),xt=/<%-([\s\S]+?)%>/g,Ct=/<%([\s\S]+?)%>/g,Pt=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kt=/^\w*$/,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mt=/[\\^$.*+?()[\]{}|]/g,Ot=RegExp(Mt.source),Ft=/^\s+|\s+$/g,It=/^\s+/,Nt=/\s+$/,Dt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bt=/\{\n\/\* \[wrapped with (.+)\] \*/,jt=/,? & /,zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kt=/\w*$/,$t=/^[-+]0x[0-9a-f]+$/i,Gt=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,Yt=/^0o[0-7]+$/i,Vt=/^(?:0|[1-9]\d*)$/,Ht=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,Jt=/['\n\r\u2028\u2029\\]/g,Qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Zt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Zt+"]",ne="["+Qt+"]",re="\\d+",ie="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",se="[^\\ud800-\\udfff"+Zt+re+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ae="\\ud83c[\\udffb-\\udfff]",ue="[^\\ud800-\\udfff]",le="(?:\\ud83c[\\udde6-\\uddff]){2}",ce="[\\ud800-\\udbff][\\udc00-\\udfff]",he="[A-Z\\xc0-\\xd6\\xd8-\\xde]",fe="(?:"+oe+"|"+se+")",pe="(?:"+he+"|"+se+")",de="(?:"+ne+"|"+ae+")"+"?",ge="[\\ufe0e\\ufe0f]?"+de+("(?:\\u200d(?:"+[ue,le,ce].join("|")+")[\\ufe0e\\ufe0f]?"+de+")*"),ye="(?:"+[ie,le,ce].join("|")+")"+ge,me="(?:"+[ue+ne+"?",ne,le,ce,te].join("|")+")",ve=RegExp("['’]","g"),be=RegExp(ne,"g"),_e=RegExp(ae+"(?="+ae+")|"+me+ge,"g"),we=RegExp([he+"?"+oe+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ee,he,"$"].join("|")+")",pe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ee,he+fe,"$"].join("|")+")",he+"?"+fe+"+(?:['’](?:d|ll|m|re|s|t|ve))?",he+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",re,ye].join("|"),"g"),Ee=RegExp("[\\u200d\\ud800-\\udfff"+Qt+"\\ufe0e\\ufe0f]"),Te=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Le=-1,xe={};xe[ct]=xe[ht]=xe[ft]=xe[pt]=xe[dt]=xe[gt]=xe[yt]=xe[mt]=xe[vt]=!0,xe[U]=xe[W]=xe[ut]=xe[$]=xe[lt]=xe[G]=xe[Y]=xe[V]=xe[X]=xe[J]=xe[Z]=xe[et]=xe[nt]=xe[rt]=xe[st]=!1;var Ce={};Ce[U]=Ce[W]=Ce[ut]=Ce[lt]=Ce[$]=Ce[G]=Ce[ct]=Ce[ht]=Ce[ft]=Ce[pt]=Ce[dt]=Ce[X]=Ce[J]=Ce[Z]=Ce[et]=Ce[nt]=Ce[rt]=Ce[it]=Ce[gt]=Ce[yt]=Ce[mt]=Ce[vt]=!0,Ce[Y]=Ce[V]=Ce[st]=!1;var Pe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ae=parseFloat,ke=parseInt,Re="object"==typeof t&&t&&t.Object===Object&&t,Me="object"==typeof self&&self&&self.Object===Object&&self,Oe=Re||Me||Function("return this")(),Fe="object"==typeof e&&e&&!e.nodeType&&e,Ie=Fe&&"object"==typeof r&&r&&!r.nodeType&&r,Ne=Ie&&Ie.exports===Fe,De=Ne&&Re.process,Be=function(){try{var t=Ie&&Ie.require&&Ie.require("util").types;return t||De&&De.binding&&De.binding("util")}catch(t){}}(),je=Be&&Be.isArrayBuffer,ze=Be&&Be.isDate,Ue=Be&&Be.isMap,We=Be&&Be.isRegExp,Ke=Be&&Be.isSet,$e=Be&&Be.isTypedArray;function Ge(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function qe(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function Ye(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ve(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function He(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Xe(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Je(t,e){return!!(null==t?0:t.length)&&un(t,e,0)>-1}function Qe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Ze(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function tn(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function en(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function nn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function rn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var on=fn("length");function sn(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function an(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function un(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):an(t,cn,n)}function ln(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function cn(t){return t!=t}function hn(t,e){var n=null==t?0:t.length;return n?gn(t,e)/n:N}function fn(t){return function(e){return null==e?o:e[t]}}function pn(t){return function(e){return null==t?o:t[e]}}function dn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function gn(t,e){for(var n,r=-1,i=t.length;++r<i;){var s=e(t[r]);s!==o&&(n=n===o?s:n+s)}return n}function yn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function mn(t){return function(e){return t(e)}}function vn(t,e){return Ze(e,function(e){return t[e]})}function bn(t,e){return t.has(e)}function _n(t,e){for(var n=-1,r=t.length;++n<r&&un(e,t[n],0)>-1;);return n}function wn(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var En=pn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Tn=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sn(t){return"\\"+Pe[t]}function Ln(t){return Ee.test(t)}function xn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Cn(t,e){return function(n){return t(e(n))}}function Pn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==h||(t[n]=h,o[i++]=n)}return o}function An(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function kn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Rn(t){return Ln(t)?function(t){var e=_e.lastIndex=0;for(;_e.test(t);)++e;return e}(t):on(t)}function Mn(t){return Ln(t)?function(t){return t.match(_e)||[]}(t):function(t){return t.split("")}(t)}var On=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Fn=function t(e){var n=(e=null==e?Oe:Fn.defaults(Oe.Object(),e,Fn.pick(Oe,Se))).Array,r=e.Date,i=e.Error,Qt=e.Function,Zt=e.Math,te=e.Object,ee=e.RegExp,ne=e.String,re=e.TypeError,ie=n.prototype,oe=Qt.prototype,se=te.prototype,ae=e["__core-js_shared__"],ue=oe.toString,le=se.hasOwnProperty,ce=0,he=function(){var t=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),fe=se.toString,pe=ue.call(te),de=Oe._,ge=ee("^"+ue.call(le).replace(Mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=Ne?e.Buffer:o,me=e.Symbol,_e=e.Uint8Array,Ee=ye?ye.allocUnsafe:o,Pe=Cn(te.getPrototypeOf,te),Re=te.create,Me=se.propertyIsEnumerable,Fe=ie.splice,Ie=me?me.isConcatSpreadable:o,De=me?me.iterator:o,Be=me?me.toStringTag:o,on=function(){try{var t=Bo(te,"defineProperty");return t({},"",{}),t}catch(t){}}(),pn=e.clearTimeout!==Oe.clearTimeout&&e.clearTimeout,In=r&&r.now!==Oe.Date.now&&r.now,Nn=e.setTimeout!==Oe.setTimeout&&e.setTimeout,Dn=Zt.ceil,Bn=Zt.floor,jn=te.getOwnPropertySymbols,zn=ye?ye.isBuffer:o,Un=e.isFinite,Wn=ie.join,Kn=Cn(te.keys,te),$n=Zt.max,Gn=Zt.min,qn=r.now,Yn=e.parseInt,Vn=Zt.random,Hn=ie.reverse,Xn=Bo(e,"DataView"),Jn=Bo(e,"Map"),Qn=Bo(e,"Promise"),Zn=Bo(e,"Set"),tr=Bo(e,"WeakMap"),er=Bo(te,"create"),nr=tr&&new tr,rr={},ir=cs(Xn),or=cs(Jn),sr=cs(Qn),ar=cs(Zn),ur=cs(tr),lr=me?me.prototype:o,cr=lr?lr.valueOf:o,hr=lr?lr.toString:o;function fr(t){if(Ca(t)&&!ya(t)&&!(t instanceof yr)){if(t instanceof gr)return t;if(le.call(t,"__wrapped__"))return hs(t)}return new gr(t)}var pr=function(){function t(){}return function(e){if(!xa(e))return{};if(Re)return Re(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function dr(){}function gr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function yr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function mr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function vr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new br;++e<n;)this.add(t[e])}function wr(t){var e=this.__data__=new vr(t);this.size=e.size}function Er(t,e){var n=ya(t),r=!n&&ga(t),i=!n&&!r&&_a(t),o=!n&&!r&&!i&&Ia(t),s=n||r||i||o,a=s?yn(t.length,ne):[],u=a.length;for(var l in t)!e&&!le.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Go(l,u))||a.push(l);return a}function Tr(t){var e=t.length;return e?t[_i(0,e-1)]:o}function Sr(t,e){return as(eo(t),Or(e,0,t.length))}function Lr(t){return as(eo(t))}function xr(t,e,n){(n===o||fa(t[e],n))&&(n!==o||e in t)||Rr(t,e,n)}function Cr(t,e,n){var r=t[e];le.call(t,e)&&fa(r,n)&&(n!==o||e in t)||Rr(t,e,n)}function Pr(t,e){for(var n=t.length;n--;)if(fa(t[n][0],e))return n;return-1}function Ar(t,e,n,r){return Br(t,function(t,i,o){e(r,t,n(t),o)}),r}function kr(t,e){return t&&no(e,ru(e),t)}function Rr(t,e,n){"__proto__"==e&&on?on(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Mr(t,e){for(var r=-1,i=e.length,s=n(i),a=null==t;++r<i;)s[r]=a?o:Qa(t,e[r]);return s}function Or(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function Fr(t,e,n,r,i,s){var a,u=e&f,l=e&p,c=e&d;if(n&&(a=i?n(t,r,i,s):n(t)),a!==o)return a;if(!xa(t))return t;var h=ya(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&le.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return eo(t,a)}else{var g=Uo(t),y=g==V||g==H;if(_a(t))return Hi(t,u);if(g==Z||g==U||y&&!i){if(a=l||y?{}:Ko(t),!u)return l?function(t,e){return no(t,zo(t),e)}(t,function(t,e){return t&&no(e,iu(e),t)}(a,t)):function(t,e){return no(t,jo(t),e)}(t,kr(a,t))}else{if(!Ce[g])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case ut:return Xi(t);case $:case G:return new r(+t);case lt:return function(t,e){var n=e?Xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case ct:case ht:case ft:case pt:case dt:case gt:case yt:case mt:case vt:return Ji(t,n);case X:return new r;case J:case rt:return new r(t);case et:return function(t){var e=new t.constructor(t.source,Kt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case nt:return new r;case it:return function(t){return cr?te(cr.call(t)):{}}(t)}}(t,g,u)}}s||(s=new wr);var m=s.get(t);if(m)return m;if(s.set(t,a),Ma(t))return t.forEach(function(r){a.add(Fr(r,e,n,r,t,s))}),a;if(Pa(t))return t.forEach(function(r,i){a.set(i,Fr(r,e,n,i,t,s))}),a;var v=h?o:(c?l?Ro:ko:l?iu:ru)(t);return Ye(v||t,function(r,i){v&&(r=t[i=r]),Cr(a,i,Fr(r,e,n,i,t,s))}),a}function Ir(t,e,n){var r=n.length;if(null==t)return!r;for(t=te(t);r--;){var i=n[r],s=e[i],a=t[i];if(a===o&&!(i in t)||!s(a))return!1}return!0}function Nr(t,e,n){if("function"!=typeof t)throw new re(u);return rs(function(){t.apply(o,n)},e)}function Dr(t,e,n,r){var i=-1,o=Je,a=!0,u=t.length,l=[],c=e.length;if(!u)return l;n&&(e=Ze(e,mn(n))),r?(o=Qe,a=!1):e.length>=s&&(o=bn,a=!1,e=new _r(e));t:for(;++i<u;){var h=t[i],f=null==n?h:n(h);if(h=r||0!==h?h:0,a&&f==f){for(var p=c;p--;)if(e[p]===f)continue t;l.push(h)}else o(e,f,r)||l.push(h)}return l}fr.templateSettings={escape:xt,evaluate:Ct,interpolate:Pt,variable:"",imports:{_:fr}},fr.prototype=dr.prototype,fr.prototype.constructor=fr,gr.prototype=pr(dr.prototype),gr.prototype.constructor=gr,yr.prototype=pr(dr.prototype),yr.prototype.constructor=yr,mr.prototype.clear=function(){this.__data__=er?er(null):{},this.size=0},mr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},mr.prototype.get=function(t){var e=this.__data__;if(er){var n=e[t];return n===l?o:n}return le.call(e,t)?e[t]:o},mr.prototype.has=function(t){var e=this.__data__;return er?e[t]!==o:le.call(e,t)},mr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=er&&e===o?l:e,this},vr.prototype.clear=function(){this.__data__=[],this.size=0},vr.prototype.delete=function(t){var e=this.__data__,n=Pr(e,t);return!(n<0||(n==e.length-1?e.pop():Fe.call(e,n,1),--this.size,0))},vr.prototype.get=function(t){var e=this.__data__,n=Pr(e,t);return n<0?o:e[n][1]},vr.prototype.has=function(t){return Pr(this.__data__,t)>-1},vr.prototype.set=function(t,e){var n=this.__data__,r=Pr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},br.prototype.clear=function(){this.size=0,this.__data__={hash:new mr,map:new(Jn||vr),string:new mr}},br.prototype.delete=function(t){var e=No(this,t).delete(t);return this.size-=e?1:0,e},br.prototype.get=function(t){return No(this,t).get(t)},br.prototype.has=function(t){return No(this,t).has(t)},br.prototype.set=function(t,e){var n=No(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},_r.prototype.add=_r.prototype.push=function(t){return this.__data__.set(t,l),this},_r.prototype.has=function(t){return this.__data__.has(t)},wr.prototype.clear=function(){this.__data__=new vr,this.size=0},wr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},wr.prototype.get=function(t){return this.__data__.get(t)},wr.prototype.has=function(t){return this.__data__.has(t)},wr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof vr){var r=n.__data__;if(!Jn||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new br(r)}return n.set(t,e),this.size=n.size,this};var Br=oo(qr),jr=oo(Yr,!0);function zr(t,e){var n=!0;return Br(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Ur(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(null!=a&&(u===o?a==a&&!Fa(a):n(a,u)))var u=a,l=s}return l}function Wr(t,e){var n=[];return Br(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Kr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=$o),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Kr(a,e-1,n,r,i):tn(i,a):r||(i[i.length]=a)}return i}var $r=so(),Gr=so(!0);function qr(t,e){return t&&$r(t,e,ru)}function Yr(t,e){return t&&Gr(t,e,ru)}function Vr(t,e){return Xe(e,function(e){return Ta(t[e])})}function Hr(t,e){for(var n=0,r=(e=Gi(e,t)).length;null!=t&&n<r;)t=t[ls(e[n++])];return n&&n==r?t:o}function Xr(t,e,n){var r=e(t);return ya(t)?r:tn(r,n(t))}function Jr(t){return null==t?t===o?ot:Q:Be&&Be in te(t)?function(t){var e=le.call(t,Be),n=t[Be];try{t[Be]=o;var r=!0}catch(t){}var i=fe.call(t);return r&&(e?t[Be]=n:delete t[Be]),i}(t):function(t){return fe.call(t)}(t)}function Qr(t,e){return t>e}function Zr(t,e){return null!=t&&le.call(t,e)}function ti(t,e){return null!=t&&e in te(t)}function ei(t,e,r){for(var i=r?Qe:Je,s=t[0].length,a=t.length,u=a,l=n(a),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Ze(f,mn(e))),c=Gn(f.length,c),l[u]=!r&&(e||s>=120&&f.length>=120)?new _r(u&&f):o}f=t[0];var p=-1,d=l[0];t:for(;++p<s&&h.length<c;){var g=f[p],y=e?e(g):g;if(g=r||0!==g?g:0,!(d?bn(d,y):i(h,y,r))){for(u=a;--u;){var m=l[u];if(!(m?bn(m,y):i(t[u],y,r)))continue t}d&&d.push(y),h.push(g)}}return h}function ni(t,e,n){var r=null==(t=ts(t,e=Gi(e,t)))?t:t[ls(Es(e))];return null==r?o:Ge(r,t,n)}function ri(t){return Ca(t)&&Jr(t)==U}function ii(t,e,n,r,i){return t===e||(null==t||null==e||!Ca(t)&&!Ca(e)?t!=t&&e!=e:function(t,e,n,r,i,s){var a=ya(t),u=ya(e),l=a?W:Uo(t),c=u?W:Uo(e),h=(l=l==U?Z:l)==Z,f=(c=c==U?Z:c)==Z,p=l==c;if(p&&_a(t)){if(!_a(e))return!1;a=!0,h=!1}if(p&&!h)return s||(s=new wr),a||Ia(t)?Po(t,e,n,r,i,s):function(t,e,n,r,i,o,s){switch(n){case lt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new _e(t),new _e(e)));case $:case G:case J:return fa(+t,+e);case Y:return t.name==e.name&&t.message==e.message;case et:case rt:return t==e+"";case X:var a=xn;case nt:var u=r&g;if(a||(a=An),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;r|=y,s.set(t,e);var c=Po(a(t),a(e),r,i,o,s);return s.delete(t),c;case it:if(cr)return cr.call(t)==cr.call(e)}return!1}(t,e,l,n,r,i,s);if(!(n&g)){var d=h&&le.call(t,"__wrapped__"),m=f&&le.call(e,"__wrapped__");if(d||m){var v=d?t.value():t,b=m?e.value():e;return s||(s=new wr),i(v,b,n,r,s)}}return!!p&&(s||(s=new wr),function(t,e,n,r,i,s){var a=n&g,u=ko(t),l=u.length,c=ko(e).length;if(l!=c&&!a)return!1;for(var h=l;h--;){var f=u[h];if(!(a?f in e:le.call(e,f)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var d=!0;s.set(t,e),s.set(e,t);for(var y=a;++h<l;){f=u[h];var m=t[f],v=e[f];if(r)var b=a?r(v,m,f,e,t,s):r(m,v,f,t,e,s);if(!(b===o?m===v||i(m,v,n,r,s):b)){d=!1;break}y||(y="constructor"==f)}if(d&&!y){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(d=!1)}return s.delete(t),s.delete(e),d}(t,e,n,r,i,s))}(t,e,n,r,ii,i))}function oi(t,e,n,r){var i=n.length,s=i,a=!r;if(null==t)return!s;for(t=te(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var l=(u=n[i])[0],c=t[l],h=u[1];if(a&&u[2]){if(c===o&&!(l in t))return!1}else{var f=new wr;if(r)var p=r(c,h,l,t,e,f);if(!(p===o?ii(h,c,g|y,r,f):p))return!1}}return!0}function si(t){return!(!xa(t)||function(t){return!!he&&he in t}(t))&&(Ta(t)?ge:qt).test(cs(t))}function ai(t){return"function"==typeof t?t:null==t?Au:"object"==typeof t?ya(t)?pi(t[0],t[1]):fi(t):Bu(t)}function ui(t){if(!Xo(t))return Kn(t);var e=[];for(var n in te(t))le.call(t,n)&&"constructor"!=n&&e.push(n);return e}function li(t){if(!xa(t))return function(t){var e=[];if(null!=t)for(var n in te(t))e.push(n);return e}(t);var e=Xo(t),n=[];for(var r in t)("constructor"!=r||!e&&le.call(t,r))&&n.push(r);return n}function ci(t,e){return t<e}function hi(t,e){var r=-1,i=va(t)?n(t.length):[];return Br(t,function(t,n,o){i[++r]=e(t,n,o)}),i}function fi(t){var e=Do(t);return 1==e.length&&e[0][2]?Qo(e[0][0],e[0][1]):function(n){return n===t||oi(n,t,e)}}function pi(t,e){return Yo(t)&&Jo(e)?Qo(ls(t),e):function(n){var r=Qa(n,t);return r===o&&r===e?Za(n,t):ii(e,r,g|y)}}function di(t,e,n,r,i){t!==e&&$r(e,function(s,a){if(xa(s))i||(i=new wr),function(t,e,n,r,i,s,a){var u=es(t,n),l=es(e,n),c=a.get(l);if(c)xr(t,n,c);else{var h=s?s(u,l,n+"",t,e,a):o,f=h===o;if(f){var p=ya(l),d=!p&&_a(l),g=!p&&!d&&Ia(l);h=l,p||d||g?ya(u)?h=u:ba(u)?h=eo(u):d?(f=!1,h=Hi(l,!0)):g?(f=!1,h=Ji(l,!0)):h=[]:ka(l)||ga(l)?(h=u,ga(u)?h=Ka(u):xa(u)&&!Ta(u)||(h=Ko(l))):f=!1}f&&(a.set(l,h),i(h,l,r,s,a),a.delete(l)),xr(t,n,h)}}(t,e,a,n,di,r,i);else{var u=r?r(es(t,a),s,a+"",t,e,i):o;u===o&&(u=s),xr(t,a,u)}},iu)}function gi(t,e){var n=t.length;if(n)return Go(e+=e<0?n:0,n)?t[e]:o}function yi(t,e,n){var r=-1;return e=Ze(e.length?e:[Au],mn(Io())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(hi(t,function(t,n,i){return{criteria:Ze(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=Qi(i[r],o[r]);if(u){if(r>=a)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)})}function mi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=Hr(t,s);n(a,s)&&Li(o,Gi(s,t),a)}return o}function vi(t,e,n,r){var i=r?ln:un,o=-1,s=e.length,a=t;for(t===e&&(e=eo(e)),n&&(a=Ze(t,mn(n)));++o<s;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==t&&Fe.call(a,u,1),Fe.call(t,u,1);return t}function bi(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Go(i)?Fe.call(t,i,1):Di(t,i)}}return t}function _i(t,e){return t+Bn(Vn()*(e-t+1))}function wi(t,e){var n="";if(!t||e<1||e>F)return n;do{e%2&&(n+=t),(e=Bn(e/2))&&(t+=t)}while(e);return n}function Ei(t,e){return is(Zo(t,e,Au),t+"")}function Ti(t){return Tr(fu(t))}function Si(t,e){var n=fu(t);return as(n,Or(e,0,n.length))}function Li(t,e,n,r){if(!xa(t))return t;for(var i=-1,s=(e=Gi(e,t)).length,a=s-1,u=t;null!=u&&++i<s;){var l=ls(e[i]),c=n;if(i!=a){var h=u[l];(c=r?r(h,l,u):o)===o&&(c=xa(h)?h:Go(e[i+1])?[]:{})}Cr(u,l,c),u=u[l]}return t}var xi=nr?function(t,e){return nr.set(t,e),t}:Au,Ci=on?function(t,e){return on(t,"toString",{configurable:!0,enumerable:!1,value:xu(e),writable:!0})}:Au;function Pi(t){return as(fu(t))}function Ai(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=n(o);++i<o;)s[i]=t[i+e];return s}function ki(t,e){var n;return Br(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Ri(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=j){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!Fa(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return Mi(t,e,Au,n)}function Mi(t,e,n,r){e=n(e);for(var i=0,s=null==t?0:t.length,a=e!=e,u=null===e,l=Fa(e),c=e===o;i<s;){var h=Bn((i+s)/2),f=n(t[h]),p=f!==o,d=null===f,g=f==f,y=Fa(f);if(a)var m=r||g;else m=c?g&&(r||p):u?g&&p&&(r||!d):l?g&&p&&!d&&(r||!y):!d&&!y&&(r?f<=e:f<e);m?i=h+1:s=h}return Gn(s,B)}function Oi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!fa(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Fi(t){return"number"==typeof t?t:Fa(t)?N:+t}function Ii(t){if("string"==typeof t)return t;if(ya(t))return Ze(t,Ii)+"";if(Fa(t))return hr?hr.call(t):"";var e=t+"";return"0"==e&&1/t==-O?"-0":e}function Ni(t,e,n){var r=-1,i=Je,o=t.length,a=!0,u=[],l=u;if(n)a=!1,i=Qe;else if(o>=s){var c=e?null:Eo(t);if(c)return An(c);a=!1,i=bn,l=new _r}else l=e?[]:u;t:for(;++r<o;){var h=t[r],f=e?e(h):h;if(h=n||0!==h?h:0,a&&f==f){for(var p=l.length;p--;)if(l[p]===f)continue t;e&&l.push(f),u.push(h)}else i(l,f,n)||(l!==u&&l.push(f),u.push(h))}return u}function Di(t,e){return null==(t=ts(t,e=Gi(e,t)))||delete t[ls(Es(e))]}function Bi(t,e,n,r){return Li(t,e,n(Hr(t,e)),r)}function ji(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ai(t,r?0:o,r?o+1:i):Ai(t,r?o+1:0,r?i:o)}function zi(t,e){var n=t;return n instanceof yr&&(n=n.value()),en(e,function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))},n)}function Ui(t,e,r){var i=t.length;if(i<2)return i?Ni(t[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=Dr(s[o]||a,t[u],e,r));return Ni(Kr(s,1),e,r)}function Wi(t,e,n){for(var r=-1,i=t.length,s=e.length,a={};++r<i;){var u=r<s?e[r]:o;n(a,t[r],u)}return a}function Ki(t){return ba(t)?t:[]}function $i(t){return"function"==typeof t?t:Au}function Gi(t,e){return ya(t)?t:Yo(t,e)?[t]:us($a(t))}var qi=Ei;function Yi(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:Ai(t,e,n)}var Vi=pn||function(t){return Oe.clearTimeout(t)};function Hi(t,e){if(e)return t.slice();var n=t.length,r=Ee?Ee(n):new t.constructor(n);return t.copy(r),r}function Xi(t){var e=new t.constructor(t.byteLength);return new _e(e).set(new _e(t)),e}function Ji(t,e){var n=e?Xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Qi(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,s=Fa(t),a=e!==o,u=null===e,l=e==e,c=Fa(e);if(!u&&!c&&!s&&t>e||s&&a&&l&&!u&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||u&&n&&i||!a&&i||!l)return-1}return 0}function Zi(t,e,r,i){for(var o=-1,s=t.length,a=r.length,u=-1,l=e.length,c=$n(s-a,0),h=n(l+c),f=!i;++u<l;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[r[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function to(t,e,r,i){for(var o=-1,s=t.length,a=-1,u=r.length,l=-1,c=e.length,h=$n(s-u,0),f=n(h+c),p=!i;++o<h;)f[o]=t[o];for(var d=o;++l<c;)f[d+l]=e[l];for(;++a<u;)(p||o<s)&&(f[d+r[a]]=t[o++]);return f}function eo(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function no(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],l=r?r(n[u],t[u],u,n,t):o;l===o&&(l=t[u]),i?Rr(n,u,l):Cr(n,u,l)}return n}function ro(t,e){return function(n,r){var i=ya(n)?qe:Ar,o=e?e():{};return i(n,t,Io(r,2),o)}}function io(t){return Ei(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=t.length>3&&"function"==typeof s?(i--,s):o,a&&qo(n[0],n[1],a)&&(s=i<3?o:s,i=1),e=te(e);++r<i;){var u=n[r];u&&t(e,u,r,s)}return e})}function oo(t,e){return function(n,r){if(null==n)return n;if(!va(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=te(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function so(t){return function(e,n,r){for(var i=-1,o=te(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function ao(t){return function(e){var n=Ln(e=$a(e))?Mn(e):o,r=n?n[0]:e.charAt(0),i=n?Yi(n,1).join(""):e.slice(1);return r[t]()+i}}function uo(t){return function(e){return en(Tu(gu(e).replace(ve,"")),t,"")}}function lo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=pr(t.prototype),r=t.apply(n,e);return xa(r)?r:n}}function co(t){return function(e,n,r){var i=te(e);if(!va(e)){var s=Io(n,3);e=ru(e),n=function(t){return s(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:o}}function ho(t){return Ao(function(e){var n=e.length,r=n,i=gr.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new re(u);if(i&&!a&&"wrapper"==Oo(s))var a=new gr([],!0)}for(r=a?r:n;++r<n;){var l=Oo(s=e[r]),c="wrapper"==l?Mo(s):o;a=c&&Vo(c[0])&&c[1]==(S|_|E|L)&&!c[4].length&&1==c[9]?a[Oo(c[0])].apply(a,c[3]):1==s.length&&Vo(s)?a[l]():a.thru(s)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&ya(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function fo(t,e,r,i,s,a,u,l,c,h){var f=e&S,p=e&m,d=e&v,g=e&(_|w),y=e&x,b=d?o:lo(t);return function m(){for(var v=arguments.length,_=n(v),w=v;w--;)_[w]=arguments[w];if(g)var E=Fo(m),T=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(_,E);if(i&&(_=Zi(_,i,s,g)),a&&(_=to(_,a,u,g)),v-=T,g&&v<h){var S=Pn(_,E);return _o(t,e,fo,m.placeholder,r,_,S,l,c,h-v)}var L=p?r:this,x=d?L[t]:t;return v=_.length,l?_=function(t,e){for(var n=t.length,r=Gn(e.length,n),i=eo(t);r--;){var s=e[r];t[r]=Go(s,n)?i[s]:o}return t}(_,l):y&&v>1&&_.reverse(),f&&c<v&&(_.length=c),this&&this!==Oe&&this instanceof m&&(x=b||lo(x)),x.apply(L,_)}}function po(t,e){return function(n,r){return function(t,e,n,r){return qr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function go(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Ii(n),r=Ii(r)):(n=Fi(n),r=Fi(r)),i=t(n,r)}return i}}function yo(t){return Ao(function(e){return e=Ze(e,mn(Io())),Ei(function(n){var r=this;return t(e,function(t){return Ge(t,r,n)})})})}function mo(t,e){var n=(e=e===o?" ":Ii(e)).length;if(n<2)return n?wi(e,t):e;var r=wi(e,Dn(t/Rn(e)));return Ln(e)?Yi(Mn(r),0,t).join(""):r.slice(0,t)}function vo(t){return function(e,r,i){return i&&"number"!=typeof i&&qo(e,r,i)&&(r=i=o),e=ja(e),r===o?(r=e,e=0):r=ja(r),function(t,e,r,i){for(var o=-1,s=$n(Dn((e-t)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=t,t+=r;return a}(e,r,i=i===o?e<r?1:-1:ja(i),t)}}function bo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Wa(e),n=Wa(n)),t(e,n)}}function _o(t,e,n,r,i,s,a,u,l,c){var h=e&_;e|=h?E:T,(e&=~(h?T:E))&b||(e&=~(m|v));var f=[t,e,i,h?s:o,h?a:o,h?o:s,h?o:a,u,l,c],p=n.apply(o,f);return Vo(t)&&ns(p,f),p.placeholder=r,os(p,t,e)}function wo(t){var e=Zt[t];return function(t,n){if(t=Wa(t),n=null==n?0:Gn(za(n),292)){var r=($a(t)+"e").split("e");return+((r=($a(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Eo=Zn&&1/An(new Zn([,-0]))[1]==O?function(t){return new Zn(t)}:Fu;function To(t){return function(e){var n=Uo(e);return n==X?xn(e):n==nt?kn(e):function(t,e){return Ze(e,function(e){return[e,t[e]]})}(e,t(e))}}function So(t,e,r,i,s,a,l,c){var f=e&v;if(!f&&"function"!=typeof t)throw new re(u);var p=i?i.length:0;if(p||(e&=~(E|T),i=s=o),l=l===o?l:$n(za(l),0),c=c===o?c:za(c),p-=s?s.length:0,e&T){var d=i,g=s;i=s=o}var y=f?o:Mo(t),x=[t,e,r,i,s,d,g,a,l,c];if(y&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(m|v|S),s=r==S&&n==_||r==S&&n==L&&t[7].length<=e[8]||r==(S|L)&&e[7].length<=e[8]&&n==_;if(!o&&!s)return t;r&m&&(t[2]=e[2],i|=n&m?0:b);var a=e[3];if(a){var u=t[3];t[3]=u?Zi(u,a,e[4]):a,t[4]=u?Pn(t[3],h):e[4]}(a=e[5])&&(u=t[5],t[5]=u?to(u,a,e[6]):a,t[6]=u?Pn(t[5],h):e[6]),(a=e[7])&&(t[7]=a),r&S&&(t[8]=null==t[8]?e[8]:Gn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(x,y),t=x[0],e=x[1],r=x[2],i=x[3],s=x[4],!(c=x[9]=x[9]===o?f?0:t.length:$n(x[9]-p,0))&&e&(_|w)&&(e&=~(_|w)),e&&e!=m)C=e==_||e==w?function(t,e,r){var i=lo(t);return function s(){for(var a=arguments.length,u=n(a),l=a,c=Fo(s);l--;)u[l]=arguments[l];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:Pn(u,c);return(a-=h.length)<r?_o(t,e,fo,s.placeholder,o,u,h,o,o,r-a):Ge(this&&this!==Oe&&this instanceof s?i:t,this,u)}}(t,e,c):e!=E&&e!=(m|E)||s.length?fo.apply(o,x):function(t,e,r,i){var o=e&m,s=lo(t);return function e(){for(var a=-1,u=arguments.length,l=-1,c=i.length,h=n(c+u),f=this&&this!==Oe&&this instanceof e?s:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++a];return Ge(f,o?r:this,h)}}(t,e,r,i);else var C=function(t,e,n){var r=e&m,i=lo(t);return function e(){return(this&&this!==Oe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return os((y?xi:ns)(C,x),t,e)}function Lo(t,e,n,r){return t===o||fa(t,se[n])&&!le.call(r,n)?e:t}function xo(t,e,n,r,i,s){return xa(t)&&xa(e)&&(s.set(e,t),di(t,e,o,xo,s),s.delete(e)),t}function Co(t){return ka(t)?o:t}function Po(t,e,n,r,i,s){var a=n&g,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var h=-1,f=!0,p=n&y?new _r:o;for(s.set(t,e),s.set(e,t);++h<u;){var d=t[h],m=e[h];if(r)var v=a?r(m,d,h,e,t,s):r(d,m,h,t,e,s);if(v!==o){if(v)continue;f=!1;break}if(p){if(!rn(e,function(t,e){if(!bn(p,e)&&(d===t||i(d,t,n,r,s)))return p.push(e)})){f=!1;break}}else if(d!==m&&!i(d,m,n,r,s)){f=!1;break}}return s.delete(t),s.delete(e),f}function Ao(t){return is(Zo(t,o,ms),t+"")}function ko(t){return Xr(t,ru,jo)}function Ro(t){return Xr(t,iu,zo)}var Mo=nr?function(t){return nr.get(t)}:Fu;function Oo(t){for(var e=t.name+"",n=rr[e],r=le.call(rr,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Fo(t){return(le.call(fr,"placeholder")?fr:t).placeholder}function Io(){var t=fr.iteratee||ku;return t=t===ku?ai:t,arguments.length?t(arguments[0],arguments[1]):t}function No(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Do(t){for(var e=ru(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Jo(i)]}return e}function Bo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return si(n)?n:o}var jo=jn?function(t){return null==t?[]:(t=te(t),Xe(jn(t),function(e){return Me.call(t,e)}))}:Uu,zo=jn?function(t){for(var e=[];t;)tn(e,jo(t)),t=Pe(t);return e}:Uu,Uo=Jr;function Wo(t,e,n){for(var r=-1,i=(e=Gi(e,t)).length,o=!1;++r<i;){var s=ls(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&La(i)&&Go(s,i)&&(ya(t)||ga(t))}function Ko(t){return"function"!=typeof t.constructor||Xo(t)?{}:pr(Pe(t))}function $o(t){return ya(t)||ga(t)||!!(Ie&&t&&t[Ie])}function Go(t,e){var n=typeof t;return!!(e=null==e?F:e)&&("number"==n||"symbol"!=n&&Vt.test(t))&&t>-1&&t%1==0&&t<e}function qo(t,e,n){if(!xa(n))return!1;var r=typeof e;return!!("number"==r?va(n)&&Go(e,n.length):"string"==r&&e in n)&&fa(n[e],t)}function Yo(t,e){if(ya(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Fa(t))||kt.test(t)||!At.test(t)||null!=e&&t in te(e)}function Vo(t){var e=Oo(t),n=fr[e];if("function"!=typeof n||!(e in yr.prototype))return!1;if(t===n)return!0;var r=Mo(n);return!!r&&t===r[0]}(Xn&&Uo(new Xn(new ArrayBuffer(1)))!=lt||Jn&&Uo(new Jn)!=X||Qn&&"[object Promise]"!=Uo(Qn.resolve())||Zn&&Uo(new Zn)!=nt||tr&&Uo(new tr)!=st)&&(Uo=function(t){var e=Jr(t),n=e==Z?t.constructor:o,r=n?cs(n):"";if(r)switch(r){case ir:return lt;case or:return X;case sr:return"[object Promise]";case ar:return nt;case ur:return st}return e});var Ho=ae?Ta:Wu;function Xo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function Jo(t){return t==t&&!xa(t)}function Qo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in te(n))}}function Zo(t,e,r){return e=$n(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=$n(i.length-e,0),a=n(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(a),Ge(t,this,u)}}function ts(t,e){return e.length<2?t:Hr(t,Ai(e,0,-1))}function es(t,e){if("__proto__"!=e)return t[e]}var ns=ss(xi),rs=Nn||function(t,e){return Oe.setTimeout(t,e)},is=ss(Ci);function os(t,e,n){var r=e+"";return is(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Dt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ye(z,function(n){var r="_."+n[0];e&n[1]&&!Je(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(Bt);return e?e[1].split(jt):[]}(r),n)))}function ss(t){var e=0,n=0;return function(){var r=qn(),i=k-(r-n);if(n=r,i>0){if(++e>=A)return arguments[0]}else e=0;return t.apply(o,arguments)}}function as(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var s=_i(n,i),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var us=function(t){var e=sa(t,function(t){return n.size===c&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Rt,function(t,n,r,i){e.push(r?i.replace(Ut,"$1"):n||t)}),e});function ls(t){if("string"==typeof t||Fa(t))return t;var e=t+"";return"0"==e&&1/t==-O?"-0":e}function cs(t){if(null!=t){try{return ue.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function hs(t){if(t instanceof yr)return t.clone();var e=new gr(t.__wrapped__,t.__chain__);return e.__actions__=eo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var fs=Ei(function(t,e){return ba(t)?Dr(t,Kr(e,1,ba,!0)):[]}),ps=Ei(function(t,e){var n=Es(e);return ba(n)&&(n=o),ba(t)?Dr(t,Kr(e,1,ba,!0),Io(n,2)):[]}),ds=Ei(function(t,e){var n=Es(e);return ba(n)&&(n=o),ba(t)?Dr(t,Kr(e,1,ba,!0),o,n):[]});function gs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:za(n);return i<0&&(i=$n(r+i,0)),an(t,Io(e,3),i)}function ys(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=za(n),i=n<0?$n(r+i,0):Gn(i,r-1)),an(t,Io(e,3),i,!0)}function ms(t){return null!=t&&t.length?Kr(t,1):[]}function vs(t){return t&&t.length?t[0]:o}var bs=Ei(function(t){var e=Ze(t,Ki);return e.length&&e[0]===t[0]?ei(e):[]}),_s=Ei(function(t){var e=Es(t),n=Ze(t,Ki);return e===Es(n)?e=o:n.pop(),n.length&&n[0]===t[0]?ei(n,Io(e,2)):[]}),ws=Ei(function(t){var e=Es(t),n=Ze(t,Ki);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?ei(n,o,e):[]});function Es(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Ts=Ei(Ss);function Ss(t,e){return t&&t.length&&e&&e.length?vi(t,e):t}var Ls=Ao(function(t,e){var n=null==t?0:t.length,r=Mr(t,e);return bi(t,Ze(e,function(t){return Go(t,n)?+t:t}).sort(Qi)),r});function xs(t){return null==t?t:Hn.call(t)}var Cs=Ei(function(t){return Ni(Kr(t,1,ba,!0))}),Ps=Ei(function(t){var e=Es(t);return ba(e)&&(e=o),Ni(Kr(t,1,ba,!0),Io(e,2))}),As=Ei(function(t){var e=Es(t);return e="function"==typeof e?e:o,Ni(Kr(t,1,ba,!0),o,e)});function ks(t){if(!t||!t.length)return[];var e=0;return t=Xe(t,function(t){if(ba(t))return e=$n(t.length,e),!0}),yn(e,function(e){return Ze(t,fn(e))})}function Rs(t,e){if(!t||!t.length)return[];var n=ks(t);return null==e?n:Ze(n,function(t){return Ge(e,o,t)})}var Ms=Ei(function(t,e){return ba(t)?Dr(t,e):[]}),Os=Ei(function(t){return Ui(Xe(t,ba))}),Fs=Ei(function(t){var e=Es(t);return ba(e)&&(e=o),Ui(Xe(t,ba),Io(e,2))}),Is=Ei(function(t){var e=Es(t);return e="function"==typeof e?e:o,Ui(Xe(t,ba),o,e)}),Ns=Ei(ks);var Ds=Ei(function(t){var e=t.length,n=e>1?t[e-1]:o;return Rs(t,n="function"==typeof n?(t.pop(),n):o)});function Bs(t){var e=fr(t);return e.__chain__=!0,e}function js(t,e){return e(t)}var zs=Ao(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Mr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof yr&&Go(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:js,args:[i],thisArg:o}),new gr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(i)});var Us=ro(function(t,e,n){le.call(t,n)?++t[n]:Rr(t,n,1)});var Ws=co(gs),Ks=co(ys);function $s(t,e){return(ya(t)?Ye:Br)(t,Io(e,3))}function Gs(t,e){return(ya(t)?Ve:jr)(t,Io(e,3))}var qs=ro(function(t,e,n){le.call(t,n)?t[n].push(e):Rr(t,n,[e])});var Ys=Ei(function(t,e,r){var i=-1,o="function"==typeof e,s=va(t)?n(t.length):[];return Br(t,function(t){s[++i]=o?Ge(e,t,r):ni(t,e,r)}),s}),Vs=ro(function(t,e,n){Rr(t,n,e)});function Hs(t,e){return(ya(t)?Ze:hi)(t,Io(e,3))}var Xs=ro(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Js=Ei(function(t,e){if(null==t)return[];var n=e.length;return n>1&&qo(t,e[0],e[1])?e=[]:n>2&&qo(e[0],e[1],e[2])&&(e=[e[0]]),yi(t,Kr(e,1),[])}),Qs=In||function(){return Oe.Date.now()};function Zs(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,So(t,S,o,o,o,o,e)}function ta(t,e){var n;if("function"!=typeof e)throw new re(u);return t=za(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var ea=Ei(function(t,e,n){var r=m;if(n.length){var i=Pn(n,Fo(ea));r|=E}return So(t,r,e,n,i)}),na=Ei(function(t,e,n){var r=m|v;if(n.length){var i=Pn(n,Fo(na));r|=E}return So(e,r,t,n,i)});function ra(t,e,n){var r,i,s,a,l,c,h=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new re(u);function g(e){var n=r,s=i;return r=i=o,h=e,a=t.apply(s,n)}function y(t){var n=t-c;return c===o||n>=e||n<0||p&&t-h>=s}function m(){var t=Qs();if(y(t))return v(t);l=rs(m,function(t){var n=e-(t-c);return p?Gn(n,s-(t-h)):n}(t))}function v(t){return l=o,d&&r?g(t):(r=i=o,a)}function b(){var t=Qs(),n=y(t);if(r=arguments,i=this,c=t,n){if(l===o)return function(t){return h=t,l=rs(m,e),f?g(t):a}(c);if(p)return l=rs(m,e),g(c)}return l===o&&(l=rs(m,e)),a}return e=Wa(e)||0,xa(n)&&(f=!!n.leading,s=(p="maxWait"in n)?$n(Wa(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){l!==o&&Vi(l),h=0,r=c=i=l=o},b.flush=function(){return l===o?a:v(Qs())},b}var ia=Ei(function(t,e){return Nr(t,1,e)}),oa=Ei(function(t,e,n){return Nr(t,Wa(e)||0,n)});function sa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new re(u);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(sa.Cache||br),n}function aa(t){if("function"!=typeof t)throw new re(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}sa.Cache=br;var ua=qi(function(t,e){var n=(e=1==e.length&&ya(e[0])?Ze(e[0],mn(Io())):Ze(Kr(e,1),mn(Io()))).length;return Ei(function(r){for(var i=-1,o=Gn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Ge(t,this,r)})}),la=Ei(function(t,e){var n=Pn(e,Fo(la));return So(t,E,o,e,n)}),ca=Ei(function(t,e){var n=Pn(e,Fo(ca));return So(t,T,o,e,n)}),ha=Ao(function(t,e){return So(t,L,o,o,o,e)});function fa(t,e){return t===e||t!=t&&e!=e}var pa=bo(Qr),da=bo(function(t,e){return t>=e}),ga=ri(function(){return arguments}())?ri:function(t){return Ca(t)&&le.call(t,"callee")&&!Me.call(t,"callee")},ya=n.isArray,ma=je?mn(je):function(t){return Ca(t)&&Jr(t)==ut};function va(t){return null!=t&&La(t.length)&&!Ta(t)}function ba(t){return Ca(t)&&va(t)}var _a=zn||Wu,wa=ze?mn(ze):function(t){return Ca(t)&&Jr(t)==G};function Ea(t){if(!Ca(t))return!1;var e=Jr(t);return e==Y||e==q||"string"==typeof t.message&&"string"==typeof t.name&&!ka(t)}function Ta(t){if(!xa(t))return!1;var e=Jr(t);return e==V||e==H||e==K||e==tt}function Sa(t){return"number"==typeof t&&t==za(t)}function La(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=F}function xa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ca(t){return null!=t&&"object"==typeof t}var Pa=Ue?mn(Ue):function(t){return Ca(t)&&Uo(t)==X};function Aa(t){return"number"==typeof t||Ca(t)&&Jr(t)==J}function ka(t){if(!Ca(t)||Jr(t)!=Z)return!1;var e=Pe(t);if(null===e)return!0;var n=le.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ue.call(n)==pe}var Ra=We?mn(We):function(t){return Ca(t)&&Jr(t)==et};var Ma=Ke?mn(Ke):function(t){return Ca(t)&&Uo(t)==nt};function Oa(t){return"string"==typeof t||!ya(t)&&Ca(t)&&Jr(t)==rt}function Fa(t){return"symbol"==typeof t||Ca(t)&&Jr(t)==it}var Ia=$e?mn($e):function(t){return Ca(t)&&La(t.length)&&!!xe[Jr(t)]};var Na=bo(ci),Da=bo(function(t,e){return t<=e});function Ba(t){if(!t)return[];if(va(t))return Oa(t)?Mn(t):eo(t);if(De&&t[De])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[De]());var e=Uo(t);return(e==X?xn:e==nt?An:fu)(t)}function ja(t){return t?(t=Wa(t))===O||t===-O?(t<0?-1:1)*I:t==t?t:0:0===t?t:0}function za(t){var e=ja(t),n=e%1;return e==e?n?e-n:e:0}function Ua(t){return t?Or(za(t),0,D):0}function Wa(t){if("number"==typeof t)return t;if(Fa(t))return N;if(xa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=xa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ft,"");var n=Gt.test(t);return n||Yt.test(t)?ke(t.slice(2),n?2:8):$t.test(t)?N:+t}function Ka(t){return no(t,iu(t))}function $a(t){return null==t?"":Ii(t)}var Ga=io(function(t,e){if(Xo(e)||va(e))no(e,ru(e),t);else for(var n in e)le.call(e,n)&&Cr(t,n,e[n])}),qa=io(function(t,e){no(e,iu(e),t)}),Ya=io(function(t,e,n,r){no(e,iu(e),t,r)}),Va=io(function(t,e,n,r){no(e,ru(e),t,r)}),Ha=Ao(Mr);var Xa=Ei(function(t,e){t=te(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&qo(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],a=iu(s),u=-1,l=a.length;++u<l;){var c=a[u],h=t[c];(h===o||fa(h,se[c])&&!le.call(t,c))&&(t[c]=s[c])}return t}),Ja=Ei(function(t){return t.push(o,xo),Ge(su,o,t)});function Qa(t,e,n){var r=null==t?o:Hr(t,e);return r===o?n:r}function Za(t,e){return null!=t&&Wo(t,e,ti)}var tu=po(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),t[e]=n},xu(Au)),eu=po(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),le.call(t,e)?t[e].push(n):t[e]=[n]},Io),nu=Ei(ni);function ru(t){return va(t)?Er(t):ui(t)}function iu(t){return va(t)?Er(t,!0):li(t)}var ou=io(function(t,e,n){di(t,e,n)}),su=io(function(t,e,n,r){di(t,e,n,r)}),au=Ao(function(t,e){var n={};if(null==t)return n;var r=!1;e=Ze(e,function(e){return e=Gi(e,t),r||(r=e.length>1),e}),no(t,Ro(t),n),r&&(n=Fr(n,f|p|d,Co));for(var i=e.length;i--;)Di(n,e[i]);return n});var uu=Ao(function(t,e){return null==t?{}:function(t,e){return mi(t,e,function(e,n){return Za(t,n)})}(t,e)});function lu(t,e){if(null==t)return{};var n=Ze(Ro(t),function(t){return[t]});return e=Io(e),mi(t,n,function(t,n){return e(t,n[0])})}var cu=To(ru),hu=To(iu);function fu(t){return null==t?[]:vn(t,ru(t))}var pu=uo(function(t,e,n){return e=e.toLowerCase(),t+(n?du(e):e)});function du(t){return Eu($a(t).toLowerCase())}function gu(t){return(t=$a(t))&&t.replace(Ht,En).replace(be,"")}var yu=uo(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),mu=uo(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),vu=ao("toLowerCase");var bu=uo(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var _u=uo(function(t,e,n){return t+(n?" ":"")+Eu(e)});var wu=uo(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Eu=ao("toUpperCase");function Tu(t,e,n){return t=$a(t),(e=n?o:e)===o?function(t){return Te.test(t)}(t)?function(t){return t.match(we)||[]}(t):function(t){return t.match(zt)||[]}(t):t.match(e)||[]}var Su=Ei(function(t,e){try{return Ge(t,o,e)}catch(t){return Ea(t)?t:new i(t)}}),Lu=Ao(function(t,e){return Ye(e,function(e){e=ls(e),Rr(t,e,ea(t[e],t))}),t});function xu(t){return function(){return t}}var Cu=ho(),Pu=ho(!0);function Au(t){return t}function ku(t){return ai("function"==typeof t?t:Fr(t,f))}var Ru=Ei(function(t,e){return function(n){return ni(n,t,e)}}),Mu=Ei(function(t,e){return function(n){return ni(t,n,e)}});function Ou(t,e,n){var r=ru(e),i=Vr(e,r);null!=n||xa(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Vr(e,ru(e)));var o=!(xa(n)&&"chain"in n&&!n.chain),s=Ta(t);return Ye(i,function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=eo(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,tn([this.value()],arguments))})}),t}function Fu(){}var Iu=yo(Ze),Nu=yo(He),Du=yo(rn);function Bu(t){return Yo(t)?fn(ls(t)):function(t){return function(e){return Hr(e,t)}}(t)}var ju=vo(),zu=vo(!0);function Uu(){return[]}function Wu(){return!1}var Ku=go(function(t,e){return t+e},0),$u=wo("ceil"),Gu=go(function(t,e){return t/e},1),qu=wo("floor");var Yu=go(function(t,e){return t*e},1),Vu=wo("round"),Hu=go(function(t,e){return t-e},0);return fr.after=function(t,e){if("function"!=typeof e)throw new re(u);return t=za(t),function(){if(--t<1)return e.apply(this,arguments)}},fr.ary=Zs,fr.assign=Ga,fr.assignIn=qa,fr.assignInWith=Ya,fr.assignWith=Va,fr.at=Ha,fr.before=ta,fr.bind=ea,fr.bindAll=Lu,fr.bindKey=na,fr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ya(t)?t:[t]},fr.chain=Bs,fr.chunk=function(t,e,r){e=(r?qo(t,e,r):e===o)?1:$n(za(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,a=0,u=n(Dn(i/e));s<i;)u[a++]=Ai(t,s,s+=e);return u},fr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},fr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return tn(ya(r)?eo(r):[r],Kr(e,1))},fr.cond=function(t){var e=null==t?0:t.length,n=Io();return t=e?Ze(t,function(t){if("function"!=typeof t[1])throw new re(u);return[n(t[0]),t[1]]}):[],Ei(function(n){for(var r=-1;++r<e;){var i=t[r];if(Ge(i[0],this,n))return Ge(i[1],this,n)}})},fr.conforms=function(t){return function(t){var e=ru(t);return function(n){return Ir(n,t,e)}}(Fr(t,f))},fr.constant=xu,fr.countBy=Us,fr.create=function(t,e){var n=pr(t);return null==e?n:kr(n,e)},fr.curry=function t(e,n,r){var i=So(e,_,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},fr.curryRight=function t(e,n,r){var i=So(e,w,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},fr.debounce=ra,fr.defaults=Xa,fr.defaultsDeep=Ja,fr.defer=ia,fr.delay=oa,fr.difference=fs,fr.differenceBy=ps,fr.differenceWith=ds,fr.drop=function(t,e,n){var r=null==t?0:t.length;return r?Ai(t,(e=n||e===o?1:za(e))<0?0:e,r):[]},fr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Ai(t,0,(e=r-(e=n||e===o?1:za(e)))<0?0:e):[]},fr.dropRightWhile=function(t,e){return t&&t.length?ji(t,Io(e,3),!0,!0):[]},fr.dropWhile=function(t,e){return t&&t.length?ji(t,Io(e,3),!0):[]},fr.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&qo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=za(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:za(r))<0&&(r+=i),r=n>r?0:Ua(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},fr.filter=function(t,e){return(ya(t)?Xe:Wr)(t,Io(e,3))},fr.flatMap=function(t,e){return Kr(Hs(t,e),1)},fr.flatMapDeep=function(t,e){return Kr(Hs(t,e),O)},fr.flatMapDepth=function(t,e,n){return n=n===o?1:za(n),Kr(Hs(t,e),n)},fr.flatten=ms,fr.flattenDeep=function(t){return null!=t&&t.length?Kr(t,O):[]},fr.flattenDepth=function(t,e){return null!=t&&t.length?Kr(t,e=e===o?1:za(e)):[]},fr.flip=function(t){return So(t,x)},fr.flow=Cu,fr.flowRight=Pu,fr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},fr.functions=function(t){return null==t?[]:Vr(t,ru(t))},fr.functionsIn=function(t){return null==t?[]:Vr(t,iu(t))},fr.groupBy=qs,fr.initial=function(t){return null!=t&&t.length?Ai(t,0,-1):[]},fr.intersection=bs,fr.intersectionBy=_s,fr.intersectionWith=ws,fr.invert=tu,fr.invertBy=eu,fr.invokeMap=Ys,fr.iteratee=ku,fr.keyBy=Vs,fr.keys=ru,fr.keysIn=iu,fr.map=Hs,fr.mapKeys=function(t,e){var n={};return e=Io(e,3),qr(t,function(t,r,i){Rr(n,e(t,r,i),t)}),n},fr.mapValues=function(t,e){var n={};return e=Io(e,3),qr(t,function(t,r,i){Rr(n,r,e(t,r,i))}),n},fr.matches=function(t){return fi(Fr(t,f))},fr.matchesProperty=function(t,e){return pi(t,Fr(e,f))},fr.memoize=sa,fr.merge=ou,fr.mergeWith=su,fr.method=Ru,fr.methodOf=Mu,fr.mixin=Ou,fr.negate=aa,fr.nthArg=function(t){return t=za(t),Ei(function(e){return gi(e,t)})},fr.omit=au,fr.omitBy=function(t,e){return lu(t,aa(Io(e)))},fr.once=function(t){return ta(2,t)},fr.orderBy=function(t,e,n,r){return null==t?[]:(ya(e)||(e=null==e?[]:[e]),ya(n=r?o:n)||(n=null==n?[]:[n]),yi(t,e,n))},fr.over=Iu,fr.overArgs=ua,fr.overEvery=Nu,fr.overSome=Du,fr.partial=la,fr.partialRight=ca,fr.partition=Xs,fr.pick=uu,fr.pickBy=lu,fr.property=Bu,fr.propertyOf=function(t){return function(e){return null==t?o:Hr(t,e)}},fr.pull=Ts,fr.pullAll=Ss,fr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?vi(t,e,Io(n,2)):t},fr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?vi(t,e,o,n):t},fr.pullAt=Ls,fr.range=ju,fr.rangeRight=zu,fr.rearg=ha,fr.reject=function(t,e){return(ya(t)?Xe:Wr)(t,aa(Io(e,3)))},fr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Io(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return bi(t,i),n},fr.rest=function(t,e){if("function"!=typeof t)throw new re(u);return Ei(t,e=e===o?e:za(e))},fr.reverse=xs,fr.sampleSize=function(t,e,n){return e=(n?qo(t,e,n):e===o)?1:za(e),(ya(t)?Sr:Si)(t,e)},fr.set=function(t,e,n){return null==t?t:Li(t,e,n)},fr.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Li(t,e,n,r)},fr.shuffle=function(t){return(ya(t)?Lr:Pi)(t)},fr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&qo(t,e,n)?(e=0,n=r):(e=null==e?0:za(e),n=n===o?r:za(n)),Ai(t,e,n)):[]},fr.sortBy=Js,fr.sortedUniq=function(t){return t&&t.length?Oi(t):[]},fr.sortedUniqBy=function(t,e){return t&&t.length?Oi(t,Io(e,2)):[]},fr.split=function(t,e,n){return n&&"number"!=typeof n&&qo(t,e,n)&&(e=n=o),(n=n===o?D:n>>>0)?(t=$a(t))&&("string"==typeof e||null!=e&&!Ra(e))&&!(e=Ii(e))&&Ln(t)?Yi(Mn(t),0,n):t.split(e,n):[]},fr.spread=function(t,e){if("function"!=typeof t)throw new re(u);return e=null==e?0:$n(za(e),0),Ei(function(n){var r=n[e],i=Yi(n,0,e);return r&&tn(i,r),Ge(t,this,i)})},fr.tail=function(t){var e=null==t?0:t.length;return e?Ai(t,1,e):[]},fr.take=function(t,e,n){return t&&t.length?Ai(t,0,(e=n||e===o?1:za(e))<0?0:e):[]},fr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Ai(t,(e=r-(e=n||e===o?1:za(e)))<0?0:e,r):[]},fr.takeRightWhile=function(t,e){return t&&t.length?ji(t,Io(e,3),!1,!0):[]},fr.takeWhile=function(t,e){return t&&t.length?ji(t,Io(e,3)):[]},fr.tap=function(t,e){return e(t),t},fr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new re(u);return xa(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ra(t,e,{leading:r,maxWait:e,trailing:i})},fr.thru=js,fr.toArray=Ba,fr.toPairs=cu,fr.toPairsIn=hu,fr.toPath=function(t){return ya(t)?Ze(t,ls):Fa(t)?[t]:eo(us($a(t)))},fr.toPlainObject=Ka,fr.transform=function(t,e,n){var r=ya(t),i=r||_a(t)||Ia(t);if(e=Io(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:xa(t)&&Ta(o)?pr(Pe(t)):{}}return(i?Ye:qr)(t,function(t,r,i){return e(n,t,r,i)}),n},fr.unary=function(t){return Zs(t,1)},fr.union=Cs,fr.unionBy=Ps,fr.unionWith=As,fr.uniq=function(t){return t&&t.length?Ni(t):[]},fr.uniqBy=function(t,e){return t&&t.length?Ni(t,Io(e,2)):[]},fr.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Ni(t,o,e):[]},fr.unset=function(t,e){return null==t||Di(t,e)},fr.unzip=ks,fr.unzipWith=Rs,fr.update=function(t,e,n){return null==t?t:Bi(t,e,$i(n))},fr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Bi(t,e,$i(n),r)},fr.values=fu,fr.valuesIn=function(t){return null==t?[]:vn(t,iu(t))},fr.without=Ms,fr.words=Tu,fr.wrap=function(t,e){return la($i(e),t)},fr.xor=Os,fr.xorBy=Fs,fr.xorWith=Is,fr.zip=Ns,fr.zipObject=function(t,e){return Wi(t||[],e||[],Cr)},fr.zipObjectDeep=function(t,e){return Wi(t||[],e||[],Li)},fr.zipWith=Ds,fr.entries=cu,fr.entriesIn=hu,fr.extend=qa,fr.extendWith=Ya,Ou(fr,fr),fr.add=Ku,fr.attempt=Su,fr.camelCase=pu,fr.capitalize=du,fr.ceil=$u,fr.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Wa(n))==n?n:0),e!==o&&(e=(e=Wa(e))==e?e:0),Or(Wa(t),e,n)},fr.clone=function(t){return Fr(t,d)},fr.cloneDeep=function(t){return Fr(t,f|d)},fr.cloneDeepWith=function(t,e){return Fr(t,f|d,e="function"==typeof e?e:o)},fr.cloneWith=function(t,e){return Fr(t,d,e="function"==typeof e?e:o)},fr.conformsTo=function(t,e){return null==e||Ir(t,e,ru(e))},fr.deburr=gu,fr.defaultTo=function(t,e){return null==t||t!=t?e:t},fr.divide=Gu,fr.endsWith=function(t,e,n){t=$a(t),e=Ii(e);var r=t.length,i=n=n===o?r:Or(za(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},fr.eq=fa,fr.escape=function(t){return(t=$a(t))&&Lt.test(t)?t.replace(Tt,Tn):t},fr.escapeRegExp=function(t){return(t=$a(t))&&Ot.test(t)?t.replace(Mt,"\\$&"):t},fr.every=function(t,e,n){var r=ya(t)?He:zr;return n&&qo(t,e,n)&&(e=o),r(t,Io(e,3))},fr.find=Ws,fr.findIndex=gs,fr.findKey=function(t,e){return sn(t,Io(e,3),qr)},fr.findLast=Ks,fr.findLastIndex=ys,fr.findLastKey=function(t,e){return sn(t,Io(e,3),Yr)},fr.floor=qu,fr.forEach=$s,fr.forEachRight=Gs,fr.forIn=function(t,e){return null==t?t:$r(t,Io(e,3),iu)},fr.forInRight=function(t,e){return null==t?t:Gr(t,Io(e,3),iu)},fr.forOwn=function(t,e){return t&&qr(t,Io(e,3))},fr.forOwnRight=function(t,e){return t&&Yr(t,Io(e,3))},fr.get=Qa,fr.gt=pa,fr.gte=da,fr.has=function(t,e){return null!=t&&Wo(t,e,Zr)},fr.hasIn=Za,fr.head=vs,fr.identity=Au,fr.includes=function(t,e,n,r){t=va(t)?t:fu(t),n=n&&!r?za(n):0;var i=t.length;return n<0&&(n=$n(i+n,0)),Oa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&un(t,e,n)>-1},fr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:za(n);return i<0&&(i=$n(r+i,0)),un(t,e,i)},fr.inRange=function(t,e,n){return e=ja(e),n===o?(n=e,e=0):n=ja(n),function(t,e,n){return t>=Gn(e,n)&&t<$n(e,n)}(t=Wa(t),e,n)},fr.invoke=nu,fr.isArguments=ga,fr.isArray=ya,fr.isArrayBuffer=ma,fr.isArrayLike=va,fr.isArrayLikeObject=ba,fr.isBoolean=function(t){return!0===t||!1===t||Ca(t)&&Jr(t)==$},fr.isBuffer=_a,fr.isDate=wa,fr.isElement=function(t){return Ca(t)&&1===t.nodeType&&!ka(t)},fr.isEmpty=function(t){if(null==t)return!0;if(va(t)&&(ya(t)||"string"==typeof t||"function"==typeof t.splice||_a(t)||Ia(t)||ga(t)))return!t.length;var e=Uo(t);if(e==X||e==nt)return!t.size;if(Xo(t))return!ui(t).length;for(var n in t)if(le.call(t,n))return!1;return!0},fr.isEqual=function(t,e){return ii(t,e)},fr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?ii(t,e,o,n):!!r},fr.isError=Ea,fr.isFinite=function(t){return"number"==typeof t&&Un(t)},fr.isFunction=Ta,fr.isInteger=Sa,fr.isLength=La,fr.isMap=Pa,fr.isMatch=function(t,e){return t===e||oi(t,e,Do(e))},fr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,oi(t,e,Do(e),n)},fr.isNaN=function(t){return Aa(t)&&t!=+t},fr.isNative=function(t){if(Ho(t))throw new i(a);return si(t)},fr.isNil=function(t){return null==t},fr.isNull=function(t){return null===t},fr.isNumber=Aa,fr.isObject=xa,fr.isObjectLike=Ca,fr.isPlainObject=ka,fr.isRegExp=Ra,fr.isSafeInteger=function(t){return Sa(t)&&t>=-F&&t<=F},fr.isSet=Ma,fr.isString=Oa,fr.isSymbol=Fa,fr.isTypedArray=Ia,fr.isUndefined=function(t){return t===o},fr.isWeakMap=function(t){return Ca(t)&&Uo(t)==st},fr.isWeakSet=function(t){return Ca(t)&&Jr(t)==at},fr.join=function(t,e){return null==t?"":Wn.call(t,e)},fr.kebabCase=yu,fr.last=Es,fr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=za(n))<0?$n(r+i,0):Gn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):an(t,cn,i,!0)},fr.lowerCase=mu,fr.lowerFirst=vu,fr.lt=Na,fr.lte=Da,fr.max=function(t){return t&&t.length?Ur(t,Au,Qr):o},fr.maxBy=function(t,e){return t&&t.length?Ur(t,Io(e,2),Qr):o},fr.mean=function(t){return hn(t,Au)},fr.meanBy=function(t,e){return hn(t,Io(e,2))},fr.min=function(t){return t&&t.length?Ur(t,Au,ci):o},fr.minBy=function(t,e){return t&&t.length?Ur(t,Io(e,2),ci):o},fr.stubArray=Uu,fr.stubFalse=Wu,fr.stubObject=function(){return{}},fr.stubString=function(){return""},fr.stubTrue=function(){return!0},fr.multiply=Yu,fr.nth=function(t,e){return t&&t.length?gi(t,za(e)):o},fr.noConflict=function(){return Oe._===this&&(Oe._=de),this},fr.noop=Fu,fr.now=Qs,fr.pad=function(t,e,n){t=$a(t);var r=(e=za(e))?Rn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return mo(Bn(i),n)+t+mo(Dn(i),n)},fr.padEnd=function(t,e,n){t=$a(t);var r=(e=za(e))?Rn(t):0;return e&&r<e?t+mo(e-r,n):t},fr.padStart=function(t,e,n){t=$a(t);var r=(e=za(e))?Rn(t):0;return e&&r<e?mo(e-r,n)+t:t},fr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Yn($a(t).replace(It,""),e||0)},fr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&qo(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=ja(t),e===o?(e=t,t=0):e=ja(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Vn();return Gn(t+i*(e-t+Ae("1e-"+((i+"").length-1))),e)}return _i(t,e)},fr.reduce=function(t,e,n){var r=ya(t)?en:dn,i=arguments.length<3;return r(t,Io(e,4),n,i,Br)},fr.reduceRight=function(t,e,n){var r=ya(t)?nn:dn,i=arguments.length<3;return r(t,Io(e,4),n,i,jr)},fr.repeat=function(t,e,n){return e=(n?qo(t,e,n):e===o)?1:za(e),wi($a(t),e)},fr.replace=function(){var t=arguments,e=$a(t[0]);return t.length<3?e:e.replace(t[1],t[2])},fr.result=function(t,e,n){var r=-1,i=(e=Gi(e,t)).length;for(i||(i=1,t=o);++r<i;){var s=null==t?o:t[ls(e[r])];s===o&&(r=i,s=n),t=Ta(s)?s.call(t):s}return t},fr.round=Vu,fr.runInContext=t,fr.sample=function(t){return(ya(t)?Tr:Ti)(t)},fr.size=function(t){if(null==t)return 0;if(va(t))return Oa(t)?Rn(t):t.length;var e=Uo(t);return e==X||e==nt?t.size:ui(t).length},fr.snakeCase=bu,fr.some=function(t,e,n){var r=ya(t)?rn:ki;return n&&qo(t,e,n)&&(e=o),r(t,Io(e,3))},fr.sortedIndex=function(t,e){return Ri(t,e)},fr.sortedIndexBy=function(t,e,n){return Mi(t,e,Io(n,2))},fr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Ri(t,e);if(r<n&&fa(t[r],e))return r}return-1},fr.sortedLastIndex=function(t,e){return Ri(t,e,!0)},fr.sortedLastIndexBy=function(t,e,n){return Mi(t,e,Io(n,2),!0)},fr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Ri(t,e,!0)-1;if(fa(t[n],e))return n}return-1},fr.startCase=_u,fr.startsWith=function(t,e,n){return t=$a(t),n=null==n?0:Or(za(n),0,t.length),e=Ii(e),t.slice(n,n+e.length)==e},fr.subtract=Hu,fr.sum=function(t){return t&&t.length?gn(t,Au):0},fr.sumBy=function(t,e){return t&&t.length?gn(t,Io(e,2)):0},fr.template=function(t,e,n){var r=fr.templateSettings;n&&qo(t,e,n)&&(e=o),t=$a(t),e=Ya({},e,r,Lo);var i,s,a=Ya({},e.imports,r.imports,Lo),u=ru(a),l=vn(a,u),c=0,h=e.interpolate||Xt,f="__p += '",p=ee((e.escape||Xt).source+"|"+h.source+"|"+(h===Pt?Wt:Xt).source+"|"+(e.evaluate||Xt).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Le+"]")+"\n";t.replace(p,function(e,n,r,o,a,u){return r||(r=o),f+=t.slice(c,u).replace(Jt,Sn),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var g=e.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(bt,""):f).replace(_t,"$1").replace(wt,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=Su(function(){return Qt(u,d+"return "+f).apply(o,l)});if(y.source=f,Ea(y))throw y;return y},fr.times=function(t,e){if((t=za(t))<1||t>F)return[];var n=D,r=Gn(t,D);e=Io(e),t-=D;for(var i=yn(r,e);++n<t;)e(n);return i},fr.toFinite=ja,fr.toInteger=za,fr.toLength=Ua,fr.toLower=function(t){return $a(t).toLowerCase()},fr.toNumber=Wa,fr.toSafeInteger=function(t){return t?Or(za(t),-F,F):0===t?t:0},fr.toString=$a,fr.toUpper=function(t){return $a(t).toUpperCase()},fr.trim=function(t,e,n){if((t=$a(t))&&(n||e===o))return t.replace(Ft,"");if(!t||!(e=Ii(e)))return t;var r=Mn(t),i=Mn(e);return Yi(r,_n(r,i),wn(r,i)+1).join("")},fr.trimEnd=function(t,e,n){if((t=$a(t))&&(n||e===o))return t.replace(Nt,"");if(!t||!(e=Ii(e)))return t;var r=Mn(t);return Yi(r,0,wn(r,Mn(e))+1).join("")},fr.trimStart=function(t,e,n){if((t=$a(t))&&(n||e===o))return t.replace(It,"");if(!t||!(e=Ii(e)))return t;var r=Mn(t);return Yi(r,_n(r,Mn(e))).join("")},fr.truncate=function(t,e){var n=C,r=P;if(xa(e)){var i="separator"in e?e.separator:i;n="length"in e?za(e.length):n,r="omission"in e?Ii(e.omission):r}var s=(t=$a(t)).length;if(Ln(t)){var a=Mn(t);s=a.length}if(n>=s)return t;var u=n-Rn(r);if(u<1)return r;var l=a?Yi(a,0,u).join(""):t.slice(0,u);if(i===o)return l+r;if(a&&(u+=l.length-u),Ra(i)){if(t.slice(u).search(i)){var c,h=l;for(i.global||(i=ee(i.source,$a(Kt.exec(i))+"g")),i.lastIndex=0;c=i.exec(h);)var f=c.index;l=l.slice(0,f===o?u:f)}}else if(t.indexOf(Ii(i),u)!=u){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+r},fr.unescape=function(t){return(t=$a(t))&&St.test(t)?t.replace(Et,On):t},fr.uniqueId=function(t){var e=++ce;return $a(t)+e},fr.upperCase=wu,fr.upperFirst=Eu,fr.each=$s,fr.eachRight=Gs,fr.first=vs,Ou(fr,function(){var t={};return qr(fr,function(e,n){le.call(fr.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),fr.VERSION="4.17.11",Ye(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){fr[t].placeholder=fr}),Ye(["drop","take"],function(t,e){yr.prototype[t]=function(n){n=n===o?1:$n(za(n),0);var r=this.__filtered__&&!e?new yr(this):this.clone();return r.__filtered__?r.__takeCount__=Gn(n,r.__takeCount__):r.__views__.push({size:Gn(n,D),type:t+(r.__dir__<0?"Right":"")}),r},yr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Ye(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==R||3==n;yr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Io(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Ye(["head","last"],function(t,e){var n="take"+(e?"Right":"");yr.prototype[t]=function(){return this[n](1).value()[0]}}),Ye(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");yr.prototype[t]=function(){return this.__filtered__?new yr(this):this[n](1)}}),yr.prototype.compact=function(){return this.filter(Au)},yr.prototype.find=function(t){return this.filter(t).head()},yr.prototype.findLast=function(t){return this.reverse().find(t)},yr.prototype.invokeMap=Ei(function(t,e){return"function"==typeof t?new yr(this):this.map(function(n){return ni(n,t,e)})}),yr.prototype.reject=function(t){return this.filter(aa(Io(t)))},yr.prototype.slice=function(t,e){t=za(t);var n=this;return n.__filtered__&&(t>0||e<0)?new yr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=za(e))<0?n.dropRight(-e):n.take(e-t)),n)},yr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},yr.prototype.toArray=function(){return this.take(D)},qr(yr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=fr[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);i&&(fr.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof yr,l=a[0],c=u||ya(e),h=function(t){var e=i.apply(fr,tn([t],a));return r&&f?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,p=!!this.__actions__.length,d=s&&!f,g=u&&!p;if(!s&&c){e=g?e:new yr(this);var y=t.apply(e,a);return y.__actions__.push({func:js,args:[h],thisArg:o}),new gr(y,f)}return d&&g?t.apply(this,a):(y=this.thru(h),d?r?y.value()[0]:y.value():y)})}),Ye(["pop","push","shift","sort","splice","unshift"],function(t){var e=ie[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);fr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(ya(i)?i:[],t)}return this[n](function(n){return e.apply(ya(n)?n:[],t)})}}),qr(yr.prototype,function(t,e){var n=fr[e];if(n){var r=n.name+"";(rr[r]||(rr[r]=[])).push({name:e,func:n})}}),rr[fo(o,v).name]=[{name:"wrapper",func:o}],yr.prototype.clone=function(){var t=new yr(this.__wrapped__);return t.__actions__=eo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=eo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=eo(this.__views__),t},yr.prototype.reverse=function(){if(this.__filtered__){var t=new yr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},yr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ya(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Gn(e,t+s);break;case"takeRight":t=$n(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,h=c.length,f=0,p=Gn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return zi(t,this.__actions__);var d=[];t:for(;u--&&f<p;){for(var g=-1,y=t[l+=e];++g<h;){var m=c[g],v=m.iteratee,b=m.type,_=v(y);if(b==M)y=_;else if(!_){if(b==R)continue t;break t}}d[f++]=y}return d},fr.prototype.at=zs,fr.prototype.chain=function(){return Bs(this)},fr.prototype.commit=function(){return new gr(this.value(),this.__chain__)},fr.prototype.next=function(){this.__values__===o&&(this.__values__=Ba(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},fr.prototype.plant=function(t){for(var e,n=this;n instanceof dr;){var r=hs(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},fr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof yr){var e=t;return this.__actions__.length&&(e=new yr(this)),(e=e.reverse()).__actions__.push({func:js,args:[xs],thisArg:o}),new gr(e,this.__chain__)}return this.thru(xs)},fr.prototype.toJSON=fr.prototype.valueOf=fr.prototype.value=function(){return zi(this.__wrapped__,this.__actions__)},fr.prototype.first=fr.prototype.head,De&&(fr.prototype[De]=function(){return this}),fr}();Oe._=Fn,(i=function(){return Fn}.call(e,n,e,r))===o||(r.exports=i)}).call(this)}).call(this,n(0),n(26)(t))},function(t,e,n){"use strict";var r=n(27),i=n(30),o=[].slice,s=["keyword","gray","hex"],a={};Object.keys(i).forEach(function(t){a[o.call(i[t].labels).sort().join("")]=t});var u={};function l(t,e){if(!(this instanceof l))return new l(t,e);if(e&&e in s&&(e=null),e&&!(e in i))throw new Error("Unknown model: "+e);var n,c;if(void 0===t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof l)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var h=r.get(t);if(null===h)throw new Error("Unable to parse color from string: "+t);this.model=h.model,c=i[this.model].channels,this.color=h.value.slice(0,c),this.valpha="number"==typeof h.value[c]?h.value[c]:1}else if(t.length){this.model=e||"rgb",c=i[this.model].channels;var p=o.call(t,0,c);this.color=f(p,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var d=Object.keys(t);"alpha"in t&&(d.splice(d.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var g=d.sort().join("");if(!(g in a))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=a[g];var y=i[this.model].labels,m=[];for(n=0;n<y.length;n++)m.push(t[y[n]]);this.color=f(m)}if(u[this.model])for(c=i[this.model].channels,n=0;n<c;n++){var v=u[this.model][n];v&&(this.color[n]=v(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach(function(t){(u[t]||(u[t]=[]))[e]=n}),t=t[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[t]()).color[e]=r,i):(i=this[t]().color[e],n&&(i=n(i)),i)}}function h(t){return function(e){return Math.max(0,Math.min(t,e))}}function f(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in r.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return r.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=i[this.model].channels,n=i[this.model].labels,r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new l(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:c("rgb",0,h(255)),green:c("rgb",1,h(255)),blue:c("rgb",2,h(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:c("hsl",1,h(100)),lightness:c("hsl",2,h(100)),saturationv:c("hsv",1,h(100)),value:c("hsv",2,h(100)),chroma:c("hcg",1,h(100)),gray:c("hcg",2,h(100)),white:c("hwb",1,h(100)),wblack:c("hwb",2,h(100)),cyan:c("cmyk",0,h(100)),magenta:c("cmyk",1,h(100)),yellow:c("cmyk",2,h(100)),black:c("cmyk",3,h(100)),x:c("xyz",0,h(100)),y:c("xyz",1,h(100)),z:c("xyz",2,h(100)),l:c("lab",0,h(100)),a:c("lab",1),b:c("lab",2),keyword:function(t){return arguments.length?new l(t):i[this.model].keyword(this.color)},hex:function(t){return arguments.length?new l(t):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return l.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return n=(n=(n+t)%360)<0?360+n:n,e.color[0]=n,e},mix:function(t,e){var n=t.rgb(),r=this.rgb(),i=void 0===e?.5:e,o=2*i-1,s=n.alpha()-r.alpha(),a=((o*s==-1?o:(o+s)/(1+o*s))+1)/2,u=1-a;return l.rgb(a*n.red()+u*r.red(),a*n.green()+u*r.green(),a*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach(function(t){if(-1===s.indexOf(t)){var e=i[t].channels;l.prototype[t]=function(){if(this.model===t)return new l(this);if(arguments.length)return new l(arguments,t);var n="number"==typeof arguments[e]?e:this.valpha;return new l(function(t){return Array.isArray(t)?t:[t]}(i[this.model][t].raw(this.color)).concat(n),t)},l[t]=function(n){return"number"==typeof n&&(n=f(o.call(arguments),e)),new l(n,t)}}}),t.exports=l},function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,n){var r=n(17),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var s=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in s)if(s.hasOwnProperty(a)){if(!("channels"in s[a]))throw new Error("missing channels property: "+a);if(!("labels"in s[a]))throw new Error("missing channel labels property: "+a);if(s[a].labels.length!==s[a].channels)throw new Error("channel and label counts mismatch: "+a);var u=s[a].channels,l=s[a].labels;delete s[a].channels,delete s[a].labels,Object.defineProperty(s[a],"channels",{value:u}),Object.defineProperty(s[a],"labels",{value:l})}function c(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}s.rgb.hsl=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,s=Math.min(r,i,o),a=Math.max(r,i,o),u=a-s;return a===s?e=0:r===a?e=(i-o)/u:i===a?e=2+(o-r)/u:o===a&&(e=4+(r-i)/u),(e=Math.min(60*e,360))<0&&(e+=360),n=(s+a)/2,[e,100*(a===s?0:n<=.5?u/(a+s):u/(2-a-s)),100*n]},s.rgb.hsv=function(t){var e,n,r,i,o,s=t[0]/255,a=t[1]/255,u=t[2]/255,l=Math.max(s,a,u),c=l-Math.min(s,a,u),h=function(t){return(l-t)/6/c+.5};return 0===c?i=o=0:(o=c/l,e=h(s),n=h(a),r=h(u),s===l?i=r-n:a===l?i=1/3+e-r:u===l&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*l]},s.rgb.hwb=function(t){var e=t[0],n=t[1],r=t[2];return[s.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(n,r))),100*(r=1-1/255*Math.max(e,Math.max(n,r)))]},s.rgb.cmyk=function(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-r,1-i)))/(1-e)||0),100*((1-r-e)/(1-e)||0),100*((1-i-e)/(1-e)||0),100*e]},s.rgb.keyword=function(t){var e=i[t];if(e)return e;var n,o=1/0;for(var s in r)if(r.hasOwnProperty(s)){var a=c(t,r[s]);a<o&&(o=a,n=s)}return n},s.keyword.rgb=function(t){return r[t]},s.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},s.rgb.lab=function(t){var e=s.rgb.xyz(t),n=e[0],r=e[1],i=e[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},s.hsl.rgb=function(t){var e,n,r,i,o,s=t[0]/360,a=t[1]/100,u=t[2]/100;if(0===a)return[o=255*u,o,o];e=2*u-(n=u<.5?u*(1+a):u+a-u*a),i=[0,0,0];for(var l=0;l<3;l++)(r=s+1/3*-(l-1))<0&&r++,r>1&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[l]=255*o;return i},s.hsl.hsv=function(t){var e=t[0],n=t[1]/100,r=t[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[e,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},s.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),s=255*r*(1-n),a=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,s];case 1:return[a,r,s];case 2:return[s,r,u];case 3:return[s,a,r];case 4:return[u,s,r];case 5:return[r,s,a]}},s.hsv.hsl=function(t){var e,n,r,i=t[0],o=t[1]/100,s=t[2]/100,a=Math.max(s,.01);return r=(2-o)*s,n=o*a,[i,100*(n=(n/=(e=(2-o)*a)<=1?e:2-e)||0),100*(r/=2)]},s.hwb.rgb=function(t){var e,n,r,i,o,s,a,u=t[0]/360,l=t[1]/100,c=t[2]/100,h=l+c;switch(h>1&&(l/=h,c/=h),n=1-c,r=6*u-(e=Math.floor(6*u)),0!=(1&e)&&(r=1-r),i=l+r*(n-l),e){default:case 6:case 0:o=n,s=i,a=l;break;case 1:o=i,s=n,a=l;break;case 2:o=l,s=n,a=i;break;case 3:o=l,s=i,a=n;break;case 4:o=i,s=l,a=n;break;case 5:o=n,s=l,a=i}return[255*o,255*s,255*a]},s.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},s.xyz.rgb=function(t){var e,n,r,i=t[0]/100,o=t[1]/100,s=t[2]/100;return n=-.9689*i+1.8758*o+.0415*s,r=.0557*i+-.204*o+1.057*s,e=(e=3.2406*i+-1.5372*o+-.4986*s)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},s.xyz.lab=function(t){var e=t[0],n=t[1],r=t[2];return n/=100,r/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},s.lab.xyz=function(t){var e,n,r,i=t[0],o=t[1],s=t[2];e=o/500+(n=(i+16)/116),r=n-s/200;var a=Math.pow(n,3),u=Math.pow(e,3),l=Math.pow(r,3);return n=a>.008856?a:(n-16/116)/7.787,e=u>.008856?u:(e-16/116)/7.787,r=l>.008856?l:(r-16/116)/7.787,[e*=95.047,n*=100,r*=108.883]},s.lab.lch=function(t){var e,n=t[0],r=t[1],i=t[2];return(e=360*Math.atan2(i,r)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(r*r+i*i),e]},s.lch.lab=function(t){var e,n=t[0],r=t[1];return e=t[2]/360*2*Math.PI,[n,r*Math.cos(e),r*Math.sin(e)]},s.rgb.ansi16=function(t){var e=t[0],n=t[1],r=t[2],i=1 in arguments?arguments[1]:s.rgb.hsv(t)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===i&&(o+=60),o},s.hsv.ansi16=function(t){return s.rgb.ansi16(s.hsv.rgb(t),t[2])},s.rgb.ansi256=function(t){var e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},s.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},s.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},s.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},s.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map(function(t){return t+t}).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},s.rgb.hcg=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,s=Math.max(Math.max(r,i),o),a=Math.min(Math.min(r,i),o),u=s-a;return e=u<1?a/(1-u):0,n=u<=0?0:s===r?(i-o)/u%6:s===i?2+(o-r)/u:4+(r-i)/u+4,n/=6,[360*(n%=1),100*u,100*e]},s.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1,i=0;return(r=n<.5?2*e*n:2*e*(1-n))<1&&(i=(n-.5*r)/(1-r)),[t[0],100*r,100*i]},s.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},s.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],s=e%1*6,a=s%1,u=1-a;switch(Math.floor(s)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},s.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},s.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},s.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},s.hwb.hcg=function(t){var e=t[1]/100,n=1-t[2]/100,r=n-e,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},s.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},s.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},s.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},s.gray.hsl=s.gray.hsv=function(t){return[0,0,t[0]]},s.gray.hwb=function(t){return[0,100,t[0]]},s.gray.cmyk=function(t){return[0,0,0,t[0]]},s.gray.lab=function(t){return[t[0],0,0]},s.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},s.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},function(t,e,n){var r,i,o=n(32),s=n(13),a=n(14).isArray;function u(t){var e=Number(t);if(!isNaN(e))return e;var n=t.toLowerCase();return"true"===n||"false"!==n&&t}function l(t,e){var n;if(r.compact){if(!i[r[t+"Key"]]&&(a(r.alwaysArray)?-1!==r.alwaysArray.indexOf(r[t+"Key"]):r.alwaysArray)&&(i[r[t+"Key"]]=[]),i[r[t+"Key"]]&&!a(i[r[t+"Key"]])&&(i[r[t+"Key"]]=[i[r[t+"Key"]]]),t+"Fn"in r&&"string"==typeof e&&(e=r[t+"Fn"](e,i)),"instruction"===t&&("instructionFn"in r||"instructionNameFn"in r))for(n in e)if(e.hasOwnProperty(n))if("instructionFn"in r)e[n]=r.instructionFn(e[n],n,i);else{var o=e[n];delete e[n],e[r.instructionNameFn(n,o,i)]=o}a(i[r[t+"Key"]])?i[r[t+"Key"]].push(e):i[r[t+"Key"]]=e}else{i[r.elementsKey]||(i[r.elementsKey]=[]);var s={};if(s[r.typeKey]=t,"instruction"===t){for(n in e)if(e.hasOwnProperty(n))break;s[r.nameKey]="instructionNameFn"in r?r.instructionNameFn(n,e,i):n,r.instructionHasAttributes?(s[r.attributesKey]=e[n][r.attributesKey],"instructionFn"in r&&(s[r.attributesKey]=r.instructionFn(s[r.attributesKey],n,i))):("instructionFn"in r&&(e[n]=r.instructionFn(e[n],n,i)),s[r.instructionKey]=e[n])}else t+"Fn"in r&&(e=r[t+"Fn"](e,i)),s[r[t+"Key"]]=e;r.addParent&&(s[r.parentKey]=i),i[r.elementsKey].push(s)}}function c(t){var e;if("attributesFn"in r&&t&&(t=r.attributesFn(t,i)),(r.trim||"attributeValueFn"in r||"attributeNameFn"in r||r.nativeTypeAttributes)&&t)for(e in t)if(t.hasOwnProperty(e)&&(r.trim&&(t[e]=t[e].trim()),r.nativeTypeAttributes&&(t[e]=u(t[e])),"attributeValueFn"in r&&(t[e]=r.attributeValueFn(t[e],e,i)),"attributeNameFn"in r)){var n=t[e];delete t[e],t[r.attributeNameFn(e,t[e],i)]=n}return t}function h(t){var e={};if(t.body&&("xml"===t.name.toLowerCase()||r.instructionHasAttributes)){for(var n,o=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(n=o.exec(t.body));)e[n[1]]=n[2]||n[3]||n[4];e=c(e)}if("xml"===t.name.toLowerCase()){if(r.ignoreDeclaration)return;i[r.declarationKey]={},Object.keys(e).length&&(i[r.declarationKey][r.attributesKey]=e),r.addParent&&(i[r.declarationKey][r.parentKey]=i)}else{if(r.ignoreInstruction)return;r.trim&&(t.body=t.body.trim());var s={};r.instructionHasAttributes&&Object.keys(e).length?(s[t.name]={},s[t.name][r.attributesKey]=e):s[t.name]=t.body,l("instruction",s)}}function f(t,e){var n;if("object"==typeof t&&(e=t.attributes,t=t.name),e=c(e),"elementNameFn"in r&&(t=r.elementNameFn(t,i)),r.compact){var o;if(n={},!r.ignoreAttributes&&e&&Object.keys(e).length)for(o in n[r.attributesKey]={},e)e.hasOwnProperty(o)&&(n[r.attributesKey][o]=e[o]);t in i||(a(r.alwaysArray)?-1===r.alwaysArray.indexOf(t):!r.alwaysArray)||(i[t]=[]),i[t]&&!a(i[t])&&(i[t]=[i[t]]),a(i[t])?i[t].push(n):i[t]=n}else i[r.elementsKey]||(i[r.elementsKey]=[]),(n={})[r.typeKey]="element",n[r.nameKey]=t,!r.ignoreAttributes&&e&&Object.keys(e).length&&(n[r.attributesKey]=e),r.alwaysChildren&&(n[r.elementsKey]=[]),i[r.elementsKey].push(n);n[r.parentKey]=i,i=n}function p(t){r.ignoreText||(t.trim()||r.captureSpacesBetweenElements)&&(r.trim&&(t=t.trim()),r.nativeType&&(t=u(t)),r.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),l("text",t))}function d(t){r.ignoreComment||(r.trim&&(t=t.trim()),l("comment",t))}function g(t){var e=i[r.parentKey];r.addParent||delete i[r.parentKey],i=e}function y(t){r.ignoreCdata||(r.trim&&(t=t.trim()),l("cdata",t))}function m(t){r.ignoreDoctype||(t=t.replace(/^ /,""),r.trim&&(t=t.trim()),l("doctype",t))}function v(t){t.note=t}t.exports=function(t,e){var n=o.parser(!0,{}),a={};if(i=a,r=function(t){return r=s.copyOptions(t),s.ensureFlagExists("ignoreDeclaration",r),s.ensureFlagExists("ignoreInstruction",r),s.ensureFlagExists("ignoreAttributes",r),s.ensureFlagExists("ignoreText",r),s.ensureFlagExists("ignoreComment",r),s.ensureFlagExists("ignoreCdata",r),s.ensureFlagExists("ignoreDoctype",r),s.ensureFlagExists("compact",r),s.ensureFlagExists("alwaysChildren",r),s.ensureFlagExists("addParent",r),s.ensureFlagExists("trim",r),s.ensureFlagExists("nativeType",r),s.ensureFlagExists("nativeTypeAttributes",r),s.ensureFlagExists("sanitize",r),s.ensureFlagExists("instructionHasAttributes",r),s.ensureFlagExists("captureSpacesBetweenElements",r),s.ensureAlwaysArrayExists(r),s.ensureKeyExists("declaration",r),s.ensureKeyExists("instruction",r),s.ensureKeyExists("attributes",r),s.ensureKeyExists("text",r),s.ensureKeyExists("comment",r),s.ensureKeyExists("cdata",r),s.ensureKeyExists("doctype",r),s.ensureKeyExists("type",r),s.ensureKeyExists("name",r),s.ensureKeyExists("elements",r),s.ensureKeyExists("parent",r),s.checkFnExists("doctype",r),s.checkFnExists("instruction",r),s.checkFnExists("cdata",r),s.checkFnExists("comment",r),s.checkFnExists("text",r),s.checkFnExists("instructionName",r),s.checkFnExists("elementName",r),s.checkFnExists("attributeName",r),s.checkFnExists("attributeValue",r),s.checkFnExists("attributes",r),r}(e),n.opt={strictEntities:!0},n.onopentag=f,n.ontext=p,n.oncomment=d,n.onclosetag=g,n.onerror=v,n.oncdata=y,n.ondoctype=m,n.onprocessinginstruction=h,n.write(t).close(),a[r.elementsKey]){var u=a[r.elementsKey];delete a[r.elementsKey],a[r.elementsKey]=u,delete a.text}return a}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";(function(e,r){var i=n(6);t.exports=b;var o,s=n(20);b.ReadableState=v;n(9).EventEmitter;var a=function(t,e){return t.listeners(e).length},u=n(22),l=n(7).Buffer,c=e.Uint8Array||function(){};var h=n(3);h.inherits=n(2);var f=n(36),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var d,g=n(37),y=n(23);h.inherits(b,u);var m=["error","close","destroy","pause","resume"];function v(t,e){o=o||n(1),t=t||{};var r=e instanceof o;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(12).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||n(1),!(this instanceof b))return new b(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function _(t,e,n,r,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,S(t)}(t,s)):(i||(o=function(t,e){var n;(function(t){return l.isBuffer(t)||t instanceof c})(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):x(t,s)):w(t,s,e,!1))):r||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&S(t)),x(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=l.from(t,e),e=""),n=!0),_(this,t,e,!1,n)},b.prototype.unshift=function(t){return _(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return d||(d=n(12).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var E=8388608;function T(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=E?t=E:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(L,t):L(t))}function L(t){p("emit readable"),t.emit("readable"),k(t)}function x(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(C,t,e))}function C(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function P(t){p("readable nexttick read 0"),t.read(0)}function A(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),k(t),e.flowing&&!e.reading&&t.read(0)}function k(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function R(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=l.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function M(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(O,e,t))}function O(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function F(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):S(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&M(this),null;var r,i=e.needReadable;return p("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",i=!0),e.ended||e.reading?p("reading or ended",i=!1):i&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=T(n,e))),null===(r=t>0?R(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&M(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?c:b;function l(e,r){p("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),t.removeListener("close",m),t.removeListener("finish",v),t.removeListener("drain",h),t.removeListener("error",y),t.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",g),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function c(){p("onend"),t.end()}o.endEmitted?i.nextTick(u):n.once("end",u),t.on("unpipe",l);var h=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,k(t))}}(n);t.on("drain",h);var f=!1;var d=!1;function g(e){p("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==F(o.pipes,t))&&!f&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function y(e){p("onerror",e),b(),t.removeListener("error",y),0===a(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",v),b()}function v(){p("onfinish"),t.removeListener("close",m),b()}function b(){p("unpipe"),n.unpipe(t)}return n.on("data",g),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",y),t.once("close",m),t.once("finish",v),t.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=F(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},b.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(P,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(A,t,e))}(this,t)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(p("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause())))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){p("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=R}).call(this,n(0),n(5))},function(t,e,n){t.exports=n(9).EventEmitter},function(t,e,n){"use strict";var r=n(6);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";t.exports=o;var r=n(1),i=n(3);function o(t){if(!(this instanceof o))return new o(t);r.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){a(t,e,n)}):a(this,null,null)}function a(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(2),i.inherits(o,r),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){var r,i,o=n(13),s=n(14).isArray;function a(t,e,n){return(!n&&t.spaces?"\n":"")+Array(e+1).join(t.spaces)}function u(t,e,n){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,i,r));var o,s,u,l,c=[];for(o in t)t.hasOwnProperty(o)&&null!==t[o]&&void 0!==t[o]&&(l=e.noQuotesForNativeAttributes&&"string"!=typeof t[o]?"":'"',s=(s=""+t[o]).replace(/"/g,"&quot;"),u="attributeNameFn"in e?e.attributeNameFn(o,s,i,r):o,c.push(e.spaces&&e.indentAttributes?a(e,n+1,!1):" "),c.push(u+"="+l+("attributeValueFn"in e?e.attributeValueFn(s,o,i,r):s)+l));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&c.push(a(e,n,!1)),c.join("")}function l(t,e,n){return r=t,i="xml",e.ignoreDeclaration?"":"<?xml"+u(t[e.attributesKey],e,n)+"?>"}function c(t,e,n){if(e.ignoreInstruction)return"";var o;for(o in t)if(t.hasOwnProperty(o))break;var s="instructionNameFn"in e?e.instructionNameFn(o,t[o],i,r):o;if("object"==typeof t[o])return r=t,i=s,"<?"+s+u(t[o][e.attributesKey],e,n)+"?>";var a=t[o]?t[o]:"";return"instructionFn"in e&&(a=e.instructionFn(a,o,i,r)),"<?"+s+(a?" "+a:"")+"?>"}function h(t,e){return e.ignoreComment?"":"\x3c!--"+("commentFn"in e?e.commentFn(t,i,r):t)+"--\x3e"}function f(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,i,r):t)+"]]>"}function p(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,i,r):t)+">"}function d(t,e){return e.ignoreText?"":(t=(t=(t=""+t).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,i,r):t)}function g(t,e,n,o){return t.reduce(function(t,s){var l=a(e,n,o&&!t);switch(s.type){case"element":return t+l+function(t,e,n){r=t,i=t.name;var o=[],s="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;o.push("<"+s),t[e.attributesKey]&&o.push(u(t[e.attributesKey],e,n));var a=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&"preserve"===t[e.attributesKey]["xml:space"];return a||(a="fullTagEmptyElementFn"in e?e.fullTagEmptyElementFn(t.name,t):e.fullTagEmptyElement),a?(o.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(o.push(g(t[e.elementsKey],e,n+1)),r=t,i=t.name),o.push(e.spaces&&function(t,e){var n;if(t.elements&&t.elements.length)for(n=0;n<t.elements.length;++n)switch(t.elements[n][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":default:return!0}return!1}(t,e)?"\n"+Array(n+1).join(e.spaces):""),o.push("</"+s+">")):o.push("/>"),o.join("")}(s,e,n);case"comment":return t+l+h(s[e.commentKey],e);case"doctype":return t+l+p(s[e.doctypeKey],e);case"cdata":return t+(e.indentCdata?l:"")+f(s[e.cdataKey],e);case"text":return t+(e.indentText?l:"")+d(s[e.textKey],e);case"instruction":var y={};return y[s[e.nameKey]]=s[e.attributesKey]?s:s[e.instructionKey],t+(e.indentInstruction?l:"")+c(y,e,n)}},"")}function y(t,e,n){var r;for(r in t)if(t.hasOwnProperty(r))switch(r){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||n)return!0;break;case e.cdataKey:if(e.indentCdata||n)return!0;break;case e.instructionKey:if(e.indentInstruction||n)return!0;break;case e.doctypeKey:case e.commentKey:default:return!0}return!1}function m(t,e,n,o,s){r=t,i=e;var l="elementNameFn"in n?n.elementNameFn(e,t):e;if(void 0===t||null===t)return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(e,t)||n.fullTagEmptyElement?"<"+l+"></"+l+">":"<"+l+"/>";var c=[];if(e){if(c.push("<"+l),"object"!=typeof t)return c.push(">"+d(t,n)+"</"+l+">"),c.join("");t[n.attributesKey]&&c.push(u(t[n.attributesKey],n,o));var h=y(t,n,!0)||t[n.attributesKey]&&"preserve"===t[n.attributesKey]["xml:space"];if(h||(h="fullTagEmptyElementFn"in n?n.fullTagEmptyElementFn(e,t):n.fullTagEmptyElement),!h)return c.push("/>"),c.join("");c.push(">")}return c.push(v(t,n,o+1,!1)),r=t,i=e,e&&c.push((s?a(n,o,!1):"")+"</"+l+">"),c.join("")}function v(t,e,n,r){var i,o,u,g=[];for(o in t)if(t.hasOwnProperty(o))for(u=s(t[o])?t[o]:[t[o]],i=0;i<u.length;++i){switch(o){case e.declarationKey:g.push(l(u[i],e,n));break;case e.instructionKey:g.push((e.indentInstruction?a(e,n,r):"")+c(u[i],e,n));break;case e.attributesKey:case e.parentKey:break;case e.textKey:g.push((e.indentText?a(e,n,r):"")+d(u[i],e));break;case e.cdataKey:g.push((e.indentCdata?a(e,n,r):"")+f(u[i],e));break;case e.doctypeKey:g.push(a(e,n,r)+p(u[i],e));break;case e.commentKey:g.push(a(e,n,r)+h(u[i],e));break;default:g.push(a(e,n,r)+m(u[i],o,e,n,y(u[i],e)))}r=r&&!g.length}return g.join("")}t.exports=function(t,e){e=function(t){var e=o.copyOptions(t);return o.ensureFlagExists("ignoreDeclaration",e),o.ensureFlagExists("ignoreInstruction",e),o.ensureFlagExists("ignoreAttributes",e),o.ensureFlagExists("ignoreText",e),o.ensureFlagExists("ignoreComment",e),o.ensureFlagExists("ignoreCdata",e),o.ensureFlagExists("ignoreDoctype",e),o.ensureFlagExists("compact",e),o.ensureFlagExists("indentText",e),o.ensureFlagExists("indentCdata",e),o.ensureFlagExists("indentAttributes",e),o.ensureFlagExists("indentInstruction",e),o.ensureFlagExists("fullTagEmptyElement",e),o.ensureFlagExists("noQuotesForNativeAttributes",e),o.ensureSpacesExists(e),"number"==typeof e.spaces&&(e.spaces=Array(e.spaces+1).join(" ")),o.ensureKeyExists("declaration",e),o.ensureKeyExists("instruction",e),o.ensureKeyExists("attributes",e),o.ensureKeyExists("text",e),o.ensureKeyExists("comment",e),o.ensureKeyExists("cdata",e),o.ensureKeyExists("doctype",e),o.ensureKeyExists("type",e),o.ensureKeyExists("name",e),o.ensureKeyExists("elements",e),o.checkFnExists("doctype",e),o.checkFnExists("instruction",e),o.checkFnExists("cdata",e),o.checkFnExists("comment",e),o.checkFnExists("text",e),o.checkFnExists("instructionName",e),o.checkFnExists("elementName",e),o.checkFnExists("attributeName",e),o.checkFnExists("attributeValue",e),o.checkFnExists("attributes",e),o.checkFnExists("fullTagEmptyElement",e),e}(e);var n=[];return r=t,i="_root_",e.compact?n.push(v(t,e,0,!0)):(t[e.declarationKey]&&n.push(l(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&n.push(g(t[e.elementsKey],e,0,!n.length))),n.join("")}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(17),i=n(28),o={};for(var s in r)r.hasOwnProperty(s)&&(o[r[s]]=s);var a=t.exports={to:{},get:{}};function u(t,e,n){return Math.min(Math.max(e,t),n)}function l(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}a.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=a.get.hsl(t),n="hsl";break;case"hwb":e=a.get.hwb(t),n="hwb";break;default:e=a.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},a.get.rgb=function(t){if(!t)return null;var e,n,i,o=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=e[2],e=e[1],n=0;n<3;n++){var s=2*n;o[n]=parseInt(e.slice(s,s+2),16)}i&&(o[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(i=(e=e[1])[3],n=0;n<3;n++)o[n]=parseInt(e[n]+e[n],16);i&&(o[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(e[n+1],0);e[4]&&(o[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(o=r[e[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(o[3]=parseFloat(e[4]))}for(n=0;n<3;n++)o[n]=u(o[n],0,255);return o[3]=u(o[3],0,1),o},a.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},a.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},a.to.hex=function(){var t=i(arguments);return"#"+l(t[0])+l(t[1])+l(t[2])+(t[3]<1?l(Math.round(255*t[3])):"")},a.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},a.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},a.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},a.to.hwb=function(){var t=i(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},a.to.keyword=function(t){return o[t.slice(0,3)]}},function(t,e,n){"use strict";var r=n(29),i=Array.prototype.concat,o=Array.prototype.slice,s=t.exports=function(t){for(var e=[],n=0,s=t.length;n<s;n++){var a=t[n];r(a)?e=i.call(e,o.call(a)):e.push(a)}return e};s.wrap=function(t){return function(){return t(s(arguments))}}},function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},function(t,e,n){var r=n(18),i=n(31),o={};Object.keys(r).forEach(function(t){o[t]={},Object.defineProperty(o[t],"channels",{value:r[t].channels}),Object.defineProperty(o[t],"labels",{value:r[t].labels});var e=i(t);Object.keys(e).forEach(function(n){var r=e[n];o[t][n]=function(t){var e=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(r),o[t][n].raw=function(t){var e=function(e){return void 0===e||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)})}),t.exports=o},function(t,e,n){var r=n(18);function i(t){var e=function(){for(var t={},e=Object.keys(r),n=e.length,i=0;i<n;i++)t[e[i]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),s=o.length,a=0;a<s;a++){var u=o[a],l=e[u];-1===l.distance&&(l.distance=e[i].distance+1,l.parent=i,n.unshift(u))}return e}function o(t,e){return function(n){return e(t(n))}}function s(t,e){for(var n=[e[t].parent,t],i=r[e[t].parent][t],s=e[t].parent;e[s].parent;)n.unshift(e[s].parent),i=o(r[e[s].parent][s],i),s=e[s].parent;return i.conversion=n,i}t.exports=function(t){for(var e=i(t),n={},r=Object.keys(e),o=r.length,a=0;a<o;a++){var u=r[a];null!==e[u].parent&&(n[u]=s(u,e))}return n}},function(t,e,n){(function(t){!function(e){e.parser=function(t,e){return new o(t,e)},e.SAXParser=o,e.SAXStream=a,e.createStream=function(t,e){return new a(t,e)},e.MAX_BUFFER_LENGTH=65536;var r,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(t,n){if(!(this instanceof o))return new o(t,n);!function(t){for(var e=0,n=i.length;e<n;e++)t[i[e]]=""}(this),this.q=this.c="",this.bufferCheckPosition=e.MAX_BUFFER_LENGTH,this.opt=n||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!t,this.noscript=!(!t&&!this.opt.noscript),this.state=E.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(f)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),S(this,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),o.prototype={end:function(){A(this)},write:function(t){if(this.error)throw this.error;if(this.closed)return P(this,"Cannot write after close. Assign an onready handler.");if(null===t)return A(this);"object"==typeof t&&(t=t.toString());var n=0,r="";for(;r=B(t,n++),this.c=r,r;)switch(this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++),this.state){case E.BEGIN:if(this.state=E.BEGIN_WHITESPACE,"\ufeff"===r)continue;D(this,r);continue;case E.BEGIN_WHITESPACE:D(this,r);continue;case E.TEXT:if(this.sawRoot&&!this.closedRoot){for(var o=n-1;r&&"<"!==r&&"&"!==r;)(r=B(t,n++))&&this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++);this.textNode+=t.substring(o,n-1)}"<"!==r||this.sawRoot&&this.closedRoot&&!this.strict?(m(r)||this.sawRoot&&!this.closedRoot||k(this,"Text data outside of root node."),"&"===r?this.state=E.TEXT_ENTITY:this.textNode+=r):(this.state=E.OPEN_WAKA,this.startTagPosition=this.position);continue;case E.SCRIPT:"<"===r?this.state=E.SCRIPT_ENDING:this.script+=r;continue;case E.SCRIPT_ENDING:"/"===r?this.state=E.CLOSE_TAG:(this.script+="<"+r,this.state=E.SCRIPT);continue;case E.OPEN_WAKA:if("!"===r)this.state=E.SGML_DECL,this.sgmlDecl="";else if(m(r));else if(_(p,r))this.state=E.OPEN_TAG,this.tagName=r;else if("/"===r)this.state=E.CLOSE_TAG,this.tagName="";else if("?"===r)this.state=E.PROC_INST,this.procInstName=this.procInstBody="";else{if(k(this,"Unencoded <"),this.startTagPosition+1<this.position){var s=this.position-this.startTagPosition;r=new Array(s).join(" ")+r}this.textNode+="<"+r,this.state=E.TEXT}continue;case E.SGML_DECL:(this.sgmlDecl+r).toUpperCase()===u?(L(this,"onopencdata"),this.state=E.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+r==="--"?(this.state=E.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+r).toUpperCase()===l?(this.state=E.DOCTYPE,(this.doctype||this.sawRoot)&&k(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===r?(L(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=E.TEXT):v(r)?(this.state=E.SGML_DECL_QUOTED,this.sgmlDecl+=r):this.sgmlDecl+=r;continue;case E.SGML_DECL_QUOTED:r===this.q&&(this.state=E.SGML_DECL,this.q=""),this.sgmlDecl+=r;continue;case E.DOCTYPE:">"===r?(this.state=E.TEXT,L(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=r,"["===r?this.state=E.DOCTYPE_DTD:v(r)&&(this.state=E.DOCTYPE_QUOTED,this.q=r));continue;case E.DOCTYPE_QUOTED:this.doctype+=r,r===this.q&&(this.q="",this.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:this.doctype+=r,"]"===r?this.state=E.DOCTYPE:v(r)&&(this.state=E.DOCTYPE_DTD_QUOTED,this.q=r);continue;case E.DOCTYPE_DTD_QUOTED:this.doctype+=r,r===this.q&&(this.state=E.DOCTYPE_DTD,this.q="");continue;case E.COMMENT:"-"===r?this.state=E.COMMENT_ENDING:this.comment+=r;continue;case E.COMMENT_ENDING:"-"===r?(this.state=E.COMMENT_ENDED,this.comment=C(this.opt,this.comment),this.comment&&L(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+r,this.state=E.COMMENT);continue;case E.COMMENT_ENDED:">"!==r?(k(this,"Malformed comment"),this.comment+="--"+r,this.state=E.COMMENT):this.state=E.TEXT;continue;case E.CDATA:"]"===r?this.state=E.CDATA_ENDING:this.cdata+=r;continue;case E.CDATA_ENDING:"]"===r?this.state=E.CDATA_ENDING_2:(this.cdata+="]"+r,this.state=E.CDATA);continue;case E.CDATA_ENDING_2:">"===r?(this.cdata&&L(this,"oncdata",this.cdata),L(this,"onclosecdata"),this.cdata="",this.state=E.TEXT):"]"===r?this.cdata+="]":(this.cdata+="]]"+r,this.state=E.CDATA);continue;case E.PROC_INST:"?"===r?this.state=E.PROC_INST_ENDING:m(r)?this.state=E.PROC_INST_BODY:this.procInstName+=r;continue;case E.PROC_INST_BODY:if(!this.procInstBody&&m(r))continue;"?"===r?this.state=E.PROC_INST_ENDING:this.procInstBody+=r;continue;case E.PROC_INST_ENDING:">"===r?(L(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=E.TEXT):(this.procInstBody+="?"+r,this.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:_(d,r)?this.tagName+=r:(R(this),">"===r?F(this):"/"===r?this.state=E.OPEN_TAG_SLASH:(m(r)||k(this,"Invalid character in tag name"),this.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:">"===r?(F(this,!0),I(this)):(k(this,"Forward-slash in opening tag not followed by >"),this.state=E.ATTRIB);continue;case E.ATTRIB:if(m(r))continue;">"===r?F(this):"/"===r?this.state=E.OPEN_TAG_SLASH:_(p,r)?(this.attribName=r,this.attribValue="",this.state=E.ATTRIB_NAME):k(this,"Invalid attribute name");continue;case E.ATTRIB_NAME:"="===r?this.state=E.ATTRIB_VALUE:">"===r?(k(this,"Attribute without value"),this.attribValue=this.attribName,O(this),F(this)):m(r)?this.state=E.ATTRIB_NAME_SAW_WHITE:_(d,r)?this.attribName+=r:k(this,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if("="===r)this.state=E.ATTRIB_VALUE;else{if(m(r))continue;k(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",L(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===r?F(this):_(p,r)?(this.attribName=r,this.state=E.ATTRIB_NAME):(k(this,"Invalid attribute name"),this.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(m(r))continue;v(r)?(this.q=r,this.state=E.ATTRIB_VALUE_QUOTED):(k(this,"Unquoted attribute value"),this.state=E.ATTRIB_VALUE_UNQUOTED,this.attribValue=r);continue;case E.ATTRIB_VALUE_QUOTED:if(r!==this.q){"&"===r?this.state=E.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=r;continue}O(this),this.q="",this.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:m(r)?this.state=E.ATTRIB:">"===r?F(this):"/"===r?this.state=E.OPEN_TAG_SLASH:_(p,r)?(k(this,"No whitespace between attributes"),this.attribName=r,this.attribValue="",this.state=E.ATTRIB_NAME):k(this,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!b(r)){"&"===r?this.state=E.ATTRIB_VALUE_ENTITY_U:this.attribValue+=r;continue}O(this),">"===r?F(this):this.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(this.tagName)">"===r?I(this):_(d,r)?this.tagName+=r:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=E.SCRIPT):(m(r)||k(this,"Invalid tagname in closing tag"),this.state=E.CLOSE_TAG_SAW_WHITE);else{if(m(r))continue;w(p,r)?this.script?(this.script+="</"+r,this.state=E.SCRIPT):k(this,"Invalid tagname in closing tag."):this.tagName=r}continue;case E.CLOSE_TAG_SAW_WHITE:if(m(r))continue;">"===r?I(this):k(this,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var a,c;switch(this.state){case E.TEXT_ENTITY:a=E.TEXT,c="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:a=E.ATTRIB_VALUE_QUOTED,c="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:a=E.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===r?(this[c]+=N(this),this.entity="",this.state=a):_(this.entity.length?y:g,r)?this.entity+=r:(k(this,"Invalid character in entity name"),this[c]+="&"+this.entity+r,this.entity="",this.state=a);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),r=0,o=0,s=i.length;o<s;o++){var a=t[i[o]].length;if(a>n)switch(i[o]){case"textNode":x(t);break;case"cdata":L(t,"oncdata",t.cdata),t.cdata="";break;case"script":L(t,"onscript",t.script),t.script="";break;default:P(t,"Max buffer length exceeded: "+i[o])}r=Math.max(r,a)}var u=e.MAX_BUFFER_LENGTH-r;t.bufferCheckPosition=u+t.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function(t){x(t),""!==t.cdata&&(L(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(L(t,"onscript",t.script),t.script="")}(this)}};try{r=n(35).Stream}catch(t){r=function(){}}var s=e.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});function a(t,e){if(!(this instanceof a))return new a(t,e);r.apply(this),this._parser=new o(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,s.forEach(function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e,e;n.on(t,e)},enumerable:!0,configurable:!1})})}a.prototype=Object.create(r.prototype,{constructor:{value:a}}),a.prototype.write=function(e){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(e)){if(!this._decoder){var r=n(12).StringDecoder;this._decoder=new r("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},a.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},a.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||-1===s.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),r.prototype.on.call(n,t,e)};var u="[CDATA[",l="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",f={xml:c,xmlns:h},p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function m(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function v(t){return'"'===t||"'"===t}function b(t){return">"===t||m(t)}function _(t,e){return t.test(e)}function w(t,e){return!_(t,e)}var E=0;for(var T in e.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(t){var n=e.ENTITIES[t],r="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r}),e.STATE)e.STATE[e.STATE[T]]=T;function S(t,e,n){t[e]&&t[e](n)}function L(t,e,n){t.textNode&&x(t),S(t,e,n)}function x(t){t.textNode=C(t.opt,t.textNode),t.textNode&&S(t,"ontext",t.textNode),t.textNode=""}function C(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function P(t,e){return x(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,S(t,"onerror",e),t}function A(t){return t.sawRoot&&!t.closedRoot&&k(t,"Unclosed root tag"),t.state!==E.BEGIN&&t.state!==E.BEGIN_WHITESPACE&&t.state!==E.TEXT&&P(t,"Unexpected end"),x(t),t.c="",t.closed=!0,S(t,"onend"),o.call(t,t.strict,t.opt),t}function k(t,e){if("object"!=typeof t||!(t instanceof o))throw new Error("bad call to strictFail");t.strict&&P(t,e)}function R(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,L(t,"onopentagstart",n)}function M(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),r=n[0],i=n[1];return e&&"xmlns"===t&&(r="xmlns",i=""),{prefix:r,local:i}}function O(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=M(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==c)k(t,"xml: prefix must be bound to "+c+"\nActual: "+t.attribValue);else if("xmlns"===r&&t.attribValue!==h)k(t,"xmlns: prefix must be bound to "+h+"\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,L(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function F(t,e){if(t.opt.xmlns){var n=t.tag,r=M(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(k(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=r.prefix);var i=t.tags[t.tags.length-1]||t;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach(function(e){L(t,"onopennamespace",{prefix:e,uri:n.ns[e]})});for(var o=0,s=t.attribList.length;o<s;o++){var a=t.attribList[o],u=a[0],l=a[1],c=M(u,!0),h=c.prefix,f=c.local,p=""===h?"":n.ns[h]||"",d={name:u,value:l,prefix:h,local:f,uri:p};h&&"xmlns"!==h&&!p&&(k(t,"Unbound namespace prefix: "+JSON.stringify(h)),d.uri=h),t.tag.attributes[u]=d,L(t,"onattribute",d)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),L(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=E.TEXT:t.state=E.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function I(t){if(!t.tagName)return k(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=E.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=E.SCRIPT);L(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--;){if(t.tags[e].name===r)break;k(t,"Unexpected close tag")}if(e<0)return k(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=E.TEXT);t.tagName=n;for(var i=t.tags.length;i-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,L(t,"onclosetag",t.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var u=t.tags[t.tags.length-1]||t;t.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(e){var n=o.ns[e];L(t,"onclosenamespace",{prefix:e,uri:n})})}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=E.TEXT}function N(t){var e,n=t.entity,r=n.toLowerCase(),i="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),i=(e=parseInt(n,16)).toString(16)):(n=n.slice(1),i=(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(e)||i.toLowerCase()!==n?(k(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function D(t,e){"<"===e?(t.state=E.OPEN_WAKA,t.startTagPosition=t.position):m(e)||(k(t,"Non-whitespace before first tag."),t.textNode=e,t.state=E.TEXT)}function B(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}E=e.STATE,String.fromCodePoint||function(){var t=String.fromCharCode,e=Math.floor,n=function(){var n,r,i=[],o=-1,s=arguments.length;if(!s)return"";for(var a="";++o<s;){var u=Number(arguments[o]);if(!isFinite(u)||u<0||u>1114111||e(u)!==u)throw RangeError("Invalid code point: "+u);u<=65535?i.push(u):(n=55296+((u-=65536)>>10),r=u%1024+56320,i.push(n,r)),(o+1===s||i.length>16384)&&(a+=t.apply(null,i),i.length=0)}return a};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(e)}).call(this,n(4).Buffer)},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=l(t),r=n[0],s=n[1],a=new o(function(t,e,n){return 3*(e+n)/4-n}(0,r,s)),u=0,c=s>0?r-4:r,h=0;h<c;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===s&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,a[u++]=255&e);1===s&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(h(t,s,s+16383>a?a:s+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function h(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(c(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+p]=255&s,p+=d,s/=256,l-=8);t[n+p-d]|=128*g}},function(t,e,n){t.exports=i;var r=n(9).EventEmitter;function i(){r.call(this)}n(2)(i,r),i.Readable=n(10),i.Writable=n(43),i.Duplex=n(44),i.Transform=n(45),i.PassThrough=n(46),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function l(t){if(c(),0===r.listenerCount(this,"error"))throw t}function c(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("error",l),t.on("error",l),n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t}},function(t,e){},function(t,e,n){"use strict";var r=n(7).Buffer,i=n(38);function o(t,e,n){t.copy(e,n)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e=r.allocUnsafe(t>>>0),n=this.head,i=0;n;)o(n.data,e,i),i+=n.data.length,n=n.next;return e},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(40),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},s=!1,a=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){c(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&c(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},r=function(e){t.port2.postMessage(e)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var t=a.documentElement;r=function(e){var n=a.createElement("script");n.onreadystatechange=function(){c(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(c,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var s={callback:t,args:e};return o[i]=s,r(i),i++},u.clearImmediate=l}function l(t){delete o[t]}function c(t){if(s)setTimeout(c,0,t);else{var e=o[t];if(e){s=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{l(t),s=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(0),n(5))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(0))},function(t,e,n){"use strict";t.exports=o;var r=n(24),i=n(3);function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(2),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(11)},function(t,e,n){t.exports=n(1)},function(t,e,n){t.exports=n(10).Transform},function(t,e,n){t.exports=n(10).PassThrough},function(t,e,n){var r=n(13),i=n(19);t.exports=function(t,e){var n,o,s;return n=function(t){var e=r.copyOptions(t);return r.ensureSpacesExists(e),e}(e),o=i(t,n),s="compact"in n&&n.compact?"_parent":"parent",("addParent"in n&&n.addParent?JSON.stringify(o,function(t,e){return t===s?"_":e},n.spaces):JSON.stringify(o,null,n.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},function(t,e,n){(function(e){var r=n(25);t.exports=function(t,n){t instanceof e&&(t=t.toString());var i=null;if("string"==typeof t)try{i=JSON.parse(t)}catch(t){throw new Error("The JSON structure is invalid")}else i=t;return r(i,n)}}).call(this,n(4).Buffer)},function(t,e,n){"use strict";n.r(e);class r extends L.Marker{constructor(t,e){super(t,e)}setData(t){this.__data=t}getData(){return this.__data}}var i=n(15),o=n(16);function s(t){return o(t).lighten(.5).hex()}function a(t){return o(t).darken(.3).hex()}function u(...t){if(0===t.length)return{};if(1===t.length)return t[0];const e=Object(i.cloneDeep)(t[0]),n=Object(i.cloneDeep)(t[1]);for(const t in n)t in e&&"[object Object]"===Object.prototype.toString.call(e[t])?e[t]=u(e[t],n[t]):e[t]=n[t];return u(e,...t.slice(2))}function l(t){return null===t}function c(t){return void 0===t}function h(t){return l(t)||c(t)||function(t){return""===t}(t)}const f="#3388FF";class p{constructor(t,e,n,r){if(!Array.isArray(e)||0===e.length)throw new Error("dataList 必须是非空数组");this.defaultOptions={renderType:"point",renderPointColorType:"single",iconType:"unicode",iconSize:[20,20],iconClass:"iconfont",iconColor:f,color:f,iconAnchor:[10,20],popup:!0,tooltip:!0,popupAttr:{label:"名称",value:"name"},tooltipAttr:"name",segmentedColors:[f],classifiedColors:[f],isCluster:!1,renderClusterColorType:"smart",bubbleStrokeWidth:1,bubbleColors:[f],bubbleStrokeOpacity:.2,bubbleFillOpacity:.5,bubbleSizes:[10],heatOptions:{max:1,minOpacity:.5}},this.type="marker",this.map=t,this.dataList=e,this.options=n,this.channelFunc=r,this.visible=!0,this.layer=null,this.focusedMarker=null,this.hoveredMarker=null,this.focusedDisplayMarker=null,this.markers=[],this.markerLayer=null,this.heatLayer=null,this.clusterLayer=null,this.bubbleLayer=null,this.segmentedMin=1/0,this.segmentedStep=1,this.bubbledSizeMin=1/0,this.bubbledSizeStep=1,this.classifiedColorMap={},this.bubbledColorMap={},this.initOptions(n),this.initEvents()}draw(t){if(this.visible)return this.initOptions(t),this.initMarkers(),this.initEvents(),this.redraw()}redraw(){if(this.layer&&this.layer.remove(),this.options.isCluster&&"point"===this.options.renderType)this.layer=this.configClusterLayer();else switch(this.options.renderType){case"point":this.layer=this.configMarkerLayer();break;case"cluster":this.layer=this.configClusterLayer();break;case"heat":this.layer=this.configHeatLayer();break;case"bubble":this.layer=this.configBubbleLayer();break;default:throw new Error(`renderType 不支持"${this.options.renderType}"`)}return this.map.addLayer(this.layer),this}setData(t){this.dataList=t}setOptions(t,e=!1){this.options=u(this.options,t),e&&this.redraw()}getOptions(){return this.options}fitBounds(){this.map.fitBounds(this.getBounds(),{padding:[20,20]})}getBounds(){return this.markers.length<=0?this.map.getBounds():this.markers.map(t=>[t.getLatLng().lat,t.getLatLng().lng])}destroy(){this.layer&&this.map.removeLayer(this.layer),this.focusedDisplayMarker&&this.map.removeLayer(this.focusedDisplayMarker),this.map.off("zoomstart",this._zoomStartCb,this),this.map.off("zoomend",this._zoomEndCb,this)}toggleVisible(t){this.visible=t,this.layer&&(t?this.map.addLayer(this.layer):(this.focusedDisplayMarker&&this.focusedDisplayMarker.remove(),this.map.removeLayer(this.layer)))}changeColor(t){this.options.color=t,this.options.iconColor=t,this.redraw()}changeIcon(t){this.options.iconUnicode=t,this.redraw()}pitch(t){this.markers.forEach(e=>{e.getData().id!==t||this.markerClickHandler(e,!0)})}getSegmentedColorRefs(){if(!Number.isFinite(this.segmentedMin)||!Number.isFinite(this.segmentedStep))return[];this.segmentedRefs=[];const t=this.options.segmentedColors.length;for(let e=0;e<t;e++){const t=this.segmentedMin+e*this.segmentedStep,n=t+this.segmentedStep;this.segmentedRefs.push({range:[t,n],color:this.options.segmentedColors[e]})}return this.segmentedRefs}getClassifiedColorRefs(){return this.classifiedColorRefs}getBubbledColorRefs(){return this.bubbledColorRefs}getBubbledSizeRefs(){this.bubbledSizeRefs=[];const t=this.options.bubbleSizes.length;for(let e=0;e<t;e++){const t=this.bubbledSizeMin+e*this.bubbledSizeStep,n=t+this.bubbledSizeStep;this.bubbledSizeRefs.push({range:[t,n],size:this.options.bubbleSizes[e]})}return this.bubbledSizeRefs}_zoomStartCb(){if(this.visible)if("marker"===this.type)switch(this.options.renderType){case"point":if(this.options.isCluster)return;this.markerLayer&&this.map.removeLayer(this.markerLayer);break;case"bubble":this.bubbleLayer&&this.map.removeLayer(this.bubbleLayer);break;default:return}else{if("markerBuffer"!==this.type)return;this.map.removeLayer(this.markerLayer)}}_zoomEndCb(){if(this.visible)if("marker"===this.type)switch(this.options.renderType){case"point":if(this.options.isCluster)return;this.markerLayer&&this.map.addLayer(this.markerLayer);break;case"bubble":this.bubbleLayer&&this.map.addLayer(this.bubbleLayer);break;default:return}else{if("markerBuffer"!==this.type)return;this.map.addLayer(this.markerLayer)}}configMarkerLayer(){this.markerLayer&&(this.markerLayer.remove(),this.map.removeLayer(this.markerLayer));const t=L.canvasIconLayer({}).addTo(this.map);return t.addOnClickListener((t,[{data:e}])=>{this.markerClickHandler(e)}),t.addOnContextmenuListener((t,[{data:e}])=>{this.channelFunc("contextmenu",{event:t,target:e})}),this.options.tooltip&&t.addOnHoverListener((t,[{data:e}])=>{this.hoveredMarker&&this.hoveredMarker.closeTooltip(),this.hoveredMarker=e,this.hoveredMarker.getTooltip()?this.hoveredMarker.openTooltip():this.options.tooltipAttr&&this.hoveredMarker.bindTooltip(""+this.hoveredMarker.getData()[this.options.tooltipAttr])}),this.markerLayer=t,this.markerLayer.addMarkers(this.markers),this.map.panTo(this.map.getCenter()),this.markerLayer}getToolTipContent(t){return""+t[this.options.tooltipAttr]}initOptions(t){this.options=u(this.defaultOptions,this.options,t),this.options.color=this.options.color||this.options.iconColor}initMarkers(){this.cacheSegmentParams(),this.cacheClassifyParams(),this.cacheBubbleParams(),this.markers=[],this.dataList.forEach(t=>{const e=L.geoJSON(t.geometry).getLayers()[0],n=new r([e.getLatLng().lat,e.getLatLng().lng],{icon:this.getMarkerIcon(t)});n.setData(t),this.markers.push(n)})}initEvents(){this.map.on("zoomstart",this._zoomStartCb,this),this.map.on("zoomend",this._zoomEndCb,this)}getClassifyMarkerColor(t){return this.classifiedColorMap[t[this.options.classifiedAttr]]}getSegmentedMarkerColor(t){const e=t[this.options.segmentedAttr];return this.options.segmentedColors[parseInt(""+(e-this.segmentedMin)/this.segmentedStep,10)]}markerClickHandler(t,e){this.focusedMarker=t,this.options.popup&&(this.focusedDisplayMarker&&this.focusedDisplayMarker.removeFrom(this.map),this.focusedDisplayMarker=new r(t.getLatLng(),{icon:this.getLargerMarkerIcon(t.getData())}),this.focusedDisplayMarker.addTo(this.map),this.focusedDisplayMarker.bindPopup(this.getPopupContent(t.getData())).openPopup(),this.focusedDisplayMarker.on("popupclose",()=>{this.focusedDisplayMarker.remove()})),t.closeTooltip(),this.map.panTo(this.focusedMarker.getLatLng()),e&&this.map.fitBounds(t.getLatLng().toBounds(10)),this.channelFunc("on-click-marker",t)}configClusterLayer(){return this.clusterLayer&&this.clusterLayer.remove(),this.clusterLayer=L.markerClusterGroup({iconCreateFunction:this.iconCreateFunction.bind(this)}),this.clusterLayer.addLayers(this.markers.map(t=>{const e=new r(t.getLatLng(),{icon:this.getMarkerIcon(t.getData())});return e.setData(t.getData()),e.bindTooltip(""+e.getData()[this.options.tooltipAttr]),e.bindPopup(this.getPopupContent(e.getData())),e.on("click",()=>{this.markerClickHandler(e)}),e})),this.clusterLayer}configHeatLayer(){this.heatLayer&&this.heatLayer.remove();const t=[];return this.markers.forEach(e=>{const n=e.getLatLng(),r=this.options.heatOptions&&this.options.heatOptions.dimensionAttr;let i=r&&e.getData()[r]||this.options.heatOptions.max;"number"!=typeof i&&(i=this.options.heatOptions.max),t.push(i),e.setLatLng(L.latLng(n.lat,n.lng,i))}),this.heatLayer=L.heatLayer(this.markers.map((e,n)=>[e.getLatLng().lat,e.getLatLng().lng,t[n]]),u({minOpacity:.5},this.options.heatOptions)),this.heatLayer}configBubbleLayer(){return this.bubbleLayer&&this.bubbleLayer.remove(),this.bubbleLayer=L.layerGroup(),this.markers.forEach(t=>{const e=this.getBubbledMarkerSize(t.getData()),n=this.getBubbledMarkerColor(t.getData()),r=this.options.bubbleStrokeColor||s(n),i=this.options.bubbleStrokeWidth,o=this.options.bubbleStrokeOpacity,a=this.options.bubbleFillOpacity,u=L.circleMarker(t.getLatLng(),{radius:e,color:r,fillColor:n,weight:i,opacity:o,fillOpacity:a});this.options.popup&&u.bindPopup(this.getPopupContent(t.getData())),this.options.tooltip&&u.bindTooltip(this.getToolTipContent(t.getData())),this.bubbleLayer.addLayer(u)}),this.bubbleLayer}getLargerMarkerIcon(t){return this._getMarkerIcon(t,!0)}getMarkerIcon(t){return this._getMarkerIcon(t,!1)}_getMarkerIcon(t,e){const n=this.options.iconSize,r=this.options.iconAnchor,i=[1.5*n[0],1.5*n[1]],o=[1.5*r[0],1.5*r[1]],s=this.options.color||this.options.iconColor;switch(this.options.iconType){case"image":case"font_class":case"symbol":case"unicode":return L.divIcon({html:this.getCustomIconHTML(t,{iconSize:e?i:n,iconColor:s}),className:e?"large-div-icon-marker":"",iconSize:e?i:n,iconAnchor:e?o:r,tooltipAnchor:e?[0,-o[1]/2]:[0,-r[1]/2],popupAnchor:e?[0,-o[1]/2]:[0,-r[1]/2]});default:throw new Error(`renderType 不能为 ${this.options.iconType}`)}}getCustomIconHTML(t,e){if(this.options.iconRenderer)return e=Object.assign({},this.options,e),this.options.iconRenderer(t,e);let n=this.options.color||this.options.iconColor;switch(this.options.renderPointColorType){case"single":n=this.options.color||this.options.iconColor;break;case"classified":n=this.getClassifyMarkerColor(t);break;case"segmented":n=this.getSegmentedMarkerColor(t);break;default:throw new Error(`renderPointColorType 不支持"${this.options.renderPointColorType}"`)}switch(this.options.iconType){case"font_class":return`\n          <i class="${this.options.iconClass}"\n            style="\n              color: ${n};\n              font-size: ${e.iconSize[0]}px;\n            "\n            />\n        `;case"symbol":return`\n          <svg class="icon-symbol" aria-hidden="true">\n            <use xlink:href="${this.options.iconSymbol}" />\n          </svg>\n        `;case"unicode":return`\n          <i\n            class="${this.options.iconClass}"\n            style="\n              color: ${n};\n              font-size: ${e.iconSize[0]}px;\n            "\n            >\n            ${this.options.iconUnicode}\n          </i>\n        `}}cacheClassifyParams(){if(!this.options.classifiedAttr)return;const t={},e=this.options.classifiedAttr;this.dataList.forEach(n=>{n[e]in t?t[n[e]]=[n[e],t[n[e]][1]+1]:t[n[e]]=[n[e],1]});const n=Object.values(t);n.sort((t,e)=>e[1]-t[1]),this.classifiedColorRefs=[];let r=0;n.forEach(([t,e],n)=>{let i=f;n<this.options.classifiedColors.length&&(i=this.options.classifiedColors[n]),this.classifiedColorMap[t]=i,n<this.options.classifiedColors.length?this.classifiedColorRefs.push({attr:t,color:i,nums:e}):r+=e}),r>0&&this.classifiedColorRefs.push({attr:"其它",color:f,nums:r})}cacheBubbleParams(){if(!this.options.bubbleSizeAttr)return;const t=this.options.bubbleSizes.length;let e=-1/0,n=1/0;for(const t of this.dataList){const r=t[this.options.bubbleSizeAttr];void 0!==r&&(e=Math.max(e,r),n=Math.min(n,r))}const r=(e-n+1)/t;if(this.bubbledSizeMin=n,this.bubbledSizeStep=r,!this.options.bubbleColorAttr)return;const i={},o=this.options.bubbleColorAttr;this.dataList.forEach(t=>{t[o]in i?i[t[o]]=[t[o],i[t[o]][1]+1]:i[t[o]]=[t[o],1]});const s=Object.values(i);s.sort((t,e)=>e[1]-t[1]),this.bubbledColorRefs=[];let a=0;s.forEach(([t,e],n)=>{let r=f;n<this.options.bubbleColors.length?(r=this.options.bubbleColors[n],this.bubbledColorRefs.push({attr:t,color:r,nums:e})):a+=e,this.bubbledColorMap[t]=r}),this.options.bubbleColors.length<s.length&&this.bubbledColorRefs.push({attr:"其他",color:f,nums:a})}cacheSegmentParams(){const t=this.options.segmentedColors.length;let e=-1/0,n=1/0;for(const t of this.dataList){const r=t[this.options.segmentedAttr];void 0!==r&&(e=Math.max(e,r),n=Math.min(n,r))}const r=Math.ceil((e-n+1)/t);this.segmentedMin=n,this.segmentedStep=r}getBubbledMarkerSize(t){const e=t[this.options.bubbleSizeAttr];return this.options.bubbleSizes[parseInt(""+(e-this.bubbledSizeMin)/this.bubbledSizeStep,10)]}getBubbledMarkerColor(t){return this.bubbledColorMap[t[this.options.bubbleColorAttr]]}getPopupContent(t){return this.options.popupAttr?"string"==typeof this.options.popupAttr?`${this.options.popupAttr}: ${t[this.options.popupAttr]}`:"object"==typeof this.options.popupAttr?`${this.options.popupAttr.label}: ${t[this.options.popupAttr.value]}`:void 0:""}iconCreateFunction(t){const e=["#757472","#5093E2","#CB7987","#FC763B"],n=this.dataList.length/e.length,r=.25/e.length;let i=this.options.color||this.options.iconColor,o=1;return"smart"===this.options.renderClusterColorType&&(i=e[Math.floor((t.getChildCount()-1)/n)],o=(Math.floor((t.getChildCount()-1)/n)+1)*r+.75),L.divIcon({html:`\n       <div\n        style="\n          border-radius: 50%;\n          position: relative;\n          width: 50px;\n          height: 50px;\n          transform: scale3d(${o}, ${o}, 1)\n        "\n        >\n        <div\n          style="\n            border-radius: 50%;\n            background: ${s(i)};\n            width: 50px;\n            height: 50px;\n            opacity: 0.7;\n            position: absolute;\n            top: 0;\n            left: 0;\n            ">\n        </div>\n        <div\n          style="\n            border-radius: 50%;\n            background: ${i};\n            opacity: 0.8;\n            width: 32px;\n            height: 32px;\n            margin: 9px;\n          ">\n        </div>\n        <div\n          style="\n            text-align: center;\n            line-height: 32px;\n            position: absolute;\n            top: 9px;\n            left: 9px;\n            width: 32px;\n            height: 32px;\n            color: white;\n            font-size: 14px;\n          "\n          >\n          ${t.getChildCount()}\n        </div>\n       </div>\n      `,iconSize:[40,40]})}}class d extends p{constructor(t,e,n,r){super(t,e,n,r),this.type="markerBuffer";this.options=u(this.options,{bufferOptions:{radius:1e3,stroke:!0,weight:1}},JSON.parse(JSON.stringify(n)))}draw(t){return this.options=u(this.options,t),this.options.bufferOptions.color=this.options.color||this.options.iconColor,this.initMarkers(),this.redraw()}redraw(){if(this.visible)return this.markerLayer&&this.map.removeLayer(this.markerLayer),this.bufferLayer&&this.map.removeLayer(this.bufferLayer),this.markerLayer=this.configMarkerLayer(),this.bufferLayer=this.configBufferLayer(),this.layer=L.layerGroup(),this.layer.addLayer(this.markerLayer),this.layer.addLayer(this.bufferLayer),this.map.addLayer(this.layer),this}getBounds(){return this.markers.length<=0?this.map.getBounds():this.markers.reduce((t,e)=>t.extend(e.getLatLng().toBounds(this.options.bufferOptions.radius)),this.markers[0].getLatLng().toBounds(this.options.bufferOptions.radius))}configBufferLayer(){const t=L.layerGroup();return this.markers.forEach(e=>{const n=L.circle(e.getLatLng(),u(this.options.bufferOptions,{color:"segmented"===this.options.renderPointColorType?this.getSegmentedMarkerColor(e.getData()):this.options.bufferOptions.color}));if(this.options.bufferTooltipAttr)n.bindTooltip(""+e.getData()[this.options.bufferTooltipAttr]);else switch(typeof this.options.popupAttr){case"string":n.bindTooltip(""+e.getData()[this.options.popupAttr]);break;case"object":n.bindTooltip(""+e.getData()[this.options.popupAttr.value])}t.addLayer(n)}),t}}class g extends L.Polyline{constructor(t,e){super(t,e)}setData(t){this.__data=t}getData(){return this.__data}}const y="#3388FF";class m{constructor(t,e,n,r){if(!Array.isArray(e)||0===e.length)throw new Error("dataList 必须是非空数组");this.defaultOptions={color:y,renderPolylineColorType:"single",segmentedColors:[y],popupAttr:{label:"名称",value:"name"},tooltipAttr:"name",classifiedColors:[y]},this.type="polyline",this.map=t,this.dataList=e,this.options=u(this.defaultOptions,n),this.channelFunc=r,this.visible=!0,this.polylines=[],this.segmentedMin=1/0,this.segmentedStep=1,this.classifyColorMap={},this.focusedPolyline=null,this.focusedDisplayPolyline=null}draw(t){if(this.visible)return this.initOptions(t),this.initPolylines(),this.redraw()}redraw(){return this.layer&&this.layer.remove(),this.layer=this.configPolylineLayer(),this.map.addLayer(this.layer),this}getOptions(){return this.options}fitBounds(){this.map.fitBounds(this.getBounds(),{padding:[20,20]})}getBounds(){return this.polylines.length<=0?this.map.getBounds():this.polylines.reduce((t,e)=>t.extend(e.getBounds()),L.latLngBounds(this.polylines[0].getBounds().getNorthEast(),this.polylines[0].getBounds().getSouthWest()))}destroy(){this.layer&&this.map.removeLayer(this.layer)}toggleVisible(t){this.visible=t,this.layer&&(t?this.map.addLayer(this.layer):(this.focusedDisplayPolyline&&this.focusedDisplayPolyline.remove(),this.map.removeLayer(this.layer)))}changeColor(t){this.options.fillColor=t,this.redraw()}pitch(t){this.polylines.forEach(e=>{e.getData().id!==t||this.polylineClickHandler(e,!0)})}getClassifiedColorRefs(){return this.classifyColorRefs}getSegmentedColorRefs(){if(!Number.isFinite(this.segmentedMin)||!Number.isFinite(this.segmentedStep))return[];this.segmentedRefs=[];const t=this.options.segmentedColors.length;for(let e=0;e<t;e++){const t=this.segmentedMin+e*this.segmentedStep,n=t+this.segmentedStep;this.segmentedRefs.push({range:[t,n],color:this.options.segmentedColors[e]})}return this.segmentedRefs}initOptions(t){this.options=u(this.defaultOptions,this.options,t)}initPolylines(){this.cacheSegmentParams(),this.cacheClassifyParams(),this.polylines=this.dataList.map(t=>{const e=L.geoJSON(t.geometry).getLayers()[0],n=new g(e.getLatLngs());return n.setData(t),n})}getSegmentedPolylineColor(t){const e=t[this.options.segmentedAttr];return this.options.segmentedColors[parseInt(""+(e-this.segmentedMin)/this.segmentedStep,10)]}polylineClickHandler(t,e){this.focusedPolyline=t,this.focusedDisplayPolyline&&this.focusedDisplayPolyline.remove(),this.focusedDisplayPolyline=new g(t.getLatLngs(),{color:this.getColor(t.getData()),fillColor:this.getColor(t.getData(),"normal")}),this.focusedDisplayPolyline.addTo(this.map),this.focusedDisplayPolyline.bindPopup(this.getPopupContent(t.getData())).openPopup(),this.focusedDisplayPolyline.on("popupclose",()=>{this.focusedDisplayPolyline.remove()}),t.closeTooltip(),this.map.panTo(this.focusedDisplayPolyline.getCenter()),e&&this.map.fitBounds(t.getBounds()),this.channelFunc("on-click-polyline",t)}getToolTipContent(t){return""+t[this.options.tooltipAttr]}getPopupContent(t){return this.options.popupAttr?"string"==typeof this.options.popupAttr?`${this.options.popupAttr}: ${t[this.options.popupAttr]}`:"object"==typeof this.options.popupAttr?`${this.options.popupAttr.label}: ${t[this.options.popupAttr.value]}`:void 0:""}configPolylineLayer(){return this.polylineLayer=L.layerGroup(),this.polylines.forEach(t=>{const e=u({},this.options,{color:this.getColor(t.getData())}),n=new g(t.getLatLngs(),e);n.on("click",()=>{this.polylineClickHandler(t)}),n.on("contextmenu",t=>{this.channelFunc("contextmenu",{event:t,target:n})}),n.setData(t.getData()),this.options.tooltipAttr&&n.bindTooltip(this.getToolTipContent(n.getData())),this.polylineLayer.addLayer(n)}),this.polylineLayer}cacheClassifyParams(){if(!this.options.classifiedAttr)return;const t={},e=this.options.classifiedAttr;this.dataList.forEach(n=>{n[e]in t?t[n[e]]=[n[e],t[n[e]][1]+1]:t[n[e]]=[n[e],1]});const n=Object.values(t);n.sort((t,e)=>e[1]-t[1]),this.classifyColorRefs=[];let r=0;n.forEach(([t,e],n)=>{let i=y;n<this.options.classifiedColors.length?(i=this.options.classifiedColors[n],this.classifyColorRefs.push({attr:t,color:i,nums:e})):r+=e,this.classifyColorMap[t]=i}),this.options.classifiedColors.length<n.length&&this.classifyColorRefs.push({attr:"其他",color:y,nums:r})}getClassifyPolylineColor(t){return this.classifyColorMap[t[this.options.classifiedAttr]]}cacheSegmentParams(){const t=this.options.segmentedColors.length;let e=-1/0,n=1/0;for(const t of this.dataList){const r=t[this.options.segmentedAttr];void 0!==r&&(e=Math.max(e,r),n=Math.min(n,r))}const r=Math.ceil((e-n+1)/t);this.segmentedMin=n,this.segmentedStep=r}getColor(t,e){let n=this.options.color;switch("segmented"===this.options.renderPolylineColorType&&(n=this.getSegmentedPolylineColor(t)),"classified"===this.options.renderPolylineColorType&&(n=this.getClassifyPolylineColor(t)),e){case"darken":return a(n);case"lighten":return s(n);default:return n}}}class v extends m{constructor(t,e,n,r){super(t,e,n,r);this.type="polylineBuffer",this.map=t,this.dataList=e,this.options=n,this.channelFunc=r,this.visible=!0,this.polylines=[],this.segmentedMin=1/0,this.segmentedStep=1,this.options=Object.assign({},{renderPolylineColorType:"single",segmentedColors:["#3388FF"],corridor:100,color:"#3388FF",opacity:.5},n)}draw(t){return this.options=Object.assign(this.options,t),this.initPolylines(),this.redraw()}redraw(){if(this.visible)return this.layer&&this.layer.remove(),this.layer=this.configPolylineBufferLayer(),this.map.addLayer(this.layer),this}fitBounds(){this.map.fitBounds(this.getBounds())}getBounds(){return this.polylines.length<=0?this.map.getBounds():this.polylines.reduce((t,e)=>t.extend(e.getBounds()),this.polylines[0].getBounds())}changeColor(t){this.options.color=t,this.redraw()}configPolylineBufferLayer(){return this.polylineLayer=L.layerGroup(),this.polylines.forEach(t=>{const e=Object.assign({},this.options,{color:"single"===this.options.renderPolylineColorType?this.options.color:this.getSegmentedPolylineColor(t.getData())}),n=L.corridor(t.getLatLngs().map(t=>L.latLng([t.lat,t.lng])),e);this.options.tooltipAttr&&n.bindTooltip(this.getToolTipContent(t.getData())),this.options.popupAttr&&n.bindPopup(this.getPopupContent(t.getData())),this.polylineLayer.addLayer(n)}),this.polylineLayer}}class b extends L.Polygon{constructor(t,e){super(t,e)}setData(t){this.__data=t}getData(){return this.__data}}const _="#72AFDF";class w{constructor(t,e,n,r){if(!Array.isArray(e)||0===e.length)throw new Error("dataList 必须是非空数组");this.defaultOptions={popupAttr:{label:"名称",value:"name"},tooltipAttr:"name",color:_,fill:!0,fillColor:_,weight:1,opacity:1,fillOpacity:.4,renderPolygonColorType:"single",segmentedColors:[_],classifiedColors:[_]},this.type="polygon",this.map=t,this.dataList=e,this.options=u(this.defaultOptions,n),this.channelFunc=r,this.visible=!0,this.polygons=[],this.segmentedMin=1/0,this.segmentedStep=1,this.classifyColorMap={},this.focusedPolygon=null,this.focusedDisplayPolygon=null}draw(t){if(this.visible)return this.initOptions(t),this.initPolygons(),this.initEvent(),this.redraw()}redraw(){return this.layer&&this.layer.remove(),this.layer=this.configPolygonLayer(),this.map.addLayer(this.layer),this}getOptions(){return this.options}fitBounds(){this.map.fitBounds(this.getBounds(),{padding:[20,20]})}getBounds(){return this.polygons.length<=0?this.map.getBounds():this.polygons.reduce((t,e)=>t.extend(e.getBounds()),L.latLngBounds(this.polygons[0].getBounds().getNorthEast(),this.polygons[0].getBounds().getSouthWest()))}destroy(){this.layer&&this.map.removeLayer(this.layer),this.focusedDisplayPolygon&&this.map.removeLayer(this.focusedDisplayPolygon)}toggleVisible(t){this.visible=t,this.layer&&(t?this.map.addLayer(this.layer):(this.focusedDisplayPolygon&&this.focusedDisplayPolygon.remove(),this.map.removeLayer(this.layer)))}changeColor(t){this.options.fillColor=t,this.redraw()}pitch(t){this.polygons.forEach(e=>{e.getData().id!==t||this.polygonClickHandler(e,!0)})}getSegmentedColorRefs(){if(!Number.isFinite(this.segmentedMin)||!Number.isFinite(this.segmentedStep))return[];this.segmentedRefs=[];const t=this.options.segmentedColors.length;for(let e=0;e<t;e++){const t=this.segmentedMin+e*this.segmentedStep,n=t+this.segmentedStep;this.segmentedRefs.push({range:[t,n],color:this.options.segmentedColors[e]})}return this.segmentedRefs}getClassifiedColorRefs(){return this.classifyColorRefs}initEvent(){}getToolTipContent(t){return""+t[this.options.tooltipAttr]}getPopupContent(t){return this.options.popupAttr?"string"==typeof this.options.popupAttr?`${this.options.popupAttr}: ${t[this.options.popupAttr]}`:"object"==typeof this.options.popupAttr?`${this.options.popupAttr.label}: ${t[this.options.popupAttr.value]}`:void 0:""}cacheClassifyParams(){if(!this.options.classifiedAttr)return;const t={},e=this.options.classifiedAttr;this.dataList.forEach(n=>{n[e]in t?t[n[e]]=[n[e],t[n[e]][1]+1]:t[n[e]]=[n[e],1]});const n=Object.values(t);n.sort((t,e)=>e[1]-t[1]),this.classifyColorRefs=[];let r=0;n.forEach(([t,e],n)=>{let i=_;n<this.options.classifiedColors.length?(i=this.options.classifiedColors[n],this.classifyColorRefs.push({attr:t,color:i,nums:e})):r+=e,this.classifyColorMap[t]=i}),this.classifyColorRefs.push({attr:"其他",color:_,nums:r})}getClassifyPolygonColor(t){return this.classifyColorMap[t[this.options.classifiedAttr]]}cacheSegmentParams(){const t=this.options.segmentedColors.length;let e=-1/0,n=1/0;for(const t of this.dataList){const r=t[this.options.segmentedAttr];void 0!==r&&(e=Math.max(e,r),n=Math.min(n,r))}const r=Math.ceil((e-n+1)/t);this.segmentedMin=n,this.segmentedStep=r}getSegmentedPolygonColor(t){const e=t[this.options.segmentedAttr];return this.options.segmentedColors[parseInt(""+(e-this.segmentedMin)/this.segmentedStep,10)]}polygonClickHandler(t,e){this.focusedPolygon=t,this.focusedDisplayPolygon&&this.focusedDisplayPolygon.remove(),this.focusedDisplayPolygon=new b(t.getLatLngs(),{color:this.getColor(t.getData(),"darken"),fillColor:this.getColor(t.getData())}),this.focusedDisplayPolygon.addTo(this.map),this.focusedDisplayPolygon.bindPopup(this.getPopupContent(t.getData())).openPopup(),this.focusedDisplayPolygon.on("popupclose",()=>{this.focusedDisplayPolygon.remove()}),t.closeTooltip(),this.map.panTo(this.focusedDisplayPolygon.getCenter()),e&&this.map.fitBounds(t.getBounds()),this.channelFunc("on-click-polygon",t)}initOptions(t){this.options=u(this.defaultOptions,this.options,t)}initPolygons(){this.cacheSegmentParams(),this.cacheClassifyParams(),this.polygons=[],this.dataList.forEach(t=>{const e=L.geoJSON(t.geometry).getLayers()[0],n=new b(e.getLatLngs());n.setData(t),this.polygons.push(n)})}configPolygonLayer(){return this.polygonLayer=L.layerGroup(),this.polygons=this.polygons.map(t=>{const e=u({},this.options,{color:this.getColor(t.getData(),"darken"),fillColor:this.getColor(t.getData())}),n=new b(t.getLatLngs(),e);return n.setData(t.getData()),this.options.tooltipAttr&&n.bindTooltip(this.getToolTipContent(n.getData())),n.on("click",()=>{this.polygonClickHandler(t)}),n.on("contextmenu",t=>{this.channelFunc("contextmenu",{event:t,target:n})}),n}),this.polygons.forEach(t=>{this.polygonLayer.addLayer(t)}),this.polygonLayer}getColor(t,e){let n=this.options.color;switch("segmented"===this.options.renderPolygonColorType&&(n=this.getSegmentedPolygonColor(t)),"classified"===this.options.renderPolygonColorType&&(n=this.getClassifyPolygonColor(t)),e){case"darken":return a(n);case"lighten":return s(n);default:return n}}}class E extends w{constructor(t,e,n,r){super(t,e,n,r),this.propMaxLength=-1}redraw(){if(this.visible)return this.layer&&this.layer.remove(),this.layer=this.configGridLayer(),this.map.addLayer(this.layer),this.configTooltip(),setTimeout(()=>{this.zoomHandler()},200),this}toggleTooltip(t){this.polygons.forEach(e=>{e.getTooltip()&&e.getTooltip().setOpacity(t?1:0)})}initEvent(){this.map.on("zoom",this.zoomHandler.bind(this))}configTooltip(){this.propMaxLength=this.getPropMaxLength(),this.options.tooltipAttr&&this.polygons.forEach(t=>{t.bindTooltip(this.getToolTipContent(t.getData()),{permanent:!0,direction:"center"})})}configGridLayer(){return this.polygonLayer=L.layerGroup(),this.polygons=this.polygons.map(t=>{let e=this.options.color;"segmented"===this.options.renderPolygonColorType&&(e=this.getSegmentedPolygonColor(t.getData()));const n=Object.assign({},this.options,{color:e}),r=new b(t.getLatLngs(),n);return r.setData(t.getData()),r.on("click",()=>{}),this.options.popupAttr&&r.bindPopup(this.getPopupContent(r.getData())),r}),this.polygons.forEach(t=>{this.polygonLayer.addLayer(t)}),this.polygonLayer}zoomHandler(){const t=this.polygons[0];t&&this.toggleTooltip(this.getRectangleWidth(t)>this.getTooltipMaxWidth(this.propMaxLength))}getRectangleWidth(t){return this.map.latLngToLayerPoint(t.getBounds().getNorthEast()).x-this.map.latLngToLayerPoint(t.getBounds().getSouthWest()).x}getTooltipMaxWidth(t){return 12*t+14}getPropMaxLength(){const t="string"==typeof this.options.popupAttr?this.options.popupAttr:this.options.popupAttr.value;return this.polygons.map(e=>`${e.getData()[t]}`.length).reduce((t,e)=>Math.max(t,e),0)}}class T{constructor(t,e,n,r){if(!Array.isArray(e)||0===e.length)throw new Error("dataList 必须是非空数组");this.map=t,this.dynamicDataList=e,this.options=n,this.channelFunc=r,this.currentStep=0,this.isPause=!0}restart(){this.isPause=!1,this.currentStep=0,this.gotoStep(this.currentStep),this.start()}start(){this.isPause=!1,this.options.auto&&setTimeout(()=>{if(!this.isPause)if(this.currentStep>=this.dynamicDataList.length-1){if(!this.options.loop)return;this.restart()}else this.currentStep++,this.gotoStep(this.currentStep),this.start()},this.options.interval)}pause(){this.isPause=!0}prev(){this.currentStep--,this.currentStep=(this.currentStep+this.dynamicDataList.length)%this.dynamicDataList.length,this.gotoStep(this.currentStep)}next(){this.currentStep++,this.currentStep=this.currentStep%this.dynamicDataList.length,this.gotoStep(this.currentStep)}gotoStep(t){if(t<0||t>=this.dynamicDataList.length)throw new Error(`gotoStep(${t}): step is out of index `);this.layer.setData(this.dynamicDataList[t]),this.layer.draw()}draw(t){return this.initOptions(t),this.initLayer(),this.layer.draw(),this}fitBounds(){this.layer.fitBounds()}initOptions(t){this.options=Object.assign({loop:!1,auto:!1,interval:1e3},this.options,t)}initLayer(){const t={renderType:"heat",heatOptions:this.options};return this.layer=new p(this.map,this.dynamicDataList[0],t,this.channelFunc),this.layer}}var S=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};class x{constructor(t,e,n={},r){this.type="wmsTile",this.visible=!0,this.map=t,this.dataList=e,this.options=n,this.channelFunc=r,this.layer=null,this.initOptions(n),this.initEvents()}draw(t){return S(this,void 0,void 0,function*(){if(this.visible){if(this.layer&&this.layer.remove(),this.popup&&this.popup.remove(),t&&this.initOptions(t),this.options.getWmsConfigs){const{wmsURL:t,layers:e,styles:n}=yield this.options.getWmsConfigs(this.options);this.initOptions({wmsURL:t,layers:e,styles:n})}this.layer=this.getLayer(),this.layer&&this.layer.addTo(this.map)}})}destroy(){this.layer&&this.layer.remove(),this.map.off("click",this.clickHandler,this)}getOptions(){return this.options}pitch(t){this.dataList.forEach(e=>{if(e.id===t){const t=L.geoJSON(e.geometry).getLayers()[0];this.showPopup(e,t.getCenter()),this.map.fitBounds(t.getBounds())}})}toggleVisible(t){this.visible=t,this.layer&&(t?this.map.addLayer(this.layer):(this.popup&&this.popup.closePopup(),this.map.removeLayer(this.layer)))}fitBounds(){this.map.fitBounds(this.getBounds(),{padding:[20,20]})}getBounds(){return this.dataList.length<=0?this.map.getBounds():this.dataList.reduce((t,e)=>t.extend(L.geoJSON(e.geometry).getLayers()[0].getBounds()),L.latLngBounds(L.geoJSON(this.dataList[0].geometry).getLayers()[0].getBounds().getNorthEast(),L.geoJSON(this.dataList[0].geometry).getLayers()[0].getBounds().getSouthWest()))}initEvents(){this.map.on("click",this.clickHandler,this)}initOptions(t){const e=t.getDataByLatLng||this.options.getDataByLatLng,n=t.getWmsConfigs||this.options.getWmsConfigs,r={format:"image/png",transparent:!0,crs:L.CRS.EPSG4326};this.options=u(this.options,r,t),this.options.getDataByLatLng=e,this.options.getWmsConfigs=n}getLayer(){const{wmsURL:t,layers:e,styles:n}=this.options;return t?L.tileLayer.wms(t,{layers:e,styles:n,transparent:!0,format:"image/png",crs:L.CRS.EPSG4326}):null}clickHandler(t){return S(this,void 0,void 0,function*(){if(this.channelFunc("click",t),!this.options.getDataByLatLng)return;const e=[t.latlng.lat,t.latlng.lng],n=yield this.options.getDataByLatLng(e);n&&this.showPopup(n,t.latlng)})}showPopup(t,e){const n=this.getPopupContent(t);n&&(this.popup=L.popup().setLatLng(e).setContent(n).openOn(this.map))}getPopupContent(t){return this.options.popupAttr?"string"==typeof this.options.popupAttr?t[this.options.popupAttr]?`${this.options.popupAttr}: ${t[this.options.popupAttr]}`:null:"object"==typeof this.options.popupAttr?t[this.options.popupAttr.value]?`${this.options.popupAttr.label}: ${t[this.options.popupAttr.value]}`:null:void 0:null}}var C=n(8);const P={_attributes:{version:"1.0",encoding:"utf-8"}},A={version:"1.0.0","xsi:schemaLocation":"http://www.opengis.net/sld StyledLayerDescriptor.xsd",xmlns:"http://www.opengis.net/sld","xmlns:ogc":"http://www.opengis.net/ogc","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},k="__others__=>",R="#3388ff",M=10;class O{constructor(t,e){this.layerName=t,this.stylesCfg=e}toXMLStr(){return C.js2xml(this.getSLDStyles(this.layerName,this.stylesCfg),{compact:!0,spaces:"\t",elementNameFn:t=>["Filter","And","Or","Not","PropertyName","Literal","Function","PropertyIsLike","PropertyIsLessThan","PropertyIsEqualTo","PropertyIsNotEqualTo","PropertyIsGreaterThan","PropertyIsLessThanOrEqualTo","PropertyIsGreaterThanOrEqualTo"].includes(t)?`ogc:${t}`:["Heatmap"].includes(t)?`vec:${t}`:t})}getStylesConfig(){return this.stylesCfg}getLayers(){return this.layerName}getUserStyles(t){const e={},n=this.getTransformation(t);return e.Rule=this.getRule(t),n&&(e.Transformation=n),[{FeatureTypeStyle:[e]}]}getSLDStyles(t,e){return{_declaration:P,StyledLayerDescriptor:{_attributes:A,NamedLayer:{Name:{_text:t},UserStyle:this.getUserStyles(e)}}}}getFillCssParameters(t){return this.getCssParameterItems(["fill","fill-opacity"],t)}getFontCssParameters(t){return this.getCssParameterItems(["font-family","font-size","font-style","font-weight"],t)}getStrokeCssParameters(t){return this.getCssParameterItems(["stroke","stroke-opacity","stroke-width","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin"],t)}sldError(t){return new Error(`[sld] ${t}`)}getRangeColorRefs(t,e){const n=t[0],r=t[1],i=e.length,o=(r-n)/i;return e.map((t,e)=>({range:[n+o*e,n+o*(e+1)],color:t}))}getRangeSizeRefs(t,e){const n=t[0],r=t[1],i=e.length,o=(r-n)/i;return e.map((t,e)=>({range:[n+o*e,n+o*(e+1)],size:t}))}getPropColorRefs(t,e){const n=t.slice(0,Math.min(t.length,e.length)).map((t,n)=>({prop:t,color:e[n]}));return t.length>e.length&&n.push({prop:this.stringifyOtherProps(t.slice(0,e.length)),color:R}),n}getPropSizeRefs(t,e){const n=t.slice(0,Math.min(t.length,e.length)).map((t,n)=>({prop:t,size:e[n]}));return t.length>e.length&&n.push({prop:this.stringifyOtherProps(t.slice(0,e.length)),size:M}),n}getRangeFilter(t,e){return{And:{PropertyIsGreaterThanOrEqualTo:{PropertyName:{_text:t},Literal:{_text:e[0]}},PropertyIsLessThan:{PropertyName:{_text:t},Literal:{_text:e[1]}}}}}getTypeFilter(t,e){if(this.isOtherPropRef(e)){const n=this.parseOtherProps(e);return this.getTypeNotInFilter(t,n)}return{PropertyIsEqualTo:{PropertyName:{_text:t},Literal:{_text:e}}}}getTypeNotInFilter(t,e){return{And:{PropertyIsNotEqualTo:e.map(e=>({PropertyName:{_text:t},Literal:{_text:e}}))}}}isOtherPropRef(t){return t.startsWith(k)}stringifyOtherProps(t){return`${k}${JSON.stringify(t)}`}parseOtherProps(t){return this.isOtherPropRef(t)?JSON.parse(t.slice(k.length)):[]}getCssParameterItems(t,e){return t.map(this.slash2Camel).map((n,r)=>[t[r],e[n]]).filter(([t,e])=>!c(e)).map(([t,e])=>this.getCssParameterItem(t,e))}getCssParameterItem(t,e){return{_attributes:{name:t},_text:e}}slash2Camel(t){const e=[];for(let n=0;n<t.length;n++)"-"===t[n]?(n+=1)<t.length&&e.push(t[n].toUpperCase()):e.push(t[n]);return e.join("")}}class F extends O{constructor(t,e){super(t,e),this.layerName=t,this.stylesCfg=e}getRule(t){return this.getRenderRule(t)}getTransformation(t){return{Function:[{_attributes:{name:"vec:Heatmap"},Function:[this.getParameterFunction("data"),this.getParameterFunction("weightAttr",t.weightAttr),this.getParameterFunction("radiusPixels",null,[this.getEnvFunction("radius",t.radius)]),this.getParameterFunction("pixelsPerCell",t.pixelsPerCell),this.getParameterFunction("outputBBOX",null,[this.getEnvFunction("wms_bbox")]),this.getParameterFunction("outputWidth",null,[this.getEnvFunction("wms_width")]),this.getParameterFunction("outputHeight",null,[this.getEnvFunction("wms_height")])]}]}}getParameterFunction(t,e,n){const r={_attributes:{name:"parameter"}};return r.Literal=[{_text:t}],h(e)||r.Literal.push({_text:e}),h(n)||(r.Function=n),r}getEnvFunction(t,e){return h(e)?{_attributes:{name:"env"},Literal:[{_text:t}]}:{_attributes:{name:"env"},Literal:[{_text:t},{_text:e}]}}getRenderRule(t){if(h(t.gradient))throw this.sldError(`invalid PointStylesConfig.gradient: ${t.gradient}`);const e=t.gradient;return[{RasterSymbolizer:this.getRasterSymbolizerItem(e)}]}getRasterSymbolizerItem(t){return{ColorMap:{ColorMapEntry:t.map(this.getColorMapEntryItem)}}}getColorMapEntryItem(t){return{_attributes:t}}}const I=.6;class N extends F{constructor(t,e){super(t,e),this.layerName=t,this.stylesCfg=e}getRule(t){switch(t.renderType){case"single":return this.getSingleRenderRule(t);case"segmented":return this.getSegmentedRenderRule(t);case"classified":return this.getClassifiedRenderRule(t);case"heat":return super.getRule(t);case"bubble":return this.getBubbleRenderRule(t)}}getTransformation(t){return"heat"===t.renderType?super.getTransformation(t):null}getSingleRenderRule(t){if(h(t.fill))throw this.sldError(`invalid PointStylesConfig.fill: ${t.fill}`);if(h(t.iconSize))throw this.sldError(`invalid PointStylesConfig.iconSize: ${t.iconSize}`);return[{PointSymbolizer:[this.getPointSymbolizerItemUsingOnlineResource(t.iconUrl,t.fill,t.iconSize)]}]}getSegmentedRenderRule(t){if(h(t.rangeSize))throw this.sldError(`invalid PointStylesConfig.rangeSize: ${t.rangeSize}`);if(h(t.segmentedProp))throw this.sldError(`invalid PointStylesConfig.segmentedProp: ${t.segmentedProp}`);const e=t.rangeSize[t.segmentedProp];if(h(e))throw this.sldError(`invalid PointStylesConfig.rangeSize[${t.segmentedProp}]: ${e}`);return this.getRangeColorRefs(e,t.segmentedColors).map(e=>({Filter:this.getRangeFilter(t.segmentedProp,e.range),PointSymbolizer:[this.getPointSymbolizerItemUsingOnlineResource(t.iconUrl,e.color,t.iconSize)]}))}getClassifiedRenderRule(t){if(h(t.rangeProp))throw this.sldError(`invalid PointStylesConfig.rangeProp: ${t.rangeProp}`);if(h(t.classifiedProp))throw this.sldError(`invalid PointStylesConfig.classifiedProp: ${t.classifiedProp}`);const e=t.rangeProp[t.classifiedProp];if(h(e))throw this.sldError(`invalid PointStylesConfig.rangeProp[${t.classifiedProp}]: ${e}`);return this.getPropColorRefs(e,t.classifiedColors).map(e=>({Filter:this.getTypeFilter(t.classifiedProp,e.prop),PointSymbolizer:[this.getPointSymbolizerItemUsingOnlineResource(t.iconUrl,e.color,t.iconSize)]}))}getBubbleRenderRule(t){if(h(t.bubbleColorType))throw this.sldError(`invalid PointStylesConfig.bubbleColorType: ${t.bubbleColorType}`);if(h(t.bubbleSizeType))throw this.sldError(`invalid PointStylesConfig.bubbleSizeType: ${t.bubbleSizeType}`);if(h(t.bubbleSizeProp))throw this.sldError(`invalid PointStylesConfig.bubbleSizeProp: ${t.bubbleSizeProp}`);if(h(t.bubbleColorProp))throw this.sldError(`invalid PointStylesConfig.bubbleColorProp: ${t.bubbleColorProp}`);const e=t.rangeProp[t.bubbleColorProp],n=t.rangeProp[t.bubbleSizeProp],r=t.rangeSize[t.bubbleColorProp],i=t.rangeSize[t.bubbleSizeProp],o=e&&this.getPropColorRefs(e,t.bubbleColors)||[],s=n&&this.getPropSizeRefs(n,t.bubbleSizes)||[],a=r&&this.getRangeColorRefs(r,t.bubbleColors)||[],u=i&&this.getRangeSizeRefs(i,t.bubbleSizes)||[];return"prop"===t.bubbleColorType&&"prop"===t.bubbleSizeType?this.colorPropXSizeProp(t.bubbleColorProp,o,t.bubbleSizeProp,s):"prop"===t.bubbleColorType&&"range"===t.bubbleSizeType?this.colorPropXSizeRange(t.bubbleColorProp,o,t.bubbleSizeProp,u):"range"===t.bubbleColorType&&"prop"===t.bubbleSizeType?this.colorRangeXSizeProp(t.bubbleColorProp,a,t.bubbleSizeProp,s):"range"===t.bubbleColorType&&"range"===t.bubbleSizeType?this.colorRangeXSizeRange(t.bubbleColorProp,a,t.bubbleSizeProp,u):void 0}colorPropXSizeProp(t,e,n,r){const i=[];for(const o of e)for(const e of r)i.push({Filter:{And:[this.getTypeFilter(t,o.prop),this.getTypeFilter(n,e.prop)]},PointSymbolizer:[this.getPointSymbolizerItemUsingMark({name:"circle",fill:o.color,size:e.size})]});return i}colorPropXSizeRange(t,e,n,r){const i=[];for(const o of e)for(const e of r)i.push({Filter:{And:{And:[this.getTypeFilter(t,o.prop),this.getRangeFilter(n,e.range)]}},PointSymbolizer:[this.getPointSymbolizerItemUsingMark({name:"circle",fill:o.color,size:e.size})]});return i}colorRangeXSizeProp(t,e,n,r){const i=[];for(const o of e)for(const e of r)i.push({Filter:{And:[this.getRangeFilter(t,o.range),this.getTypeFilter(n,e.prop)]},PointSymbolizer:[this.getPointSymbolizerItemUsingMark({name:"circle",fill:o.color,size:e.size})]});return i}colorRangeXSizeRange(t,e,n,r){const i=[];for(const o of e)for(const e of r)i.push({Filter:{And:[this.getRangeFilter(t,o.range),this.getRangeFilter(n,e.range)]},PointSymbolizer:[this.getPointSymbolizerItemUsingMark({name:"circle",fill:o.color,size:e.size})]});return i}getPointSymbolizerItemUsingMark(t){return{Graphic:{Mark:{WellKnownName:{_text:t.name},Fill:{CssParameter:this.getFillCssParameters({fill:t.fill,fillOpacity:t.fillOpacity||I})}},Size:{_text:t.size}}}}getPointSymbolizerItemUsingOnlineResource(t,e,n){return{Graphic:{ExternalGraphic:{OnlineResource:{_attributes:{"xlink:type":"simple","xlink:href":`${t}?color=${e.slice(1)}`}},Format:{_text:"image/svg"}},Size:{_text:n}}}}}class D extends O{constructor(t,e){super(t,e),this.layerName=t,this.stylesCfg=e}getRule(t){switch(t.renderType){case"single":return this.getSingleRenderRule(t);case"segmented":return this.getSegmentedRenderRule(t);case"classified":return this.getClassifiedRenderRule(t)}}getTransformation(t){return null}getSingleRenderRule(t){return[{LineSymbolizer:[this.getLineSymbolizerItem({stroke:t.stroke,strokeWidth:t.strokeWidth})]}]}getSegmentedRenderRule(t){if(h(t.rangeSize))throw this.sldError(`invalid PointStylesConfig.rangeSize: ${t.rangeSize}`);if(h(t.segmentedProp))throw this.sldError(`invalid PointStylesConfig.segmentedProp: ${t.segmentedProp}`);const e=t.rangeSize[t.segmentedProp];if(h(e))throw this.sldError(`invalid PointStylesConfig.rangeSize[${t.segmentedProp}]: ${e}`);return this.getRangeColorRefs(e,t.segmentedColors).map(e=>({Filter:this.getRangeFilter(t.segmentedProp,e.range),LineSymbolizer:[this.getLineSymbolizerItem({stroke:e.color,strokeWidth:t.strokeWidth})]}))}getClassifiedRenderRule(t){if(h(t.rangeProp))throw this.sldError(`invalid PointStylesConfig.rangeProp: ${t.rangeProp}`);if(h(t.classifiedProp))throw this.sldError(`invalid PointStylesConfig.classifiedProp: ${t.classifiedProp}`);const e=t.rangeProp[t.classifiedProp];if(h(e))throw this.sldError(`invalid PointStylesConfig.rangeProp[${t.classifiedProp}]: ${e}`);return this.getPropColorRefs(e,t.classifiedColors).map(e=>({Filter:this.getTypeFilter(t.classifiedProp,e.prop),LineSymbolizer:[this.getLineSymbolizerItem({stroke:e.color,strokeWidth:t.strokeWidth})]}))}getLineSymbolizerItem(t){return{Stroke:{CssParameter:this.getStrokeCssParameters({stroke:t.stroke,strokeWidth:t.strokeWidth})}}}}class B extends O{constructor(t,e){super(t,e),this.layerName=t,this.stylesCfg=e}getRule(t){switch(t.renderType){case"single":return this.getSingleRenderRule(t);case"segmented":return this.getSegmentedRenderRule(t);case"classified":return this.getClassifiedRenderRule(t)}}getTransformation(t){return null}getSingleRenderRule(t){return[{PolygonSymbolizer:[this.getPolygonSymbolizerItem({stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,fillOpacity:t.fillOpacity})],TextSymbolizer:this.getTextSymbolizer(t.popupProp)}]}getSegmentedRenderRule(t){if(h(t.rangeSize))throw this.sldError(`invalid PointStylesConfig.rangeSize: ${t.rangeSize}`);if(h(t.segmentedProp))throw this.sldError(`invalid PointStylesConfig.segmentedProp: ${t.segmentedProp}`);const e=t.rangeSize[t.segmentedProp];if(h(e))throw this.sldError(`invalid PointStylesConfig.rangeSize[${t.segmentedProp}]: ${e}`);return this.getRangeColorRefs(e,t.segmentedColors).map(e=>({Filter:this.getRangeFilter(t.segmentedProp,e.range),PolygonSymbolizer:[this.getPolygonSymbolizerItem({stroke:e.color,strokeWidth:t.strokeWidth,fill:e.color,fillOpacity:t.fillOpacity})],TextSymbolizer:this.getTextSymbolizer(t.popupProp)}))}getClassifiedRenderRule(t){if(h(t.rangeProp))throw this.sldError(`invalid PointStylesConfig.rangeProp: ${t.rangeProp}`);if(h(t.classifiedProp))throw this.sldError(`invalid PointStylesConfig.classifiedProp: ${t.classifiedProp}`);const e=t.rangeProp[t.classifiedProp];if(h(e))throw this.sldError(`invalid PointStylesConfig.rangeProp[${t.classifiedProp}]: ${e}`);return this.getPropColorRefs(e,t.classifiedColors).map(e=>({Filter:this.getTypeFilter(t.classifiedProp,e.prop),PolygonSymbolizer:[this.getPolygonSymbolizerItem({stroke:e.color,strokeWidth:t.strokeWidth,fill:e.color,fillOpacity:t.fillOpacity})],TextSymbolizer:this.getTextSymbolizer(t.popupProp)}))}getPolygonSymbolizerItem(t){return{Fill:{CssParameter:this.getFillCssParameters({fill:t.fill,fillOpacity:t.fillOpacity||1})},Stroke:{CssParameter:this.getStrokeCssParameters({stroke:t.stroke,strokeWidth:t.strokeWidth})}}}getTextSymbolizer(t){return[{Label:{PropertyName:{_text:t}},Geometry:{Function:[{_attributes:{name:"centroid"},PropertyName:{_text:"geometry"}}]},LabelPlacement:{PointPlacement:{AnchorPoint:{AnchorPointX:{_text:.5},AnchorPointY:{_text:.5}}}}}]}}var j=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};function z(t){return j(this,void 0,void 0,function*(){const e=function(t){const{wmsURL:e,map:n,latlng:r,layers:i,styles:o}=t,s=n.latLngToContainerPoint(r),a=n.getSize(),u={service:"WMS",version:"1.1.1",request:"GetFeatureInfo",layers:i,styles:o,srs:"EPSG:4326",bbox:n.getBounds().toBBoxString(),height:a.y,width:a.x,query_layers:i,x:Math.round(s.x),y:Math.round(s.y),info_format:"application/json"};return e+L.Util.getParamString(u,e)}(t);return(yield fetch(e,{mode:"cors",method:"GET",credentials:"include"})).json()})}function U(t){return j(this,void 0,void 0,function*(){const e=function(t){return t+L.Util.getParamString({service:"WMS",version:"1.1.1",request:"GetCapabilities"},t)}(t);return yield fetch(e,{mode:"cors",method:"GET",credentials:"include"}).then(t=>t.text()).then(t=>C.xml2js(t,{compact:!0}))})}class W{constructor(t){this.distance=t.distance,this.map=t.map,this.gridLayer1=null,this.gridLayer2=null,this.gridLayer3=null,this.customMeterLatlngList={},this.minlat=18,this.maxlat=54,this.minlng=72,this.maxlng=139,this.zoomLevelBestMeter={18:4,17:8,16:15,15:30,14:62,13:125,12:225,11:450,10:900,9:1800,8:3600,7:7500,6:15e3,5:3e4,4:6e4,3:11e4},this.map.on("zoom",this.draw,this),this.map.on("move",this.draw,this),this.latlngList=this.getLatlngList(this.distance)}draw(){this.showGridLayerByZoom(this.distance,this.map.getZoom())}remove(){this.map.off("zoom",this.draw,this),this.map.off("move",this.draw,this),this.gridLayer1&&this.gridLayer1.remove(),this.gridLayer2&&this.gridLayer2.remove(),this.gridLayer3&&this.gridLayer3.remove()}getPolygonByPoint(t){const{latList:e,lngList:n}=this.latlngList,r=this.binary_search(e,t[0]),i=this.binary_search(n,t[1]),o=[e[r],e[r+1]],s=[n[i],n[i+1]];return[[o[0],s[0]],[o[0],s[1]],[o[1],s[1]],[o[1],s[0]],[o[0],s[0]]]}getNextPointByDistance(t,e){const n=t[0],r=t[1],i=Math.PI,o=1/(2*i/360*6378.137)/1e3;return[n+e*o,r+e*o/(0,Math.cos)(n*(i/180))]}showGlobalGrid(t,e){const n=[],r=this.maxlat,i=this.maxlng,o=this.minlat,s=this.minlng;this.customMeterLatlngList[t]||(this.customMeterLatlngList[t]=this.getLatlngList(t));const{latList:a,lngList:u}=this.customMeterLatlngList[t];let l,c;const h=this.map.getBounds(),f=h.getNorthWest(),p=h.getSouthEast(),d=this.binary_search(a,p.lat),g=this.binary_search(u,f.lng);for(let t=d;t<a.length-2;t++)if(f.lat>a[t]&&p.lat<a[t]&&n.push([[a[t],s],[a[t],i]]),f.lat<a[t]){n.push([[a[t],s],[a[t],i]]);break}l=n[n.length-1][0][0];for(let t=g;t<u.length-2;t++)if(f.lng<u[t]&&p.lng>u[t]&&n.push([[o,u[t]],[r,u[t]]]),p.lng<u[t]){n.push([[o,u[t]],[r,u[t]]]);break}return c=n[n.length-1][0][1],n.forEach(t=>{t[1][1]===i&&(t[1][1]=c),t[1][0]===r&&(t[1][0]=l)}),L.polyline(n,{color:e,weight:1}).addTo(this.map)}showGridLayerByZoom(t,e){this.gridLayer1&&this.gridLayer1.remove(),this.gridLayer2&&this.gridLayer2.remove(),this.gridLayer3&&this.gridLayer3.remove();const n=this.zoomLevelBestMeter[e],r=n%t,i=n/t;let o=t;r<t/2&&(o=i*t),r>=t/2&&(o=(i+1)*t),t>n||18===e?this.gridLayer3=this.showGlobalGrid(t,"#ccc"):(this.gridLayer3=this.showGlobalGrid(o,"#ccc"),this.gridLayer2=this.showGlobalGrid(4*o,"#999"),this.gridLayer1=this.showGlobalGrid(8*o,"#666"))}getLatlngList(t){const e=this.maxlat,n=this.maxlng,r=this.minlat,i=this.minlng;let o=r,s=i;const a=[],u=[];for(;o<e;){const e=[o,i];a.push(o),o=this.getNextPointByDistance(e,t)[0]}for(;s<n;){const e=[r,s],n=this.getNextPointByDistance(e,t);u.push(s),s=n[1]}return{latList:a,lngList:u}}binary_search(t,e){let n=0,r=t.length-2;for(;n<=r;){const i=Math.floor((r+n)/2);if(e>=t[i]&&e<t[i+1])return i;if(e>t[i]&&e>t[i+1])n=i+1;else{if(!(e<t[i]&&e<t[i+1]))return-1;r=i-1}}}}var K=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};const $="无数据";class G{constructor(t,e,n,r){this.map=t,this.options=e,this.channelFunc=n,this.data=r,this.visible=!0,this.tileLayer=null,this.popup=null,this.popupProp=null,this.popupData=null,this.layers=this.options.layers,this.styles=this.options.styles,this.gridLayer=null,this.envParams=null,this.cqlFilter=null,this.initEvents()}draw(){return K(this,void 0,void 0,function*(){this.visible&&(this.clusterLayer&&this.clusterLayer.destroy(),this.tileLayer&&this.tileLayer.remove(),this.tileLayer=yield this.getLayer(),this.tileLayer&&this.tileLayer.addTo(this.map))})}destroy(){this.tileLayer&&this.tileLayer.remove(),this.gridLayer&&this.gridLayer.remove(),this.popup&&this.popup.remove(),this.clusterLayer&&this.clusterLayer.destroy(),this.destroyEvents()}getData(){return this.data}getOptions(){return this.options}fitBounds(){return K(this,void 0,void 0,function*(){if(this.clusterLayer)return void this.clusterLayer.fitBounds();const t=yield this.getBounds();t&&this.map.fitBounds(t)})}getBounds(){return K(this,void 0,void 0,function*(){const t=(yield U(this.options.wmsURL)).WMT_MS_Capabilities.Capability.Layer.Layer;if(!this.layers)return console.warn("wms.config.layers is null"),null;const e=this.layers.split(",").map(t=>t.split(":")[1]).map(e=>t.find(t=>t.Name._text===e)).filter(t=>!c(t));if(e.length<=0)return console.warn("not found layerInfo"),null;const{minx:n,miny:r,maxx:i,maxy:o}=e[0].LatLonBoundingBox._attributes,s=L.latLngBounds(L.latLng(r,n),L.latLng(o,i));return e.slice(1).reduce((t,e)=>{const{minx:n,miny:r,maxx:i,maxy:o}=e.LatLonBoundingBox._attributes;return t.extend(L.latLng(r,n)).extend(L.latLng(o,i))},s)})}toggleVisible(t){this.visible=t,this.visible?this.draw():this.destroy()}pitch(t){throw new Error("Method not implemented.")}setPopupProp(t){if(this.popupProp=t,this.popup&&this.popup.isOpen()){const t=this.getPopupContent();l(t)||this.popup.setContent(t)}}showGrid(t=100){this.hideGrid(),this.gridLayer=new W({map:this.map,distance:t}),this.gridLayer.draw()}hideGrid(){this.gridLayer&&this.gridLayer.remove()}_cluster(t){this.tileLayer&&this.tileLayer.remove();const e=new p(this.map,t,{renderType:"cluster",iconType:"unicode",iconUnicode:"&#xe655"},this.channelFunc);return e.draw(),this.clusterLayer=e,e}getLayer(){return K(this,void 0,void 0,function*(){const{wmsURL:t,getLayers:e,getStyles:n,getEnvParams:r,getCqlFilter:i}=this.options;e&&(this.layers=yield e(this.getData())),n&&(this.styles=yield n(this.getData())),r&&(this.envParams=yield r(this.getData())),i&&(this.cqlFilter=yield i(this.getData()));const o=L.tileLayer.wms(t,{layers:this.layers,styles:this.styles,transparent:!0,format:"image/png",crs:L.CRS.EPSG4326});return l(this.envParams)||o.setParams({env:Object.entries(this.envParams).map(([t,e])=>`${t}:${e}`).join(";")}),l(this.cqlFilter)||o.setParams({cql_filter:this.cqlFilter}),o})}clickHandler(t){return K(this,void 0,void 0,function*(){const e=yield this.getFeatureInfo(t);if(this.popup&&this.popup.remove(),e.features.length>0){if(this.channelFunc("click",e),l(this.popupProp))return;this.popupData=e.features[0].properties;const n=this.getPopupContent();if(l(n))return;this.popup=L.popup().setLatLng(t.latlng).setContent(n).openOn(this.map)}})}getPopupContent(){if(h(this.popupProp))return null;const t=this.popupData[this.popupProp];return c(t)?null:l(t)?$:`${t}`}contextmenuHandler(t){return K(this,void 0,void 0,function*(){this.popup&&this.popup.remove();const e=yield this.getFeatureInfo(t);this.channelFunc("contextmenu",e)})}getFeatureInfo(t){return K(this,void 0,void 0,function*(){return{features:(yield z({map:this.map,latlng:t.latlng,wmsURL:this.options.wmsURL,layers:this.layers,styles:this.styles})).features,originalEvent:t}})}initEvents(){this.map.on("contextmenu",this.contextmenuHandler,this),this.map.on("click",this.clickHandler,this)}destroyEvents(){this.map.off("click",this.clickHandler,this)}}n.d(e,"Marker",function(){return r}),n.d(e,"MarkersLayer",function(){return p}),n.d(e,"MarkersBufferLayer",function(){return d}),n.d(e,"Polyline",function(){return g}),n.d(e,"PolylinesLayer",function(){return m}),n.d(e,"PolylinesBufferLayer",function(){return v}),n.d(e,"Polygon",function(){return b}),n.d(e,"PolygonsLayer",function(){return w}),n.d(e,"GridsLayer",function(){return E}),n.d(e,"DynamicHeatLayer",function(){return T}),n.d(e,"WmsTile",function(){return x}),n.d(e,"PointStyles",function(){return N}),n.d(e,"LineStyles",function(){return D}),n.d(e,"PolygonStyles",function(){return B}),n.d(e,"RasterStyles",function(){return F}),n.d(e,"TileLayer",function(){return G}),n.d(e,"GridLayer",function(){return W})}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWFmbGV0TWFwL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2xlYWZsZXRNYXAvKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX2R1cGxleC5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9jb3JlLXV0aWwtaXMvbGliL3V0aWwuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9wcm9jZXNzLW5leHRpY2stYXJncy9pbmRleC5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL3NhZmUtYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9ub2RlX21vZHVsZXMveG1sLWpzL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vcmVhZGFibGUtYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV93cml0YWJsZS5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL3N0cmluZ19kZWNvZGVyL2xpYi9zdHJpbmdfZGVjb2Rlci5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL3htbC1qcy9saWIvb3B0aW9ucy1oZWxwZXIuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy94bWwtanMvbGliL2FycmF5LWhlbHBlci5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9sb2Rhc2guanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9jb2xvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL2NvbG9yLW5hbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9jb2xvci1jb252ZXJ0L2NvbnZlcnNpb25zLmpzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9ub2RlX21vZHVsZXMveG1sLWpzL2xpYi94bWwyanMuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9pc2FycmF5L2luZGV4LmpzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3JlYWRhYmxlLmpzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbS1icm93c2VyLmpzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL2Rlc3Ryb3kuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9ub2RlX21vZHVsZXMveG1sLWpzL2xpYi9qczJ4bWwuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9jb2xvci1zdHJpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9zaW1wbGUtc3dpenpsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL2lzLWFycmF5aXNoL2luZGV4LmpzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9ub2RlX21vZHVsZXMvY29sb3ItY29udmVydC9pbmRleC5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL2NvbG9yLWNvbnZlcnQvcm91dGUuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9zYXgvbGliL3NheC5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL2llZWU3NTQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9zdHJlYW0tYnJvd3NlcmlmeS9pbmRleC5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9CdWZmZXJMaXN0LmpzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL3NldGltbWVkaWF0ZS9zZXRJbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy91dGlsLWRlcHJlY2F0ZS9icm93c2VyLmpzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3Bhc3N0aHJvdWdoLmpzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL3dyaXRhYmxlLWJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vZHVwbGV4LWJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vdHJhbnNmb3JtLmpzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL3Bhc3N0aHJvdWdoLmpzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9ub2RlX21vZHVsZXMveG1sLWpzL2xpYi94bWwyanNvbi5qcyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vbm9kZV9tb2R1bGVzL3htbC1qcy9saWIvanNvbjJ4bWwuanMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL3NyYy9tYXJrZXIvTWFya2VyLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvdXRpbHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL3NyYy9tYXJrZXIvTWFya2Vyc0xheWVyLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvbWFya2VyL01hcmtlcnNCdWZmZXJMYXllci50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL3BvbHlsaW5lL1BvbHlsaW5lLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvcG9seWxpbmUvUG9seWxpbmVzTGF5ZXIudHMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL3NyYy9wb2x5bGluZS9Qb2x5bGluZXNCdWZmZXJMYXllci50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL3BvbHlnb24vUG9seWdvbi50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL3BvbHlnb24vUG9seWdvbnNMYXllci50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL3BvbHlnb24vR3JpZHNMYXllci50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL2R5bmFtaWNIZWF0TGF5ZXIvRHluYW1pY0hlYXRMYXllci50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL3dtc1RpbGUvV21zVGlsZS50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL1NMRC9kZWYudHMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL3NyYy9TTEQvU0xEU3R5bGVzLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvU0xEL1Jhc3RlclN0eWxlcy50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL1NMRC9Qb2ludFN0eWxlcy50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL1NMRC9MaW5lU3R5bGVzLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvU0xEL1BvbHlnb25TdHlsZXMudHMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL3NyYy93bXNUaWxlL3V0aWxzLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvZ3JpZC9HcmlkTGF5ZXIudHMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL3NyYy93bXNUaWxlL1RpbGVMYXllci50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJnIiwidGhpcyIsIkZ1bmN0aW9uIiwiZXZhbCIsImUiLCJwbmEiLCJvYmplY3RLZXlzIiwia2V5cyIsIm9iaiIsInB1c2giLCJEdXBsZXgiLCJ1dGlsIiwiaW5oZXJpdHMiLCJSZWFkYWJsZSIsIldyaXRhYmxlIiwidiIsImxlbmd0aCIsIm1ldGhvZCIsIm9wdGlvbnMiLCJyZWFkYWJsZSIsIndyaXRhYmxlIiwiYWxsb3dIYWxmT3BlbiIsIm9uY2UiLCJvbmVuZCIsIl93cml0YWJsZVN0YXRlIiwiZW5kZWQiLCJuZXh0VGljayIsIm9uRW5kTlQiLCJzZWxmIiwiZW5kIiwiaGlnaFdhdGVyTWFyayIsInVuZGVmaW5lZCIsIl9yZWFkYWJsZVN0YXRlIiwiZGVzdHJveWVkIiwic2V0IiwiX2Rlc3Ryb3kiLCJlcnIiLCJjYiIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJjb25zdHJ1Y3RvciIsImNvbmZpZ3VyYWJsZSIsIlRlbXBDdG9yIiwiQnVmZmVyIiwib2JqZWN0VG9TdHJpbmciLCJ0b1N0cmluZyIsImlzQXJyYXkiLCJhcmciLCJBcnJheSIsImlzQm9vbGVhbiIsImlzTnVsbCIsImlzTnVsbE9yVW5kZWZpbmVkIiwiaXNOdW1iZXIiLCJpc1N0cmluZyIsImlzU3ltYm9sIiwiaXNVbmRlZmluZWQiLCJpc1JlZ0V4cCIsInJlIiwiaXNPYmplY3QiLCJpc0RhdGUiLCJpc0Vycm9yIiwiRXJyb3IiLCJpc0Z1bmN0aW9uIiwiaXNQcmltaXRpdmUiLCJpc0J1ZmZlciIsImdsb2JhbCIsImJhc2U2NCIsImllZWU3NTQiLCJrTWF4TGVuZ3RoIiwiVFlQRURfQVJSQVlfU1VQUE9SVCIsImNyZWF0ZUJ1ZmZlciIsInRoYXQiLCJSYW5nZUVycm9yIiwiVWludDhBcnJheSIsIl9fcHJvdG9fXyIsImVuY29kaW5nT3JPZmZzZXQiLCJhbGxvY1Vuc2FmZSIsImZyb20iLCJUeXBlRXJyb3IiLCJBcnJheUJ1ZmZlciIsImFycmF5IiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJmcm9tQXJyYXlMaWtlIiwiZnJvbUFycmF5QnVmZmVyIiwic3RyaW5nIiwiZW5jb2RpbmciLCJpc0VuY29kaW5nIiwiYWN0dWFsIiwid3JpdGUiLCJzbGljZSIsImZyb21TdHJpbmciLCJsZW4iLCJjaGVja2VkIiwiY29weSIsImJ1ZmZlciIsInZhbCIsImlzbmFuIiwidHlwZSIsImRhdGEiLCJmcm9tT2JqZWN0IiwiYXNzZXJ0U2l6ZSIsInNpemUiLCJpc1ZpZXciLCJsb3dlcmVkQ2FzZSIsInV0ZjhUb0J5dGVzIiwiYmFzZTY0VG9CeXRlcyIsInRvTG93ZXJDYXNlIiwic3dhcCIsImIiLCJiaWRpcmVjdGlvbmFsSW5kZXhPZiIsImRpciIsImlzTmFOIiwiYXJyYXlJbmRleE9mIiwiaW5kZXhPZiIsImxhc3RJbmRleE9mIiwiYXJyIiwiaW5kZXhTaXplIiwiYXJyTGVuZ3RoIiwidmFsTGVuZ3RoIiwiU3RyaW5nIiwicmVhZCIsImJ1ZiIsInJlYWRVSW50MTZCRSIsImZvdW5kSW5kZXgiLCJmb3VuZCIsImoiLCJoZXhXcml0ZSIsIm9mZnNldCIsIk51bWJlciIsInJlbWFpbmluZyIsInN0ckxlbiIsInBhcnNlZCIsInBhcnNlSW50Iiwic3Vic3RyIiwidXRmOFdyaXRlIiwiYmxpdEJ1ZmZlciIsImFzY2lpV3JpdGUiLCJzdHIiLCJieXRlQXJyYXkiLCJjaGFyQ29kZUF0IiwiYXNjaWlUb0J5dGVzIiwibGF0aW4xV3JpdGUiLCJiYXNlNjRXcml0ZSIsInVjczJXcml0ZSIsInVuaXRzIiwiaGkiLCJsbyIsInV0ZjE2bGVUb0J5dGVzIiwiYmFzZTY0U2xpY2UiLCJzdGFydCIsImZyb21CeXRlQXJyYXkiLCJ1dGY4U2xpY2UiLCJNYXRoIiwibWluIiwicmVzIiwic2Vjb25kQnl0ZSIsInRoaXJkQnl0ZSIsImZvdXJ0aEJ5dGUiLCJ0ZW1wQ29kZVBvaW50IiwiZmlyc3RCeXRlIiwiY29kZVBvaW50IiwiYnl0ZXNQZXJTZXF1ZW5jZSIsImNvZGVQb2ludHMiLCJNQVhfQVJHVU1FTlRTX0xFTkdUSCIsImZyb21DaGFyQ29kZSIsImFwcGx5IiwiZGVjb2RlQ29kZVBvaW50c0FycmF5IiwiU2xvd0J1ZmZlciIsImFsbG9jIiwiSU5TUEVDVF9NQVhfQllURVMiLCJmb28iLCJzdWJhcnJheSIsInR5cGVkQXJyYXlTdXBwb3J0IiwicG9vbFNpemUiLCJfYXVnbWVudCIsInNwZWNpZXMiLCJmaWxsIiwiYWxsb2NVbnNhZmVTbG93IiwiX2lzQnVmZmVyIiwiY29tcGFyZSIsImEiLCJ4IiwieSIsImNvbmNhdCIsImxpc3QiLCJwb3MiLCJzd2FwMTYiLCJzd2FwMzIiLCJzd2FwNjQiLCJhcmd1bWVudHMiLCJoZXhTbGljZSIsImFzY2lpU2xpY2UiLCJsYXRpbjFTbGljZSIsInV0ZjE2bGVTbGljZSIsImVxdWFscyIsImluc3BlY3QiLCJtYXgiLCJtYXRjaCIsImpvaW4iLCJ0YXJnZXQiLCJ0aGlzU3RhcnQiLCJ0aGlzRW5kIiwidGhpc0NvcHkiLCJ0YXJnZXRDb3B5IiwiaW5jbHVkZXMiLCJpc0Zpbml0ZSIsInRvSlNPTiIsIl9hcnIiLCJyZXQiLCJvdXQiLCJ0b0hleCIsImJ5dGVzIiwiY2hlY2tPZmZzZXQiLCJleHQiLCJjaGVja0ludCIsIm9iamVjdFdyaXRlVUludDE2IiwibGl0dGxlRW5kaWFuIiwib2JqZWN0V3JpdGVVSW50MzIiLCJjaGVja0lFRUU3NTQiLCJ3cml0ZUZsb2F0Iiwibm9Bc3NlcnQiLCJ3cml0ZURvdWJsZSIsIm5ld0J1ZiIsInNsaWNlTGVuIiwicmVhZFVJbnRMRSIsIm11bCIsInJlYWRVSW50QkUiLCJyZWFkVUludDgiLCJyZWFkVUludDE2TEUiLCJyZWFkVUludDMyTEUiLCJyZWFkVUludDMyQkUiLCJyZWFkSW50TEUiLCJwb3ciLCJyZWFkSW50QkUiLCJyZWFkSW50OCIsInJlYWRJbnQxNkxFIiwicmVhZEludDE2QkUiLCJyZWFkSW50MzJMRSIsInJlYWRJbnQzMkJFIiwicmVhZEZsb2F0TEUiLCJyZWFkRmxvYXRCRSIsInJlYWREb3VibGVMRSIsInJlYWREb3VibGVCRSIsIndyaXRlVUludExFIiwid3JpdGVVSW50QkUiLCJ3cml0ZVVJbnQ4IiwiZmxvb3IiLCJ3cml0ZVVJbnQxNkxFIiwid3JpdGVVSW50MTZCRSIsIndyaXRlVUludDMyTEUiLCJ3cml0ZVVJbnQzMkJFIiwid3JpdGVJbnRMRSIsImxpbWl0Iiwic3ViIiwid3JpdGVJbnRCRSIsIndyaXRlSW50OCIsIndyaXRlSW50MTZMRSIsIndyaXRlSW50MTZCRSIsIndyaXRlSW50MzJMRSIsIndyaXRlSW50MzJCRSIsIndyaXRlRmxvYXRMRSIsIndyaXRlRmxvYXRCRSIsIndyaXRlRG91YmxlTEUiLCJ3cml0ZURvdWJsZUJFIiwidGFyZ2V0U3RhcnQiLCJjb2RlIiwiSU5WQUxJRF9CQVNFNjRfUkUiLCJJbmZpbml0eSIsImxlYWRTdXJyb2dhdGUiLCJ0b0J5dGVBcnJheSIsInRyaW0iLCJyZXBsYWNlIiwic3RyaW5ndHJpbSIsImJhc2U2NGNsZWFuIiwic3JjIiwiZHN0IiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsInByb2Nlc3MiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwidGltZW91dCIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJub29wIiwiYXJncyIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsInVtYXNrIiwiZm4iLCJhcmcxIiwiYXJnMiIsImFyZzMiLCJjb3B5UHJvcHMiLCJTYWZlQnVmZmVyIiwieG1sMmpzIiwieG1sMmpzb24iLCJqczJ4bWwiLCJqc29uMnhtbCIsIkV2ZW50RW1pdHRlciIsIl9ldmVudHMiLCJfbWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsInNldE1heExpc3RlbmVycyIsImVyIiwiaGFuZGxlciIsImVycm9yIiwiY29udGV4dCIsImxpc3RlbmVyIiwibmV3TGlzdGVuZXIiLCJ3YXJuZWQiLCJjb25zb2xlIiwidHJhY2UiLCJmaXJlZCIsInBvc2l0aW9uIiwic3BsaWNlIiwibGlzdGVuZXJDb3VudCIsImV2bGlzdGVuZXIiLCJlbWl0dGVyIiwiU3RyZWFtIiwiVHJhbnNmb3JtIiwiUGFzc1Rocm91Z2giLCJzZXRJbW1lZGlhdGUiLCJDb3JrZWRSZXF1ZXN0Iiwic3RhdGUiLCJfdGhpcyIsIm5leHQiLCJlbnRyeSIsImZpbmlzaCIsImNvcmtSZXEiLCJjYWxsYmFjayIsInBlbmRpbmdjYiIsImNvcmtlZFJlcXVlc3RzRnJlZSIsIm9uQ29ya2VkRmluaXNoIiwiYXN5bmNXcml0ZSIsIldyaXRhYmxlU3RhdGUiLCJpbnRlcm5hbFV0aWwiLCJkZXByZWNhdGUiLCJPdXJVaW50OEFycmF5IiwicmVhbEhhc0luc3RhbmNlIiwiZGVzdHJveUltcGwiLCJub3AiLCJzdHJlYW0iLCJpc0R1cGxleCIsIm9iamVjdE1vZGUiLCJ3cml0YWJsZU9iamVjdE1vZGUiLCJod20iLCJ3cml0YWJsZUh3bSIsIndyaXRhYmxlSGlnaFdhdGVyTWFyayIsImRlZmF1bHRId20iLCJmaW5hbENhbGxlZCIsIm5lZWREcmFpbiIsImVuZGluZyIsImZpbmlzaGVkIiwibm9EZWNvZGUiLCJkZWNvZGVTdHJpbmdzIiwiZGVmYXVsdEVuY29kaW5nIiwid3JpdGluZyIsImNvcmtlZCIsInN5bmMiLCJidWZmZXJQcm9jZXNzaW5nIiwib253cml0ZSIsIndyaXRlY2IiLCJ3cml0ZWxlbiIsIm9ud3JpdGVTdGF0ZVVwZGF0ZSIsImZpbmlzaE1heWJlIiwiZXJyb3JFbWl0dGVkIiwib253cml0ZUVycm9yIiwibmVlZEZpbmlzaCIsImJ1ZmZlcmVkUmVxdWVzdCIsImNsZWFyQnVmZmVyIiwiYWZ0ZXJXcml0ZSIsImxhc3RCdWZmZXJlZFJlcXVlc3QiLCJwcmVmaW5pc2hlZCIsImJ1ZmZlcmVkUmVxdWVzdENvdW50IiwiX3dyaXRlIiwid3JpdGV2IiwiX3dyaXRldiIsImRlc3Ryb3kiLCJmaW5hbCIsIl9maW5hbCIsImRvV3JpdGUiLCJjaHVuayIsIm9ud3JpdGVEcmFpbiIsImhvbGRlciIsImNvdW50IiwiYWxsQnVmZmVycyIsImlzQnVmIiwiY2FsbEZpbmFsIiwibmVlZCIsInByZWZpbmlzaCIsImdldEJ1ZmZlciIsImN1cnJlbnQiLCJfIiwiaGFzSW5zdGFuY2UiLCJwaXBlIiwiX2lzVWludDhBcnJheSIsIl91aW50OEFycmF5VG9CdWZmZXIiLCJ3cml0ZUFmdGVyRW5kIiwidmFsaWQiLCJ2YWxpZENodW5rIiwibmV3Q2h1bmsiLCJkZWNvZGVDaHVuayIsImxhc3QiLCJ3cml0ZU9yQnVmZmVyIiwiY29yayIsInVuY29yayIsInNldERlZmF1bHRFbmNvZGluZyIsImVuZFdyaXRhYmxlIiwiX3VuZGVzdHJveSIsInVuZGVzdHJveSIsIlN0cmluZ0RlY29kZXIiLCJuYiIsImVuYyIsIm5lbmMiLCJyZXRyaWVkIiwiX25vcm1hbGl6ZUVuY29kaW5nIiwibm9ybWFsaXplRW5jb2RpbmciLCJ0ZXh0IiwidXRmMTZUZXh0IiwidXRmMTZFbmQiLCJmaWxsTGFzdCIsInV0ZjhGaWxsTGFzdCIsImJhc2U2NFRleHQiLCJiYXNlNjRFbmQiLCJzaW1wbGVXcml0ZSIsInNpbXBsZUVuZCIsImxhc3ROZWVkIiwibGFzdFRvdGFsIiwibGFzdENoYXIiLCJ1dGY4Q2hlY2tCeXRlIiwiYnl0ZSIsInV0ZjhDaGVja0V4dHJhQnl0ZXMiLCJ0b3RhbCIsInV0ZjhDaGVja0luY29tcGxldGUiLCJjb3B5T3B0aW9ucyIsImVuc3VyZUZsYWdFeGlzdHMiLCJpdGVtIiwiZW5zdXJlU3BhY2VzRXhpc3RzIiwic3BhY2VzIiwiZW5zdXJlQWx3YXlzQXJyYXlFeGlzdHMiLCJhbHdheXNBcnJheSIsImVuc3VyZUtleUV4aXN0cyIsImNvbXBhY3QiLCJjaGVja0ZuRXhpc3RzIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJMQVJHRV9BUlJBWV9TSVpFIiwiQ09SRV9FUlJPUl9URVhUIiwiRlVOQ19FUlJPUl9URVhUIiwiSEFTSF9VTkRFRklORUQiLCJNQVhfTUVNT0laRV9TSVpFIiwiUExBQ0VIT0xERVIiLCJDTE9ORV9ERUVQX0ZMQUciLCJDTE9ORV9GTEFUX0ZMQUciLCJDTE9ORV9TWU1CT0xTX0ZMQUciLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsIkNPTVBBUkVfVU5PUkRFUkVEX0ZMQUciLCJXUkFQX0JJTkRfRkxBRyIsIldSQVBfQklORF9LRVlfRkxBRyIsIldSQVBfQ1VSUllfQk9VTkRfRkxBRyIsIldSQVBfQ1VSUllfRkxBRyIsIldSQVBfQ1VSUllfUklHSFRfRkxBRyIsIldSQVBfUEFSVElBTF9GTEFHIiwiV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUciLCJXUkFQX0FSWV9GTEFHIiwiV1JBUF9SRUFSR19GTEFHIiwiV1JBUF9GTElQX0ZMQUciLCJERUZBVUxUX1RSVU5DX0xFTkdUSCIsIkRFRkFVTFRfVFJVTkNfT01JU1NJT04iLCJIT1RfQ09VTlQiLCJIT1RfU1BBTiIsIkxBWllfRklMVEVSX0ZMQUciLCJMQVpZX01BUF9GTEFHIiwiSU5GSU5JVFkiLCJNQVhfU0FGRV9JTlRFR0VSIiwiTUFYX0lOVEVHRVIiLCJOQU4iLCJNQVhfQVJSQVlfTEVOR1RIIiwiTUFYX0FSUkFZX0lOREVYIiwiSEFMRl9NQVhfQVJSQVlfTEVOR1RIIiwid3JhcEZsYWdzIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYXN5bmNUYWciLCJib29sVGFnIiwiZGF0ZVRhZyIsImRvbUV4Y1RhZyIsImVycm9yVGFnIiwiZnVuY1RhZyIsImdlblRhZyIsIm1hcFRhZyIsIm51bWJlclRhZyIsIm51bGxUYWciLCJvYmplY3RUYWciLCJwcm94eVRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsInN5bWJvbFRhZyIsInVuZGVmaW5lZFRhZyIsIndlYWtNYXBUYWciLCJ3ZWFrU2V0VGFnIiwiYXJyYXlCdWZmZXJUYWciLCJkYXRhVmlld1RhZyIsImZsb2F0MzJUYWciLCJmbG9hdDY0VGFnIiwiaW50OFRhZyIsImludDE2VGFnIiwiaW50MzJUYWciLCJ1aW50OFRhZyIsInVpbnQ4Q2xhbXBlZFRhZyIsInVpbnQxNlRhZyIsInVpbnQzMlRhZyIsInJlRW1wdHlTdHJpbmdMZWFkaW5nIiwicmVFbXB0eVN0cmluZ01pZGRsZSIsInJlRW1wdHlTdHJpbmdUcmFpbGluZyIsInJlRXNjYXBlZEh0bWwiLCJyZVVuZXNjYXBlZEh0bWwiLCJyZUhhc0VzY2FwZWRIdG1sIiwiUmVnRXhwIiwic291cmNlIiwicmVIYXNVbmVzY2FwZWRIdG1sIiwicmVFc2NhcGUiLCJyZUV2YWx1YXRlIiwicmVJbnRlcnBvbGF0ZSIsInJlSXNEZWVwUHJvcCIsInJlSXNQbGFpblByb3AiLCJyZVByb3BOYW1lIiwicmVSZWdFeHBDaGFyIiwicmVIYXNSZWdFeHBDaGFyIiwicmVUcmltIiwicmVUcmltU3RhcnQiLCJyZVRyaW1FbmQiLCJyZVdyYXBDb21tZW50IiwicmVXcmFwRGV0YWlscyIsInJlU3BsaXREZXRhaWxzIiwicmVBc2NpaVdvcmQiLCJyZUVzY2FwZUNoYXIiLCJyZUVzVGVtcGxhdGUiLCJyZUZsYWdzIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzSG9zdEN0b3IiLCJyZUlzT2N0YWwiLCJyZUlzVWludCIsInJlTGF0aW4iLCJyZU5vTWF0Y2giLCJyZVVuZXNjYXBlZFN0cmluZyIsInJzQ29tYm9SYW5nZSIsInJzQ29tYm9NYXJrc1JhbmdlIiwicnNCcmVha1JhbmdlIiwicnNNYXRoT3BSYW5nZSIsInJzQXN0cmFsIiwicnNCcmVhayIsInJzQ29tYm8iLCJyc0RpZ2l0cyIsInJzRGluZ2JhdCIsInJzTG93ZXIiLCJyc01pc2MiLCJyc0ZpdHoiLCJyc05vbkFzdHJhbCIsInJzUmVnaW9uYWwiLCJyc1N1cnJQYWlyIiwicnNVcHBlciIsInJzTWlzY0xvd2VyIiwicnNNaXNjVXBwZXIiLCJyZU9wdE1vZCIsInJzU2VxIiwicnNFbW9qaSIsInJzU3ltYm9sIiwicmVBcG9zIiwicmVDb21ib01hcmsiLCJyZVVuaWNvZGUiLCJyZVVuaWNvZGVXb3JkIiwicmVIYXNVbmljb2RlIiwicmVIYXNVbmljb2RlV29yZCIsImNvbnRleHRQcm9wcyIsInRlbXBsYXRlQ291bnRlciIsInR5cGVkQXJyYXlUYWdzIiwiY2xvbmVhYmxlVGFncyIsInN0cmluZ0VzY2FwZXMiLCJcXCIsIiciLCJcbiIsIlxyIiwi4oCoIiwi4oCpIiwiZnJlZVBhcnNlRmxvYXQiLCJwYXJzZUZsb2F0IiwiZnJlZVBhcnNlSW50IiwiZnJlZUdsb2JhbCIsImZyZWVTZWxmIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJub2RlVXRpbCIsInR5cGVzIiwicmVxdWlyZSIsIm5vZGVJc0FycmF5QnVmZmVyIiwiaXNBcnJheUJ1ZmZlciIsIm5vZGVJc0RhdGUiLCJub2RlSXNNYXAiLCJpc01hcCIsIm5vZGVJc1JlZ0V4cCIsIm5vZGVJc1NldCIsImlzU2V0Iiwibm9kZUlzVHlwZWRBcnJheSIsImlzVHlwZWRBcnJheSIsImZ1bmMiLCJ0aGlzQXJnIiwiYXJyYXlBZ2dyZWdhdG9yIiwic2V0dGVyIiwiaXRlcmF0ZWUiLCJhY2N1bXVsYXRvciIsImluZGV4IiwiYXJyYXlFYWNoIiwiYXJyYXlFYWNoUmlnaHQiLCJhcnJheUV2ZXJ5IiwicHJlZGljYXRlIiwiYXJyYXlGaWx0ZXIiLCJyZXNJbmRleCIsInJlc3VsdCIsImFycmF5SW5jbHVkZXMiLCJiYXNlSW5kZXhPZiIsImFycmF5SW5jbHVkZXNXaXRoIiwiY29tcGFyYXRvciIsImFycmF5TWFwIiwiYXJyYXlQdXNoIiwidmFsdWVzIiwiYXJyYXlSZWR1Y2UiLCJpbml0QWNjdW0iLCJhcnJheVJlZHVjZVJpZ2h0IiwiYXJyYXlTb21lIiwiYXNjaWlTaXplIiwiYmFzZVByb3BlcnR5IiwiYmFzZUZpbmRLZXkiLCJjb2xsZWN0aW9uIiwiZWFjaEZ1bmMiLCJiYXNlRmluZEluZGV4IiwiZnJvbUluZGV4IiwiZnJvbVJpZ2h0Iiwic3RyaWN0SW5kZXhPZiIsImJhc2VJc05hTiIsImJhc2VJbmRleE9mV2l0aCIsImJhc2VNZWFuIiwiYmFzZVN1bSIsImJhc2VQcm9wZXJ0eU9mIiwiYmFzZVJlZHVjZSIsImJhc2VUaW1lcyIsImJhc2VVbmFyeSIsImJhc2VWYWx1ZXMiLCJwcm9wcyIsImNhY2hlSGFzIiwiY2FjaGUiLCJoYXMiLCJjaGFyc1N0YXJ0SW5kZXgiLCJzdHJTeW1ib2xzIiwiY2hyU3ltYm9scyIsImNoYXJzRW5kSW5kZXgiLCJkZWJ1cnJMZXR0ZXIiLCLDgCIsIsOBIiwiw4IiLCLDgyIsIsOEIiwiw4UiLCLDoCIsIsOhIiwiw6IiLCLDoyIsIsOkIiwiw6UiLCLDhyIsIsOnIiwiw5AiLCLDsCIsIsOIIiwiw4kiLCLDiiIsIsOLIiwiw6giLCLDqSIsIsOqIiwiw6siLCLDjCIsIsONIiwiw44iLCLDjyIsIsOsIiwiw60iLCLDriIsIsOvIiwiw5EiLCLDsSIsIsOSIiwiw5MiLCLDlCIsIsOVIiwiw5YiLCLDmCIsIsOyIiwiw7MiLCLDtCIsIsO1Iiwiw7YiLCLDuCIsIsOZIiwiw5oiLCLDmyIsIsOcIiwiw7kiLCLDuiIsIsO7Iiwiw7wiLCLDnSIsIsO9Iiwiw78iLCLDhiIsIsOmIiwiw54iLCLDviIsIsOfIiwixIAiLCLEgiIsIsSEIiwixIEiLCLEgyIsIsSFIiwixIYiLCLEiCIsIsSKIiwixIwiLCLEhyIsIsSJIiwixIsiLCLEjSIsIsSOIiwixJAiLCLEjyIsIsSRIiwixJIiLCLElCIsIsSWIiwixJgiLCLEmiIsIsSTIiwixJUiLCLElyIsIsSZIiwixJsiLCLEnCIsIsSeIiwixKAiLCLEoiIsIsSdIiwixJ8iLCLEoSIsIsSjIiwixKQiLCLEpiIsIsSlIiwixKciLCLEqCIsIsSqIiwixKwiLCLEriIsIsSwIiwixKkiLCLEqyIsIsStIiwixK8iLCLEsSIsIsS0IiwixLUiLCLEtiIsIsS3IiwixLgiLCLEuSIsIsS7IiwixL0iLCLEvyIsIsWBIiwixLoiLCLEvCIsIsS+IiwixYAiLCLFgiIsIsWDIiwixYUiLCLFhyIsIsWKIiwixYQiLCLFhiIsIsWIIiwixYsiLCLFjCIsIsWOIiwixZAiLCLFjSIsIsWPIiwixZEiLCLFlCIsIsWWIiwixZgiLCLFlSIsIsWXIiwixZkiLCLFmiIsIsWcIiwixZ4iLCLFoCIsIsWbIiwixZ0iLCLFnyIsIsWhIiwixaIiLCLFpCIsIsWmIiwixaMiLCLFpSIsIsWnIiwixagiLCLFqiIsIsWsIiwixa4iLCLFsCIsIsWyIiwixakiLCLFqyIsIsWtIiwixa8iLCLFsSIsIsWzIiwixbQiLCLFtSIsIsW2IiwixbciLCLFuCIsIsW5IiwixbsiLCLFvSIsIsW6IiwixbwiLCLFviIsIsSyIiwixLMiLCLFkiIsIsWTIiwixYkiLCLFvyIsImVzY2FwZUh0bWxDaGFyIiwiJiIsIjwiLCI+IiwiXCIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiaGFzVW5pY29kZSIsInRlc3QiLCJtYXBUb0FycmF5IiwibWFwIiwiZm9yRWFjaCIsIm92ZXJBcmciLCJ0cmFuc2Zvcm0iLCJyZXBsYWNlSG9sZGVycyIsInBsYWNlaG9sZGVyIiwic2V0VG9BcnJheSIsInNldFRvUGFpcnMiLCJzdHJpbmdTaXplIiwibGFzdEluZGV4IiwidW5pY29kZVNpemUiLCJzdHJpbmdUb0FycmF5IiwidW5pY29kZVRvQXJyYXkiLCJzcGxpdCIsImFzY2lpVG9BcnJheSIsInVuZXNjYXBlSHRtbENoYXIiLCImYW1wOyIsIiZsdDsiLCImZ3Q7IiwiJnF1b3Q7IiwiJiMzOTsiLCJydW5JbkNvbnRleHQiLCJkZWZhdWx0cyIsInBpY2siLCJEYXRlIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsImZ1bmNUb1N0cmluZyIsImlkQ291bnRlciIsIm1hc2tTcmNLZXkiLCJ1aWQiLCJleGVjIiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsImdldFByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0Q3JlYXRlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcHJlYWRhYmxlU3ltYm9sIiwiaXNDb25jYXRTcHJlYWRhYmxlIiwic3ltSXRlcmF0b3IiLCJpdGVyYXRvciIsInN5bVRvU3RyaW5nVGFnIiwiZ2V0TmF0aXZlIiwiY3R4Q2xlYXJUaW1lb3V0IiwiY3R4Tm93Iiwibm93IiwiY3R4U2V0VGltZW91dCIsIm5hdGl2ZUNlaWwiLCJjZWlsIiwibmF0aXZlRmxvb3IiLCJuYXRpdmVHZXRTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJuYXRpdmVJc0Zpbml0ZSIsIm5hdGl2ZUpvaW4iLCJuYXRpdmVLZXlzIiwibmF0aXZlTWF4IiwibmF0aXZlTWluIiwibmF0aXZlTm93IiwibmF0aXZlUGFyc2VJbnQiLCJuYXRpdmVSYW5kb20iLCJyYW5kb20iLCJuYXRpdmVSZXZlcnNlIiwicmV2ZXJzZSIsIkRhdGFWaWV3IiwiTWFwIiwiUHJvbWlzZSIsIlNldCIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJtZXRhTWFwIiwicmVhbE5hbWVzIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwic3ltYm9sVG9TdHJpbmciLCJsb2Rhc2giLCJpc09iamVjdExpa2UiLCJMYXp5V3JhcHBlciIsIkxvZGFzaFdyYXBwZXIiLCJ3cmFwcGVyQ2xvbmUiLCJiYXNlQ3JlYXRlIiwicHJvdG8iLCJiYXNlTG9kYXNoIiwiY2hhaW5BbGwiLCJfX3dyYXBwZWRfXyIsIl9fYWN0aW9uc19fIiwiX19jaGFpbl9fIiwiX19pbmRleF9fIiwiX192YWx1ZXNfXyIsIl9fZGlyX18iLCJfX2ZpbHRlcmVkX18iLCJfX2l0ZXJhdGVlc19fIiwiX190YWtlQ291bnRfXyIsIl9fdmlld3NfXyIsIkhhc2giLCJlbnRyaWVzIiwiY2xlYXIiLCJMaXN0Q2FjaGUiLCJNYXBDYWNoZSIsIlNldENhY2hlIiwiX19kYXRhX18iLCJhZGQiLCJTdGFjayIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FyciIsImlzQXJnIiwiaXNBcmd1bWVudHMiLCJpc0J1ZmYiLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsImlzSW5kZXgiLCJhcnJheVNhbXBsZSIsImJhc2VSYW5kb20iLCJhcnJheVNhbXBsZVNpemUiLCJzaHVmZmxlU2VsZiIsImNvcHlBcnJheSIsImJhc2VDbGFtcCIsImFycmF5U2h1ZmZsZSIsImFzc2lnbk1lcmdlVmFsdWUiLCJlcSIsImJhc2VBc3NpZ25WYWx1ZSIsImFzc2lnblZhbHVlIiwib2JqVmFsdWUiLCJhc3NvY0luZGV4T2YiLCJiYXNlQWdncmVnYXRvciIsImJhc2VFYWNoIiwiYmFzZUFzc2lnbiIsImNvcHlPYmplY3QiLCJiYXNlQXQiLCJwYXRocyIsInNraXAiLCJudW1iZXIiLCJsb3dlciIsInVwcGVyIiwiYmFzZUNsb25lIiwiYml0bWFzayIsImN1c3RvbWl6ZXIiLCJzdGFjayIsImlzRGVlcCIsImlzRmxhdCIsImlzRnVsbCIsImlucHV0IiwiaW5pdENsb25lQXJyYXkiLCJ0YWciLCJnZXRUYWciLCJpc0Z1bmMiLCJjbG9uZUJ1ZmZlciIsImluaXRDbG9uZU9iamVjdCIsImdldFN5bWJvbHNJbiIsImNvcHlTeW1ib2xzSW4iLCJrZXlzSW4iLCJiYXNlQXNzaWduSW4iLCJnZXRTeW1ib2xzIiwiY29weVN5bWJvbHMiLCJDdG9yIiwiY2xvbmVBcnJheUJ1ZmZlciIsImRhdGFWaWV3IiwiY2xvbmVEYXRhVmlldyIsImNsb25lVHlwZWRBcnJheSIsInJlZ2V4cCIsImNsb25lUmVnRXhwIiwic3ltYm9sIiwiY2xvbmVTeW1ib2wiLCJpbml0Q2xvbmVCeVRhZyIsInN0YWNrZWQiLCJzdWJWYWx1ZSIsImdldEFsbEtleXNJbiIsImdldEFsbEtleXMiLCJiYXNlQ29uZm9ybXNUbyIsImJhc2VEZWxheSIsIndhaXQiLCJiYXNlRGlmZmVyZW5jZSIsImlzQ29tbW9uIiwidmFsdWVzTGVuZ3RoIiwib3V0ZXIiLCJjb21wdXRlZCIsInZhbHVlc0luZGV4IiwidGVtcGxhdGVTZXR0aW5ncyIsImVzY2FwZSIsImV2YWx1YXRlIiwiaW50ZXJwb2xhdGUiLCJ2YXJpYWJsZSIsImltcG9ydHMiLCJwb3AiLCJoYXNoIiwiZ2V0TWFwRGF0YSIsInBhaXJzIiwiY3JlYXRlQmFzZUVhY2giLCJiYXNlRm9yT3duIiwiYmFzZUVhY2hSaWdodCIsImJhc2VGb3JPd25SaWdodCIsImJhc2VFdmVyeSIsImJhc2VFeHRyZW11bSIsImJhc2VGaWx0ZXIiLCJiYXNlRmxhdHRlbiIsImRlcHRoIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiYmFzZUdldCIsInBhdGgiLCJjYXN0UGF0aCIsInRvS2V5IiwiYmFzZUdldEFsbEtleXMiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwiYmFzZUdldFRhZyIsImlzT3duIiwidW5tYXNrZWQiLCJnZXRSYXdUYWciLCJiYXNlR3QiLCJvdGhlciIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJtYXhMZW5ndGgiLCJzZWVuIiwiYmFzZUludm9rZSIsInBhcmVudCIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsIm1lc3NhZ2UiLCJjb252ZXJ0IiwiaXNQYXJ0aWFsIiwiZXF1YWxCeVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsIm9ialByb3BzIiwib2JqTGVuZ3RoIiwic2tpcEN0b3IiLCJvdGhWYWx1ZSIsImNvbXBhcmVkIiwib2JqQ3RvciIsIm90aEN0b3IiLCJlcXVhbE9iamVjdHMiLCJiYXNlSXNFcXVhbERlZXAiLCJiYXNlSXNNYXRjaCIsIm1hdGNoRGF0YSIsIm5vQ3VzdG9taXplciIsInNyY1ZhbHVlIiwiYmFzZUlzTmF0aXZlIiwiaXNNYXNrZWQiLCJiYXNlSXRlcmF0ZWUiLCJpZGVudGl0eSIsImJhc2VNYXRjaGVzUHJvcGVydHkiLCJiYXNlTWF0Y2hlcyIsImJhc2VLZXlzIiwiaXNQcm90b3R5cGUiLCJiYXNlS2V5c0luIiwibmF0aXZlS2V5c0luIiwiaXNQcm90byIsImJhc2VMdCIsImJhc2VNYXAiLCJpc0FycmF5TGlrZSIsImdldE1hdGNoRGF0YSIsIm1hdGNoZXNTdHJpY3RDb21wYXJhYmxlIiwiaXNLZXkiLCJpc1N0cmljdENvbXBhcmFibGUiLCJoYXNJbiIsImJhc2VNZXJnZSIsInNyY0luZGV4IiwibWVyZ2VGdW5jIiwic2FmZUdldCIsIm5ld1ZhbHVlIiwiaXNUeXBlZCIsImlzQXJyYXlMaWtlT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsInRvUGxhaW5PYmplY3QiLCJiYXNlTWVyZ2VEZWVwIiwiYmFzZU50aCIsImJhc2VPcmRlckJ5IiwiaXRlcmF0ZWVzIiwib3JkZXJzIiwiZ2V0SXRlcmF0ZWUiLCJjb21wYXJlciIsInNvcnQiLCJiYXNlU29ydEJ5IiwiY3JpdGVyaWEiLCJvYmpDcml0ZXJpYSIsIm90aENyaXRlcmlhIiwib3JkZXJzTGVuZ3RoIiwiY29tcGFyZUFzY2VuZGluZyIsIm9yZGVyIiwiY29tcGFyZU11bHRpcGxlIiwiYmFzZVBpY2tCeSIsImJhc2VTZXQiLCJiYXNlUHVsbEFsbCIsImJhc2VQdWxsQXQiLCJpbmRleGVzIiwicHJldmlvdXMiLCJiYXNlVW5zZXQiLCJiYXNlUmVwZWF0IiwiYmFzZVJlc3QiLCJzZXRUb1N0cmluZyIsIm92ZXJSZXN0IiwiYmFzZVNhbXBsZSIsImJhc2VTYW1wbGVTaXplIiwibmVzdGVkIiwiYmFzZVNldERhdGEiLCJiYXNlU2V0VG9TdHJpbmciLCJjb25zdGFudCIsImJhc2VTaHVmZmxlIiwiYmFzZVNsaWNlIiwiYmFzZVNvbWUiLCJiYXNlU29ydGVkSW5kZXgiLCJyZXRIaWdoZXN0IiwibG93IiwiaGlnaCIsIm1pZCIsImJhc2VTb3J0ZWRJbmRleEJ5IiwidmFsSXNOYU4iLCJ2YWxJc051bGwiLCJ2YWxJc1N5bWJvbCIsInZhbElzVW5kZWZpbmVkIiwib3RoSXNEZWZpbmVkIiwib3RoSXNOdWxsIiwib3RoSXNSZWZsZXhpdmUiLCJvdGhJc1N5bWJvbCIsInNldExvdyIsImJhc2VTb3J0ZWRVbmlxIiwiYmFzZVRvTnVtYmVyIiwiYmFzZVRvU3RyaW5nIiwiYmFzZVVuaXEiLCJjcmVhdGVTZXQiLCJzZWVuSW5kZXgiLCJiYXNlVXBkYXRlIiwidXBkYXRlciIsImJhc2VXaGlsZSIsImlzRHJvcCIsImJhc2VXcmFwcGVyVmFsdWUiLCJhY3Rpb25zIiwiYWN0aW9uIiwiYmFzZVhvciIsImJhc2VaaXBPYmplY3QiLCJhc3NpZ25GdW5jIiwidmFsc0xlbmd0aCIsImNhc3RBcnJheUxpa2VPYmplY3QiLCJjYXN0RnVuY3Rpb24iLCJzdHJpbmdUb1BhdGgiLCJjYXN0UmVzdCIsImNhc3RTbGljZSIsImlkIiwiYXJyYXlCdWZmZXIiLCJ0eXBlZEFycmF5IiwidmFsSXNEZWZpbmVkIiwidmFsSXNSZWZsZXhpdmUiLCJjb21wb3NlQXJncyIsInBhcnRpYWxzIiwiaG9sZGVycyIsImlzQ3VycmllZCIsImFyZ3NJbmRleCIsImFyZ3NMZW5ndGgiLCJob2xkZXJzTGVuZ3RoIiwibGVmdEluZGV4IiwibGVmdExlbmd0aCIsInJhbmdlTGVuZ3RoIiwiaXNVbmN1cnJpZWQiLCJjb21wb3NlQXJnc1JpZ2h0IiwiaG9sZGVyc0luZGV4IiwicmlnaHRJbmRleCIsInJpZ2h0TGVuZ3RoIiwiaXNOZXciLCJjcmVhdGVBZ2dyZWdhdG9yIiwiaW5pdGlhbGl6ZXIiLCJjcmVhdGVBc3NpZ25lciIsImFzc2lnbmVyIiwic291cmNlcyIsImd1YXJkIiwiaXNJdGVyYXRlZUNhbGwiLCJpdGVyYWJsZSIsImNyZWF0ZUNhc2VGaXJzdCIsIm1ldGhvZE5hbWUiLCJjaGFyQXQiLCJ0cmFpbGluZyIsImNyZWF0ZUNvbXBvdW5kZXIiLCJ3b3JkcyIsImRlYnVyciIsImNyZWF0ZUN0b3IiLCJ0aGlzQmluZGluZyIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXhGdW5jIiwiY3JlYXRlRmxvdyIsImZsYXRSZXN0IiwiZnVuY3MiLCJwcmVyZXEiLCJ0aHJ1Iiwid3JhcHBlciIsImdldEZ1bmNOYW1lIiwiZnVuY05hbWUiLCJnZXREYXRhIiwiaXNMYXppYWJsZSIsInBsYW50IiwiY3JlYXRlSHlicmlkIiwicGFydGlhbHNSaWdodCIsImhvbGRlcnNSaWdodCIsImFyZ1BvcyIsImFyeSIsImFyaXR5IiwiaXNBcnkiLCJpc0JpbmQiLCJpc0JpbmRLZXkiLCJpc0ZsaXAiLCJnZXRIb2xkZXIiLCJob2xkZXJzQ291bnQiLCJjb3VudEhvbGRlcnMiLCJuZXdIb2xkZXJzIiwiY3JlYXRlUmVjdXJyeSIsIm9sZEFycmF5IiwicmVvcmRlciIsImNyZWF0ZUludmVydGVyIiwidG9JdGVyYXRlZSIsImJhc2VJbnZlcnRlciIsImNyZWF0ZU1hdGhPcGVyYXRpb24iLCJvcGVyYXRvciIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwic3RlcCIsInRvRmluaXRlIiwiYmFzZVJhbmdlIiwiY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbiIsInRvTnVtYmVyIiwid3JhcEZ1bmMiLCJpc0N1cnJ5IiwibmV3RGF0YSIsInNldERhdGEiLCJzZXRXcmFwVG9TdHJpbmciLCJjcmVhdGVSb3VuZCIsInByZWNpc2lvbiIsInRvSW50ZWdlciIsInBhaXIiLCJjcmVhdGVUb1BhaXJzIiwiYmFzZVRvUGFpcnMiLCJjcmVhdGVXcmFwIiwic3JjQml0bWFzayIsIm5ld0JpdG1hc2siLCJpc0NvbWJvIiwibWVyZ2VEYXRhIiwiY3JlYXRlQ3VycnkiLCJjcmVhdGVQYXJ0aWFsIiwiY3JlYXRlQmluZCIsImN1c3RvbURlZmF1bHRzQXNzaWduSW4iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiYXJyVmFsdWUiLCJmbGF0dGVuIiwib3RoZXJGdW5jIiwiaXNLZXlhYmxlIiwiZ2V0VmFsdWUiLCJzdHViQXJyYXkiLCJoYXNQYXRoIiwiaGFzRnVuYyIsImlzTGVuZ3RoIiwicmVzb2x2ZSIsImN0b3JTdHJpbmciLCJpc01hc2thYmxlIiwic3R1YkZhbHNlIiwib3RoZXJBcmdzIiwic2hvcnRPdXQiLCJyZWZlcmVuY2UiLCJkZXRhaWxzIiwiaW5zZXJ0V3JhcERldGFpbHMiLCJ1cGRhdGVXcmFwRGV0YWlscyIsImdldFdyYXBEZXRhaWxzIiwibGFzdENhbGxlZCIsInN0YW1wIiwicmFuZCIsIm1lbW9pemUiLCJtZW1vaXplQ2FwcGVkIiwicXVvdGUiLCJzdWJTdHJpbmciLCJjbG9uZSIsImRpZmZlcmVuY2UiLCJkaWZmZXJlbmNlQnkiLCJkaWZmZXJlbmNlV2l0aCIsImZpbmRJbmRleCIsImZpbmRMYXN0SW5kZXgiLCJoZWFkIiwiaW50ZXJzZWN0aW9uIiwibWFwcGVkIiwiaW50ZXJzZWN0aW9uQnkiLCJpbnRlcnNlY3Rpb25XaXRoIiwicHVsbCIsInB1bGxBbGwiLCJwdWxsQXQiLCJ1bmlvbiIsInVuaW9uQnkiLCJ1bmlvbldpdGgiLCJ1bnppcCIsImdyb3VwIiwidW56aXBXaXRoIiwid2l0aG91dCIsInhvciIsInhvckJ5IiwieG9yV2l0aCIsInppcCIsInppcFdpdGgiLCJjaGFpbiIsImludGVyY2VwdG9yIiwid3JhcHBlckF0IiwiY291bnRCeSIsImZpbmQiLCJmaW5kTGFzdCIsImZvckVhY2hSaWdodCIsImdyb3VwQnkiLCJpbnZva2VNYXAiLCJrZXlCeSIsInBhcnRpdGlvbiIsInNvcnRCeSIsImJlZm9yZSIsImJpbmRLZXkiLCJkZWJvdW5jZSIsImxhc3RBcmdzIiwibGFzdFRoaXMiLCJtYXhXYWl0IiwidGltZXJJZCIsImxhc3RDYWxsVGltZSIsImxhc3RJbnZva2VUaW1lIiwibGVhZGluZyIsIm1heGluZyIsImludm9rZUZ1bmMiLCJ0aW1lIiwic2hvdWxkSW52b2tlIiwidGltZVNpbmNlTGFzdENhbGwiLCJ0aW1lckV4cGlyZWQiLCJ0cmFpbGluZ0VkZ2UiLCJ0aW1lV2FpdGluZyIsInJlbWFpbmluZ1dhaXQiLCJkZWJvdW5jZWQiLCJpc0ludm9raW5nIiwibGVhZGluZ0VkZ2UiLCJjYW5jZWwiLCJmbHVzaCIsImRlZmVyIiwiZGVsYXkiLCJyZXNvbHZlciIsIm1lbW9pemVkIiwiQ2FjaGUiLCJuZWdhdGUiLCJvdmVyQXJncyIsInRyYW5zZm9ybXMiLCJmdW5jc0xlbmd0aCIsInBhcnRpYWwiLCJwYXJ0aWFsUmlnaHQiLCJyZWFyZyIsImd0IiwiZ3RlIiwiaXNJbnRlZ2VyIiwibHQiLCJsdGUiLCJ0b0FycmF5IiwiZG9uZSIsIml0ZXJhdG9yVG9BcnJheSIsInJlbWFpbmRlciIsInRvTGVuZ3RoIiwiaXNCaW5hcnkiLCJhc3NpZ24iLCJhc3NpZ25JbiIsImFzc2lnbkluV2l0aCIsImFzc2lnbldpdGgiLCJhdCIsInByb3BzSW5kZXgiLCJwcm9wc0xlbmd0aCIsImRlZmF1bHRzRGVlcCIsIm1lcmdlV2l0aCIsImludmVydCIsImludmVydEJ5IiwiaW52b2tlIiwibWVyZ2UiLCJvbWl0IiwiYmFzZVBpY2siLCJwaWNrQnkiLCJwcm9wIiwidG9QYWlycyIsInRvUGFpcnNJbiIsImNhbWVsQ2FzZSIsIndvcmQiLCJjYXBpdGFsaXplIiwidXBwZXJGaXJzdCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJzbmFrZUNhc2UiLCJzdGFydENhc2UiLCJ1cHBlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsInBhdHRlcm4iLCJoYXNVbmljb2RlV29yZCIsInVuaWNvZGVXb3JkcyIsImFzY2lpV29yZHMiLCJhdHRlbXB0IiwiYmluZEFsbCIsIm1ldGhvZE5hbWVzIiwiZmxvdyIsImZsb3dSaWdodCIsIm1ldGhvZE9mIiwibWl4aW4iLCJvdmVyIiwib3ZlckV2ZXJ5Iiwib3ZlclNvbWUiLCJiYXNlUHJvcGVydHlEZWVwIiwicmFuZ2UiLCJyYW5nZVJpZ2h0IiwiYXVnZW5kIiwiYWRkZW5kIiwiZGl2aWRlIiwiZGl2aWRlbmQiLCJkaXZpc29yIiwibXVsdGlwbHkiLCJtdWx0aXBsaWVyIiwibXVsdGlwbGljYW5kIiwicm91bmQiLCJzdWJ0cmFjdCIsIm1pbnVlbmQiLCJzdWJ0cmFoZW5kIiwiYWZ0ZXIiLCJjYXN0QXJyYXkiLCJjb25kIiwiY29uZm9ybXMiLCJiYXNlQ29uZm9ybXMiLCJwcm9wZXJ0aWVzIiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZHJvcCIsImRyb3BSaWdodCIsImRyb3BSaWdodFdoaWxlIiwiZHJvcFdoaWxlIiwiYmFzZUZpbGwiLCJmaWx0ZXIiLCJmbGF0TWFwIiwiZmxhdE1hcERlZXAiLCJmbGF0TWFwRGVwdGgiLCJmbGF0dGVuRGVlcCIsImZsYXR0ZW5EZXB0aCIsImZsaXAiLCJmcm9tUGFpcnMiLCJmdW5jdGlvbnMiLCJmdW5jdGlvbnNJbiIsImluaXRpYWwiLCJtYXBLZXlzIiwibWFwVmFsdWVzIiwibWF0Y2hlcyIsIm1hdGNoZXNQcm9wZXJ0eSIsIm50aEFyZyIsIm9taXRCeSIsIm9yZGVyQnkiLCJwcm9wZXJ0eU9mIiwicHVsbEFsbEJ5IiwicHVsbEFsbFdpdGgiLCJyZWplY3QiLCJyZW1vdmUiLCJyZXN0Iiwic2FtcGxlU2l6ZSIsInNldFdpdGgiLCJzaHVmZmxlIiwic29ydGVkVW5pcSIsInNvcnRlZFVuaXFCeSIsInNlcGFyYXRvciIsInNwcmVhZCIsInRhaWwiLCJ0YWtlIiwidGFrZVJpZ2h0IiwidGFrZVJpZ2h0V2hpbGUiLCJ0YWtlV2hpbGUiLCJ0YXAiLCJ0aHJvdHRsZSIsInRvUGF0aCIsImlzQXJyTGlrZSIsInVuYXJ5IiwidW5pcSIsInVuaXFCeSIsInVuaXFXaXRoIiwidW5zZXQiLCJ1cGRhdGUiLCJ1cGRhdGVXaXRoIiwidmFsdWVzSW4iLCJ3cmFwIiwiemlwT2JqZWN0IiwiemlwT2JqZWN0RGVlcCIsImVudHJpZXNJbiIsImV4dGVuZCIsImV4dGVuZFdpdGgiLCJjbGFtcCIsImNsb25lRGVlcCIsImNsb25lRGVlcFdpdGgiLCJjbG9uZVdpdGgiLCJjb25mb3Jtc1RvIiwiZGVmYXVsdFRvIiwiZW5kc1dpdGgiLCJlc2NhcGVSZWdFeHAiLCJldmVyeSIsImZpbmRLZXkiLCJmaW5kTGFzdEtleSIsImZvckluIiwiZm9ySW5SaWdodCIsImZvck93biIsImZvck93blJpZ2h0IiwiaW5SYW5nZSIsImJhc2VJblJhbmdlIiwiaXNFbGVtZW50IiwiaXNFbXB0eSIsImlzRXF1YWwiLCJpc0VxdWFsV2l0aCIsImlzTWF0Y2giLCJpc01hdGNoV2l0aCIsImlzTmF0aXZlIiwiaXNOaWwiLCJpc1NhZmVJbnRlZ2VyIiwiaXNXZWFrTWFwIiwiaXNXZWFrU2V0Iiwic3RyaWN0TGFzdEluZGV4T2YiLCJtYXhCeSIsIm1lYW4iLCJtZWFuQnkiLCJtaW5CeSIsInN0dWJPYmplY3QiLCJzdHViU3RyaW5nIiwic3R1YlRydWUiLCJudGgiLCJub0NvbmZsaWN0IiwicGFkIiwic3RyTGVuZ3RoIiwicGFkRW5kIiwicGFkU3RhcnQiLCJyYWRpeCIsImZsb2F0aW5nIiwidGVtcCIsInJlZHVjZSIsInJlZHVjZVJpZ2h0IiwicmVwZWF0Iiwic2FtcGxlIiwic29tZSIsInNvcnRlZEluZGV4Iiwic29ydGVkSW5kZXhCeSIsInNvcnRlZEluZGV4T2YiLCJzb3J0ZWRMYXN0SW5kZXgiLCJzb3J0ZWRMYXN0SW5kZXhCeSIsInNvcnRlZExhc3RJbmRleE9mIiwic3RhcnRzV2l0aCIsInN1bSIsInN1bUJ5IiwidGVtcGxhdGUiLCJzZXR0aW5ncyIsImlzRXNjYXBpbmciLCJpc0V2YWx1YXRpbmciLCJpbXBvcnRzS2V5cyIsImltcG9ydHNWYWx1ZXMiLCJyZURlbGltaXRlcnMiLCJzb3VyY2VVUkwiLCJlc2NhcGVWYWx1ZSIsImludGVycG9sYXRlVmFsdWUiLCJlc1RlbXBsYXRlVmFsdWUiLCJldmFsdWF0ZVZhbHVlIiwidGltZXMiLCJ0b0xvd2VyIiwidG9TYWZlSW50ZWdlciIsInRvVXBwZXIiLCJ0cmltRW5kIiwidHJpbVN0YXJ0IiwidHJ1bmNhdGUiLCJvbWlzc2lvbiIsInNlYXJjaCIsInN1YnN0cmluZyIsIm5ld0VuZCIsInVuZXNjYXBlIiwidW5pcXVlSWQiLCJwcmVmaXgiLCJlYWNoIiwiZWFjaFJpZ2h0IiwiZmlyc3QiLCJWRVJTSU9OIiwiaXNGaWx0ZXIiLCJ0YWtlTmFtZSIsImRyb3BOYW1lIiwiY2hlY2tJdGVyYXRlZSIsImlzVGFrZXIiLCJsb2Rhc2hGdW5jIiwicmV0VW53cmFwcGVkIiwiaXNMYXp5IiwidXNlTGF6eSIsImlzSHlicmlkIiwiaXNVbndyYXBwZWQiLCJvbmx5TGF6eSIsImNoYWluTmFtZSIsImlzUmlnaHQiLCJ2aWV3IiwiZ2V0VmlldyIsIml0ZXJMZW5ndGgiLCJ0YWtlQ291bnQiLCJpdGVySW5kZXgiLCJjb21taXQiLCJ3cmFwcGVkIiwiY29sb3JTdHJpbmciLCJfc2xpY2UiLCJza2lwcGVkTW9kZWxzIiwiaGFzaGVkTW9kZWxLZXlzIiwibW9kZWwiLCJsYWJlbHMiLCJsaW1pdGVycyIsIkNvbG9yIiwiY2hhbm5lbHMiLCJjb2xvciIsInZhbHBoYSIsIm5ld0FyciIsInplcm9BcnJheSIsImFscGhhIiwiaGFzaGVkS2V5cyIsIkpTT04iLCJzdHJpbmdpZnkiLCJmcmVlemUiLCJnZXRzZXQiLCJjaGFubmVsIiwibW9kaWZpZXIiLCJtYXhmbiIsInBsYWNlcyIsInRvIiwicmdiIiwicGVyY2VudFN0cmluZyIsInBlcmNlbnQiLCJ1bml0QXJyYXkiLCJ1bml0T2JqZWN0IiwibnVtIiwidG9GaXhlZCIsInJvdW5kVG8iLCJyb3VuZFRvUGxhY2UiLCJyZWQiLCJncmVlbiIsImJsdWUiLCJodWUiLCJzYXR1cmF0aW9ubCIsImxpZ2h0bmVzcyIsInNhdHVyYXRpb252IiwiY2hyb21hIiwiZ3JheSIsIndoaXRlIiwid2JsYWNrIiwiY3lhbiIsIm1hZ2VudGEiLCJ5ZWxsb3ciLCJibGFjayIsInoiLCJrZXl3b3JkIiwiaGV4IiwicmdiTnVtYmVyIiwibHVtaW5vc2l0eSIsImx1bSIsImNoYW4iLCJjb250cmFzdCIsImNvbG9yMiIsImx1bTEiLCJsdW0yIiwibGV2ZWwiLCJjb250cmFzdFJhdGlvIiwiaXNEYXJrIiwiaXNMaWdodCIsImxpZ2h0ZW4iLCJyYXRpbyIsImhzbCIsImRhcmtlbiIsInNhdHVyYXRlIiwiZGVzYXR1cmF0ZSIsIndoaXRlbiIsImh3YiIsImJsYWNrZW4iLCJncmF5c2NhbGUiLCJmYWRlIiwib3BhcXVlciIsInJvdGF0ZSIsImRlZ3JlZXMiLCJtaXgiLCJtaXhpbkNvbG9yIiwid2VpZ2h0IiwiY29sb3IxIiwidyIsIncxIiwidzIiLCJuZXdBbHBoYSIsImFzc2VydEFycmF5IiwicmF3IiwiYWxpY2VibHVlIiwiYW50aXF1ZXdoaXRlIiwiYXF1YSIsImFxdWFtYXJpbmUiLCJhenVyZSIsImJlaWdlIiwiYmlzcXVlIiwiYmxhbmNoZWRhbG1vbmQiLCJibHVldmlvbGV0IiwiYnJvd24iLCJidXJseXdvb2QiLCJjYWRldGJsdWUiLCJjaGFydHJldXNlIiwiY2hvY29sYXRlIiwiY29yYWwiLCJjb3JuZmxvd2VyYmx1ZSIsImNvcm5zaWxrIiwiY3JpbXNvbiIsImRhcmtibHVlIiwiZGFya2N5YW4iLCJkYXJrZ29sZGVucm9kIiwiZGFya2dyYXkiLCJkYXJrZ3JlZW4iLCJkYXJrZ3JleSIsImRhcmtraGFraSIsImRhcmttYWdlbnRhIiwiZGFya29saXZlZ3JlZW4iLCJkYXJrb3JhbmdlIiwiZGFya29yY2hpZCIsImRhcmtyZWQiLCJkYXJrc2FsbW9uIiwiZGFya3NlYWdyZWVuIiwiZGFya3NsYXRlYmx1ZSIsImRhcmtzbGF0ZWdyYXkiLCJkYXJrc2xhdGVncmV5IiwiZGFya3R1cnF1b2lzZSIsImRhcmt2aW9sZXQiLCJkZWVwcGluayIsImRlZXBza3libHVlIiwiZGltZ3JheSIsImRpbWdyZXkiLCJkb2RnZXJibHVlIiwiZmlyZWJyaWNrIiwiZmxvcmFsd2hpdGUiLCJmb3Jlc3RncmVlbiIsImZ1Y2hzaWEiLCJnYWluc2Jvcm8iLCJnaG9zdHdoaXRlIiwiZ29sZCIsImdvbGRlbnJvZCIsImdyZWVueWVsbG93IiwiZ3JleSIsImhvbmV5ZGV3IiwiaG90cGluayIsImluZGlhbnJlZCIsImluZGlnbyIsIml2b3J5Iiwia2hha2kiLCJsYXZlbmRlciIsImxhdmVuZGVyYmx1c2giLCJsYXduZ3JlZW4iLCJsZW1vbmNoaWZmb24iLCJsaWdodGJsdWUiLCJsaWdodGNvcmFsIiwibGlnaHRjeWFuIiwibGlnaHRnb2xkZW5yb2R5ZWxsb3ciLCJsaWdodGdyYXkiLCJsaWdodGdyZWVuIiwibGlnaHRncmV5IiwibGlnaHRwaW5rIiwibGlnaHRzYWxtb24iLCJsaWdodHNlYWdyZWVuIiwibGlnaHRza3libHVlIiwibGlnaHRzbGF0ZWdyYXkiLCJsaWdodHNsYXRlZ3JleSIsImxpZ2h0c3RlZWxibHVlIiwibGlnaHR5ZWxsb3ciLCJsaW1lIiwibGltZWdyZWVuIiwibGluZW4iLCJtYXJvb24iLCJtZWRpdW1hcXVhbWFyaW5lIiwibWVkaXVtYmx1ZSIsIm1lZGl1bW9yY2hpZCIsIm1lZGl1bXB1cnBsZSIsIm1lZGl1bXNlYWdyZWVuIiwibWVkaXVtc2xhdGVibHVlIiwibWVkaXVtc3ByaW5nZ3JlZW4iLCJtZWRpdW10dXJxdW9pc2UiLCJtZWRpdW12aW9sZXRyZWQiLCJtaWRuaWdodGJsdWUiLCJtaW50Y3JlYW0iLCJtaXN0eXJvc2UiLCJtb2NjYXNpbiIsIm5hdmFqb3doaXRlIiwibmF2eSIsIm9sZGxhY2UiLCJvbGl2ZSIsIm9saXZlZHJhYiIsIm9yYW5nZSIsIm9yYW5nZXJlZCIsIm9yY2hpZCIsInBhbGVnb2xkZW5yb2QiLCJwYWxlZ3JlZW4iLCJwYWxldHVycXVvaXNlIiwicGFsZXZpb2xldHJlZCIsInBhcGF5YXdoaXAiLCJwZWFjaHB1ZmYiLCJwZXJ1IiwicGluayIsInBsdW0iLCJwb3dkZXJibHVlIiwicHVycGxlIiwicmViZWNjYXB1cnBsZSIsInJvc3licm93biIsInJveWFsYmx1ZSIsInNhZGRsZWJyb3duIiwic2FsbW9uIiwic2FuZHlicm93biIsInNlYWdyZWVuIiwic2Vhc2hlbGwiLCJzaWVubmEiLCJzaWx2ZXIiLCJza3libHVlIiwic2xhdGVibHVlIiwic2xhdGVncmF5Iiwic2xhdGVncmV5Iiwic25vdyIsInNwcmluZ2dyZWVuIiwic3RlZWxibHVlIiwidGFuIiwidGVhbCIsInRoaXN0bGUiLCJ0b21hdG8iLCJ0dXJxdW9pc2UiLCJ2aW9sZXQiLCJ3aGVhdCIsIndoaXRlc21va2UiLCJ5ZWxsb3dncmVlbiIsImNzc0tleXdvcmRzIiwicmV2ZXJzZUtleXdvcmRzIiwiaHN2IiwiY215ayIsInh5eiIsImxhYiIsImxjaCIsImFuc2kxNiIsImFuc2kyNTYiLCJoY2ciLCJhcHBsZSIsImNvbXBhcmF0aXZlRGlzdGFuY2UiLCJoIiwiZGVsdGEiLCJyZGlmIiwiZ2RpZiIsImJkaWYiLCJkaWZmIiwiZGlmZmMiLCJrIiwicmV2ZXJzZWQiLCJjdXJyZW50Q2xvc2VzdEtleXdvcmQiLCJjdXJyZW50Q2xvc2VzdERpc3RhbmNlIiwiZGlzdGFuY2UiLCJ0MSIsInQyIiwidDMiLCJzbWluIiwibG1pbiIsImYiLCJxIiwic2wiLCJ2bWluIiwid2giLCJibCIsInkyIiwieDIiLCJ6MiIsImF0YW4yIiwiUEkiLCJzcXJ0IiwiaHIiLCJjb3MiLCJzaW4iLCJhbnNpIiwibXVsdCIsInJlbSIsImNoYXIiLCJpbnRlZ2VyIiwibWciLCJwdXJlIiwiY3VycmVudEVsZW1lbnQiLCJzYXgiLCJoZWxwZXIiLCJuYXRpdmVUeXBlIiwiblZhbHVlIiwiYlZhbHVlIiwiYWRkRmllbGQiLCJpbnN0cnVjdGlvbkZuIiwiaW5zdHJ1Y3Rpb25OYW1lRm4iLCJlbGVtZW50c0tleSIsImVsZW1lbnQiLCJ0eXBlS2V5IiwibmFtZUtleSIsImluc3RydWN0aW9uSGFzQXR0cmlidXRlcyIsImF0dHJpYnV0ZXNLZXkiLCJpbnN0cnVjdGlvbktleSIsImFkZFBhcmVudCIsInBhcmVudEtleSIsIm1hbmlwdWxhdGVBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZXNGbiIsIm5hdGl2ZVR5cGVBdHRyaWJ1dGVzIiwiYXR0cmlidXRlVmFsdWVGbiIsImF0dHJpYnV0ZU5hbWVGbiIsIm9uSW5zdHJ1Y3Rpb24iLCJpbnN0cnVjdGlvbiIsImJvZHkiLCJhdHRyc1JlZ0V4cCIsImlnbm9yZURlY2xhcmF0aW9uIiwiZGVjbGFyYXRpb25LZXkiLCJpZ25vcmVJbnN0cnVjdGlvbiIsIm9uU3RhcnRFbGVtZW50IiwiZWxlbWVudE5hbWVGbiIsImlnbm9yZUF0dHJpYnV0ZXMiLCJhbHdheXNDaGlsZHJlbiIsIm9uVGV4dCIsImlnbm9yZVRleHQiLCJjYXB0dXJlU3BhY2VzQmV0d2VlbkVsZW1lbnRzIiwic2FuaXRpemUiLCJvbkNvbW1lbnQiLCJjb21tZW50IiwiaWdub3JlQ29tbWVudCIsIm9uRW5kRWxlbWVudCIsInBhcmVudEVsZW1lbnQiLCJvbkNkYXRhIiwiY2RhdGEiLCJpZ25vcmVDZGF0YSIsIm9uRG9jdHlwZSIsImRvY3R5cGUiLCJpZ25vcmVEb2N0eXBlIiwib25FcnJvciIsIm5vdGUiLCJ4bWwiLCJ1c2VyT3B0aW9ucyIsInBhcnNlciIsInZhbGlkYXRlT3B0aW9ucyIsIm9wdCIsInN0cmljdEVudGl0aWVzIiwib25vcGVudGFnIiwib250ZXh0Iiwib25jb21tZW50Iiwib25jbG9zZXRhZyIsIm9uZXJyb3IiLCJvbmNkYXRhIiwib25kb2N0eXBlIiwib25wcm9jZXNzaW5naW5zdHJ1Y3Rpb24iLCJjbG9zZSIsIlJlYWRhYmxlU3RhdGUiLCJFRWxpc3RlbmVyQ291bnQiLCJkZWJ1Z1V0aWwiLCJkZWJ1ZyIsImRlYnVnbG9nIiwiQnVmZmVyTGlzdCIsImtQcm94eUV2ZW50cyIsInJlYWRhYmxlT2JqZWN0TW9kZSIsInJlYWRhYmxlSHdtIiwicmVhZGFibGVIaWdoV2F0ZXJNYXJrIiwicGlwZXMiLCJwaXBlc0NvdW50IiwiZmxvd2luZyIsImVuZEVtaXR0ZWQiLCJyZWFkaW5nIiwibmVlZFJlYWRhYmxlIiwiZW1pdHRlZFJlYWRhYmxlIiwicmVhZGFibGVMaXN0ZW5pbmciLCJyZXN1bWVTY2hlZHVsZWQiLCJhd2FpdERyYWluIiwicmVhZGluZ01vcmUiLCJkZWNvZGVyIiwiX3JlYWQiLCJyZWFkYWJsZUFkZENodW5rIiwiYWRkVG9Gcm9udCIsInNraXBDaHVua0NoZWNrIiwiZW1pdFJlYWRhYmxlIiwib25Fb2ZDaHVuayIsImNodW5rSW52YWxpZCIsImFkZENodW5rIiwibWF5YmVSZWFkTW9yZSIsIm5lZWRNb3JlRGF0YSIsInVuc2hpZnQiLCJpc1BhdXNlZCIsInNldEVuY29kaW5nIiwiTUFYX0hXTSIsImhvd011Y2hUb1JlYWQiLCJjb21wdXRlTmV3SGlnaFdhdGVyTWFyayIsImVtaXRSZWFkYWJsZV8iLCJtYXliZVJlYWRNb3JlXyIsIm5SZWFkaW5nTmV4dFRpY2siLCJyZXN1bWVfIiwiZnJvbUxpc3QiLCJzaGlmdCIsImhhc1N0cmluZ3MiLCJjb3B5RnJvbUJ1ZmZlclN0cmluZyIsImNvcHlGcm9tQnVmZmVyIiwiZnJvbUxpc3RQYXJ0aWFsIiwiZW5kUmVhZGFibGUiLCJlbmRSZWFkYWJsZU5UIiwieHMiLCJuT3JpZyIsImRvUmVhZCIsImRlc3QiLCJwaXBlT3B0cyIsImVuZEZuIiwic3Rkb3V0Iiwic3RkZXJyIiwidW5waXBlIiwib251bnBpcGUiLCJ1bnBpcGVJbmZvIiwiaGFzVW5waXBlZCIsIm9uY2xvc2UiLCJvbmZpbmlzaCIsIm9uZHJhaW4iLCJvbmRhdGEiLCJjbGVhbmVkVXAiLCJwaXBlT25EcmFpbiIsImluY3JlYXNlZEF3YWl0RHJhaW4iLCJwYXVzZSIsImV2ZW50IiwicmVzdW1lIiwiZGVzdHMiLCJldiIsInBhdXNlZCIsIl9mcm9tTGlzdCIsImVtaXRFcnJvck5UIiwicmVhZGFibGVEZXN0cm95ZWQiLCJ3cml0YWJsZURlc3Ryb3llZCIsIl90cmFuc2Zvcm1TdGF0ZSIsImFmdGVyVHJhbnNmb3JtIiwidHMiLCJ0cmFuc2Zvcm1pbmciLCJ3cml0ZWNodW5rIiwicnMiLCJuZWVkVHJhbnNmb3JtIiwid3JpdGVlbmNvZGluZyIsIl90cmFuc2Zvcm0iLCJfZmx1c2giLCJfdGhpczIiLCJlcnIyIiwiY3VycmVudEVsZW1lbnROYW1lIiwid3JpdGVJbmRlbnRhdGlvbiIsImZpcnN0TGluZSIsIndyaXRlQXR0cmlidXRlcyIsImF0dHIiLCJhdHRyTmFtZSIsIm5vUXVvdGVzRm9yTmF0aXZlQXR0cmlidXRlcyIsImluZGVudEF0dHJpYnV0ZXMiLCJ3cml0ZURlY2xhcmF0aW9uIiwiZGVjbGFyYXRpb24iLCJ3cml0ZUluc3RydWN0aW9uIiwiaW5zdHJ1Y3Rpb25OYW1lIiwiaW5zdHJ1Y3Rpb25WYWx1ZSIsIndyaXRlQ29tbWVudCIsImNvbW1lbnRGbiIsIndyaXRlQ2RhdGEiLCJjZGF0YUZuIiwid3JpdGVEb2N0eXBlIiwiZG9jdHlwZUZuIiwid3JpdGVUZXh0IiwidGV4dEZuIiwid3JpdGVFbGVtZW50cyIsImVsZW1lbnRzIiwiaW5kZW50IiwiZWxlbWVudE5hbWUiLCJ3aXRoQ2xvc2luZ1RhZyIsImZ1bGxUYWdFbXB0eUVsZW1lbnRGbiIsImZ1bGxUYWdFbXB0eUVsZW1lbnQiLCJpbmRlbnRUZXh0IiwiaW5kZW50Q2RhdGEiLCJpbmRlbnRJbnN0cnVjdGlvbiIsImhhc0NvbnRlbnQiLCJ3cml0ZUVsZW1lbnQiLCJjb21tZW50S2V5IiwiZG9jdHlwZUtleSIsImNkYXRhS2V5IiwidGV4dEtleSIsImhhc0NvbnRlbnRDb21wYWN0IiwiYW55Q29udGVudCIsIndyaXRlRWxlbWVudENvbXBhY3QiLCJ3cml0ZUVsZW1lbnRzQ29tcGFjdCIsIm5vZGVzIiwianMiLCJ3ZWJwYWNrUG9seWZpbGwiLCJjaGlsZHJlbiIsImNvbG9yTmFtZXMiLCJzd2l6emxlIiwicmV2ZXJzZU5hbWVzIiwiY3MiLCJoZXhEb3VibGUiLCJoZXhBbHBoYSIsImkyIiwicmdiYSIsImhzbGEiLCJod2JhIiwiaXNBcnJheWlzaCIsInJlc3VsdHMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJjb252ZXJzaW9ucyIsInJvdXRlIiwiZnJvbU1vZGVsIiwicm91dGVzIiwidG9Nb2RlbCIsIndyYXBwZWRGbiIsImNvbnZlcnNpb24iLCJ3cmFwUm91bmRlZCIsIndyYXBSYXciLCJkZXJpdmVCRlMiLCJncmFwaCIsIm1vZGVscyIsImJ1aWxkR3JhcGgiLCJhZGphY2VudHMiLCJhZGphY2VudCIsIm5vZGUiLCJsaW5rIiwid3JhcENvbnZlcnNpb24iLCJjdXIiLCJzdHJpY3QiLCJTQVhQYXJzZXIiLCJTQVhTdHJlYW0iLCJjcmVhdGVTdHJlYW0iLCJNQVhfQlVGRkVSX0xFTkdUSCIsImJ1ZmZlcnMiLCJjbGVhckJ1ZmZlcnMiLCJidWZmZXJDaGVja1Bvc2l0aW9uIiwibG93ZXJjYXNlIiwibG93ZXJjYXNldGFncyIsImxvb3NlQ2FzZSIsInRhZ3MiLCJjbG9zZWQiLCJjbG9zZWRSb290Iiwic2F3Um9vdCIsIm5vc2NyaXB0IiwiUyIsIkJFR0lOIiwiRU5USVRJRVMiLCJYTUxfRU5USVRJRVMiLCJhdHRyaWJMaXN0IiwieG1sbnMiLCJyb290TlMiLCJ0cmFja1Bvc2l0aW9uIiwibGluZSIsImNvbHVtbiIsIkVWRU5UUyIsIkYiLCJCRUdJTl9XSElURVNQQUNFIiwiYmVnaW5XaGl0ZVNwYWNlIiwiVEVYVCIsInN0YXJ0aSIsInRleHROb2RlIiwiaXNXaGl0ZXNwYWNlIiwic3RyaWN0RmFpbCIsIlRFWFRfRU5USVRZIiwiT1BFTl9XQUtBIiwic3RhcnRUYWdQb3NpdGlvbiIsIlNDUklQVCIsIlNDUklQVF9FTkRJTkciLCJzY3JpcHQiLCJDTE9TRV9UQUciLCJTR01MX0RFQ0wiLCJzZ21sRGVjbCIsIm5hbWVTdGFydCIsIk9QRU5fVEFHIiwidGFnTmFtZSIsIlBST0NfSU5TVCIsInByb2NJbnN0TmFtZSIsInByb2NJbnN0Qm9keSIsIkNEQVRBIiwiZW1pdE5vZGUiLCJDT01NRU5UIiwiRE9DVFlQRSIsImlzUXVvdGUiLCJTR01MX0RFQ0xfUVVPVEVEIiwiRE9DVFlQRV9EVEQiLCJET0NUWVBFX1FVT1RFRCIsIkRPQ1RZUEVfRFREX1FVT1RFRCIsIkNPTU1FTlRfRU5ESU5HIiwiQ09NTUVOVF9FTkRFRCIsInRleHRvcHRzIiwiQ0RBVEFfRU5ESU5HIiwiQ0RBVEFfRU5ESU5HXzIiLCJQUk9DX0lOU1RfRU5ESU5HIiwiUFJPQ19JTlNUX0JPRFkiLCJuYW1lQm9keSIsIm5ld1RhZyIsIm9wZW5UYWciLCJPUEVOX1RBR19TTEFTSCIsIkFUVFJJQiIsImNsb3NlVGFnIiwiYXR0cmliTmFtZSIsImF0dHJpYlZhbHVlIiwiQVRUUklCX05BTUUiLCJBVFRSSUJfVkFMVUUiLCJhdHRyaWIiLCJBVFRSSUJfTkFNRV9TQVdfV0hJVEUiLCJBVFRSSUJfVkFMVUVfUVVPVEVEIiwiQVRUUklCX1ZBTFVFX1VOUVVPVEVEIiwiQVRUUklCX1ZBTFVFX0VOVElUWV9RIiwiQVRUUklCX1ZBTFVFX0NMT1NFRCIsImlzQXR0cmliRW5kIiwiQVRUUklCX1ZBTFVFX0VOVElUWV9VIiwiQ0xPU0VfVEFHX1NBV19XSElURSIsIm5vdE1hdGNoIiwicmV0dXJuU3RhdGUiLCJwYXJzZUVudGl0eSIsImVudGl0eSIsImVudGl0eUJvZHkiLCJlbnRpdHlTdGFydCIsIm1heEFsbG93ZWQiLCJtYXhBY3R1YWwiLCJjbG9zZVRleHQiLCJjaGVja0J1ZmZlckxlbmd0aCIsImZsdXNoQnVmZmVycyIsImV4Iiwic3RyZWFtV3JhcHMiLCJfcGFyc2VyIiwibWUiLCJfZGVjb2RlciIsIlNEIiwiWE1MX05BTUVTUEFDRSIsIlhNTE5TX05BTUVTUEFDRSIsInJlZ2V4IiwiU1RBVEUiLCJDT01NRU5UX1NUQVJUSU5HIiwiYW1wIiwicXVvdCIsImFwb3MiLCJBRWxpZyIsIkFhY3V0ZSIsIkFjaXJjIiwiQWdyYXZlIiwiQXJpbmciLCJBdGlsZGUiLCJBdW1sIiwiQ2NlZGlsIiwiRVRIIiwiRWFjdXRlIiwiRWNpcmMiLCJFZ3JhdmUiLCJFdW1sIiwiSWFjdXRlIiwiSWNpcmMiLCJJZ3JhdmUiLCJJdW1sIiwiTnRpbGRlIiwiT2FjdXRlIiwiT2NpcmMiLCJPZ3JhdmUiLCJPc2xhc2giLCJPdGlsZGUiLCJPdW1sIiwiVEhPUk4iLCJVYWN1dGUiLCJVY2lyYyIsIlVncmF2ZSIsIlV1bWwiLCJZYWN1dGUiLCJhYWN1dGUiLCJhY2lyYyIsImFlbGlnIiwiYWdyYXZlIiwiYXJpbmciLCJhdGlsZGUiLCJhdW1sIiwiY2NlZGlsIiwiZWFjdXRlIiwiZWNpcmMiLCJlZ3JhdmUiLCJldGgiLCJldW1sIiwiaWFjdXRlIiwiaWNpcmMiLCJpZ3JhdmUiLCJpdW1sIiwibnRpbGRlIiwib2FjdXRlIiwib2NpcmMiLCJvZ3JhdmUiLCJvc2xhc2giLCJvdGlsZGUiLCJvdW1sIiwic3psaWciLCJ0aG9ybiIsInVhY3V0ZSIsInVjaXJjIiwidWdyYXZlIiwidXVtbCIsInlhY3V0ZSIsInl1bWwiLCJyZWciLCJuYnNwIiwiaWV4Y2wiLCJjZW50IiwicG91bmQiLCJjdXJyZW4iLCJ5ZW4iLCJicnZiYXIiLCJzZWN0IiwidW1sIiwib3JkZiIsImxhcXVvIiwibm90Iiwic2h5IiwibWFjciIsImRlZyIsInBsdXNtbiIsInN1cDEiLCJzdXAyIiwic3VwMyIsImFjdXRlIiwibWljcm8iLCJwYXJhIiwibWlkZG90IiwiY2VkaWwiLCJvcmRtIiwicmFxdW8iLCJmcmFjMTQiLCJmcmFjMTIiLCJmcmFjMzQiLCJpcXVlc3QiLCJPRWxpZyIsIm9lbGlnIiwiU2Nhcm9uIiwic2Nhcm9uIiwiWXVtbCIsImZub2YiLCJjaXJjIiwidGlsZGUiLCJBbHBoYSIsIkJldGEiLCJHYW1tYSIsIkRlbHRhIiwiRXBzaWxvbiIsIlpldGEiLCJFdGEiLCJUaGV0YSIsIklvdGEiLCJLYXBwYSIsIkxhbWJkYSIsIk11IiwiTnUiLCJYaSIsIk9taWNyb24iLCJQaSIsIlJobyIsIlNpZ21hIiwiVGF1IiwiVXBzaWxvbiIsIlBoaSIsIkNoaSIsIlBzaSIsIk9tZWdhIiwiYmV0YSIsImdhbW1hIiwiZXBzaWxvbiIsInpldGEiLCJldGEiLCJ0aGV0YSIsImlvdGEiLCJrYXBwYSIsImxhbWJkYSIsIm11IiwibnUiLCJ4aSIsIm9taWNyb24iLCJwaSIsInJobyIsInNpZ21hZiIsInNpZ21hIiwidGF1IiwidXBzaWxvbiIsInBoaSIsImNoaSIsInBzaSIsIm9tZWdhIiwidGhldGFzeW0iLCJ1cHNpaCIsInBpdiIsImVuc3AiLCJlbXNwIiwidGhpbnNwIiwienduaiIsInp3aiIsImxybSIsInJsbSIsIm5kYXNoIiwibWRhc2giLCJsc3F1byIsInJzcXVvIiwic2JxdW8iLCJsZHF1byIsInJkcXVvIiwiYmRxdW8iLCJkYWdnZXIiLCJEYWdnZXIiLCJidWxsIiwiaGVsbGlwIiwicGVybWlsIiwicHJpbWUiLCJQcmltZSIsImxzYXF1byIsInJzYXF1byIsIm9saW5lIiwiZnJhc2wiLCJldXJvIiwiaW1hZ2UiLCJ3ZWllcnAiLCJyZWFsIiwidHJhZGUiLCJhbGVmc3ltIiwibGFyciIsInVhcnIiLCJyYXJyIiwiZGFyciIsImhhcnIiLCJjcmFyciIsImxBcnIiLCJ1QXJyIiwickFyciIsImRBcnIiLCJoQXJyIiwiZm9yYWxsIiwicGFydCIsImV4aXN0IiwiZW1wdHkiLCJuYWJsYSIsImlzaW4iLCJub3RpbiIsIm5pIiwicHJvZCIsIm1pbnVzIiwibG93YXN0IiwicmFkaWMiLCJpbmZpbiIsImFuZyIsImFuZCIsIm9yIiwiY2FwIiwiY3VwIiwiaW50IiwidGhlcmU0Iiwic2ltIiwiY29uZyIsImFzeW1wIiwibmUiLCJlcXVpdiIsImxlIiwiZ2UiLCJzdXAiLCJuc3ViIiwic3ViZSIsInN1cGUiLCJvcGx1cyIsIm90aW1lcyIsInBlcnAiLCJzZG90IiwibGNlaWwiLCJyY2VpbCIsImxmbG9vciIsInJmbG9vciIsImxhbmciLCJyYW5nIiwibG96Iiwic3BhZGVzIiwiY2x1YnMiLCJoZWFydHMiLCJkaWFtcyIsIm5vcm1hbGl6ZSIsInFuYW1lIiwiYXR0cmlidXRlIiwicXVhbE5hbWUiLCJsb2NhbCIsInFuIiwic2VsZkNsb3NpbmciLCJ1cmkiLCJudiIsImlzU2VsZkNsb3NpbmciLCJjbG9zZVRvIiwiZW50aXR5TEMiLCJudW1TdHIiLCJmcm9tQ29kZVBvaW50Iiwic3RyaW5nRnJvbUNoYXJDb2RlIiwiaGlnaFN1cnJvZ2F0ZSIsImxvd1N1cnJvZ2F0ZSIsImNvZGVVbml0cyIsImI2NCIsImxlbnMiLCJnZXRMZW5zIiwidmFsaWRMZW4iLCJwbGFjZUhvbGRlcnNMZW4iLCJ0bXAiLCJBcnIiLCJfYnl0ZUxlbmd0aCIsImN1ckJ5dGUiLCJyZXZMb29rdXAiLCJ1aW50OCIsImV4dHJhQnl0ZXMiLCJwYXJ0cyIsImxlbjIiLCJlbmNvZGVDaHVuayIsImxvb2t1cCIsInRyaXBsZXRUb0Jhc2U2NCIsIm91dHB1dCIsImlzTEUiLCJtTGVuIiwibkJ5dGVzIiwiZUxlbiIsImVNYXgiLCJlQmlhcyIsIm5CaXRzIiwiTmFOIiwicnQiLCJhYnMiLCJsb2ciLCJMTjIiLCJFRSIsIl9pc1N0ZGlvIiwiZGlkT25FbmQiLCJjbGVhbnVwIiwiY29weUJ1ZmZlciIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJjdXN0b20iLCJzY29wZSIsIlRpbWVvdXQiLCJjbGVhckZuIiwiX2lkIiwiX2NsZWFyRm4iLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJ1bnJlZiIsInJlZiIsImVucm9sbCIsIm1zZWNzIiwiX2lkbGVUaW1lb3V0SWQiLCJfaWRsZVRpbWVvdXQiLCJ1bmVucm9sbCIsIl91bnJlZkFjdGl2ZSIsImFjdGl2ZSIsIl9vblRpbWVvdXQiLCJjbGVhckltbWVkaWF0ZSIsInJlZ2lzdGVySW1tZWRpYXRlIiwibmV4dEhhbmRsZSIsInRhc2tzQnlIYW5kbGUiLCJjdXJyZW50bHlSdW5uaW5nQVRhc2siLCJkb2MiLCJkb2N1bWVudCIsImF0dGFjaFRvIiwiaGFuZGxlIiwicnVuSWZQcmVzZW50IiwicG9zdE1lc3NhZ2UiLCJpbXBvcnRTY3JpcHRzIiwicG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyIsIm9sZE9uTWVzc2FnZSIsIm9ubWVzc2FnZSIsImNhblVzZVBvc3RNZXNzYWdlIiwibWVzc2FnZVByZWZpeCIsIm9uR2xvYmFsTWVzc2FnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsImluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uIiwiTWVzc2FnZUNoYW5uZWwiLCJwb3J0MSIsInBvcnQyIiwiaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24iLCJjcmVhdGVFbGVtZW50IiwiaHRtbCIsImRvY3VtZW50RWxlbWVudCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uIiwidGFzayIsImNvbmZpZyIsImxvY2FsU3RvcmFnZSIsIm1zZyIsIndhcm4iLCJqc29uIiwicGFyc2UiLCJNYXJrZXIiLCJMIiwiW29iamVjdCBPYmplY3RdIiwibGF0bG5nIiwic3VwZXIiLCJfX2RhdGEiLCJoZXhDb2xvciIsIm5vZGVfbW9kdWxlc19jb2xvciIsIm9wdGlvbnNNZXJnZSIsInRhcmdldHMiLCJtZXJnZWQiLCJpc05vdGhpbmciLCJpc0VtcHR5U3RyIiwiREVGQVVMVF9DT0xPUiIsIk1hcmtlcnNMYXllcl9NYXJrZXJzTGF5ZXIiLCJkYXRhTGlzdCIsImNoYW5uZWxGdW5jIiwiZGVmYXVsdE9wdGlvbnMiLCJyZW5kZXJUeXBlIiwicmVuZGVyUG9pbnRDb2xvclR5cGUiLCJpY29uVHlwZSIsImljb25TaXplIiwiaWNvbkNsYXNzIiwiaWNvbkNvbG9yIiwiaWNvbkFuY2hvciIsInBvcHVwIiwidG9vbHRpcCIsInBvcHVwQXR0ciIsImxhYmVsIiwidG9vbHRpcEF0dHIiLCJzZWdtZW50ZWRDb2xvcnMiLCJjbGFzc2lmaWVkQ29sb3JzIiwiaXNDbHVzdGVyIiwicmVuZGVyQ2x1c3RlckNvbG9yVHlwZSIsImJ1YmJsZVN0cm9rZVdpZHRoIiwiYnViYmxlQ29sb3JzIiwiYnViYmxlU3Ryb2tlT3BhY2l0eSIsImJ1YmJsZUZpbGxPcGFjaXR5IiwiYnViYmxlU2l6ZXMiLCJoZWF0T3B0aW9ucyIsIm1pbk9wYWNpdHkiLCJ2aXNpYmxlIiwibGF5ZXIiLCJmb2N1c2VkTWFya2VyIiwiaG92ZXJlZE1hcmtlciIsImZvY3VzZWREaXNwbGF5TWFya2VyIiwibWFya2VycyIsIm1hcmtlckxheWVyIiwiaGVhdExheWVyIiwiY2x1c3RlckxheWVyIiwiYnViYmxlTGF5ZXIiLCJzZWdtZW50ZWRNaW4iLCJzZWdtZW50ZWRTdGVwIiwiYnViYmxlZFNpemVNaW4iLCJidWJibGVkU2l6ZVN0ZXAiLCJjbGFzc2lmaWVkQ29sb3JNYXAiLCJidWJibGVkQ29sb3JNYXAiLCJpbml0T3B0aW9ucyIsImluaXRFdmVudHMiLCJpbml0TWFya2VycyIsInJlZHJhdyIsImNvbmZpZ0NsdXN0ZXJMYXllciIsImNvbmZpZ01hcmtlckxheWVyIiwiY29uZmlnSGVhdExheWVyIiwiY29uZmlnQnViYmxlTGF5ZXIiLCJhZGRMYXllciIsImZpdEJvdW5kcyIsImdldEJvdW5kcyIsInBhZGRpbmciLCJnZXRMYXRMbmciLCJsYXQiLCJsbmciLCJyZW1vdmVMYXllciIsIl96b29tU3RhcnRDYiIsIl96b29tRW5kQ2IiLCJpY29uVW5pY29kZSIsIm1hcmtlckNsaWNrSGFuZGxlciIsInNlZ21lbnRlZFJlZnMiLCJzaXplTnVtcyIsInJhbmdlU3RhcnQiLCJyYW5nZUVuZCIsImNsYXNzaWZpZWRDb2xvclJlZnMiLCJidWJibGVkQ29sb3JSZWZzIiwiYnViYmxlZFNpemVSZWZzIiwiY2FudmFzSWNvbkxheWVyIiwiYWRkVG8iLCJhZGRPbkNsaWNrTGlzdGVuZXIiLCJhZGRPbkNvbnRleHRtZW51TGlzdGVuZXIiLCJhZGRPbkhvdmVyTGlzdGVuZXIiLCJjbG9zZVRvb2x0aXAiLCJnZXRUb29sdGlwIiwib3BlblRvb2x0aXAiLCJiaW5kVG9vbHRpcCIsImFkZE1hcmtlcnMiLCJwYW5UbyIsImdldENlbnRlciIsImNhY2hlU2VnbWVudFBhcmFtcyIsImNhY2hlQ2xhc3NpZnlQYXJhbXMiLCJjYWNoZUJ1YmJsZVBhcmFtcyIsImdlb0pTT04iLCJnZW9tZXRyeSIsImdldExheWVycyIsImljb24iLCJnZXRNYXJrZXJJY29uIiwiY2xhc3NpZmllZEF0dHIiLCJzZWdtZW50ZWRBdHRyIiwicmVtb3ZlRnJvbSIsImdldExhcmdlck1hcmtlckljb24iLCJiaW5kUG9wdXAiLCJnZXRQb3B1cENvbnRlbnQiLCJvcGVuUG9wdXAiLCJ0b0JvdW5kcyIsIm1hcmtlckNsdXN0ZXJHcm91cCIsImljb25DcmVhdGVGdW5jdGlvbiIsImFkZExheWVycyIsImFsdHMiLCJsYXRMbmciLCJkaW1lbnNpb25BdHRyIiwiYWx0Iiwic2V0TGF0TG5nIiwiaXQiLCJsYXllckdyb3VwIiwicmFkaXVzIiwiZ2V0QnViYmxlZE1hcmtlclNpemUiLCJmaWxsQ29sb3IiLCJnZXRCdWJibGVkTWFya2VyQ29sb3IiLCJidWJibGVTdHJva2VDb2xvciIsIm9wYWNpdHkiLCJmaWxsT3BhY2l0eSIsImJ1YmJsZSIsImNpcmNsZU1hcmtlciIsImdldFRvb2xUaXBDb250ZW50IiwiX2dldE1hcmtlckljb24iLCJpc0xhcmdlciIsImxhcmdlckljb25TaXplIiwibGFyZ2VySWNvbkFuY2hvciIsImRpdkljb24iLCJnZXRDdXN0b21JY29uSFRNTCIsImNsYXNzTmFtZSIsInRvb2x0aXBBbmNob3IiLCJwb3B1cEFuY2hvciIsImljb25SZW5kZXJlciIsImdldENsYXNzaWZ5TWFya2VyQ29sb3IiLCJnZXRTZWdtZW50ZWRNYXJrZXJDb2xvciIsImljb25TeW1ib2wiLCJvdGhlck51bXMiLCJudW1zIiwiYnViYmxlU2l6ZUF0dHIiLCJidWJibGVkU2l6ZXNMZW5ndGgiLCJtYXhTaXplVmFsIiwibWluU2l6ZVZhbCIsInNpemVWYWwiLCJzaXplU3RlcCIsImJ1YmJsZUNvbG9yQXR0ciIsInNlZ21lbnRlZExlbmd0aCIsIm1heFZhbCIsIm1pblZhbCIsImNsdXN0ZXIiLCJjb2xvcnMiLCJzY2FsZVN0ZXAiLCJzY2FsZSIsImdldENoaWxkQ291bnQiLCJNYXJrZXJzQnVmZmVyTGF5ZXJfTWFya2Vyc0J1ZmZlckxheWVyIiwiYnVmZmVyT3B0aW9ucyIsInN0cm9rZSIsImJ1ZmZlckxheWVyIiwiY29uZmlnQnVmZmVyTGF5ZXIiLCJwcmV2IiwiY3VyciIsImdyb3VwTGF5ZXIiLCJjaXJjbGVMYXllciIsImNpcmNsZSIsImJ1ZmZlclRvb2x0aXBBdHRyIiwiUG9seWxpbmUiLCJsYXRsbmdzIiwiREVGQVVMVF9DT0xPUlMiLCJQb2x5bGluZXNMYXllcl9Qb2x5bGluZXNMYXllciIsInJlbmRlclBvbHlsaW5lQ29sb3JUeXBlIiwicG9seWxpbmVzIiwiY2xhc3NpZnlDb2xvck1hcCIsImZvY3VzZWRQb2x5bGluZSIsImZvY3VzZWREaXNwbGF5UG9seWxpbmUiLCJpbml0UG9seWxpbmVzIiwiY29uZmlnUG9seWxpbmVMYXllciIsImxhdExuZ0JvdW5kcyIsImdldE5vcnRoRWFzdCIsImdldFNvdXRoV2VzdCIsInBvbHlsaW5lIiwicG9seWxpbmVDbGlja0hhbmRsZXIiLCJjbGFzc2lmeUNvbG9yUmVmcyIsImdldExhdExuZ3MiLCJnZXRDb2xvciIsInBvbHlsaW5lTGF5ZXIiLCJuZXdQb2x5bGluZSIsImdldFNlZ21lbnRlZFBvbHlsaW5lQ29sb3IiLCJnZXRDbGFzc2lmeVBvbHlsaW5lQ29sb3IiLCJQb2x5bGluZXNCdWZmZXJMYXllcl9Qb2x5bGluZXNCdWZmZXJMYXllciIsImNvcnJpZG9yIiwiY29uZmlnUG9seWxpbmVCdWZmZXJMYXllciIsInBvbHlsaW5lQnVmZmVyIiwiUG9seWdvbiIsIlBvbHlnb25zTGF5ZXJfREVGQVVMVF9DT0xPUiIsIlBvbHlnb25zTGF5ZXJfUG9seWdvbnNMYXllciIsInJlbmRlclBvbHlnb25Db2xvclR5cGUiLCJwb2x5Z29ucyIsImZvY3VzZWRQb2x5Z29uIiwiZm9jdXNlZERpc3BsYXlQb2x5Z29uIiwiaW5pdFBvbHlnb25zIiwiaW5pdEV2ZW50IiwiY29uZmlnUG9seWdvbkxheWVyIiwicG9seWdvbiIsInBvbHlnb25DbGlja0hhbmRsZXIiLCJwb2x5Z29uTGF5ZXIiLCJuZXdQb2x5Z29uIiwiZ2V0U2VnbWVudGVkUG9seWdvbkNvbG9yIiwiZ2V0Q2xhc3NpZnlQb2x5Z29uQ29sb3IiLCJHcmlkc0xheWVyX0dyaWRzTGF5ZXIiLCJwcm9wTWF4TGVuZ3RoIiwiY29uZmlnR3JpZExheWVyIiwiY29uZmlnVG9vbHRpcCIsInpvb21IYW5kbGVyIiwic2V0T3BhY2l0eSIsImdldFByb3BNYXhMZW5ndGgiLCJwZXJtYW5lbnQiLCJkaXJlY3Rpb24iLCJ0b2dnbGVUb29sdGlwIiwiZ2V0UmVjdGFuZ2xlV2lkdGgiLCJnZXRUb29sdGlwTWF4V2lkdGgiLCJsYXRMbmdUb0xheWVyUG9pbnQiLCJ0ZXh0TGVuZ3RoIiwiRHluYW1pY0hlYXRMYXllcl9EeW5hbWljSGVhdExheWVyIiwiZHluYW1pY0RhdGFMaXN0IiwiY3VycmVudFN0ZXAiLCJpc1BhdXNlIiwiZ290b1N0ZXAiLCJhdXRvIiwibG9vcCIsInJlc3RhcnQiLCJpbnRlcnZhbCIsImRyYXciLCJpbml0TGF5ZXIiLCJtYXJrZXJzTGF5ZXJPcHRpb25zIiwiV21zVGlsZV9XbXNUaWxlIiwiZ2V0V21zQ29uZmlncyIsIndtc1VSTCIsImxheWVycyIsInN0eWxlcyIsImdldExheWVyIiwiY2xpY2tIYW5kbGVyIiwic2hvd1BvcHVwIiwiY2xvc2VQb3B1cCIsImdldERhdGFCeUxhdExuZyIsImZvcm1hdCIsInRyYW5zcGFyZW50IiwiY3JzIiwiQ1JTIiwiRVBTRzQzMjYiLCJ0aWxlTGF5ZXIiLCJ3bXMiLCJwb3B1cENvbnRlbnQiLCJzZXRDb250ZW50Iiwib3Blbk9uIiwiWE1MQmFzZURlY2xhcmF0aW9uIiwiX2F0dHJpYnV0ZXMiLCJTdHlsZWRMYXllckRlc2NyaXB0b3JCYXNlQXR0cmlidXRlcyIsInhzaTpzY2hlbWFMb2NhdGlvbiIsInhtbG5zOm9nYyIsInhtbG5zOnhsaW5rIiwieG1sbnM6eHNpIiwiT1RIRVJTX0RFRkFVTFRfUFJPUCIsIk9USEVSU19ERUZBVUxUX0NPTE9SIiwiT1RIRVJTX0RFRkFVTFRfU0laRSIsIlNMRFN0eWxlc19TTERTdHlsZXMiLCJsYXllck5hbWUiLCJzdHlsZXNDZmciLCJsaWIiLCJnZXRTTERTdHlsZXMiLCJmZWF0dXJlVHlwZVN0eWxlSXRlbSIsInRyYW5zZm9ybWF0aW9uIiwiZ2V0VHJhbnNmb3JtYXRpb24iLCJSdWxlIiwiZ2V0UnVsZSIsIlRyYW5zZm9ybWF0aW9uIiwiRmVhdHVyZVR5cGVTdHlsZSIsIl9kZWNsYXJhdGlvbiIsIlN0eWxlZExheWVyRGVzY3JpcHRvciIsIk5hbWVkTGF5ZXIiLCJOYW1lIiwiX3RleHQiLCJVc2VyU3R5bGUiLCJnZXRVc2VyU3R5bGVzIiwicGFyYW1zIiwiZ2V0Q3NzUGFyYW1ldGVySXRlbXMiLCJzdGVwcyIsInNpemVzIiwicmVmcyIsInN0cmluZ2lmeU90aGVyUHJvcHMiLCJBbmQiLCJQcm9wZXJ0eUlzR3JlYXRlclRoYW5PckVxdWFsVG8iLCJQcm9wZXJ0eU5hbWUiLCJMaXRlcmFsIiwiUHJvcGVydHlJc0xlc3NUaGFuIiwiaXNPdGhlclByb3BSZWYiLCJwYXJzZU90aGVyUHJvcHMiLCJnZXRUeXBlTm90SW5GaWx0ZXIiLCJQcm9wZXJ0eUlzRXF1YWxUbyIsIlByb3BlcnR5SXNOb3RFcXVhbFRvIiwic2xhc2gyQ2FtZWwiLCJnZXRDc3NQYXJhbWV0ZXJJdGVtIiwidkl0ZW1zIiwiUmFzdGVyU3R5bGVzX1Jhc3RlclN0eWxlcyIsImdldFJlbmRlclJ1bGUiLCJnZXRQYXJhbWV0ZXJGdW5jdGlvbiIsIndlaWdodEF0dHIiLCJnZXRFbnZGdW5jdGlvbiIsInBpeGVsc1BlckNlbGwiLCJmdW5jdGlvbkl0ZW0iLCJncmFkaWVudCIsInNsZEVycm9yIiwiY29sb3JNYXBzIiwiUmFzdGVyU3ltYm9saXplciIsImdldFJhc3RlclN5bWJvbGl6ZXJJdGVtIiwiQ29sb3JNYXAiLCJDb2xvck1hcEVudHJ5IiwiZ2V0Q29sb3JNYXBFbnRyeUl0ZW0iLCJjb2xvck1hcCIsIkRFRkFVTFRfQlVCQkxFX0ZJTExfT1BBQ0lUWSIsIlBvaW50U3R5bGVzX1BvaW50U3R5bGVzIiwiZ2V0U2luZ2xlUmVuZGVyUnVsZSIsImdldFNlZ21lbnRlZFJlbmRlclJ1bGUiLCJnZXRDbGFzc2lmaWVkUmVuZGVyUnVsZSIsImdldEJ1YmJsZVJlbmRlclJ1bGUiLCJQb2ludFN5bWJvbGl6ZXIiLCJnZXRQb2ludFN5bWJvbGl6ZXJJdGVtVXNpbmdPbmxpbmVSZXNvdXJjZSIsImljb25VcmwiLCJyYW5nZVNpemUiLCJzZWdtZW50ZWRQcm9wIiwic2l6ZVJhbmdlIiwiZ2V0UmFuZ2VDb2xvclJlZnMiLCJGaWx0ZXIiLCJnZXRSYW5nZUZpbHRlciIsInJhbmdlUHJvcCIsImNsYXNzaWZpZWRQcm9wIiwicHJvcFJhbmdlIiwiZ2V0UHJvcENvbG9yUmVmcyIsImdldFR5cGVGaWx0ZXIiLCJidWJibGVDb2xvclR5cGUiLCJidWJibGVTaXplVHlwZSIsImJ1YmJsZVNpemVQcm9wIiwiYnViYmxlQ29sb3JQcm9wIiwiY29sb3JQcm9wUmFuZ2UiLCJzaXplUHJvcFJhbmdlIiwiY29sb3JTaXplUmFuZ2UiLCJzaXplU2l6ZVJhbmdlIiwicHJvcENvbG9yUmVmcyIsInByb3BTaXplUmVmcyIsImdldFByb3BTaXplUmVmcyIsInJhbmdlQ29sb3JSZWZzIiwicmFuZ2VTaXplUmVmcyIsImdldFJhbmdlU2l6ZVJlZnMiLCJjb2xvclByb3BYU2l6ZVByb3AiLCJjb2xvclByb3BYU2l6ZVJhbmdlIiwiY29sb3JSYW5nZVhTaXplUHJvcCIsImNvbG9yUmFuZ2VYU2l6ZVJhbmdlIiwiY29sb3JQcm9wTmFtZSIsInNpemVQcm9wTmFtZSIsInJ1bGUiLCJwcm9wQ29sb3JSZWYiLCJwcm9wU2l6ZVJlZiIsImdldFBvaW50U3ltYm9saXplckl0ZW1Vc2luZ01hcmsiLCJyYW5nZVNpemVSZWYiLCJyYW5nZUNvbG9yUmVmIiwiR3JhcGhpYyIsIk1hcmsiLCJXZWxsS25vd25OYW1lIiwiRmlsbCIsIkNzc1BhcmFtZXRlciIsImdldEZpbGxDc3NQYXJhbWV0ZXJzIiwiU2l6ZSIsIkV4dGVybmFsR3JhcGhpYyIsIk9ubGluZVJlc291cmNlIiwieGxpbms6dHlwZSIsInhsaW5rOmhyZWYiLCJGb3JtYXQiLCJMaW5lU3R5bGVzX0xpbmVTdHlsZXMiLCJMaW5lU3ltYm9saXplciIsImdldExpbmVTeW1ib2xpemVySXRlbSIsInN0cm9rZVdpZHRoIiwiU3Ryb2tlIiwiZ2V0U3Ryb2tlQ3NzUGFyYW1ldGVycyIsIlBvbHlnb25TdHlsZXNfUG9seWdvblN0eWxlcyIsIlBvbHlnb25TeW1ib2xpemVyIiwiZ2V0UG9seWdvblN5bWJvbGl6ZXJJdGVtIiwiVGV4dFN5bWJvbGl6ZXIiLCJnZXRUZXh0U3ltYm9saXplciIsInBvcHVwUHJvcCIsImRpc3BsYXlQcm9wIiwiTGFiZWwiLCJHZW9tZXRyeSIsIkxhYmVsUGxhY2VtZW50IiwiUG9pbnRQbGFjZW1lbnQiLCJBbmNob3JQb2ludCIsIkFuY2hvclBvaW50WCIsIkFuY2hvclBvaW50WSIsImdldEZlYXR1cmVJbmZvIiwidXJsIiwicG9pbnQiLCJsYXRMbmdUb0NvbnRhaW5lclBvaW50IiwiZ2V0U2l6ZSIsInNlcnZpY2UiLCJyZXF1ZXN0Iiwic3JzIiwiYmJveCIsInRvQkJveFN0cmluZyIsImhlaWdodCIsIndpZHRoIiwicXVlcnlfbGF5ZXJzIiwiaW5mb19mb3JtYXQiLCJVdGlsIiwiZ2V0UGFyYW1TdHJpbmciLCJnZXRGZWF0dXJlSW5mb1VybCIsImZldGNoIiwiY3JlZGVudGlhbHMiLCJnZXRDYXBhYmlsaXRpZXMiLCJnZXRDYXBhYmlsaXRpZXNVcmwiLCJ0aGVuIiwiR3JpZExheWVyIiwiZ3JpZExheWVyMSIsImdyaWRMYXllcjIiLCJncmlkTGF5ZXIzIiwiY3VzdG9tTWV0ZXJMYXRsbmdMaXN0IiwibWlubGF0IiwibWF4bGF0IiwibWlubG5nIiwibWF4bG5nIiwiem9vbUxldmVsQmVzdE1ldGVyIiwiMTgiLCIxNyIsIjE2IiwiMTUiLCIxNCIsIjEzIiwiMTIiLCIxMSIsIjEwIiwiOSIsIjgiLCI3IiwiNiIsIjUiLCI0IiwiMyIsImxhdGxuZ0xpc3QiLCJnZXRMYXRsbmdMaXN0Iiwic2hvd0dyaWRMYXllckJ5Wm9vbSIsImdldFpvb20iLCJsYXRMaXN0IiwibG5nTGlzdCIsImxhdEluZGV4IiwiYmluYXJ5X3NlYXJjaCIsImxuZ0luZGV4IiwibWV0ZXIiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImxpbmVMaXN0IiwibWFwQm91bmRzIiwibm9ydGhXZXN0IiwiZ2V0Tm9ydGhXZXN0Iiwic291dGhFYXN0IiwiZ2V0U291dGhFYXN0IiwibGF0TG93SW5kZXgiLCJsbmdMb3dJbmRleCIsInpvb20iLCJiZXN0TWV0ZXIiLCJtb2QiLCJxdW90aWVudCIsInJlYWxNZXRlciIsInNob3dHbG9iYWxHcmlkIiwiZ2V0TmV4dFBvaW50QnlEaXN0YW5jZSIsIm5ld1BvaW50IiwiUE9QVVBfQ09OVEVOVF9OVUxMX1RFWFQiLCJUaWxlTGF5ZXJfVGlsZUxheWVyIiwicG9wdXBEYXRhIiwiZ3JpZExheWVyIiwiZW52UGFyYW1zIiwiY3FsRmlsdGVyIiwiZGVzdHJveUV2ZW50cyIsImJvdW5kcyIsImxheWVyTGlzdCIsIldNVF9NU19DYXBhYmlsaXRpZXMiLCJDYXBhYmlsaXR5IiwiTGF5ZXIiLCJsYXllckluZm9zIiwidGFibGVOYW1lIiwibWlueCIsIm1pbnkiLCJtYXh4IiwibWF4eSIsIkxhdExvbkJvdW5kaW5nQm94IiwiaW5pdGlhbEJvdW5kcyIsImlzT3BlbiIsImhpZGVHcmlkIiwiZ2V0U3R5bGVzIiwiZ2V0RW52UGFyYW1zIiwiZ2V0Q3FsRmlsdGVyIiwic2V0UGFyYW1zIiwiY3FsX2ZpbHRlciIsImZlYXR1cmVzIiwib3JpZ2luYWxFdmVudCIsImNvbnRleHRtZW51SGFuZGxlciIsIl9fd2VicGFja19leHBvcnRzX18iXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsaUJBQUFDLFNBQUEsaUJBQUFDLE9BQ0FBLE9BQUFELFFBQUFELElBQ0EsbUJBQUFHLGVBQUFDLElBQ0FELFVBQUFILEdBQ0EsaUJBQUFDLFFBQ0FBLFFBQUEsV0FBQUQsSUFFQUQsRUFBQSxXQUFBQyxJQVJBLENBU0NLLE9BQUEsV0FDRCxtQkNUQSxJQUFBQyxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBUCxRQUdBLElBQUFDLEVBQUFJLEVBQUFFLElBQ0FDLEVBQUFELEVBQ0FFLEdBQUEsRUFDQVQsWUFVQSxPQU5BVSxFQUFBSCxHQUFBSSxLQUFBVixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBTSxHQUdBTCxFQUFBUSxHQUFBLEVBR0FSLEVBQUFELFFBMERBLE9BckRBTSxFQUFBTSxFQUFBRixFQUdBSixFQUFBTyxFQUFBUixFQUdBQyxFQUFBUSxFQUFBLFNBQUFkLEVBQUFlLEVBQUFDLEdBQ0FWLEVBQUFXLEVBQUFqQixFQUFBZSxJQUNBRyxPQUFBQyxlQUFBbkIsRUFBQWUsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNWLEVBQUFnQixFQUFBLFNBQUF0QixHQUNBLG9CQUFBdUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQW5CLEVBQUF1QixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQW5CLEVBQUEsY0FBaUR5QixPQUFBLEtBUWpEbkIsRUFBQW9CLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxH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LElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxLQUFBQyxJQUFBLEtBQ0FDLElBQUEsS0FBQUMsSUFBQSxLQUNBQyxJQUFBLEtBRUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLEtBQUFDLElBQUEsS0FDQUMsSUFBQSxLQUFBQyxJQUFBLEtBQ0FDLElBQUEsS0FBQUMsSUFBQSxNQXV0QkFDLEdBQUE1TSxJQWx0QkE2TSxJQUFBLFFBQ0FDLElBQUEsT0FDQUMsSUFBQSxPQUNBQyxJQUFBLFNBQ0FsUixJQUFBLFVBdXRCQSxTQUFBbVIsR0FBQUMsR0FDQSxXQUFBdFIsR0FBQXNSLEdBc0JBLFNBQUFDLEdBQUFueUIsR0FDQSxPQUFBc2dCLEdBQUE4UixLQUFBcHlCLEdBc0NBLFNBQUFxeUIsR0FBQUMsR0FDQSxJQUFBdFAsR0FBQSxFQUNBTyxFQUFBNWxCLE1BQUEyMEIsRUFBQXJ4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NUQsTUFBQSxXQUNBNkQsVUFBQSxTQUNBQyxVQUFBLFdBQ0FDLGVBQUEsWUFDQUMsVUFBQSxhQUNBQyxXQUFBLFNBQ0FDLFVBQUEsYUFDQUMsV0FBQSxhQUNBQyxhQUFBLFdBQ0FDLGdCQUFBLFdBQ0FDLFlBQUEsV0FDQUMsWUFBQSxZQUNBQyxTQUFBLFNBQ0FDLFlBQUEsYUFDQUMsY0FBQSxhQUNBQyxlQUFBLFdBQ0FDLGVBQUEsVUFDQUMsZUFBQSxVQUNBQyxlQUFBLFdBQ0FDLFlBQUEsV0FDQUMsVUFBQSxZQUNBQyxhQUFBLFdBQ0FDLFNBQUEsYUFDQUMsU0FBQSxhQUNBQyxZQUFBLFlBQ0FDLFdBQUEsV0FDQUMsYUFBQSxhQUNBQyxhQUFBLFdBQ0FDLFNBQUEsV0FDQUMsV0FBQSxhQUNBQyxZQUFBLGFBQ0FDLE1BQUEsV0FDQUMsV0FBQSxZQUNBL0YsTUFBQSxhQUNBUCxPQUFBLFNBQ0F1RyxhQUFBLFlBQ0FDLE1BQUEsYUFDQUMsVUFBQSxhQUNBQyxTQUFBLGFBQ0FDLFdBQUEsV0FDQUMsUUFBQSxVQUNBQyxPQUFBLGFBQ0FDLE9BQUEsYUFDQUMsVUFBQSxhQUNBQyxlQUFBLGFBQ0FDLFdBQUEsV0FDQUMsY0FBQSxhQUNBQyxXQUFBLGFBQ0FDLFlBQUEsYUFDQUMsV0FBQSxhQUNBQyxzQkFBQSxhQUNBQyxXQUFBLGFBQ0FDLFlBQUEsYUFDQUMsV0FBQSxhQUNBQyxXQUFBLGFBQ0FDLGFBQUEsYUFDQUMsZUFBQSxZQUNBQyxjQUFBLGFBQ0FDLGdCQUFBLGFBQ0FDLGdCQUFBLGFBQ0FDLGdCQUFBLGFBQ0FDLGFBQUEsYUFDQUMsTUFBQSxTQUNBQyxXQUFBLFdBQ0FDLE9BQUEsYUFDQXpILFNBQUEsV0FDQTBILFFBQUEsU0FDQUMsa0JBQUEsYUFDQUMsWUFBQSxTQUNBQyxjQUFBLFlBQ0FDLGNBQUEsYUFDQUMsZ0JBQUEsWUFDQUMsaUJBQUEsYUFDQUMsbUJBQUEsV0FDQUMsaUJBQUEsWUFDQUMsaUJBQUEsWUFDQUMsY0FBQSxXQUNBQyxXQUFBLGFBQ0FDLFdBQUEsYUFDQUMsVUFBQSxhQUNBQyxh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QXVCLGNBQUF2QixLQUdBMVAsRUFBQTZQLGNBQ0F3RixJQUFBLElBQ0FsMkIsR0FBQSxJQUNBRyxHQUFBLElBQ0FnMkIsS0FBQSxJQUNBQyxLQUFBLEtBR0F2VixFQUFBNFAsVUFDQXlGLElBQUEsSUFDQWwyQixHQUFBLElBQ0FHLEdBQUEsSUFDQWcyQixLQUFBLElBQ0FDLEtBQUEsSUFDQUMsTUFBQSxJQUNBQyxPQUFBLElBQ0FDLE1BQUEsSUFDQUMsT0FBQSxJQUNBQyxNQUFBLElBQ0FDLE9BQUEsSUFDQUMsS0FBQSxJQUNBQyxPQUFBLElBQ0FDLElBQUEsSUFDQUMsT0FBQSxJQUNBQyxNQUFBLElBQ0FDLE9BQUEsSUFDQUMsS0FBQSxJQUNBQyxPQUFBLElBQ0FDLE1BQUEsSUFDQUMsT0FBQSxJQUNBQyxLQUFBLElBQ0FDLE9BQUEsSUFDQUMsT0FBQSxJQUNBQyxNQUFBLElBQ0FDLE9BQUEsSUFDQUMsT0FBQSxJQUNBQyxPQUFBLElBQ0FDLEtBQUEsSUFDQUMsTUFBQSxJQUNBQyxPQUFBLElBQ0FDLE1BQUEsSUFDQUMsT0FBQSxJQUNBQyxLQUFBLElBQ0FDLE9BQUEsSUFDQUMsT0FBQSxJQUNBQyxNQUFBLElBQ0FDLE1BQUEsSUFDQUMsT0FBQSxJQUNBQyxNQUFBLElBQ0FDLE9BQUEsSUFDQUMsS0FBQSxJQUNBQyxPQUFBLElBQ0FDLE9BQUEsSUFDQUMsTUFBQSxJQUNBQyxPQUFBLElBQ0FDLElBQUEsSUFDQUMsS0FBQSxJQUNBQyxPQUFBLElBQ0FDLE1BQUEsSUFDQUMsT0FBQSxJQUNBQyxLQUFBLElBQ0FDLE9BQUEsSUFDQUMsT0FBQSxJQUNBQyxNQUFBLElBQ0FDLE9BQUEsSUFDQUMsT0FBQSxJQUNBQyxPQUFBLElBQ0FDLEtBQUEsSUFDQUMsTUFBQSxJQUNBQyxNQUFBLElBQ0FDLE9BQUEsSUFDQUMsTUFBQSxJQUNBQyxPQUFBLElBQ0FDLEtBQUEsSUFDQUMsT0FBQSxJQUNBQyxLQUFBLElBQ0Fwd0UsS0FBQSxJQUNBcXdFLElBQUEsSUFDQUMsS0FBQSxJQUNBQyxNQUFBLElBQ0FDLEtBQUEsSUFDQUMsTUFBQSxJQUNBQyxPQUFBLElBQ0FDLElBQUEsSUFDQUMsT0FBQSxJQUNBQyxLQUFBLElBQ0FDLElBQUEsSUFDQUMsS0FBQSxJQUNBQyxNQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxLQUFBLElBQ0FDLElBQUEsSUFDQUMsT0FBQSxJQUNBQyxLQUFBLElBQ0FDLEtBQUEsSUFDQUMsS0FBQSxJQUNBQyxNQUFBLElBQ0FDLE1BQUEsSUFDQUMsS0FBQSxJQUNBQyxPQUFBLElBQ0FDLE1BQUEsSUFDQUMsS0FBQSxJQUNBQyxNQUFBLElBQ0FDLE9BQUEsSUFDQUMsT0FBQSxJQUNBQyxPQUFBLElBQ0FDLE9BQUEsSUFDQWp2QixNQUFBLElBQ0FwSixPQUFBLElBQ0FzNEIsTUFBQSxJQUNBQyxNQUFBLElBQ0FDLE9BQUEsSUFDQUMsT0FBQSxJQUNBQyxLQUFBLElBQ0FDLEtBQUEsSUFDQUMsS0FBQSxJQUNBQyxNQUFBLElBQ0FDLE1BQUEsSUFDQUMsS0FBQSxJQUNBQyxNQUFBLElBQ0FDLE1BQUEsSUFDQUMsUUFBQSxJQUNBQyxLQUFBLElBQ0FDLElBQUEsSUFDQUMsTUFBQSxJQUNBQyxLQUFBLElBQ0FDLE1BQUEsSUFDQUMsT0FBQSxJQUNBQyxHQUFBLElBQ0FDLEdBQUEsSUFDQUMsR0FBQSxJQUNBQyxRQUFBLElBQ0FDLEdBQUEsSUFDQUMsSUFBQSxJQUNBQyxNQUFBLElBQ0FDLElBQUEsSUFDQUMsUUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxNQUFBLElBQ0E3dEIsTUFBQSxJQUNBOHRCLEtBQUEsSUFDQUMsTUFBQSxJQUNBN2YsTUFBQSxJQUNBOGYsUUFBQSxJQUNBQyxLQUFBLElBQ0FDLElBQUEsSUFDQUMsTUFBQSxJQUNBQyxLQUFBLElBQ0FDLE1BQUEsSUFDQUMsT0FBQSxJQUNBQyxHQUFBLElBQ0FDLEdBQUEsSUFDQUMsR0FBQSxJQUNBQyxRQUFBLElBQ0FDLEdBQUEsSUFDQUMsSUFBQSxJQUNBQyxPQUFBLElBQ0FDLE1BQUEsSUFDQUMsSUFBQSxJQUNBQyxRQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLE1BQUEsSUFDQUMsU0FBQSxJQUNBQyxNQUFBLElBQ0FDLElBQUEsSUFDQUMsS0FBQSxLQUNBQyxLQUFBLEtBQ0FDLE9BQUEsS0FDQUMsS0FBQSxLQUNBQyxJQUFBLEtBQ0FDLElBQUEsS0FDQUMsSUFBQSxLQUNBQyxNQUFBLEtBQ0FDLE1BQUEsS0FDQUMsTUFBQSxLQUNBQyxNQUFBLEtBQ0FDLE1BQUEsS0FDQUMsTUFBQSxLQUNBQyxNQUFBLEtBQ0FDLE1BQUEsS0FDQUMsT0FBQSxLQUNBQyxPQUFBLEtBQ0FDLEtBQUEsS0FDQUMsT0FBQSxLQUNBQyxPQUFBLEtBQ0FDLE1BQUEsS0FDQUMsTUFBQSxLQUNBQyxPQUFBLEtBQ0FDLE9BQUEsS0FDQUMsTUFBQSxLQUNBQyxNQUFBLEtBQ0FDLEtBQUEsS0FDQUMsTUFBQSxLQUNBQyxPQUFBLEtBQ0FDLEtBQUEsS0FDQUMsTUFBQSxLQUNBQyxRQUFBLEtBQ0FDLEtBQUEsS0FDQUMsS0FBQSxLQUNBQyxLQUFBLEtBQ0FDLEtBQUEsS0FDQUMsS0FBQSxLQUNBQyxNQUFBLEtBQ0FDLEtBQUEsS0FDQUMsS0FBQSxLQUNBQyxLQUFBLEtBQ0FDLEtBQUEsS0FDQUMsS0FBQSxLQUNBQyxPQUFBLEtBQ0FDLEtBQUEsS0FDQUMsTUFBQSxLQUNBQyxNQUFBLEtBQ0FDLE1BQUEsS0FDQUMsS0FBQSxLQUNBQyxNQUFBLEtBQ0FDLEdBQUEsS0FDQUMsS0FBQSxLQUNBNzJCLElBQUEsS0FDQTgyQixNQUFBLEtBQ0FDLE9BQUEsS0FDQUMsTUFBQSxLQUNBdmhDLEtBQUEsS0FDQXdoQyxNQUFBLEtBQ0FDLElBQUEsS0FDQUMsSUFBQSxLQUNBQyxHQUFBLEtBQ0FDLElBQUEsS0FDQUMsSUFBQSxLQUNBQyxJQUFBLEtBQ0FDLE9BQUEsS0FDQUMsSUFBQSxLQUNBQyxLQUFBLEtBQ0FDLE1BQUEsS0FDQUMsR0FBQSxLQUNBQyxNQUFBLEtBQ0FDLEdBQUEsS0FDQUMsR0FBQSxLQUNBbndFLElB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M0IsSUFBSTFrQixHQUFHLFFBQVNqVCxLQUFLODNGLGFBQWM5M0YsTUFFbEN3b0YsZ0JBQ054b0YsS0FBSzIzQixJQUFJeGtCLElBQUksUUFBU25ULEtBQUs4M0YsYUFBYzkzRixPQzFSN0NuQyxFQUFBUSxFQUFBK3BHLEVBQUEsMkJBQUE5ZixJQUFBenFGLEVBQUFRLEVBQUErcEcsRUFBQSxpQ0FBQWhmLElBQUF2ckYsRUFBQVEsRUFBQStwRyxFQUFBLHVDQUFBNVYsSUFBQTMwRixFQUFBUSxFQUFBK3BHLEVBQUEsNkJBQUFqVixJQUFBdDFGLEVBQUFRLEVBQUErcEcsRUFBQSxtQ0FBQTlVLElBQUF6MUYsRUFBQVEsRUFBQStwRyxFQUFBLHlDQUFBMVQsSUFBQTcyRixFQUFBUSxFQUFBK3BHLEVBQUEsNEJBQUF0VCxJQUFBajNGLEVBQUFRLEVBQUErcEcsRUFBQSxrQ0FBQXBULElBQUFuM0YsRUFBQVEsRUFBQStwRyxFQUFBLCtCQUFBdFMsSUFBQWo0RixFQUFBUSxFQUFBK3BHLEVBQUEscUNBQUF4UixJQUFBLzRGLEVBQUFRLEVBQUErcEcsRUFBQSw0QkFBQTVRLElBQUEzNUYsRUFBQVEsRUFBQStwRyxFQUFBLGdDQUFBdkwsSUFBQWgvRixFQUFBUSxFQUFBK3BHLEVBQUEsK0JBQUE5SCxJQUFBemlHLEVBQUFRLEVBQUErcEcsRUFBQSxrQ0FBQXhILElBQUEvaUcsRUFBQVEsRUFBQStwRyxFQUFBLGlDQUFBeE0sSUFBQS85RixFQUFBUSxFQUFBK3BHLEVBQUEsOEJBQUE3QixJQUFBMW9HLEVBQUFRLEVBQUErcEcsRUFBQSw4QkFBQXBGIiwiZmlsZSI6ImxlYWZsZXQtbGF5ZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wibGVhZmxldE1hcFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJsZWFmbGV0TWFwXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNDkpO1xuIiwidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaCAoZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gYSBkdXBsZXggc3RyZWFtIGlzIGp1c3QgYSBzdHJlYW0gdGhhdCBpcyBib3RoIHJlYWRhYmxlIGFuZCB3cml0YWJsZS5cbi8vIFNpbmNlIEpTIGRvZXNuJ3QgaGF2ZSBtdWx0aXBsZSBwcm90b3R5cGFsIGluaGVyaXRhbmNlLCB0aGlzIGNsYXNzXG4vLyBwcm90b3R5cGFsbHkgaW5oZXJpdHMgZnJvbSBSZWFkYWJsZSwgYW5kIHRoZW4gcGFyYXNpdGljYWxseSBmcm9tXG4vLyBXcml0YWJsZS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgcG5hID0gcmVxdWlyZSgncHJvY2Vzcy1uZXh0aWNrLWFyZ3MnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBrZXlzLnB1c2goa2V5KTtcbiAgfXJldHVybiBrZXlzO1xufTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5tb2R1bGUuZXhwb3J0cyA9IER1cGxleDtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciB1dGlsID0gcmVxdWlyZSgnY29yZS11dGlsLWlzJyk7XG51dGlsLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG52YXIgUmVhZGFibGUgPSByZXF1aXJlKCcuL19zdHJlYW1fcmVhZGFibGUnKTtcbnZhciBXcml0YWJsZSA9IHJlcXVpcmUoJy4vX3N0cmVhbV93cml0YWJsZScpO1xuXG51dGlsLmluaGVyaXRzKER1cGxleCwgUmVhZGFibGUpO1xuXG57XG4gIC8vIGF2b2lkIHNjb3BlIGNyZWVwLCB0aGUga2V5cyBhcnJheSBjYW4gdGhlbiBiZSBjb2xsZWN0ZWRcbiAgdmFyIGtleXMgPSBvYmplY3RLZXlzKFdyaXRhYmxlLnByb3RvdHlwZSk7XG4gIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgIHZhciBtZXRob2QgPSBrZXlzW3ZdO1xuICAgIGlmICghRHVwbGV4LnByb3RvdHlwZVttZXRob2RdKSBEdXBsZXgucHJvdG90eXBlW21ldGhvZF0gPSBXcml0YWJsZS5wcm90b3R5cGVbbWV0aG9kXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBEdXBsZXgob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSkgcmV0dXJuIG5ldyBEdXBsZXgob3B0aW9ucyk7XG5cbiAgUmVhZGFibGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgV3JpdGFibGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlYWRhYmxlID09PSBmYWxzZSkgdGhpcy5yZWFkYWJsZSA9IGZhbHNlO1xuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMud3JpdGFibGUgPT09IGZhbHNlKSB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG5cbiAgdGhpcy5hbGxvd0hhbGZPcGVuID0gdHJ1ZTtcbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5hbGxvd0hhbGZPcGVuID09PSBmYWxzZSkgdGhpcy5hbGxvd0hhbGZPcGVuID0gZmFsc2U7XG5cbiAgdGhpcy5vbmNlKCdlbmQnLCBvbmVuZCk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdXBsZXgucHJvdG90eXBlLCAnd3JpdGFibGVIaWdoV2F0ZXJNYXJrJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrO1xuICB9XG59KTtcblxuLy8gdGhlIG5vLWhhbGYtb3BlbiBlbmZvcmNlclxuZnVuY3Rpb24gb25lbmQoKSB7XG4gIC8vIGlmIHdlIGFsbG93IGhhbGYtb3BlbiBzdGF0ZSwgb3IgaWYgdGhlIHdyaXRhYmxlIHNpZGUgZW5kZWQsXG4gIC8vIHRoZW4gd2UncmUgb2suXG4gIGlmICh0aGlzLmFsbG93SGFsZk9wZW4gfHwgdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZCkgcmV0dXJuO1xuXG4gIC8vIG5vIG1vcmUgZGF0YSBjYW4gYmUgd3JpdHRlbi5cbiAgLy8gQnV0IGFsbG93IG1vcmUgd3JpdGVzIHRvIGhhcHBlbiBpbiB0aGlzIHRpY2suXG4gIHBuYS5uZXh0VGljayhvbkVuZE5ULCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gb25FbmROVChzZWxmKSB7XG4gIHNlbGYuZW5kKCk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdXBsZXgucHJvdG90eXBlLCAnZGVzdHJveWVkJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX3dyaXRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlID09PSB1bmRlZmluZWQgfHwgdGhpcy5fd3JpdGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgdGhlIHVzZXIgaXMgZXhwbGljaXRseVxuICAgIC8vIG1hbmFnaW5nIGRlc3Ryb3llZFxuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdmFsdWU7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7XG5cbkR1cGxleC5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICB0aGlzLnB1c2gobnVsbCk7XG4gIHRoaXMuZW5kKCk7XG5cbiAgcG5hLm5leHRUaWNrKGNiLCBlcnIpO1xufTsiLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuXG5mdW5jdGlvbiBpc0FycmF5KGFyZykge1xuICBpZiAoQXJyYXkuaXNBcnJheSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGFyZyk7XG4gIH1cbiAgcmV0dXJuIG9iamVjdFRvU3RyaW5nKGFyZykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSBCdWZmZXIuaXNCdWZmZXI7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cbiIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKVxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIER1ZSB0byB2YXJpb3VzIGJyb3dzZXIgYnVncywgc29tZXRpbWVzIHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24gd2lsbCBiZSB1c2VkIGV2ZW5cbiAqIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgdHlwZWQgYXJyYXlzLlxuICpcbiAqIE5vdGU6XG4gKlxuICogICAtIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgIGluc3RhbmNlcyxcbiAqICAgICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOC5cbiAqXG4gKiAgIC0gQ2hyb21lIDktMTAgaXMgbWlzc2luZyB0aGUgYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbi5cbiAqXG4gKiAgIC0gSUUxMCBoYXMgYSBicm9rZW4gYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFycmF5cyBvZlxuICogICAgIGluY29ycmVjdCBsZW5ndGggaW4gc29tZSBzaXR1YXRpb25zLlxuXG4gKiBXZSBkZXRlY3QgdGhlc2UgYnVnZ3kgYnJvd3NlcnMgYW5kIHNldCBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgIHRvIGBmYWxzZWAgc28gdGhleVxuICogZ2V0IHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24sIHdoaWNoIGlzIHNsb3dlciBidXQgYmVoYXZlcyBjb3JyZWN0bHkuXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQgIT09IHVuZGVmaW5lZFxuICA/IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gIDogdHlwZWRBcnJheVN1cHBvcnQoKVxuXG4vKlxuICogRXhwb3J0IGtNYXhMZW5ndGggYWZ0ZXIgdHlwZWQgYXJyYXkgc3VwcG9ydCBpcyBkZXRlcm1pbmVkLlxuICovXG5leHBvcnRzLmtNYXhMZW5ndGggPSBrTWF4TGVuZ3RoKClcblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuICAgIGFyci5fX3Byb3RvX18gPSB7X19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9fVxuICAgIHJldHVybiBhcnIuZm9vKCkgPT09IDQyICYmIC8vIHR5cGVkIGFycmF5IGluc3RhbmNlcyBjYW4gYmUgYXVnbWVudGVkXG4gICAgICAgIHR5cGVvZiBhcnIuc3ViYXJyYXkgPT09ICdmdW5jdGlvbicgJiYgLy8gY2hyb21lIDktMTAgbGFjayBgc3ViYXJyYXlgXG4gICAgICAgIGFyci5zdWJhcnJheSgxLCAxKS5ieXRlTGVuZ3RoID09PSAwIC8vIGllMTAgaGFzIGJyb2tlbiBgc3ViYXJyYXlgXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBrTWF4TGVuZ3RoICgpIHtcbiAgcmV0dXJuIEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gICAgPyAweDdmZmZmZmZmXG4gICAgOiAweDNmZmZmZmZmXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAodGhhdCwgbGVuZ3RoKSB7XG4gIGlmIChrTWF4TGVuZ3RoKCkgPCBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgnKVxuICB9XG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIGlmICh0aGF0ID09PSBudWxsKSB7XG4gICAgICB0aGF0ID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG4gICAgfVxuICAgIHRoYXQubGVuZ3RoID0gbGVuZ3RoXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiAhKHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBDb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhbGxvY1Vuc2FmZSh0aGlzLCBhcmcpXG4gIH1cbiAgcmV0dXJuIGZyb20odGhpcywgYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvblxuXG4vLyBUT0RPOiBMZWdhY3ksIG5vdCBuZWVkZWQgYW55bW9yZS4gUmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvbi5cbkJ1ZmZlci5fYXVnbWVudCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgYXJyLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiBmcm9tICh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgcmV0dXJuIGZyb21PYmplY3QodGhhdCwgdmFsdWUpXG59XG5cbi8qKlxuICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3JcbiAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQnVmZmVyLmZyb20oc3RyWywgZW5jb2RpbmddKVxuICogQnVmZmVyLmZyb20oYXJyYXkpXG4gKiBCdWZmZXIuZnJvbShidWZmZXIpXG4gKiBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlclssIGJ5dGVPZmZzZXRbLCBsZW5ndGhdXSlcbiAqKi9cbkJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGZyb20obnVsbCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gIEJ1ZmZlci5wcm90b3R5cGUuX19wcm90b19fID0gVWludDhBcnJheS5wcm90b3R5cGVcbiAgQnVmZmVyLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXlcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC5zcGVjaWVzICYmXG4gICAgICBCdWZmZXJbU3ltYm9sLnNwZWNpZXNdID09PSBCdWZmZXIpIHtcbiAgICAvLyBGaXggc3ViYXJyYXkoKSBpbiBFUzIwMTYuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC85N1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jICh0aGF0LCBzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhudWxsLCBzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHRoYXQsIHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpIHtcbiAgICAgIHRoYXRbaV0gPSAwXG4gICAgfVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogRXF1aXZhbGVudCB0byBCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqICovXG5CdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cbi8qKlxuICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAodGhhdCwgc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpXG4gIH1cblxuICB2YXIgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG5cbiAgdmFyIGFjdHVhbCA9IHRoYXQud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIHRoYXQgPSB0aGF0LnNsaWNlKDAsIGFjdHVhbClcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKHRoYXQsIGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKHRoYXQsIGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgYXJyYXkuYnl0ZUxlbmd0aCAvLyB0aGlzIHRocm93cyBpZiBgYXJyYXlgIGlzIG5vdCBhIHZhbGlkIEFycmF5QnVmZmVyXG5cbiAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ29mZnNldFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnbGVuZ3RoXFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBhcnJheVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICB0aGF0ID0gZnJvbUFycmF5TGlrZSh0aGF0LCBhcnJheSlcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tT2JqZWN0ICh0aGF0LCBvYmopIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7XG4gICAgdmFyIGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG4gICAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW4pXG5cbiAgICBpZiAodGhhdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGF0XG4gICAgfVxuXG4gICAgb2JqLmNvcHkodGhhdCwgMCwgMCwgbGVuKVxuICAgIHJldHVybiB0aGF0XG4gIH1cblxuICBpZiAob2JqKSB7XG4gICAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHwgJ2xlbmd0aCcgaW4gb2JqKSB7XG4gICAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IGlzbmFuKG9iai5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgMClcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iailcbiAgICB9XG5cbiAgICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIGlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmouZGF0YSlcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuJylcbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IGtNYXhMZW5ndGgoKWAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBrTWF4TGVuZ3RoKCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsga01heExlbmd0aCgpLnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gISEoYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyKVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgICB9XG4gICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgcG9zICs9IGJ1Zi5sZW5ndGhcbiAgfVxuICByZXR1cm4gYnVmZmVyXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgc3RyaW5nIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmdcbiAgfVxuXG4gIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhlIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgYW5kIGBpcy1idWZmZXJgIChpbiBTYWZhcmkgNS03KSB0byBkZXRlY3Rcbi8vIEJ1ZmZlciBpbnN0YW5jZXMuXG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoIHwgMFxuICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKVxuICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICB2YXIgc3RyID0gJydcbiAgdmFyIG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVNcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkubWF0Y2goLy57Mn0vZykuam9pbignICcpXG4gICAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICB9XG4gIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKHRhcmdldCwgc3RhcnQsIGVuZCwgdGhpc1N0YXJ0LCB0aGlzRW5kKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzU3RhcnQgPSAwXG4gIH1cbiAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ291dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQgJiYgc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICBpZiAoc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIHN0YXJ0ID4+Pj0gMFxuICBlbmQgPj4+PSAwXG4gIHRoaXNTdGFydCA+Pj49IDBcbiAgdGhpc0VuZCA+Pj49IDBcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0KSByZXR1cm4gMFxuXG4gIHZhciB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydFxuICB2YXIgeSA9IGVuZCAtIHN0YXJ0XG4gIHZhciBsZW4gPSBNYXRoLm1pbih4LCB5KVxuXG4gIHZhciB0aGlzQ29weSA9IHRoaXMuc2xpY2UodGhpc1N0YXJ0LCB0aGlzRW5kKVxuICB2YXIgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAodGhpc0NvcHlbaV0gIT09IHRhcmdldENvcHlbaV0pIHtcbiAgICAgIHggPSB0aGlzQ29weVtpXVxuICAgICAgeSA9IHRhcmdldENvcHlbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG4vLyBGaW5kcyBlaXRoZXIgdGhlIGZpcnN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA+PSBgYnl0ZU9mZnNldGAsXG4vLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLlxuLy9cbi8vIEFyZ3VtZW50czpcbi8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoXG4vLyAtIHZhbCAtIGEgc3RyaW5nLCBCdWZmZXIsIG9yIG51bWJlclxuLy8gLSBieXRlT2Zmc2V0IC0gYW4gaW5kZXggaW50byBgYnVmZmVyYDsgd2lsbCBiZSBjbGFtcGVkIHRvIGFuIGludDMyXG4vLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZ1xuLy8gLSBkaXIgLSB0cnVlIGZvciBpbmRleE9mLCBmYWxzZSBmb3IgbGFzdEluZGV4T2ZcbmZ1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mIChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2hcbiAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHJldHVybiAtMVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XG4gIGlmICh0eXBlb2YgYnl0ZU9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IGJ5dGVPZmZzZXRcbiAgICBieXRlT2Zmc2V0ID0gMFxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPiAweDdmZmZmZmZmKSB7XG4gICAgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmZcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHtcbiAgICBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDBcbiAgfVxuICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQgIC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChpc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmXG4gICAgICAgIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFsgdmFsIF0sIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXInKVxufVxuXG5mdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIHZhciBpbmRleFNpemUgPSAxXG4gIHZhciBhcnJMZW5ndGggPSBhcnIubGVuZ3RoXG4gIHZhciB2YWxMZW5ndGggPSB2YWwubGVuZ3RoXG5cbiAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8XG4gICAgICAgIGVuY29kaW5nID09PSAndXRmMTZsZScgfHwgZW5jb2RpbmcgPT09ICd1dGYtMTZsZScpIHtcbiAgICAgIGlmIChhcnIubGVuZ3RoIDwgMiB8fCB2YWwubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH1cbiAgICAgIGluZGV4U2l6ZSA9IDJcbiAgICAgIGFyckxlbmd0aCAvPSAyXG4gICAgICB2YWxMZW5ndGggLz0gMlxuICAgICAgYnl0ZU9mZnNldCAvPSAyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG4gICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGJ1ZltpXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZCRShpICogaW5kZXhTaXplKVxuICAgIH1cbiAgfVxuXG4gIHZhciBpXG4gIGlmIChkaXIpIHtcbiAgICB2YXIgZm91bmRJbmRleCA9IC0xXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSkgZm91bmRJbmRleCA9IGlcbiAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSBpIC09IGkgLSBmb3VuZEluZGV4XG4gICAgICAgIGZvdW5kSW5kZXggPSAtMVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYnl0ZU9mZnNldCArIHZhbExlbmd0aCA+IGFyckxlbmd0aCkgYnl0ZU9mZnNldCA9IGFyckxlbmd0aCAtIHZhbExlbmd0aFxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgZm91bmQgPSB0cnVlXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChyZWFkKGFyciwgaSArIGopICE9PSByZWFkKHZhbCwgaikpIHtcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZvdW5kKSByZXR1cm4gaVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZih2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSAhPT0gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gaGV4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwXG4gIHZhciByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cblxuICAvLyBtdXN0IGJlIGFuIGV2ZW4gbnVtYmVyIG9mIGRpZ2l0c1xuICB2YXIgc3RyTGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAoc3RyTGVuICUgMiAhPT0gMCkgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBoZXggc3RyaW5nJylcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAoaXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMFxuICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG4gICAgICBsZW5ndGggPSB1bmRlZmluZWRcbiAgICB9XG4gIC8vIGxlZ2FjeSB3cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXQsIGxlbmd0aCkgLSByZW1vdmUgaW4gdjAuMTNcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG5cbiAgdmFyIHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZ1xuXG4gIGlmICgoc3RyaW5nLmxlbmd0aCA+IDAgJiYgKGxlbmd0aCA8IDAgfHwgb2Zmc2V0IDwgMCkpIHx8IG9mZnNldCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgLy8gV2FybmluZzogbWF4TGVuZ3RoIG5vdCB0YWtlbiBpbnRvIGFjY291bnQgaW4gYmFzZTY0V3JpdGVcbiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQnVmZmVyJyxcbiAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuICB2YXIgcmVzID0gW11cblxuICB2YXIgaSA9IHN0YXJ0XG4gIHdoaWxlIChpIDwgZW5kKSB7XG4gICAgdmFyIGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIHZhciBjb2RlUG9pbnQgPSBudWxsXG4gICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4QkYpID8gMlxuICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICB2YXIgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG52YXIgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDBcblxuZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG4gIHZhciBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aFxuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIHZhciByZXMgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgIFN0cmluZyxcbiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgdmFyIG91dCA9ICcnXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgb3V0ICs9IHRvSGV4KGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgYnl0ZXNbaSArIDFdICogMjU2KVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBzdGFydCA9IH5+c3RhcnRcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCArPSBsZW5cbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuICAgIHN0YXJ0ID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5cbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuICAgIGVuZCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIHZhciBuZXdCdWZcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAgIG5ld0J1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgdmFyIHNsaWNlTGVuID0gZW5kIC0gc3RhcnRcbiAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGljZUxlbjsgKytpKSB7XG4gICAgICBuZXdCdWZbaV0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICB2YXIgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiB3cml0ZVVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MTYgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgMik7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgJiAoMHhmZiA8PCAoOCAqIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpKSkpID4+PlxuICAgICAgKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkgKiA4XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDQpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlID4+PiAobGl0dGxlRW5kaWFuID8gaSA6IDMgLSBpKSAqIDgpICYgMHhmZlxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IDBcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuICB2YXIgaVxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgc3RhcnQgPCB0YXJnZXRTdGFydCAmJiB0YXJnZXRTdGFydCA8IGVuZCkge1xuICAgIC8vIGRlc2NlbmRpbmcgY29weSBmcm9tIGVuZFxuICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIGlmIChsZW4gPCAxMDAwIHx8ICFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIGFzY2VuZGluZyBjb3B5IGZyb20gc3RhcnRcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGhpcy5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pLFxuICAgICAgdGFyZ2V0U3RhcnRcbiAgICApXG4gIH1cblxuICByZXR1cm4gbGVuXG59XG5cbi8vIFVzYWdlOlxuLy8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKHN0cmluZ1ssIG9mZnNldFssIGVuZF1dWywgZW5jb2RpbmddKVxuQnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBzdGFydFxuICAgICAgc3RhcnQgPSAwXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5kXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKGNvZGUgPCAyNTYpIHtcbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IHV0ZjhUb0J5dGVzKG5ldyBCdWZmZXIodmFsLCBlbmNvZGluZykudG9TdHJpbmcoKSlcbiAgICB2YXIgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rXFwvMC05QS1aYS16LV9dL2dcblxuZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyaW5ndHJpbShzdHIpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSdcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmZ1bmN0aW9uIHN0cmluZ3RyaW0gKHN0cikge1xuICBpZiAoc3RyLnRyaW0pIHJldHVybiBzdHIudHJpbSgpXG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpXG59XG5cbmZ1bmN0aW9uIHRvSGV4IChuKSB7XG4gIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICByZXR1cm4gbi50b1N0cmluZygxNilcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICB2YXIgY29kZVBvaW50XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICB2YXIgYnl0ZXMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cbiAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICB2YXIgYywgaGksIGxvXG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuXG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaGkgPSBjID4+IDhcbiAgICBsbyA9IGMgJSAyNTZcbiAgICBieXRlQXJyYXkucHVzaChsbylcbiAgICBieXRlQXJyYXkucHVzaChoaSlcbiAgfVxuXG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcbn1cblxuZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gaXNuYW4gKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSB2YWwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmICghcHJvY2Vzcy52ZXJzaW9uIHx8XG4gICAgcHJvY2Vzcy52ZXJzaW9uLmluZGV4T2YoJ3YwLicpID09PSAwIHx8XG4gICAgcHJvY2Vzcy52ZXJzaW9uLmluZGV4T2YoJ3YxLicpID09PSAwICYmIHByb2Nlc3MudmVyc2lvbi5pbmRleE9mKCd2MS44LicpICE9PSAwKSB7XG4gIG1vZHVsZS5leHBvcnRzID0geyBuZXh0VGljazogbmV4dFRpY2sgfTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcHJvY2Vzc1xufVxuXG5mdW5jdGlvbiBuZXh0VGljayhmbiwgYXJnMSwgYXJnMiwgYXJnMykge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJjYWxsYmFja1wiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG4gIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICB2YXIgYXJncywgaTtcbiAgc3dpdGNoIChsZW4pIHtcbiAgY2FzZSAwOlxuICBjYXNlIDE6XG4gICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZm4pO1xuICBjYXNlIDI6XG4gICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gYWZ0ZXJUaWNrT25lKCkge1xuICAgICAgZm4uY2FsbChudWxsLCBhcmcxKTtcbiAgICB9KTtcbiAgY2FzZSAzOlxuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uIGFmdGVyVGlja1R3bygpIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgYXJnMSwgYXJnMik7XG4gICAgfSk7XG4gIGNhc2UgNDpcbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiBhZnRlclRpY2tUaHJlZSgpIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gICAgfSk7XG4gIGRlZmF1bHQ6XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gLSAxKTtcbiAgICBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGFyZ3MubGVuZ3RoKSB7XG4gICAgICBhcmdzW2krK10gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uIGFmdGVyVGljaygpIHtcbiAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG59XG5cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vZGUvbm8tZGVwcmVjYXRlZC1hcGkgKi9cbnZhciBidWZmZXIgPSByZXF1aXJlKCdidWZmZXInKVxudmFyIEJ1ZmZlciA9IGJ1ZmZlci5CdWZmZXJcblxuLy8gYWx0ZXJuYXRpdmUgdG8gdXNpbmcgT2JqZWN0LmtleXMgZm9yIG9sZCBicm93c2Vyc1xuZnVuY3Rpb24gY29weVByb3BzIChzcmMsIGRzdCkge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgZHN0W2tleV0gPSBzcmNba2V5XVxuICB9XG59XG5pZiAoQnVmZmVyLmZyb20gJiYgQnVmZmVyLmFsbG9jICYmIEJ1ZmZlci5hbGxvY1Vuc2FmZSAmJiBCdWZmZXIuYWxsb2NVbnNhZmVTbG93KSB7XG4gIG1vZHVsZS5leHBvcnRzID0gYnVmZmVyXG59IGVsc2Uge1xuICAvLyBDb3B5IHByb3BlcnRpZXMgZnJvbSByZXF1aXJlKCdidWZmZXInKVxuICBjb3B5UHJvcHMoYnVmZmVyLCBleHBvcnRzKVxuICBleHBvcnRzLkJ1ZmZlciA9IFNhZmVCdWZmZXJcbn1cblxuZnVuY3Rpb24gU2FmZUJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuLy8gQ29weSBzdGF0aWMgbWV0aG9kcyBmcm9tIEJ1ZmZlclxuY29weVByb3BzKEJ1ZmZlciwgU2FmZUJ1ZmZlcilcblxuU2FmZUJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuICByZXR1cm4gQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5TYWZlQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuICB2YXIgYnVmID0gQnVmZmVyKHNpemUpXG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJykge1xuICAgICAgYnVmLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1Zi5maWxsKGZpbGwpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGJ1Zi5maWxsKDApXG4gIH1cbiAgcmV0dXJuIGJ1ZlxufVxuXG5TYWZlQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHJldHVybiBCdWZmZXIoc2l6ZSlcbn1cblxuU2FmZUJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlci5TbG93QnVmZmVyKHNpemUpXG59XG4iLCIvKmpzbGludCBub2RlOnRydWUgKi9cclxuXHJcbnZhciB4bWwyanMgPSByZXF1aXJlKCcuL3htbDJqcycpO1xyXG52YXIgeG1sMmpzb24gPSByZXF1aXJlKCcuL3htbDJqc29uJyk7XHJcbnZhciBqczJ4bWwgPSByZXF1aXJlKCcuL2pzMnhtbCcpO1xyXG52YXIganNvbjJ4bWwgPSByZXF1aXJlKCcuL2pzb24yeG1sJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICB4bWwyanM6IHhtbDJqcyxcclxuICB4bWwyanNvbjogeG1sMmpzb24sXHJcbiAganMyeG1sOiBqczJ4bWwsXHJcbiAganNvbjJ4bWw6IGpzb24yeG1sXHJcbn07XHJcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBtO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZVxuICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblxuICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHBvc2l0aW9uID0gLTE7XG5cbiAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG4gICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG4gICAgLy8gTElGTyBvcmRlclxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgfVxuICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gW107XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xuICBpZiAodGhpcy5fZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSlcbiAgICAgIHJldHVybiAxO1xuICAgIGVsc2UgaWYgKGV2bGlzdGVuZXIpXG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbn07XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fcmVhZGFibGUuanMnKTtcbmV4cG9ydHMuU3RyZWFtID0gZXhwb3J0cztcbmV4cG9ydHMuUmVhZGFibGUgPSBleHBvcnRzO1xuZXhwb3J0cy5Xcml0YWJsZSA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fd3JpdGFibGUuanMnKTtcbmV4cG9ydHMuRHVwbGV4ID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV9kdXBsZXguanMnKTtcbmV4cG9ydHMuVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV90cmFuc2Zvcm0uanMnKTtcbmV4cG9ydHMuUGFzc1Rocm91Z2ggPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3Bhc3N0aHJvdWdoLmpzJyk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gQSBiaXQgc2ltcGxlciB0aGFuIHJlYWRhYmxlIHN0cmVhbXMuXG4vLyBJbXBsZW1lbnQgYW4gYXN5bmMgLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIGNiKSwgYW5kIGl0J2xsIGhhbmRsZSBhbGxcbi8vIHRoZSBkcmFpbiBldmVudCBlbWlzc2lvbiBhbmQgYnVmZmVyaW5nLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBwbmEgPSByZXF1aXJlKCdwcm9jZXNzLW5leHRpY2stYXJncycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbm1vZHVsZS5leHBvcnRzID0gV3JpdGFibGU7XG5cbi8qIDxyZXBsYWNlbWVudD4gKi9cbmZ1bmN0aW9uIFdyaXRlUmVxKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdGhpcy5jaHVuayA9IGNodW5rO1xuICB0aGlzLmVuY29kaW5nID0gZW5jb2Rpbmc7XG4gIHRoaXMuY2FsbGJhY2sgPSBjYjtcbiAgdGhpcy5uZXh0ID0gbnVsbDtcbn1cblxuLy8gSXQgc2VlbXMgYSBsaW5rZWQgbGlzdCBidXQgaXQgaXMgbm90XG4vLyB0aGVyZSB3aWxsIGJlIG9ubHkgMiBvZiB0aGVzZSBmb3IgZWFjaCBzdHJlYW1cbmZ1bmN0aW9uIENvcmtlZFJlcXVlc3Qoc3RhdGUpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB0aGlzLm5leHQgPSBudWxsO1xuICB0aGlzLmVudHJ5ID0gbnVsbDtcbiAgdGhpcy5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgb25Db3JrZWRGaW5pc2goX3RoaXMsIHN0YXRlKTtcbiAgfTtcbn1cbi8qIDwvcmVwbGFjZW1lbnQ+ICovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgYXN5bmNXcml0ZSA9ICFwcm9jZXNzLmJyb3dzZXIgJiYgWyd2MC4xMCcsICd2MC45LiddLmluZGV4T2YocHJvY2Vzcy52ZXJzaW9uLnNsaWNlKDAsIDUpKSA+IC0xID8gc2V0SW1tZWRpYXRlIDogcG5hLm5leHRUaWNrO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgRHVwbGV4O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbldyaXRhYmxlLldyaXRhYmxlU3RhdGUgPSBXcml0YWJsZVN0YXRlO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTtcbnV0aWwuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgaW50ZXJuYWxVdGlsID0ge1xuICBkZXByZWNhdGU6IHJlcXVpcmUoJ3V0aWwtZGVwcmVjYXRlJylcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBTdHJlYW0gPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xudmFyIE91clVpbnQ4QXJyYXkgPSBnbG9iYWwuVWludDhBcnJheSB8fCBmdW5jdGlvbiAoKSB7fTtcbmZ1bmN0aW9uIF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKTtcbn1cbmZ1bmN0aW9uIF9pc1VpbnQ4QXJyYXkob2JqKSB7XG4gIHJldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKSB8fCBvYmogaW5zdGFuY2VvZiBPdXJVaW50OEFycmF5O1xufVxuXG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIGRlc3Ryb3lJbXBsID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL2Rlc3Ryb3knKTtcblxudXRpbC5pbmhlcml0cyhXcml0YWJsZSwgU3RyZWFtKTtcblxuZnVuY3Rpb24gbm9wKCkge31cblxuZnVuY3Rpb24gV3JpdGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0pIHtcbiAgRHVwbGV4ID0gRHVwbGV4IHx8IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBEdXBsZXggc3RyZWFtcyBhcmUgYm90aCByZWFkYWJsZSBhbmQgd3JpdGFibGUsIGJ1dCBzaGFyZVxuICAvLyB0aGUgc2FtZSBvcHRpb25zIG9iamVjdC5cbiAgLy8gSG93ZXZlciwgc29tZSBjYXNlcyByZXF1aXJlIHNldHRpbmcgb3B0aW9ucyB0byBkaWZmZXJlbnRcbiAgLy8gdmFsdWVzIGZvciB0aGUgcmVhZGFibGUgYW5kIHRoZSB3cml0YWJsZSBzaWRlcyBvZiB0aGUgZHVwbGV4IHN0cmVhbS5cbiAgLy8gVGhlc2Ugb3B0aW9ucyBjYW4gYmUgcHJvdmlkZWQgc2VwYXJhdGVseSBhcyByZWFkYWJsZVhYWCBhbmQgd3JpdGFibGVYWFguXG4gIHZhciBpc0R1cGxleCA9IHN0cmVhbSBpbnN0YW5jZW9mIER1cGxleDtcblxuICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciBvciBub3QgdGhpcyBzdHJlYW1cbiAgLy8gY29udGFpbnMgYnVmZmVycyBvciBvYmplY3RzLlxuICB0aGlzLm9iamVjdE1vZGUgPSAhIW9wdGlvbnMub2JqZWN0TW9kZTtcblxuICBpZiAoaXNEdXBsZXgpIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlO1xuXG4gIC8vIHRoZSBwb2ludCBhdCB3aGljaCB3cml0ZSgpIHN0YXJ0cyByZXR1cm5pbmcgZmFsc2VcbiAgLy8gTm90ZTogMCBpcyBhIHZhbGlkIHZhbHVlLCBtZWFucyB0aGF0IHdlIGFsd2F5cyByZXR1cm4gZmFsc2UgaWZcbiAgLy8gdGhlIGVudGlyZSBidWZmZXIgaXMgbm90IGZsdXNoZWQgaW1tZWRpYXRlbHkgb24gd3JpdGUoKVxuICB2YXIgaHdtID0gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrO1xuICB2YXIgd3JpdGFibGVId20gPSBvcHRpb25zLndyaXRhYmxlSGlnaFdhdGVyTWFyaztcbiAgdmFyIGRlZmF1bHRId20gPSB0aGlzLm9iamVjdE1vZGUgPyAxNiA6IDE2ICogMTAyNDtcblxuICBpZiAoaHdtIHx8IGh3bSA9PT0gMCkgdGhpcy5oaWdoV2F0ZXJNYXJrID0gaHdtO2Vsc2UgaWYgKGlzRHVwbGV4ICYmICh3cml0YWJsZUh3bSB8fCB3cml0YWJsZUh3bSA9PT0gMCkpIHRoaXMuaGlnaFdhdGVyTWFyayA9IHdyaXRhYmxlSHdtO2Vsc2UgdGhpcy5oaWdoV2F0ZXJNYXJrID0gZGVmYXVsdEh3bTtcblxuICAvLyBjYXN0IHRvIGludHMuXG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IE1hdGguZmxvb3IodGhpcy5oaWdoV2F0ZXJNYXJrKTtcblxuICAvLyBpZiBfZmluYWwgaGFzIGJlZW4gY2FsbGVkXG4gIHRoaXMuZmluYWxDYWxsZWQgPSBmYWxzZTtcblxuICAvLyBkcmFpbiBldmVudCBmbGFnLlxuICB0aGlzLm5lZWREcmFpbiA9IGZhbHNlO1xuICAvLyBhdCB0aGUgc3RhcnQgb2YgY2FsbGluZyBlbmQoKVxuICB0aGlzLmVuZGluZyA9IGZhbHNlO1xuICAvLyB3aGVuIGVuZCgpIGhhcyBiZWVuIGNhbGxlZCwgYW5kIHJldHVybmVkXG4gIHRoaXMuZW5kZWQgPSBmYWxzZTtcbiAgLy8gd2hlbiAnZmluaXNoJyBpcyBlbWl0dGVkXG4gIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcblxuICAvLyBoYXMgaXQgYmVlbiBkZXN0cm95ZWRcbiAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAvLyBzaG91bGQgd2UgZGVjb2RlIHN0cmluZ3MgaW50byBidWZmZXJzIGJlZm9yZSBwYXNzaW5nIHRvIF93cml0ZT9cbiAgLy8gdGhpcyBpcyBoZXJlIHNvIHRoYXQgc29tZSBub2RlLWNvcmUgc3RyZWFtcyBjYW4gb3B0aW1pemUgc3RyaW5nXG4gIC8vIGhhbmRsaW5nIGF0IGEgbG93ZXIgbGV2ZWwuXG4gIHZhciBub0RlY29kZSA9IG9wdGlvbnMuZGVjb2RlU3RyaW5ncyA9PT0gZmFsc2U7XG4gIHRoaXMuZGVjb2RlU3RyaW5ncyA9ICFub0RlY29kZTtcblxuICAvLyBDcnlwdG8gaXMga2luZCBvZiBvbGQgYW5kIGNydXN0eS4gIEhpc3RvcmljYWxseSwgaXRzIGRlZmF1bHQgc3RyaW5nXG4gIC8vIGVuY29kaW5nIGlzICdiaW5hcnknIHNvIHdlIGhhdmUgdG8gbWFrZSB0aGlzIGNvbmZpZ3VyYWJsZS5cbiAgLy8gRXZlcnl0aGluZyBlbHNlIGluIHRoZSB1bml2ZXJzZSB1c2VzICd1dGY4JywgdGhvdWdoLlxuICB0aGlzLmRlZmF1bHRFbmNvZGluZyA9IG9wdGlvbnMuZGVmYXVsdEVuY29kaW5nIHx8ICd1dGY4JztcblxuICAvLyBub3QgYW4gYWN0dWFsIGJ1ZmZlciB3ZSBrZWVwIHRyYWNrIG9mLCBidXQgYSBtZWFzdXJlbWVudFxuICAvLyBvZiBob3cgbXVjaCB3ZSdyZSB3YWl0aW5nIHRvIGdldCBwdXNoZWQgdG8gc29tZSB1bmRlcmx5aW5nXG4gIC8vIHNvY2tldCBvciBmaWxlLlxuICB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgLy8gYSBmbGFnIHRvIHNlZSB3aGVuIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgYSB3cml0ZS5cbiAgdGhpcy53cml0aW5nID0gZmFsc2U7XG5cbiAgLy8gd2hlbiB0cnVlIGFsbCB3cml0ZXMgd2lsbCBiZSBidWZmZXJlZCB1bnRpbCAudW5jb3JrKCkgY2FsbFxuICB0aGlzLmNvcmtlZCA9IDA7XG5cbiAgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgb253cml0ZSBjYiBpcyBjYWxsZWQgaW1tZWRpYXRlbHksXG4gIC8vIG9yIG9uIGEgbGF0ZXIgdGljay4gIFdlIHNldCB0aGlzIHRvIHRydWUgYXQgZmlyc3QsIGJlY2F1c2UgYW55XG4gIC8vIGFjdGlvbnMgdGhhdCBzaG91bGRuJ3QgaGFwcGVuIHVudGlsIFwibGF0ZXJcIiBzaG91bGQgZ2VuZXJhbGx5IGFsc29cbiAgLy8gbm90IGhhcHBlbiBiZWZvcmUgdGhlIGZpcnN0IHdyaXRlIGNhbGwuXG4gIHRoaXMuc3luYyA9IHRydWU7XG5cbiAgLy8gYSBmbGFnIHRvIGtub3cgaWYgd2UncmUgcHJvY2Vzc2luZyBwcmV2aW91c2x5IGJ1ZmZlcmVkIGl0ZW1zLCB3aGljaFxuICAvLyBtYXkgY2FsbCB0aGUgX3dyaXRlKCkgY2FsbGJhY2sgaW4gdGhlIHNhbWUgdGljaywgc28gdGhhdCB3ZSBkb24ndFxuICAvLyBlbmQgdXAgaW4gYW4gb3ZlcmxhcHBlZCBvbndyaXRlIHNpdHVhdGlvbi5cbiAgdGhpcy5idWZmZXJQcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgLy8gdGhlIGNhbGxiYWNrIHRoYXQncyBwYXNzZWQgdG8gX3dyaXRlKGNodW5rLGNiKVxuICB0aGlzLm9ud3JpdGUgPSBmdW5jdGlvbiAoZXIpIHtcbiAgICBvbndyaXRlKHN0cmVhbSwgZXIpO1xuICB9O1xuXG4gIC8vIHRoZSBjYWxsYmFjayB0aGF0IHRoZSB1c2VyIHN1cHBsaWVzIHRvIHdyaXRlKGNodW5rLGVuY29kaW5nLGNiKVxuICB0aGlzLndyaXRlY2IgPSBudWxsO1xuXG4gIC8vIHRoZSBhbW91bnQgdGhhdCBpcyBiZWluZyB3cml0dGVuIHdoZW4gX3dyaXRlIGlzIGNhbGxlZC5cbiAgdGhpcy53cml0ZWxlbiA9IDA7XG5cbiAgdGhpcy5idWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuICB0aGlzLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuXG4gIC8vIG51bWJlciBvZiBwZW5kaW5nIHVzZXItc3VwcGxpZWQgd3JpdGUgY2FsbGJhY2tzXG4gIC8vIHRoaXMgbXVzdCBiZSAwIGJlZm9yZSAnZmluaXNoJyBjYW4gYmUgZW1pdHRlZFxuICB0aGlzLnBlbmRpbmdjYiA9IDA7XG5cbiAgLy8gZW1pdCBwcmVmaW5pc2ggaWYgdGhlIG9ubHkgdGhpbmcgd2UncmUgd2FpdGluZyBmb3IgaXMgX3dyaXRlIGNic1xuICAvLyBUaGlzIGlzIHJlbGV2YW50IGZvciBzeW5jaHJvbm91cyBUcmFuc2Zvcm0gc3RyZWFtc1xuICB0aGlzLnByZWZpbmlzaGVkID0gZmFsc2U7XG5cbiAgLy8gVHJ1ZSBpZiB0aGUgZXJyb3Igd2FzIGFscmVhZHkgZW1pdHRlZCBhbmQgc2hvdWxkIG5vdCBiZSB0aHJvd24gYWdhaW5cbiAgdGhpcy5lcnJvckVtaXR0ZWQgPSBmYWxzZTtcblxuICAvLyBjb3VudCBidWZmZXJlZCByZXF1ZXN0c1xuICB0aGlzLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDtcblxuICAvLyBhbGxvY2F0ZSB0aGUgZmlyc3QgQ29ya2VkUmVxdWVzdCwgdGhlcmUgaXMgYWx3YXlzXG4gIC8vIG9uZSBhbGxvY2F0ZWQgYW5kIGZyZWUgdG8gdXNlLCBhbmQgd2UgbWFpbnRhaW4gYXQgbW9zdCB0d29cbiAgdGhpcy5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdCh0aGlzKTtcbn1cblxuV3JpdGFibGVTdGF0ZS5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24gZ2V0QnVmZmVyKCkge1xuICB2YXIgY3VycmVudCA9IHRoaXMuYnVmZmVyZWRSZXF1ZXN0O1xuICB2YXIgb3V0ID0gW107XG4gIHdoaWxlIChjdXJyZW50KSB7XG4gICAgb3V0LnB1c2goY3VycmVudCk7XG4gICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgfVxuICByZXR1cm4gb3V0O1xufTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGVTdGF0ZS5wcm90b3R5cGUsICdidWZmZXInLCB7XG4gICAgICBnZXQ6IGludGVybmFsVXRpbC5kZXByZWNhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXIoKTtcbiAgICAgIH0sICdfd3JpdGFibGVTdGF0ZS5idWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIF93cml0YWJsZVN0YXRlLmdldEJ1ZmZlciAnICsgJ2luc3RlYWQuJywgJ0RFUDAwMDMnKVxuICAgIH0pO1xuICB9IGNhdGNoIChfKSB7fVxufSkoKTtcblxuLy8gVGVzdCBfd3JpdGFibGVTdGF0ZSBmb3IgaW5oZXJpdGFuY2UgdG8gYWNjb3VudCBmb3IgRHVwbGV4IHN0cmVhbXMsXG4vLyB3aG9zZSBwcm90b3R5cGUgY2hhaW4gb25seSBwb2ludHMgdG8gUmVhZGFibGUuXG52YXIgcmVhbEhhc0luc3RhbmNlO1xuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmhhc0luc3RhbmNlICYmIHR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICByZWFsSGFzSW5zdGFuY2UgPSBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgaWYgKHJlYWxIYXNJbnN0YW5jZS5jYWxsKHRoaXMsIG9iamVjdCkpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKHRoaXMgIT09IFdyaXRhYmxlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgV3JpdGFibGVTdGF0ZTtcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgcmVhbEhhc0luc3RhbmNlID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiB0aGlzO1xuICB9O1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZShvcHRpb25zKSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbiAgLy8gV3JpdGFibGUgY3RvciBpcyBhcHBsaWVkIHRvIER1cGxleGVzLCB0b28uXG4gIC8vIGByZWFsSGFzSW5zdGFuY2VgIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHVzaW5nIHBsYWluIGBpbnN0YW5jZW9mYFxuICAvLyB3b3VsZCByZXR1cm4gZmFsc2UsIGFzIG5vIGBfd3JpdGFibGVTdGF0ZWAgcHJvcGVydHkgaXMgYXR0YWNoZWQuXG5cbiAgLy8gVHJ5aW5nIHRvIHVzZSB0aGUgY3VzdG9tIGBpbnN0YW5jZW9mYCBmb3IgV3JpdGFibGUgaGVyZSB3aWxsIGFsc28gYnJlYWsgdGhlXG4gIC8vIE5vZGUuanMgTGF6eVRyYW5zZm9ybSBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaGFzIGEgbm9uLXRyaXZpYWwgZ2V0dGVyIGZvclxuICAvLyBgX3dyaXRhYmxlU3RhdGVgIHRoYXQgd291bGQgbGVhZCB0byBpbmZpbml0ZSByZWN1cnNpb24uXG4gIGlmICghcmVhbEhhc0luc3RhbmNlLmNhbGwoV3JpdGFibGUsIHRoaXMpICYmICEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpIHtcbiAgICByZXR1cm4gbmV3IFdyaXRhYmxlKG9wdGlvbnMpO1xuICB9XG5cbiAgdGhpcy5fd3JpdGFibGVTdGF0ZSA9IG5ldyBXcml0YWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMpO1xuXG4gIC8vIGxlZ2FjeS5cbiAgdGhpcy53cml0YWJsZSA9IHRydWU7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMud3JpdGUgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRlID0gb3B0aW9ucy53cml0ZTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZXYgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRldiA9IG9wdGlvbnMud3JpdGV2O1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHRoaXMuX2Rlc3Ryb3kgPSBvcHRpb25zLmRlc3Ryb3k7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmluYWwgPT09ICdmdW5jdGlvbicpIHRoaXMuX2ZpbmFsID0gb3B0aW9ucy5maW5hbDtcbiAgfVxuXG4gIFN0cmVhbS5jYWxsKHRoaXMpO1xufVxuXG4vLyBPdGhlcndpc2UgcGVvcGxlIGNhbiBwaXBlIFdyaXRhYmxlIHN0cmVhbXMsIHdoaWNoIGlzIGp1c3Qgd3JvbmcuXG5Xcml0YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZScpKTtcbn07XG5cbmZ1bmN0aW9uIHdyaXRlQWZ0ZXJFbmQoc3RyZWFtLCBjYikge1xuICB2YXIgZXIgPSBuZXcgRXJyb3IoJ3dyaXRlIGFmdGVyIGVuZCcpO1xuICAvLyBUT0RPOiBkZWZlciBlcnJvciBldmVudHMgY29uc2lzdGVudGx5IGV2ZXJ5d2hlcmUsIG5vdCBqdXN0IHRoZSBjYlxuICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gIHBuYS5uZXh0VGljayhjYiwgZXIpO1xufVxuXG4vLyBDaGVja3MgdGhhdCBhIHVzZXItc3VwcGxpZWQgY2h1bmsgaXMgdmFsaWQsIGVzcGVjaWFsbHkgZm9yIHRoZSBwYXJ0aWN1bGFyXG4vLyBtb2RlIHRoZSBzdHJlYW0gaXMgaW4uIEN1cnJlbnRseSB0aGlzIG1lYW5zIHRoYXQgYG51bGxgIGlzIG5ldmVyIGFjY2VwdGVkXG4vLyBhbmQgdW5kZWZpbmVkL25vbi1zdHJpbmcgdmFsdWVzIGFyZSBvbmx5IGFsbG93ZWQgaW4gb2JqZWN0IG1vZGUuXG5mdW5jdGlvbiB2YWxpZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBjYikge1xuICB2YXIgdmFsaWQgPSB0cnVlO1xuICB2YXIgZXIgPSBmYWxzZTtcblxuICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ01heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiBjaHVuayAhPT0gdW5kZWZpbmVkICYmICFzdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgZXIgPSBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rJyk7XG4gIH1cbiAgaWYgKGVyKSB7XG4gICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICAgIHBuYS5uZXh0VGljayhjYiwgZXIpO1xuICAgIHZhbGlkID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbGlkO1xufVxuXG5Xcml0YWJsZS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuICB2YXIgcmV0ID0gZmFsc2U7XG4gIHZhciBpc0J1ZiA9ICFzdGF0ZS5vYmplY3RNb2RlICYmIF9pc1VpbnQ4QXJyYXkoY2h1bmspO1xuXG4gIGlmIChpc0J1ZiAmJiAhQnVmZmVyLmlzQnVmZmVyKGNodW5rKSkge1xuICAgIGNodW5rID0gX3VpbnQ4QXJyYXlUb0J1ZmZlcihjaHVuayk7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cblxuICBpZiAoaXNCdWYpIGVuY29kaW5nID0gJ2J1ZmZlcic7ZWxzZSBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9IHN0YXRlLmRlZmF1bHRFbmNvZGluZztcblxuICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSBjYiA9IG5vcDtcblxuICBpZiAoc3RhdGUuZW5kZWQpIHdyaXRlQWZ0ZXJFbmQodGhpcywgY2IpO2Vsc2UgaWYgKGlzQnVmIHx8IHZhbGlkQ2h1bmsodGhpcywgc3RhdGUsIGNodW5rLCBjYikpIHtcbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICByZXQgPSB3cml0ZU9yQnVmZmVyKHRoaXMsIHN0YXRlLCBpc0J1ZiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufTtcblxuV3JpdGFibGUucHJvdG90eXBlLmNvcmsgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgc3RhdGUuY29ya2VkKys7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUudW5jb3JrID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuXG4gIGlmIChzdGF0ZS5jb3JrZWQpIHtcbiAgICBzdGF0ZS5jb3JrZWQtLTtcblxuICAgIGlmICghc3RhdGUud3JpdGluZyAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyAmJiBzdGF0ZS5idWZmZXJlZFJlcXVlc3QpIGNsZWFyQnVmZmVyKHRoaXMsIHN0YXRlKTtcbiAgfVxufTtcblxuV3JpdGFibGUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZyA9IGZ1bmN0aW9uIHNldERlZmF1bHRFbmNvZGluZyhlbmNvZGluZykge1xuICAvLyBub2RlOjpQYXJzZUVuY29kaW5nKCkgcmVxdWlyZXMgbG93ZXIgY2FzZS5cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycpIGVuY29kaW5nID0gZW5jb2RpbmcudG9Mb3dlckNhc2UoKTtcbiAgaWYgKCEoWydoZXgnLCAndXRmOCcsICd1dGYtOCcsICdhc2NpaScsICdiaW5hcnknLCAnYmFzZTY0JywgJ3VjczInLCAndWNzLTInLCAndXRmMTZsZScsICd1dGYtMTZsZScsICdyYXcnXS5pbmRleE9mKChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpKSA+IC0xKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKTtcbiAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZWZhdWx0RW5jb2RpbmcgPSBlbmNvZGluZztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKSB7XG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiBzdGF0ZS5kZWNvZGVTdHJpbmdzICE9PSBmYWxzZSAmJiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgY2h1bmsgPSBCdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpO1xuICB9XG4gIHJldHVybiBjaHVuaztcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ3dyaXRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5cbi8vIGlmIHdlJ3JlIGFscmVhZHkgd3JpdGluZyBzb21ldGhpbmcsIHRoZW4ganVzdCBwdXQgdGhpc1xuLy8gaW4gdGhlIHF1ZXVlLCBhbmQgd2FpdCBvdXIgdHVybi4gIE90aGVyd2lzZSwgY2FsbCBfd3JpdGVcbi8vIElmIHdlIHJldHVybiBmYWxzZSwgdGhlbiB3ZSBuZWVkIGEgZHJhaW4gZXZlbnQsIHNvIHNldCB0aGF0IGZsYWcuXG5mdW5jdGlvbiB3cml0ZU9yQnVmZmVyKHN0cmVhbSwgc3RhdGUsIGlzQnVmLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGlmICghaXNCdWYpIHtcbiAgICB2YXIgbmV3Q2h1bmsgPSBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKTtcbiAgICBpZiAoY2h1bmsgIT09IG5ld0NodW5rKSB7XG4gICAgICBpc0J1ZiA9IHRydWU7XG4gICAgICBlbmNvZGluZyA9ICdidWZmZXInO1xuICAgICAgY2h1bmsgPSBuZXdDaHVuaztcbiAgICB9XG4gIH1cbiAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuXG4gIHN0YXRlLmxlbmd0aCArPSBsZW47XG5cbiAgdmFyIHJldCA9IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIC8vIHdlIG11c3QgZW5zdXJlIHRoYXQgcHJldmlvdXMgbmVlZERyYWluIHdpbGwgbm90IGJlIHJlc2V0IHRvIGZhbHNlLlxuICBpZiAoIXJldCkgc3RhdGUubmVlZERyYWluID0gdHJ1ZTtcblxuICBpZiAoc3RhdGUud3JpdGluZyB8fCBzdGF0ZS5jb3JrZWQpIHtcbiAgICB2YXIgbGFzdCA9IHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7XG4gICAgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IHtcbiAgICAgIGNodW5rOiBjaHVuayxcbiAgICAgIGVuY29kaW5nOiBlbmNvZGluZyxcbiAgICAgIGlzQnVmOiBpc0J1ZixcbiAgICAgIGNhbGxiYWNrOiBjYixcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICAgIGlmIChsYXN0KSB7XG4gICAgICBsYXN0Lm5leHQgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH1cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCArPSAxO1xuICB9IGVsc2Uge1xuICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHdyaXRldiwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHN0YXRlLndyaXRlbGVuID0gbGVuO1xuICBzdGF0ZS53cml0ZWNiID0gY2I7XG4gIHN0YXRlLndyaXRpbmcgPSB0cnVlO1xuICBzdGF0ZS5zeW5jID0gdHJ1ZTtcbiAgaWYgKHdyaXRldikgc3RyZWFtLl93cml0ZXYoY2h1bmssIHN0YXRlLm9ud3JpdGUpO2Vsc2Ugc3RyZWFtLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIHN0YXRlLm9ud3JpdGUpO1xuICBzdGF0ZS5zeW5jID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpIHtcbiAgLS1zdGF0ZS5wZW5kaW5nY2I7XG5cbiAgaWYgKHN5bmMpIHtcbiAgICAvLyBkZWZlciB0aGUgY2FsbGJhY2sgaWYgd2UgYXJlIGJlaW5nIGNhbGxlZCBzeW5jaHJvbm91c2x5XG4gICAgLy8gdG8gYXZvaWQgcGlsaW5nIHVwIHRoaW5ncyBvbiB0aGUgc3RhY2tcbiAgICBwbmEubmV4dFRpY2soY2IsIGVyKTtcbiAgICAvLyB0aGlzIGNhbiBlbWl0IGZpbmlzaCwgYW5kIGl0IHdpbGwgYWx3YXlzIGhhcHBlblxuICAgIC8vIGFmdGVyIGVycm9yXG4gICAgcG5hLm5leHRUaWNrKGZpbmlzaE1heWJlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICBzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gIH0gZWxzZSB7XG4gICAgLy8gdGhlIGNhbGxlciBleHBlY3QgdGhpcyB0byBoYXBwZW4gYmVmb3JlIGlmXG4gICAgLy8gaXQgaXMgYXN5bmNcbiAgICBjYihlcik7XG4gICAgc3RyZWFtLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICAgIC8vIHRoaXMgY2FuIGVtaXQgZmluaXNoLCBidXQgZmluaXNoIG11c3RcbiAgICAvLyBhbHdheXMgZm9sbG93IGVycm9yXG4gICAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKSB7XG4gIHN0YXRlLndyaXRpbmcgPSBmYWxzZTtcbiAgc3RhdGUud3JpdGVjYiA9IG51bGw7XG4gIHN0YXRlLmxlbmd0aCAtPSBzdGF0ZS53cml0ZWxlbjtcbiAgc3RhdGUud3JpdGVsZW4gPSAwO1xufVxuXG5mdW5jdGlvbiBvbndyaXRlKHN0cmVhbSwgZXIpIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuICB2YXIgc3luYyA9IHN0YXRlLnN5bmM7XG4gIHZhciBjYiA9IHN0YXRlLndyaXRlY2I7XG5cbiAgb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKTtcblxuICBpZiAoZXIpIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpO2Vsc2Uge1xuICAgIC8vIENoZWNrIGlmIHdlJ3JlIGFjdHVhbGx5IHJlYWR5IHRvIGZpbmlzaCwgYnV0IGRvbid0IGVtaXQgeWV0XG4gICAgdmFyIGZpbmlzaGVkID0gbmVlZEZpbmlzaChzdGF0ZSk7XG5cbiAgICBpZiAoIWZpbmlzaGVkICYmICFzdGF0ZS5jb3JrZWQgJiYgIXN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KSB7XG4gICAgICBjbGVhckJ1ZmZlcihzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoc3luYykge1xuICAgICAgLyo8cmVwbGFjZW1lbnQ+Ki9cbiAgICAgIGFzeW5jV3JpdGUoYWZ0ZXJXcml0ZSwgc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKTtcbiAgICAgIC8qPC9yZXBsYWNlbWVudD4qL1xuICAgIH0gZWxzZSB7XG4gICAgICBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKSB7XG4gIGlmICghZmluaXNoZWQpIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKTtcbiAgc3RhdGUucGVuZGluZ2NiLS07XG4gIGNiKCk7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xufVxuXG4vLyBNdXN0IGZvcmNlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBvbiBuZXh0VGljaywgc28gdGhhdCB3ZSBkb24ndFxuLy8gZW1pdCAnZHJhaW4nIGJlZm9yZSB0aGUgd3JpdGUoKSBjb25zdW1lciBnZXRzIHRoZSAnZmFsc2UnIHJldHVyblxuLy8gdmFsdWUsIGFuZCBoYXMgYSBjaGFuY2UgdG8gYXR0YWNoIGEgJ2RyYWluJyBsaXN0ZW5lci5cbmZ1bmN0aW9uIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUubmVlZERyYWluKSB7XG4gICAgc3RhdGUubmVlZERyYWluID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2RyYWluJyk7XG4gIH1cbn1cblxuLy8gaWYgdGhlcmUncyBzb21ldGhpbmcgaW4gdGhlIGJ1ZmZlciB3YWl0aW5nLCB0aGVuIHByb2Nlc3MgaXRcbmZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0cmVhbSwgc3RhdGUpIHtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IHRydWU7XG4gIHZhciBlbnRyeSA9IHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdDtcblxuICBpZiAoc3RyZWFtLl93cml0ZXYgJiYgZW50cnkgJiYgZW50cnkubmV4dCkge1xuICAgIC8vIEZhc3QgY2FzZSwgd3JpdGUgZXZlcnl0aGluZyB1c2luZyBfd3JpdGV2KClcbiAgICB2YXIgbCA9IHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50O1xuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXkobCk7XG4gICAgdmFyIGhvbGRlciA9IHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZTtcbiAgICBob2xkZXIuZW50cnkgPSBlbnRyeTtcblxuICAgIHZhciBjb3VudCA9IDA7XG4gICAgdmFyIGFsbEJ1ZmZlcnMgPSB0cnVlO1xuICAgIHdoaWxlIChlbnRyeSkge1xuICAgICAgYnVmZmVyW2NvdW50XSA9IGVudHJ5O1xuICAgICAgaWYgKCFlbnRyeS5pc0J1ZikgYWxsQnVmZmVycyA9IGZhbHNlO1xuICAgICAgZW50cnkgPSBlbnRyeS5uZXh0O1xuICAgICAgY291bnQgKz0gMTtcbiAgICB9XG4gICAgYnVmZmVyLmFsbEJ1ZmZlcnMgPSBhbGxCdWZmZXJzO1xuXG4gICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCB0cnVlLCBzdGF0ZS5sZW5ndGgsIGJ1ZmZlciwgJycsIGhvbGRlci5maW5pc2gpO1xuXG4gICAgLy8gZG9Xcml0ZSBpcyBhbG1vc3QgYWx3YXlzIGFzeW5jLCBkZWZlciB0aGVzZSB0byBzYXZlIGEgYml0IG9mIHRpbWVcbiAgICAvLyBhcyB0aGUgaG90IHBhdGggZW5kcyB3aXRoIGRvV3JpdGVcbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgICBpZiAoaG9sZGVyLm5leHQpIHtcbiAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IGhvbGRlci5uZXh0O1xuICAgICAgaG9sZGVyLm5leHQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdChzdGF0ZSk7XG4gICAgfVxuICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBTbG93IGNhc2UsIHdyaXRlIGNodW5rcyBvbmUtYnktb25lXG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICB2YXIgY2h1bmsgPSBlbnRyeS5jaHVuaztcbiAgICAgIHZhciBlbmNvZGluZyA9IGVudHJ5LmVuY29kaW5nO1xuICAgICAgdmFyIGNiID0gZW50cnkuY2FsbGJhY2s7XG4gICAgICB2YXIgbGVuID0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG5cbiAgICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudC0tO1xuICAgICAgLy8gaWYgd2UgZGlkbid0IGNhbGwgdGhlIG9ud3JpdGUgaW1tZWRpYXRlbHksIHRoZW5cbiAgICAgIC8vIGl0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byB3YWl0IHVudGlsIGl0IGRvZXMuXG4gICAgICAvLyBhbHNvLCB0aGF0IG1lYW5zIHRoYXQgdGhlIGNodW5rIGFuZCBjYiBhcmUgY3VycmVudGx5XG4gICAgICAvLyBiZWluZyBwcm9jZXNzZWQsIHNvIG1vdmUgdGhlIGJ1ZmZlciBjb3VudGVyIHBhc3QgdGhlbS5cbiAgICAgIGlmIChzdGF0ZS53cml0aW5nKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbnRyeSA9PT0gbnVsbCkgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7XG4gIH1cblxuICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBlbnRyeTtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlO1xufVxuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobmV3IEVycm9yKCdfd3JpdGUoKSBpcyBub3QgaW1wbGVtZW50ZWQnKSk7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRldiA9IG51bGw7XG5cbldyaXRhYmxlLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuXG4gIGlmICh0eXBlb2YgY2h1bmsgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGNodW5rO1xuICAgIGNodW5rID0gbnVsbDtcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cblxuICBpZiAoY2h1bmsgIT09IG51bGwgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCkgdGhpcy53cml0ZShjaHVuaywgZW5jb2RpbmcpO1xuXG4gIC8vIC5lbmQoKSBmdWxseSB1bmNvcmtzXG4gIGlmIChzdGF0ZS5jb3JrZWQpIHtcbiAgICBzdGF0ZS5jb3JrZWQgPSAxO1xuICAgIHRoaXMudW5jb3JrKCk7XG4gIH1cblxuICAvLyBpZ25vcmUgdW5uZWNlc3NhcnkgZW5kKCkgY2FsbHMuXG4gIGlmICghc3RhdGUuZW5kaW5nICYmICFzdGF0ZS5maW5pc2hlZCkgZW5kV3JpdGFibGUodGhpcywgc3RhdGUsIGNiKTtcbn07XG5cbmZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmVuZGluZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID09PSBudWxsICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUud3JpdGluZztcbn1cbmZ1bmN0aW9uIGNhbGxGaW5hbChzdHJlYW0sIHN0YXRlKSB7XG4gIHN0cmVhbS5fZmluYWwoZnVuY3Rpb24gKGVycikge1xuICAgIHN0YXRlLnBlbmRpbmdjYi0tO1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgfVxuICAgIHN0YXRlLnByZWZpbmlzaGVkID0gdHJ1ZTtcbiAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7XG4gICAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5wcmVmaW5pc2hlZCAmJiAhc3RhdGUuZmluYWxDYWxsZWQpIHtcbiAgICBpZiAodHlwZW9mIHN0cmVhbS5fZmluYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHN0YXRlLnBlbmRpbmdjYisrO1xuICAgICAgc3RhdGUuZmluYWxDYWxsZWQgPSB0cnVlO1xuICAgICAgcG5hLm5leHRUaWNrKGNhbGxGaW5hbCwgc3RyZWFtLCBzdGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnByZWZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5lbWl0KCdwcmVmaW5pc2gnKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSkge1xuICB2YXIgbmVlZCA9IG5lZWRGaW5pc2goc3RhdGUpO1xuICBpZiAobmVlZCkge1xuICAgIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKTtcbiAgICBpZiAoc3RhdGUucGVuZGluZ2NiID09PSAwKSB7XG4gICAgICBzdGF0ZS5maW5pc2hlZCA9IHRydWU7XG4gICAgICBzdHJlYW0uZW1pdCgnZmluaXNoJyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZWVkO1xufVxuXG5mdW5jdGlvbiBlbmRXcml0YWJsZShzdHJlYW0sIHN0YXRlLCBjYikge1xuICBzdGF0ZS5lbmRpbmcgPSB0cnVlO1xuICBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKTtcbiAgaWYgKGNiKSB7XG4gICAgaWYgKHN0YXRlLmZpbmlzaGVkKSBwbmEubmV4dFRpY2soY2IpO2Vsc2Ugc3RyZWFtLm9uY2UoJ2ZpbmlzaCcsIGNiKTtcbiAgfVxuICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gIHN0cmVhbS53cml0YWJsZSA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBvbkNvcmtlZEZpbmlzaChjb3JrUmVxLCBzdGF0ZSwgZXJyKSB7XG4gIHZhciBlbnRyeSA9IGNvcmtSZXEuZW50cnk7XG4gIGNvcmtSZXEuZW50cnkgPSBudWxsO1xuICB3aGlsZSAoZW50cnkpIHtcbiAgICB2YXIgY2IgPSBlbnRyeS5jYWxsYmFjaztcbiAgICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgICBjYihlcnIpO1xuICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgfVxuICBpZiAoc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlKSB7XG4gICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlLm5leHQgPSBjb3JrUmVxO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IGNvcmtSZXE7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3dyaXRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICghdGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICB9XG59KTtcblxuV3JpdGFibGUucHJvdG90eXBlLmRlc3Ryb3kgPSBkZXN0cm95SW1wbC5kZXN0cm95O1xuV3JpdGFibGUucHJvdG90eXBlLl91bmRlc3Ryb3kgPSBkZXN0cm95SW1wbC51bmRlc3Ryb3k7XG5Xcml0YWJsZS5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICB0aGlzLmVuZCgpO1xuICBjYihlcnIpO1xufTsiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnc2FmZS1idWZmZXInKS5CdWZmZXI7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIGlzRW5jb2RpbmcgPSBCdWZmZXIuaXNFbmNvZGluZyB8fCBmdW5jdGlvbiAoZW5jb2RpbmcpIHtcbiAgZW5jb2RpbmcgPSAnJyArIGVuY29kaW5nO1xuICBzd2l0Y2ggKGVuY29kaW5nICYmIGVuY29kaW5nLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOmNhc2UgJ3V0ZjgnOmNhc2UgJ3V0Zi04JzpjYXNlICdhc2NpaSc6Y2FzZSAnYmluYXJ5JzpjYXNlICdiYXNlNjQnOmNhc2UgJ3VjczInOmNhc2UgJ3Vjcy0yJzpjYXNlICd1dGYxNmxlJzpjYXNlICd1dGYtMTZsZSc6Y2FzZSAncmF3JzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIF9ub3JtYWxpemVFbmNvZGluZyhlbmMpIHtcbiAgaWYgKCFlbmMpIHJldHVybiAndXRmOCc7XG4gIHZhciByZXRyaWVkO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jKSB7XG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuICd1dGY4JztcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiAndXRmMTZsZSc7XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuICdsYXRpbjEnO1xuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBlbmM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAocmV0cmllZCkgcmV0dXJuOyAvLyB1bmRlZmluZWRcbiAgICAgICAgZW5jID0gKCcnICsgZW5jKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXRyaWVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIERvIG5vdCBjYWNoZSBgQnVmZmVyLmlzRW5jb2RpbmdgIHdoZW4gY2hlY2tpbmcgZW5jb2RpbmcgbmFtZXMgYXMgc29tZVxuLy8gbW9kdWxlcyBtb25rZXktcGF0Y2ggaXQgdG8gc3VwcG9ydCBhZGRpdGlvbmFsIGVuY29kaW5nc1xuZnVuY3Rpb24gbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7XG4gIHZhciBuZW5jID0gX25vcm1hbGl6ZUVuY29kaW5nKGVuYyk7XG4gIGlmICh0eXBlb2YgbmVuYyAhPT0gJ3N0cmluZycgJiYgKEJ1ZmZlci5pc0VuY29kaW5nID09PSBpc0VuY29kaW5nIHx8ICFpc0VuY29kaW5nKGVuYykpKSB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmMpO1xuICByZXR1cm4gbmVuYyB8fCBlbmM7XG59XG5cbi8vIFN0cmluZ0RlY29kZXIgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIGZvciBlZmZpY2llbnRseSBzcGxpdHRpbmcgYSBzZXJpZXMgb2Zcbi8vIGJ1ZmZlcnMgaW50byBhIHNlcmllcyBvZiBKUyBzdHJpbmdzIHdpdGhvdXQgYnJlYWtpbmcgYXBhcnQgbXVsdGktYnl0ZVxuLy8gY2hhcmFjdGVycy5cbmV4cG9ydHMuU3RyaW5nRGVjb2RlciA9IFN0cmluZ0RlY29kZXI7XG5mdW5jdGlvbiBTdHJpbmdEZWNvZGVyKGVuY29kaW5nKSB7XG4gIHRoaXMuZW5jb2RpbmcgPSBub3JtYWxpemVFbmNvZGluZyhlbmNvZGluZyk7XG4gIHZhciBuYjtcbiAgc3dpdGNoICh0aGlzLmVuY29kaW5nKSB7XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICB0aGlzLnRleHQgPSB1dGYxNlRleHQ7XG4gICAgICB0aGlzLmVuZCA9IHV0ZjE2RW5kO1xuICAgICAgbmIgPSA0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndXRmOCc6XG4gICAgICB0aGlzLmZpbGxMYXN0ID0gdXRmOEZpbGxMYXN0O1xuICAgICAgbmIgPSA0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgIHRoaXMudGV4dCA9IGJhc2U2NFRleHQ7XG4gICAgICB0aGlzLmVuZCA9IGJhc2U2NEVuZDtcbiAgICAgIG5iID0gMztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aGlzLndyaXRlID0gc2ltcGxlV3JpdGU7XG4gICAgICB0aGlzLmVuZCA9IHNpbXBsZUVuZDtcbiAgICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmxhc3ROZWVkID0gMDtcbiAgdGhpcy5sYXN0VG90YWwgPSAwO1xuICB0aGlzLmxhc3RDaGFyID0gQnVmZmVyLmFsbG9jVW5zYWZlKG5iKTtcbn1cblxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoYnVmKSB7XG4gIGlmIChidWYubGVuZ3RoID09PSAwKSByZXR1cm4gJyc7XG4gIHZhciByO1xuICB2YXIgaTtcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHtcbiAgICByID0gdGhpcy5maWxsTGFzdChidWYpO1xuICAgIGlmIChyID09PSB1bmRlZmluZWQpIHJldHVybiAnJztcbiAgICBpID0gdGhpcy5sYXN0TmVlZDtcbiAgICB0aGlzLmxhc3ROZWVkID0gMDtcbiAgfSBlbHNlIHtcbiAgICBpID0gMDtcbiAgfVxuICBpZiAoaSA8IGJ1Zi5sZW5ndGgpIHJldHVybiByID8gciArIHRoaXMudGV4dChidWYsIGkpIDogdGhpcy50ZXh0KGJ1ZiwgaSk7XG4gIHJldHVybiByIHx8ICcnO1xufTtcblxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZW5kID0gdXRmOEVuZDtcblxuLy8gUmV0dXJucyBvbmx5IGNvbXBsZXRlIGNoYXJhY3RlcnMgaW4gYSBCdWZmZXJcblN0cmluZ0RlY29kZXIucHJvdG90eXBlLnRleHQgPSB1dGY4VGV4dDtcblxuLy8gQXR0ZW1wdHMgdG8gY29tcGxldGUgYSBwYXJ0aWFsIG5vbi1VVEYtOCBjaGFyYWN0ZXIgdXNpbmcgYnl0ZXMgZnJvbSBhIEJ1ZmZlclxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZmlsbExhc3QgPSBmdW5jdGlvbiAoYnVmKSB7XG4gIGlmICh0aGlzLmxhc3ROZWVkIDw9IGJ1Zi5sZW5ndGgpIHtcbiAgICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQsIDAsIHRoaXMubGFzdE5lZWQpO1xuICAgIHJldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKTtcbiAgfVxuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQsIDAsIGJ1Zi5sZW5ndGgpO1xuICB0aGlzLmxhc3ROZWVkIC09IGJ1Zi5sZW5ndGg7XG59O1xuXG4vLyBDaGVja3MgdGhlIHR5cGUgb2YgYSBVVEYtOCBieXRlLCB3aGV0aGVyIGl0J3MgQVNDSUksIGEgbGVhZGluZyBieXRlLCBvciBhXG4vLyBjb250aW51YXRpb24gYnl0ZS4gSWYgYW4gaW52YWxpZCBieXRlIGlzIGRldGVjdGVkLCAtMiBpcyByZXR1cm5lZC5cbmZ1bmN0aW9uIHV0ZjhDaGVja0J5dGUoYnl0ZSkge1xuICBpZiAoYnl0ZSA8PSAweDdGKSByZXR1cm4gMDtlbHNlIGlmIChieXRlID4+IDUgPT09IDB4MDYpIHJldHVybiAyO2Vsc2UgaWYgKGJ5dGUgPj4gNCA9PT0gMHgwRSkgcmV0dXJuIDM7ZWxzZSBpZiAoYnl0ZSA+PiAzID09PSAweDFFKSByZXR1cm4gNDtcbiAgcmV0dXJuIGJ5dGUgPj4gNiA9PT0gMHgwMiA/IC0xIDogLTI7XG59XG5cbi8vIENoZWNrcyBhdCBtb3N0IDMgYnl0ZXMgYXQgdGhlIGVuZCBvZiBhIEJ1ZmZlciBpbiBvcmRlciB0byBkZXRlY3QgYW5cbi8vIGluY29tcGxldGUgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIuIFRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgKDIsIDMsIG9yIDQpXG4vLyBuZWVkZWQgdG8gY29tcGxldGUgdGhlIFVURi04IGNoYXJhY3RlciAoaWYgYXBwbGljYWJsZSkgYXJlIHJldHVybmVkLlxuZnVuY3Rpb24gdXRmOENoZWNrSW5jb21wbGV0ZShzZWxmLCBidWYsIGkpIHtcbiAgdmFyIGogPSBidWYubGVuZ3RoIC0gMTtcbiAgaWYgKGogPCBpKSByZXR1cm4gMDtcbiAgdmFyIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHNlbGYubGFzdE5lZWQgPSBuYiAtIDE7XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIGlmICgtLWogPCBpIHx8IG5iID09PSAtMikgcmV0dXJuIDA7XG4gIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHNlbGYubGFzdE5lZWQgPSBuYiAtIDI7XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIGlmICgtLWogPCBpIHx8IG5iID09PSAtMikgcmV0dXJuIDA7XG4gIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHtcbiAgICAgIGlmIChuYiA9PT0gMikgbmIgPSAwO2Vsc2Ugc2VsZi5sYXN0TmVlZCA9IG5iIC0gMztcbiAgICB9XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIHJldHVybiAwO1xufVxuXG4vLyBWYWxpZGF0ZXMgYXMgbWFueSBjb250aW51YXRpb24gYnl0ZXMgZm9yIGEgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIgYXNcbi8vIG5lZWRlZCBvciBhcmUgYXZhaWxhYmxlLiBJZiB3ZSBzZWUgYSBub24tY29udGludWF0aW9uIGJ5dGUgd2hlcmUgd2UgZXhwZWN0XG4vLyBvbmUsIHdlIFwicmVwbGFjZVwiIHRoZSB2YWxpZGF0ZWQgY29udGludWF0aW9uIGJ5dGVzIHdlJ3ZlIHNlZW4gc28gZmFyIHdpdGhcbi8vIGEgc2luZ2xlIFVURi04IHJlcGxhY2VtZW50IGNoYXJhY3RlciAoJ1xcdWZmZmQnKSwgdG8gbWF0Y2ggdjgncyBVVEYtOCBkZWNvZGluZ1xuLy8gYmVoYXZpb3IuIFRoZSBjb250aW51YXRpb24gYnl0ZSBjaGVjayBpcyBpbmNsdWRlZCB0aHJlZSB0aW1lcyBpbiB0aGUgY2FzZVxuLy8gd2hlcmUgYWxsIG9mIHRoZSBjb250aW51YXRpb24gYnl0ZXMgZm9yIGEgY2hhcmFjdGVyIGV4aXN0IGluIHRoZSBzYW1lIGJ1ZmZlci5cbi8vIEl0IGlzIGFsc28gZG9uZSB0aGlzIHdheSBhcyBhIHNsaWdodCBwZXJmb3JtYW5jZSBpbmNyZWFzZSBpbnN0ZWFkIG9mIHVzaW5nIGFcbi8vIGxvb3AuXG5mdW5jdGlvbiB1dGY4Q2hlY2tFeHRyYUJ5dGVzKHNlbGYsIGJ1ZiwgcCkge1xuICBpZiAoKGJ1ZlswXSAmIDB4QzApICE9PSAweDgwKSB7XG4gICAgc2VsZi5sYXN0TmVlZCA9IDA7XG4gICAgcmV0dXJuICdcXHVmZmZkJztcbiAgfVxuICBpZiAoc2VsZi5sYXN0TmVlZCA+IDEgJiYgYnVmLmxlbmd0aCA+IDEpIHtcbiAgICBpZiAoKGJ1ZlsxXSAmIDB4QzApICE9PSAweDgwKSB7XG4gICAgICBzZWxmLmxhc3ROZWVkID0gMTtcbiAgICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gICAgfVxuICAgIGlmIChzZWxmLmxhc3ROZWVkID4gMiAmJiBidWYubGVuZ3RoID4gMikge1xuICAgICAgaWYgKChidWZbMl0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgICAgICBzZWxmLmxhc3ROZWVkID0gMjtcbiAgICAgICAgcmV0dXJuICdcXHVmZmZkJztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gQXR0ZW1wdHMgdG8gY29tcGxldGUgYSBtdWx0aS1ieXRlIFVURi04IGNoYXJhY3RlciB1c2luZyBieXRlcyBmcm9tIGEgQnVmZmVyLlxuZnVuY3Rpb24gdXRmOEZpbGxMYXN0KGJ1Zikge1xuICB2YXIgcCA9IHRoaXMubGFzdFRvdGFsIC0gdGhpcy5sYXN0TmVlZDtcbiAgdmFyIHIgPSB1dGY4Q2hlY2tFeHRyYUJ5dGVzKHRoaXMsIGJ1ZiwgcCk7XG4gIGlmIChyICE9PSB1bmRlZmluZWQpIHJldHVybiByO1xuICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7XG4gICAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgcCwgMCwgdGhpcy5sYXN0TmVlZCk7XG4gICAgcmV0dXJuIHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywgMCwgdGhpcy5sYXN0VG90YWwpO1xuICB9XG4gIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHAsIDAsIGJ1Zi5sZW5ndGgpO1xuICB0aGlzLmxhc3ROZWVkIC09IGJ1Zi5sZW5ndGg7XG59XG5cbi8vIFJldHVybnMgYWxsIGNvbXBsZXRlIFVURi04IGNoYXJhY3RlcnMgaW4gYSBCdWZmZXIuIElmIHRoZSBCdWZmZXIgZW5kZWQgb24gYVxuLy8gcGFydGlhbCBjaGFyYWN0ZXIsIHRoZSBjaGFyYWN0ZXIncyBieXRlcyBhcmUgYnVmZmVyZWQgdW50aWwgdGhlIHJlcXVpcmVkXG4vLyBudW1iZXIgb2YgYnl0ZXMgYXJlIGF2YWlsYWJsZS5cbmZ1bmN0aW9uIHV0ZjhUZXh0KGJ1ZiwgaSkge1xuICB2YXIgdG90YWwgPSB1dGY4Q2hlY2tJbmNvbXBsZXRlKHRoaXMsIGJ1ZiwgaSk7XG4gIGlmICghdGhpcy5sYXN0TmVlZCkgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmOCcsIGkpO1xuICB0aGlzLmxhc3RUb3RhbCA9IHRvdGFsO1xuICB2YXIgZW5kID0gYnVmLmxlbmd0aCAtICh0b3RhbCAtIHRoaXMubGFzdE5lZWQpO1xuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCAwLCBlbmQpO1xuICByZXR1cm4gYnVmLnRvU3RyaW5nKCd1dGY4JywgaSwgZW5kKTtcbn1cblxuLy8gRm9yIFVURi04LCBhIHJlcGxhY2VtZW50IGNoYXJhY3RlciBpcyBhZGRlZCB3aGVuIGVuZGluZyBvbiBhIHBhcnRpYWxcbi8vIGNoYXJhY3Rlci5cbmZ1bmN0aW9uIHV0ZjhFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgJ1xcdWZmZmQnO1xuICByZXR1cm4gcjtcbn1cblxuLy8gVVRGLTE2TEUgdHlwaWNhbGx5IG5lZWRzIHR3byBieXRlcyBwZXIgY2hhcmFjdGVyLCBidXQgZXZlbiBpZiB3ZSBoYXZlIGFuIGV2ZW5cbi8vIG51bWJlciBvZiBieXRlcyBhdmFpbGFibGUsIHdlIG5lZWQgdG8gY2hlY2sgaWYgd2UgZW5kIG9uIGEgbGVhZGluZy9oaWdoXG4vLyBzdXJyb2dhdGUuIEluIHRoYXQgY2FzZSwgd2UgbmVlZCB0byB3YWl0IGZvciB0aGUgbmV4dCB0d28gYnl0ZXMgaW4gb3JkZXIgdG9cbi8vIGRlY29kZSB0aGUgbGFzdCBjaGFyYWN0ZXIgcHJvcGVybHkuXG5mdW5jdGlvbiB1dGYxNlRleHQoYnVmLCBpKSB7XG4gIGlmICgoYnVmLmxlbmd0aCAtIGkpICUgMiA9PT0gMCkge1xuICAgIHZhciByID0gYnVmLnRvU3RyaW5nKCd1dGYxNmxlJywgaSk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHZhciBjID0gci5jaGFyQ29kZUF0KHIubGVuZ3RoIC0gMSk7XG4gICAgICBpZiAoYyA+PSAweEQ4MDAgJiYgYyA8PSAweERCRkYpIHtcbiAgICAgICAgdGhpcy5sYXN0TmVlZCA9IDI7XG4gICAgICAgIHRoaXMubGFzdFRvdGFsID0gNDtcbiAgICAgICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMl07XG4gICAgICAgIHRoaXMubGFzdENoYXJbMV0gPSBidWZbYnVmLmxlbmd0aCAtIDFdO1xuICAgICAgICByZXR1cm4gci5zbGljZSgwLCAtMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG4gIHRoaXMubGFzdE5lZWQgPSAxO1xuICB0aGlzLmxhc3RUb3RhbCA9IDI7XG4gIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gYnVmLnRvU3RyaW5nKCd1dGYxNmxlJywgaSwgYnVmLmxlbmd0aCAtIDEpO1xufVxuXG4vLyBGb3IgVVRGLTE2TEUgd2UgZG8gbm90IGV4cGxpY2l0bHkgYXBwZW5kIHNwZWNpYWwgcmVwbGFjZW1lbnQgY2hhcmFjdGVycyBpZiB3ZVxuLy8gZW5kIG9uIGEgcGFydGlhbCBjaGFyYWN0ZXIsIHdlIHNpbXBseSBsZXQgdjggaGFuZGxlIHRoYXQuXG5mdW5jdGlvbiB1dGYxNkVuZChidWYpIHtcbiAgdmFyIHIgPSBidWYgJiYgYnVmLmxlbmd0aCA/IHRoaXMud3JpdGUoYnVmKSA6ICcnO1xuICBpZiAodGhpcy5sYXN0TmVlZCkge1xuICAgIHZhciBlbmQgPSB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQ7XG4gICAgcmV0dXJuIHIgKyB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKCd1dGYxNmxlJywgMCwgZW5kKTtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gYmFzZTY0VGV4dChidWYsIGkpIHtcbiAgdmFyIG4gPSAoYnVmLmxlbmd0aCAtIGkpICUgMztcbiAgaWYgKG4gPT09IDApIHJldHVybiBidWYudG9TdHJpbmcoJ2Jhc2U2NCcsIGkpO1xuICB0aGlzLmxhc3ROZWVkID0gMyAtIG47XG4gIHRoaXMubGFzdFRvdGFsID0gMztcbiAgaWYgKG4gPT09IDEpIHtcbiAgICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAyXTtcbiAgICB0aGlzLmxhc3RDaGFyWzFdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpLCBidWYubGVuZ3RoIC0gbik7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NEVuZChidWYpIHtcbiAgdmFyIHIgPSBidWYgJiYgYnVmLmxlbmd0aCA/IHRoaXMud3JpdGUoYnVmKSA6ICcnO1xuICBpZiAodGhpcy5sYXN0TmVlZCkgcmV0dXJuIHIgKyB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKCdiYXNlNjQnLCAwLCAzIC0gdGhpcy5sYXN0TmVlZCk7XG4gIHJldHVybiByO1xufVxuXG4vLyBQYXNzIGJ5dGVzIG9uIHRocm91Z2ggZm9yIHNpbmdsZS1ieXRlIGVuY29kaW5ncyAoZS5nLiBhc2NpaSwgbGF0aW4xLCBoZXgpXG5mdW5jdGlvbiBzaW1wbGVXcml0ZShidWYpIHtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZyh0aGlzLmVuY29kaW5nKTtcbn1cblxuZnVuY3Rpb24gc2ltcGxlRW5kKGJ1Zikge1xuICByZXR1cm4gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbn0iLCJ2YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4vYXJyYXktaGVscGVyJykuaXNBcnJheTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cclxuICBjb3B5T3B0aW9uczogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIHZhciBrZXksIGNvcHkgPSB7fTtcclxuICAgIGZvciAoa2V5IGluIG9wdGlvbnMpIHtcclxuICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgIGNvcHlba2V5XSA9IG9wdGlvbnNba2V5XTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvcHk7XHJcbiAgfSxcclxuXHJcbiAgZW5zdXJlRmxhZ0V4aXN0czogZnVuY3Rpb24gKGl0ZW0sIG9wdGlvbnMpIHtcclxuICAgIGlmICghKGl0ZW0gaW4gb3B0aW9ucykgfHwgdHlwZW9mIG9wdGlvbnNbaXRlbV0gIT09ICdib29sZWFuJykge1xyXG4gICAgICBvcHRpb25zW2l0ZW1dID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZW5zdXJlU3BhY2VzRXhpc3RzOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgaWYgKCEoJ3NwYWNlcycgaW4gb3B0aW9ucykgfHwgKHR5cGVvZiBvcHRpb25zLnNwYWNlcyAhPT0gJ251bWJlcicgJiYgdHlwZW9mIG9wdGlvbnMuc3BhY2VzICE9PSAnc3RyaW5nJykpIHtcclxuICAgICAgb3B0aW9ucy5zcGFjZXMgPSAwO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGVuc3VyZUFsd2F5c0FycmF5RXhpc3RzOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgaWYgKCEoJ2Fsd2F5c0FycmF5JyBpbiBvcHRpb25zKSB8fCAodHlwZW9mIG9wdGlvbnMuYWx3YXlzQXJyYXkgIT09ICdib29sZWFuJyAmJiAhaXNBcnJheShvcHRpb25zLmFsd2F5c0FycmF5KSkpIHtcclxuICAgICAgb3B0aW9ucy5hbHdheXNBcnJheSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGVuc3VyZUtleUV4aXN0czogZnVuY3Rpb24gKGtleSwgb3B0aW9ucykge1xyXG4gICAgaWYgKCEoa2V5ICsgJ0tleScgaW4gb3B0aW9ucykgfHwgdHlwZW9mIG9wdGlvbnNba2V5ICsgJ0tleSddICE9PSAnc3RyaW5nJykge1xyXG4gICAgICBvcHRpb25zW2tleSArICdLZXknXSA9IG9wdGlvbnMuY29tcGFjdCA/ICdfJyArIGtleSA6IGtleTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBjaGVja0ZuRXhpc3RzOiBmdW5jdGlvbiAoa2V5LCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4ga2V5ICsgJ0ZuJyBpbiBvcHRpb25zO1xyXG4gIH1cclxuXHJcbn07XHJcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xyXG5cclxuICBpc0FycmF5OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkpIHtcclxuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgLy8gZmFsbGJhY2sgZm9yIG9sZGVyIGJyb3dzZXJzIGxpa2UgIElFIDhcclxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoIHZhbHVlICkgPT09ICdbb2JqZWN0IEFycmF5XSc7XHJcbiAgfVxyXG5cclxufTtcclxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG9kYXNoIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcy5mb3VuZGF0aW9uLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuOyhmdW5jdGlvbigpIHtcblxuICAvKiogVXNlZCBhcyBhIHNhZmUgcmVmZXJlbmNlIGZvciBgdW5kZWZpbmVkYCBpbiBwcmUtRVM1IGVudmlyb25tZW50cy4gKi9cbiAgdmFyIHVuZGVmaW5lZDtcblxuICAvKiogVXNlZCBhcyB0aGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuICovXG4gIHZhciBWRVJTSU9OID0gJzQuMTcuMTEnO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xuICB2YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuICAvKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG4gIHZhciBDT1JFX0VSUk9SX1RFWFQgPSAnVW5zdXBwb3J0ZWQgY29yZS1qcyB1c2UuIFRyeSBodHRwczovL25wbXMuaW8vc2VhcmNoP3E9cG9ueWZpbGwuJyxcbiAgICAgIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuICAvKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG4gIHZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuICAvKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG4gIHZhciBNQVhfTUVNT0laRV9TSVpFID0gNTAwO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBpbnRlcm5hbCBhcmd1bWVudCBwbGFjZWhvbGRlci4gKi9cbiAgdmFyIFBMQUNFSE9MREVSID0gJ19fbG9kYXNoX3BsYWNlaG9sZGVyX18nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGNsb25pbmcuICovXG4gIHZhciBDTE9ORV9ERUVQX0ZMQUcgPSAxLFxuICAgICAgQ0xPTkVfRkxBVF9GTEFHID0gMixcbiAgICAgIENMT05FX1NZTUJPTFNfRkxBRyA9IDQ7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG4gIHZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgdmFyIFdSQVBfQklORF9GTEFHID0gMSxcbiAgICAgIFdSQVBfQklORF9LRVlfRkxBRyA9IDIsXG4gICAgICBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcgPSA0LFxuICAgICAgV1JBUF9DVVJSWV9GTEFHID0gOCxcbiAgICAgIFdSQVBfQ1VSUllfUklHSFRfRkxBRyA9IDE2LFxuICAgICAgV1JBUF9QQVJUSUFMX0ZMQUcgPSAzMixcbiAgICAgIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHID0gNjQsXG4gICAgICBXUkFQX0FSWV9GTEFHID0gMTI4LFxuICAgICAgV1JBUF9SRUFSR19GTEFHID0gMjU2LFxuICAgICAgV1JBUF9GTElQX0ZMQUcgPSA1MTI7XG5cbiAgLyoqIFVzZWQgYXMgZGVmYXVsdCBvcHRpb25zIGZvciBgXy50cnVuY2F0ZWAuICovXG4gIHZhciBERUZBVUxUX1RSVU5DX0xFTkdUSCA9IDMwLFxuICAgICAgREVGQVVMVF9UUlVOQ19PTUlTU0lPTiA9ICcuLi4nO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbiAgdmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICAgIEhPVF9TUEFOID0gMTY7XG5cbiAgLyoqIFVzZWQgdG8gaW5kaWNhdGUgdGhlIHR5cGUgb2YgbGF6eSBpdGVyYXRlZXMuICovXG4gIHZhciBMQVpZX0ZJTFRFUl9GTEFHID0gMSxcbiAgICAgIExBWllfTUFQX0ZMQUcgPSAyLFxuICAgICAgTEFaWV9XSElMRV9GTEFHID0gMztcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbiAgdmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcbiAgICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgsXG4gICAgICBOQU4gPSAwIC8gMDtcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB0aGUgbWF4aW11bSBsZW5ndGggYW5kIGluZGV4IG9mIGFuIGFycmF5LiAqL1xuICB2YXIgTUFYX0FSUkFZX0xFTkdUSCA9IDQyOTQ5NjcyOTUsXG4gICAgICBNQVhfQVJSQVlfSU5ERVggPSBNQVhfQVJSQVlfTEVOR1RIIC0gMSxcbiAgICAgIEhBTEZfTUFYX0FSUkFZX0xFTkdUSCA9IE1BWF9BUlJBWV9MRU5HVEggPj4+IDE7XG5cbiAgLyoqIFVzZWQgdG8gYXNzb2NpYXRlIHdyYXAgbWV0aG9kcyB3aXRoIHRoZWlyIGJpdCBmbGFncy4gKi9cbiAgdmFyIHdyYXBGbGFncyA9IFtcbiAgICBbJ2FyeScsIFdSQVBfQVJZX0ZMQUddLFxuICAgIFsnYmluZCcsIFdSQVBfQklORF9GTEFHXSxcbiAgICBbJ2JpbmRLZXknLCBXUkFQX0JJTkRfS0VZX0ZMQUddLFxuICAgIFsnY3VycnknLCBXUkFQX0NVUlJZX0ZMQUddLFxuICAgIFsnY3VycnlSaWdodCcsIFdSQVBfQ1VSUllfUklHSFRfRkxBR10sXG4gICAgWydmbGlwJywgV1JBUF9GTElQX0ZMQUddLFxuICAgIFsncGFydGlhbCcsIFdSQVBfUEFSVElBTF9GTEFHXSxcbiAgICBbJ3BhcnRpYWxSaWdodCcsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHXSxcbiAgICBbJ3JlYXJnJywgV1JBUF9SRUFSR19GTEFHXVxuICBdO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgICBkb21FeGNUYWcgPSAnW29iamVjdCBET01FeGNlcHRpb25dJyxcbiAgICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXScsXG4gICAgICB3ZWFrU2V0VGFnID0gJ1tvYmplY3QgV2Vha1NldF0nO1xuXG4gIHZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggZW1wdHkgc3RyaW5nIGxpdGVyYWxzIGluIGNvbXBpbGVkIHRlbXBsYXRlIHNvdXJjZS4gKi9cbiAgdmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ01pZGRsZSA9IC9cXGIoX19wIFxcKz0pICcnIFxcKy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ1RyYWlsaW5nID0gLyhfX2VcXCguKj9cXCl8XFxiX190XFwpKSBcXCtcXG4nJzsvZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUVzY2FwZWRIdG1sID0gLyYoPzphbXB8bHR8Z3R8cXVvdHwjMzkpOy9nLFxuICAgICAgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG4gICAgICByZUhhc0VzY2FwZWRIdG1sID0gUmVnRXhwKHJlRXNjYXBlZEh0bWwuc291cmNlKSxcbiAgICAgIHJlSGFzVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cChyZVVuZXNjYXBlZEh0bWwuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGUgPSAvPCUtKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlRXZhbHVhdGUgPSAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVJbnRlcnBvbGF0ZSA9IC88JT0oW1xcc1xcU10rPyklPi9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC8sXG4gICAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gICAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICAgKi9cbiAgdmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcbiAgICAgIHJlSGFzUmVnRXhwQ2hhciA9IFJlZ0V4cChyZVJlZ0V4cENoYXIuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xuICB2YXIgcmVUcmltID0gL15cXHMrfFxccyskL2csXG4gICAgICByZVRyaW1TdGFydCA9IC9eXFxzKy8sXG4gICAgICByZVRyaW1FbmQgPSAvXFxzKyQvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdyYXAgZGV0YWlsIGNvbW1lbnRzLiAqL1xuICB2YXIgcmVXcmFwQ29tbWVudCA9IC9cXHsoPzpcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoIC4rXFxdIFxcKlxcLyk/XFxuPy8sXG4gICAgICByZVdyYXBEZXRhaWxzID0gL1xce1xcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggKC4rKVxcXSBcXCovLFxuICAgICAgcmVTcGxpdERldGFpbHMgPSAvLD8gJiAvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdvcmRzIGNvbXBvc2VkIG9mIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVBc2NpaVdvcmQgPSAvW15cXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHg3Zl0rL2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaFxuICAgKiBbRVMgdGVtcGxhdGUgZGVsaW1pdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdGVtcGxhdGUtbGl0ZXJhbC1sZXhpY2FsLWNvbXBvbmVudHMpLlxuICAgKi9cbiAgdmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBgUmVnRXhwYCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG4gIHZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG4gIHZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggTGF0aW4gVW5pY29kZSBsZXR0ZXJzIChleGNsdWRpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdG9ycykuICovXG4gIHZhciByZUxhdGluID0gL1tcXHhjMC1cXHhkNlxceGQ4LVxceGY2XFx4ZjgtXFx4ZmZcXHUwMTAwLVxcdTAxN2ZdL2c7XG5cbiAgLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVOb01hdGNoID0gLygkXikvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHVuZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjaGFyYWN0ZXIgY2xhc3Nlcy4gKi9cbiAgdmFyIHJzQXN0cmFsUmFuZ2UgPSAnXFxcXHVkODAwLVxcXFx1ZGZmZicsXG4gICAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmJyxcbiAgICAgIHJlQ29tYm9IYWxmTWFya3NSYW5nZSA9ICdcXFxcdWZlMjAtXFxcXHVmZTJmJyxcbiAgICAgIHJzQ29tYm9TeW1ib2xzUmFuZ2UgPSAnXFxcXHUyMGQwLVxcXFx1MjBmZicsXG4gICAgICByc0NvbWJvUmFuZ2UgPSByc0NvbWJvTWFya3NSYW5nZSArIHJlQ29tYm9IYWxmTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UsXG4gICAgICByc0RpbmdiYXRSYW5nZSA9ICdcXFxcdTI3MDAtXFxcXHUyN2JmJyxcbiAgICAgIHJzTG93ZXJSYW5nZSA9ICdhLXpcXFxceGRmLVxcXFx4ZjZcXFxceGY4LVxcXFx4ZmYnLFxuICAgICAgcnNNYXRoT3BSYW5nZSA9ICdcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3JyxcbiAgICAgIHJzTm9uQ2hhclJhbmdlID0gJ1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZicsXG4gICAgICByc1B1bmN0dWF0aW9uUmFuZ2UgPSAnXFxcXHUyMDAwLVxcXFx1MjA2ZicsXG4gICAgICByc1NwYWNlUmFuZ2UgPSAnIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDAnLFxuICAgICAgcnNVcHBlclJhbmdlID0gJ0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZScsXG4gICAgICByc1ZhclJhbmdlID0gJ1xcXFx1ZmUwZVxcXFx1ZmUwZicsXG4gICAgICByc0JyZWFrUmFuZ2UgPSByc01hdGhPcFJhbmdlICsgcnNOb25DaGFyUmFuZ2UgKyByc1B1bmN0dWF0aW9uUmFuZ2UgKyByc1NwYWNlUmFuZ2U7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xuICB2YXIgcnNBcG9zID0gXCJbJ1xcdTIwMTldXCIsXG4gICAgICByc0FzdHJhbCA9ICdbJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc0JyZWFrID0gJ1snICsgcnNCcmVha1JhbmdlICsgJ10nLFxuICAgICAgcnNDb21ibyA9ICdbJyArIHJzQ29tYm9SYW5nZSArICddJyxcbiAgICAgIHJzRGlnaXRzID0gJ1xcXFxkKycsXG4gICAgICByc0RpbmdiYXQgPSAnWycgKyByc0RpbmdiYXRSYW5nZSArICddJyxcbiAgICAgIHJzTG93ZXIgPSAnWycgKyByc0xvd2VyUmFuZ2UgKyAnXScsXG4gICAgICByc01pc2MgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArIHJzQnJlYWtSYW5nZSArIHJzRGlnaXRzICsgcnNEaW5nYmF0UmFuZ2UgKyByc0xvd2VyUmFuZ2UgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc0ZpdHogPSAnXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdJyxcbiAgICAgIHJzTW9kaWZpZXIgPSAnKD86JyArIHJzQ29tYm8gKyAnfCcgKyByc0ZpdHogKyAnKScsXG4gICAgICByc05vbkFzdHJhbCA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNSZWdpb25hbCA9ICcoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9JyxcbiAgICAgIHJzU3VyclBhaXIgPSAnW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdJyxcbiAgICAgIHJzVXBwZXIgPSAnWycgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc1pXSiA9ICdcXFxcdTIwMGQnO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSByZWdleGVzLiAqL1xuICB2YXIgcnNNaXNjTG93ZXIgPSAnKD86JyArIHJzTG93ZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc01pc2NVcHBlciA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzT3B0Q29udHJMb3dlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OmR8bGx8bXxyZXxzfHR8dmUpKT8nLFxuICAgICAgcnNPcHRDb250clVwcGVyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86RHxMTHxNfFJFfFN8VHxWRSkpPycsXG4gICAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG4gICAgICByc09wdFZhciA9ICdbJyArIHJzVmFyUmFuZ2UgKyAnXT8nLFxuICAgICAgcnNPcHRKb2luID0gJyg/OicgKyByc1pXSiArICcoPzonICsgW3JzTm9uQXN0cmFsLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc09wdFZhciArIHJlT3B0TW9kICsgJykqJyxcbiAgICAgIHJzT3JkTG93ZXIgPSAnXFxcXGQqKD86MXN0fDJuZHwzcmR8KD8hWzEyM10pXFxcXGR0aCkoPz1cXFxcYnxbQS1aX10pJyxcbiAgICAgIHJzT3JkVXBwZXIgPSAnXFxcXGQqKD86MVNUfDJORHwzUkR8KD8hWzEyM10pXFxcXGRUSCkoPz1cXFxcYnxbYS16X10pJyxcbiAgICAgIHJzU2VxID0gcnNPcHRWYXIgKyByZU9wdE1vZCArIHJzT3B0Sm9pbixcbiAgICAgIHJzRW1vamkgPSAnKD86JyArIFtyc0RpbmdiYXQsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzU2VxLFxuICAgICAgcnNTeW1ib2wgPSAnKD86JyArIFtyc05vbkFzdHJhbCArIHJzQ29tYm8gKyAnPycsIHJzQ29tYm8sIHJzUmVnaW9uYWwsIHJzU3VyclBhaXIsIHJzQXN0cmFsXS5qb2luKCd8JykgKyAnKSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG4gIHZhciByZUFwb3MgPSBSZWdFeHAocnNBcG9zLCAnZycpO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykgYW5kXG4gICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3MgZm9yIHN5bWJvbHNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrc19mb3JfU3ltYm9scykuXG4gICAqL1xuICB2YXIgcmVDb21ib01hcmsgPSBSZWdFeHAocnNDb21ibywgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBbc3RyaW5nIHN5bWJvbHNdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUpLiAqL1xuICB2YXIgcmVVbmljb2RlID0gUmVnRXhwKHJzRml0eiArICcoPz0nICsgcnNGaXR6ICsgJyl8JyArIHJzU3ltYm9sICsgcnNTZXEsICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cbiAgdmFyIHJlVW5pY29kZVdvcmQgPSBSZWdFeHAoW1xuICAgIHJzVXBwZXIgKyAnPycgKyByc0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNNaXNjVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNNaXNjTG93ZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzVXBwZXIgKyAnPycgKyByc01pc2NMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlcixcbiAgICByc1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyLFxuICAgIHJzT3JkVXBwZXIsXG4gICAgcnNPcmRMb3dlcixcbiAgICByc0RpZ2l0cyxcbiAgICByc0Vtb2ppXG4gIF0uam9pbignfCcpLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHdpdGggW3plcm8td2lkdGggam9pbmVycyBvciBjb2RlIHBvaW50cyBmcm9tIHRoZSBhc3RyYWwgcGxhbmVzXShodHRwOi8vZWV2LmVlL2Jsb2cvMjAxNS8wOS8xMi9kYXJrLWNvcm5lcnMtb2YtdW5pY29kZS8pLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlID0gUmVnRXhwKCdbJyArIHJzWldKICsgcnNBc3RyYWxSYW5nZSAgKyByc0NvbWJvUmFuZ2UgKyByc1ZhclJhbmdlICsgJ10nKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB0aGF0IG5lZWQgYSBtb3JlIHJvYnVzdCByZWdleHAgdG8gbWF0Y2ggd29yZHMuICovXG4gIHZhciByZUhhc1VuaWNvZGVXb3JkID0gL1thLXpdW0EtWl18W0EtWl17Mn1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS87XG5cbiAgLyoqIFVzZWQgdG8gYXNzaWduIGRlZmF1bHQgYGNvbnRleHRgIG9iamVjdCBwcm9wZXJ0aWVzLiAqL1xuICB2YXIgY29udGV4dFByb3BzID0gW1xuICAgICdBcnJheScsICdCdWZmZXInLCAnRGF0YVZpZXcnLCAnRGF0ZScsICdFcnJvcicsICdGbG9hdDMyQXJyYXknLCAnRmxvYXQ2NEFycmF5JyxcbiAgICAnRnVuY3Rpb24nLCAnSW50OEFycmF5JywgJ0ludDE2QXJyYXknLCAnSW50MzJBcnJheScsICdNYXAnLCAnTWF0aCcsICdPYmplY3QnLFxuICAgICdQcm9taXNlJywgJ1JlZ0V4cCcsICdTZXQnLCAnU3RyaW5nJywgJ1N5bWJvbCcsICdUeXBlRXJyb3InLCAnVWludDhBcnJheScsXG4gICAgJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ1VpbnQxNkFycmF5JywgJ1VpbnQzMkFycmF5JywgJ1dlYWtNYXAnLFxuICAgICdfJywgJ2NsZWFyVGltZW91dCcsICdpc0Zpbml0ZScsICdwYXJzZUludCcsICdzZXRUaW1lb3V0J1xuICBdO1xuXG4gIC8qKiBVc2VkIHRvIG1ha2UgdGVtcGxhdGUgc291cmNlVVJMcyBlYXNpZXIgdG8gaWRlbnRpZnkuICovXG4gIHZhciB0ZW1wbGF0ZUNvdW50ZXIgPSAtMTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG4gIHZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xuICB0eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICB0eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgc3VwcG9ydGVkIGJ5IGBfLmNsb25lYC4gKi9cbiAgdmFyIGNsb25lYWJsZVRhZ3MgPSB7fTtcbiAgY2xvbmVhYmxlVGFnc1thcmdzVGFnXSA9IGNsb25lYWJsZVRhZ3NbYXJyYXlUYWddID1cbiAgY2xvbmVhYmxlVGFnc1thcnJheUJ1ZmZlclRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGFWaWV3VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYm9vbFRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGVUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tmbG9hdDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDhUYWddID0gY2xvbmVhYmxlVGFnc1tpbnQxNlRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbbWFwVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbbnVtYmVyVGFnXSA9IGNsb25lYWJsZVRhZ3Nbb2JqZWN0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbcmVnZXhwVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc2V0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbc3RyaW5nVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc3ltYm9sVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDhUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50MTZUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgY2xvbmVhYmxlVGFnc1tlcnJvclRhZ10gPSBjbG9uZWFibGVUYWdzW2Z1bmNUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBMYXRpbiBVbmljb2RlIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy4gKi9cbiAgdmFyIGRlYnVycmVkTGV0dGVycyA9IHtcbiAgICAvLyBMYXRpbi0xIFN1cHBsZW1lbnQgYmxvY2suXG4gICAgJ1xceGMwJzogJ0EnLCAgJ1xceGMxJzogJ0EnLCAnXFx4YzInOiAnQScsICdcXHhjMyc6ICdBJywgJ1xceGM0JzogJ0EnLCAnXFx4YzUnOiAnQScsXG4gICAgJ1xceGUwJzogJ2EnLCAgJ1xceGUxJzogJ2EnLCAnXFx4ZTInOiAnYScsICdcXHhlMyc6ICdhJywgJ1xceGU0JzogJ2EnLCAnXFx4ZTUnOiAnYScsXG4gICAgJ1xceGM3JzogJ0MnLCAgJ1xceGU3JzogJ2MnLFxuICAgICdcXHhkMCc6ICdEJywgICdcXHhmMCc6ICdkJyxcbiAgICAnXFx4YzgnOiAnRScsICAnXFx4YzknOiAnRScsICdcXHhjYSc6ICdFJywgJ1xceGNiJzogJ0UnLFxuICAgICdcXHhlOCc6ICdlJywgICdcXHhlOSc6ICdlJywgJ1xceGVhJzogJ2UnLCAnXFx4ZWInOiAnZScsXG4gICAgJ1xceGNjJzogJ0knLCAgJ1xceGNkJzogJ0knLCAnXFx4Y2UnOiAnSScsICdcXHhjZic6ICdJJyxcbiAgICAnXFx4ZWMnOiAnaScsICAnXFx4ZWQnOiAnaScsICdcXHhlZSc6ICdpJywgJ1xceGVmJzogJ2knLFxuICAgICdcXHhkMSc6ICdOJywgICdcXHhmMSc6ICduJyxcbiAgICAnXFx4ZDInOiAnTycsICAnXFx4ZDMnOiAnTycsICdcXHhkNCc6ICdPJywgJ1xceGQ1JzogJ08nLCAnXFx4ZDYnOiAnTycsICdcXHhkOCc6ICdPJyxcbiAgICAnXFx4ZjInOiAnbycsICAnXFx4ZjMnOiAnbycsICdcXHhmNCc6ICdvJywgJ1xceGY1JzogJ28nLCAnXFx4ZjYnOiAnbycsICdcXHhmOCc6ICdvJyxcbiAgICAnXFx4ZDknOiAnVScsICAnXFx4ZGEnOiAnVScsICdcXHhkYic6ICdVJywgJ1xceGRjJzogJ1UnLFxuICAgICdcXHhmOSc6ICd1JywgICdcXHhmYSc6ICd1JywgJ1xceGZiJzogJ3UnLCAnXFx4ZmMnOiAndScsXG4gICAgJ1xceGRkJzogJ1knLCAgJ1xceGZkJzogJ3knLCAnXFx4ZmYnOiAneScsXG4gICAgJ1xceGM2JzogJ0FlJywgJ1xceGU2JzogJ2FlJyxcbiAgICAnXFx4ZGUnOiAnVGgnLCAnXFx4ZmUnOiAndGgnLFxuICAgICdcXHhkZic6ICdzcycsXG4gICAgLy8gTGF0aW4gRXh0ZW5kZWQtQSBibG9jay5cbiAgICAnXFx1MDEwMCc6ICdBJywgICdcXHUwMTAyJzogJ0EnLCAnXFx1MDEwNCc6ICdBJyxcbiAgICAnXFx1MDEwMSc6ICdhJywgICdcXHUwMTAzJzogJ2EnLCAnXFx1MDEwNSc6ICdhJyxcbiAgICAnXFx1MDEwNic6ICdDJywgICdcXHUwMTA4JzogJ0MnLCAnXFx1MDEwYSc6ICdDJywgJ1xcdTAxMGMnOiAnQycsXG4gICAgJ1xcdTAxMDcnOiAnYycsICAnXFx1MDEwOSc6ICdjJywgJ1xcdTAxMGInOiAnYycsICdcXHUwMTBkJzogJ2MnLFxuICAgICdcXHUwMTBlJzogJ0QnLCAgJ1xcdTAxMTAnOiAnRCcsICdcXHUwMTBmJzogJ2QnLCAnXFx1MDExMSc6ICdkJyxcbiAgICAnXFx1MDExMic6ICdFJywgICdcXHUwMTE0JzogJ0UnLCAnXFx1MDExNic6ICdFJywgJ1xcdTAxMTgnOiAnRScsICdcXHUwMTFhJzogJ0UnLFxuICAgICdcXHUwMTEzJzogJ2UnLCAgJ1xcdTAxMTUnOiAnZScsICdcXHUwMTE3JzogJ2UnLCAnXFx1MDExOSc6ICdlJywgJ1xcdTAxMWInOiAnZScsXG4gICAgJ1xcdTAxMWMnOiAnRycsICAnXFx1MDExZSc6ICdHJywgJ1xcdTAxMjAnOiAnRycsICdcXHUwMTIyJzogJ0cnLFxuICAgICdcXHUwMTFkJzogJ2cnLCAgJ1xcdTAxMWYnOiAnZycsICdcXHUwMTIxJzogJ2cnLCAnXFx1MDEyMyc6ICdnJyxcbiAgICAnXFx1MDEyNCc6ICdIJywgICdcXHUwMTI2JzogJ0gnLCAnXFx1MDEyNSc6ICdoJywgJ1xcdTAxMjcnOiAnaCcsXG4gICAgJ1xcdTAxMjgnOiAnSScsICAnXFx1MDEyYSc6ICdJJywgJ1xcdTAxMmMnOiAnSScsICdcXHUwMTJlJzogJ0knLCAnXFx1MDEzMCc6ICdJJyxcbiAgICAnXFx1MDEyOSc6ICdpJywgICdcXHUwMTJiJzogJ2knLCAnXFx1MDEyZCc6ICdpJywgJ1xcdTAxMmYnOiAnaScsICdcXHUwMTMxJzogJ2knLFxuICAgICdcXHUwMTM0JzogJ0onLCAgJ1xcdTAxMzUnOiAnaicsXG4gICAgJ1xcdTAxMzYnOiAnSycsICAnXFx1MDEzNyc6ICdrJywgJ1xcdTAxMzgnOiAnaycsXG4gICAgJ1xcdTAxMzknOiAnTCcsICAnXFx1MDEzYic6ICdMJywgJ1xcdTAxM2QnOiAnTCcsICdcXHUwMTNmJzogJ0wnLCAnXFx1MDE0MSc6ICdMJyxcbiAgICAnXFx1MDEzYSc6ICdsJywgICdcXHUwMTNjJzogJ2wnLCAnXFx1MDEzZSc6ICdsJywgJ1xcdTAxNDAnOiAnbCcsICdcXHUwMTQyJzogJ2wnLFxuICAgICdcXHUwMTQzJzogJ04nLCAgJ1xcdTAxNDUnOiAnTicsICdcXHUwMTQ3JzogJ04nLCAnXFx1MDE0YSc6ICdOJyxcbiAgICAnXFx1MDE0NCc6ICduJywgICdcXHUwMTQ2JzogJ24nLCAnXFx1MDE0OCc6ICduJywgJ1xcdTAxNGInOiAnbicsXG4gICAgJ1xcdTAxNGMnOiAnTycsICAnXFx1MDE0ZSc6ICdPJywgJ1xcdTAxNTAnOiAnTycsXG4gICAgJ1xcdTAxNGQnOiAnbycsICAnXFx1MDE0Zic6ICdvJywgJ1xcdTAxNTEnOiAnbycsXG4gICAgJ1xcdTAxNTQnOiAnUicsICAnXFx1MDE1Nic6ICdSJywgJ1xcdTAxNTgnOiAnUicsXG4gICAgJ1xcdTAxNTUnOiAncicsICAnXFx1MDE1Nyc6ICdyJywgJ1xcdTAxNTknOiAncicsXG4gICAgJ1xcdTAxNWEnOiAnUycsICAnXFx1MDE1Yyc6ICdTJywgJ1xcdTAxNWUnOiAnUycsICdcXHUwMTYwJzogJ1MnLFxuICAgICdcXHUwMTViJzogJ3MnLCAgJ1xcdTAxNWQnOiAncycsICdcXHUwMTVmJzogJ3MnLCAnXFx1MDE2MSc6ICdzJyxcbiAgICAnXFx1MDE2Mic6ICdUJywgICdcXHUwMTY0JzogJ1QnLCAnXFx1MDE2Nic6ICdUJyxcbiAgICAnXFx1MDE2Myc6ICd0JywgICdcXHUwMTY1JzogJ3QnLCAnXFx1MDE2Nyc6ICd0JyxcbiAgICAnXFx1MDE2OCc6ICdVJywgICdcXHUwMTZhJzogJ1UnLCAnXFx1MDE2Yyc6ICdVJywgJ1xcdTAxNmUnOiAnVScsICdcXHUwMTcwJzogJ1UnLCAnXFx1MDE3Mic6ICdVJyxcbiAgICAnXFx1MDE2OSc6ICd1JywgICdcXHUwMTZiJzogJ3UnLCAnXFx1MDE2ZCc6ICd1JywgJ1xcdTAxNmYnOiAndScsICdcXHUwMTcxJzogJ3UnLCAnXFx1MDE3Myc6ICd1JyxcbiAgICAnXFx1MDE3NCc6ICdXJywgICdcXHUwMTc1JzogJ3cnLFxuICAgICdcXHUwMTc2JzogJ1knLCAgJ1xcdTAxNzcnOiAneScsICdcXHUwMTc4JzogJ1knLFxuICAgICdcXHUwMTc5JzogJ1onLCAgJ1xcdTAxN2InOiAnWicsICdcXHUwMTdkJzogJ1onLFxuICAgICdcXHUwMTdhJzogJ3onLCAgJ1xcdTAxN2MnOiAneicsICdcXHUwMTdlJzogJ3onLFxuICAgICdcXHUwMTMyJzogJ0lKJywgJ1xcdTAxMzMnOiAnaWonLFxuICAgICdcXHUwMTUyJzogJ09lJywgJ1xcdTAxNTMnOiAnb2UnLFxuICAgICdcXHUwMTQ5JzogXCInblwiLCAnXFx1MDE3Zic6ICdzJ1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG4gIHZhciBodG1sRXNjYXBlcyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgaHRtbFVuZXNjYXBlcyA9IHtcbiAgICAnJmFtcDsnOiAnJicsXG4gICAgJyZsdDsnOiAnPCcsXG4gICAgJyZndDsnOiAnPicsXG4gICAgJyZxdW90Oyc6ICdcIicsXG4gICAgJyYjMzk7JzogXCInXCJcbiAgfTtcblxuICAvKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgXCInXCI6IFwiJ1wiLFxuICAgICdcXG4nOiAnbicsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbiAgdmFyIGZyZWVQYXJzZUZsb2F0ID0gcGFyc2VGbG9hdCxcbiAgICAgIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xuICB2YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbiAgdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xuICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbiAgLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG4gIHZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgICAgaWYgKHR5cGVzKSB7XG4gICAgICAgIHJldHVybiB0eXBlcztcbiAgICAgIH1cblxuICAgICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KCkpO1xuXG4gIC8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG4gIHZhciBub2RlSXNBcnJheUJ1ZmZlciA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzQXJyYXlCdWZmZXIsXG4gICAgICBub2RlSXNEYXRlID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNEYXRlLFxuICAgICAgbm9kZUlzTWFwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNNYXAsXG4gICAgICBub2RlSXNSZWdFeHAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1JlZ0V4cCxcbiAgICAgIG5vZGVJc1NldCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzU2V0LFxuICAgICAgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUFnZ3JlZ2F0b3JgIGZvciBhcnJheXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5QWdncmVnYXRvcihhcnJheSwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2goYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2hSaWdodChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZXZlcnlgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RXZlcnkoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoIXByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluY2x1ZGVzYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogc3BlY2lmeWluZyBhbiBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlcyhhcnJheSwgdmFsdWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuICEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgMCkgPiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFycmF5SW5jbHVkZXNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXNXaXRoKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcih2YWx1ZSwgYXJyYXlbaW5kZXhdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZShhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgICB9XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2VSaWdodChhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbLS1sZW5ndGhdO1xuICAgIH1cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYW4gQVNDSUkgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIHZhciBhc2NpaVNpemUgPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhbiBBU0NJSSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuc3BsaXQoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhbiBBU0NJSSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmZpbmRLZXlgIGFuZCBgXy5maW5kTGFzdEtleWAsXG4gICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmBcbiAgICogdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCBvciBpdHMga2V5LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRLZXkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBlYWNoRnVuYykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbmRJbmRleGAgYW5kIGBfLmZpbmRMYXN0SW5kZXhgIHdpdGhvdXRcbiAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCwgZnJvbVJpZ2h0KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggKyAoZnJvbVJpZ2h0ID8gMSA6IC0xKTtcblxuICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IGBmcm9tSW5kZXhgIGJvdW5kcyBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgPyBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KVxuICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlSW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2ZXaXRoKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmFOYCB3aXRob3V0IHN1cHBvcnQgZm9yIG51bWJlciBvYmplY3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJc05hTih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVhbmAgYW5kIGBfLm1lYW5CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZU1lYW4oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiBsZW5ndGggPyAoYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIC8gbGVuZ3RoKSA6IE5BTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlZHVjZWAgYW5kIGBfLnJlZHVjZVJpZ2h0YCwgd2l0aG91dCBzdXBwb3J0XG4gICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYCB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdEFjY3VtIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IG9yIGxhc3QgZWxlbWVudCBvZlxuICAgKiAgYGNvbGxlY3Rpb25gIGFzIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgZWFjaEZ1bmMpIHtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaW5pdEFjY3VtXG4gICAgICAgID8gKGluaXRBY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgICAgOiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydEJ5YCB3aGljaCB1c2VzIGBjb21wYXJlcmAgdG8gZGVmaW5lIHRoZVxuICAgKiBzb3J0IG9yZGVyIG9mIGBhcnJheWAgYW5kIHJlcGxhY2VzIGNyaXRlcmlhIG9iamVjdHMgd2l0aCB0aGVpciBjb3JyZXNwb25kaW5nXG4gICAqIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNvcnQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmVyIFRoZSBmdW5jdGlvbiB0byBkZWZpbmUgc29ydCBvcmRlci5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU29ydEJ5KGFycmF5LCBjb21wYXJlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICBhcnJheS5zb3J0KGNvbXBhcmVyKTtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFycmF5W2xlbmd0aF0gPSBhcnJheVtsZW5ndGhdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc3VtYCBhbmQgYF8uc3VtQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgcmVzdWx0LFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBpdGVyYXRlZShhcnJheVtpbmRleF0pO1xuICAgICAgaWYgKGN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGN1cnJlbnQgOiAocmVzdWx0ICsgY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvUGFpcnNgIGFuZCBgXy50b1BhaXJzSW5gIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXlcbiAgICogb2Yga2V5LXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRvUGFpcnMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gW2tleSwgb2JqZWN0W2tleV1dO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cbiAgICogYXJyYXkgb2YgYG9iamVjdGAgcHJvcGVydHkgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzXG4gICAqIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbVN0YXJ0YCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgYHBsYWNlaG9sZGVyYCBvY2N1cnJlbmNlcyBpbiBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgY291bnQuXG4gICAqL1xuICBmdW5jdGlvbiBjb3VudEhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gMDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGFycmF5W2xlbmd0aF0gPT09IHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICsrcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZGVidXJyYCB0byBjb252ZXJ0IExhdGluLTEgU3VwcGxlbWVudCBhbmQgTGF0aW4gRXh0ZW5kZWQtQVxuICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsZXR0ZXIgVGhlIG1hdGNoZWQgbGV0dGVyIHRvIGRlYnVyci5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgbGV0dGVyLlxuICAgKi9cbiAgdmFyIGRlYnVyckxldHRlciA9IGJhc2VQcm9wZXJ0eU9mKGRlYnVycmVkTGV0dGVycyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZXNjYXBlYCB0byBjb252ZXJ0IGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciBlc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxFc2NhcGVzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy50ZW1wbGF0ZWAgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVTdHJpbmdDaGFyKGNocikge1xuICAgIHJldHVybiAnXFxcXCcgKyBzdHJpbmdFc2NhcGVzW2Nocl07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgc3ltYm9sIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGUudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBhIHdvcmQgY29tcG9zZWQgb2YgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgd29yZCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZVdvcmQudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBpdGVyYXRvcmAgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVyYXRvciBUaGUgaXRlcmF0b3IgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBpdGVyYXRvclRvQXJyYXkoaXRlcmF0b3IpIHtcbiAgICB2YXIgZGF0YSxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoIShkYXRhID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICByZXN1bHQucHVzaChkYXRhLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgYHBsYWNlaG9sZGVyYCBlbGVtZW50cyBpbiBgYXJyYXlgIHdpdGggYW4gaW50ZXJuYWwgcGxhY2Vob2xkZXJcbiAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlaXIgaW5kZXhlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gcmVwbGFjZS5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHZhbHVlID09PSBwbGFjZWhvbGRlciB8fCB2YWx1ZSA9PT0gUExBQ0VIT0xERVIpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gUExBQ0VIT0xERVI7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGl0cyB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb1BhaXJzKHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW3ZhbHVlLCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubGFzdEluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ICsgMTtcbiAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHN5bWJvbHMgaW4gYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1NpemUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlU2l6ZShzdHJpbmcpXG4gICAgICA6IGFzY2lpU2l6ZShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVRvQXJyYXkoc3RyaW5nKVxuICAgICAgOiBhc2NpaVRvQXJyYXkoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnVuZXNjYXBlYCB0byBjb252ZXJ0IEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gdW5lc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgdW5lc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxVbmVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGEgVW5pY29kZSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVNpemUoc3RyaW5nKSB7XG4gICAgdmFyIHJlc3VsdCA9IHJlVW5pY29kZS5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlIChyZVVuaWNvZGUudGVzdChzdHJpbmcpKSB7XG4gICAgICArK3Jlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIFVuaWNvZGUgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYSBVbmljb2RlIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlV29yZCkgfHwgW107XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHVzaW5nIHRoZSBgY29udGV4dGAgb2JqZWN0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSAxLjEuMFxuICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHQ9cm9vdF0gVGhlIGNvbnRleHQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYSBuZXcgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ubWl4aW4oeyAnZm9vJzogXy5jb25zdGFudCgnZm9vJykgfSk7XG4gICAqXG4gICAqIHZhciBsb2Rhc2ggPSBfLnJ1bkluQ29udGV4dCgpO1xuICAgKiBsb2Rhc2gubWl4aW4oeyAnYmFyJzogbG9kYXNoLmNvbnN0YW50KCdiYXInKSB9KTtcbiAgICpcbiAgICogXy5pc0Z1bmN0aW9uKF8uZm9vKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKiBfLmlzRnVuY3Rpb24oXy5iYXIpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guZm9vKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmJhcik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogLy8gQ3JlYXRlIGEgc3VwZWQtdXAgYGRlZmVyYCBpbiBOb2RlLmpzLlxuICAgKiB2YXIgZGVmZXIgPSBfLnJ1bkluQ29udGV4dCh7ICdzZXRUaW1lb3V0Jzogc2V0SW1tZWRpYXRlIH0pLmRlZmVyO1xuICAgKi9cbiAgdmFyIHJ1bkluQ29udGV4dCA9IChmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCkge1xuICAgIGNvbnRleHQgPSBjb250ZXh0ID09IG51bGwgPyByb290IDogXy5kZWZhdWx0cyhyb290Lk9iamVjdCgpLCBjb250ZXh0LCBfLnBpY2socm9vdCwgY29udGV4dFByb3BzKSk7XG5cbiAgICAvKiogQnVpbHQtaW4gY29uc3RydWN0b3IgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQXJyYXkgPSBjb250ZXh0LkFycmF5LFxuICAgICAgICBEYXRlID0gY29udGV4dC5EYXRlLFxuICAgICAgICBFcnJvciA9IGNvbnRleHQuRXJyb3IsXG4gICAgICAgIEZ1bmN0aW9uID0gY29udGV4dC5GdW5jdGlvbixcbiAgICAgICAgTWF0aCA9IGNvbnRleHQuTWF0aCxcbiAgICAgICAgT2JqZWN0ID0gY29udGV4dC5PYmplY3QsXG4gICAgICAgIFJlZ0V4cCA9IGNvbnRleHQuUmVnRXhwLFxuICAgICAgICBTdHJpbmcgPSBjb250ZXh0LlN0cmluZyxcbiAgICAgICAgVHlwZUVycm9yID0gY29udGV4dC5UeXBlRXJyb3I7XG5cbiAgICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xuICAgIHZhciBjb3JlSnNEYXRhID0gY29udGV4dFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbiAgICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG4gICAgdmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4gICAgLyoqIFVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcy4gKi9cbiAgICB2YXIgaWRDb3VudGVyID0gMDtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG4gICAgdmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICAgICAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gICAgICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gICAgICogb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIHZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xuICAgIHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc3RvcmUgdGhlIG9yaWdpbmFsIGBfYCByZWZlcmVuY2UgaW4gYF8ubm9Db25mbGljdGAuICovXG4gICAgdmFyIG9sZERhc2ggPSByb290Ll87XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xuICAgIHZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gICAgICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4gICAgKTtcblxuICAgIC8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gY29udGV4dC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIFN5bWJvbCA9IGNvbnRleHQuU3ltYm9sLFxuICAgICAgICBVaW50OEFycmF5ID0gY29udGV4dC5VaW50OEFycmF5LFxuICAgICAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgICAgICBzcHJlYWRhYmxlU3ltYm9sID0gU3ltYm9sID8gU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltSXRlcmF0b3IgPSBTeW1ib2wgPyBTeW1ib2wuaXRlcmF0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICAgICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH0oKSk7XG5cbiAgICAvKiogTW9ja2VkIGJ1aWx0LWlucy4gKi9cbiAgICB2YXIgY3R4Q2xlYXJUaW1lb3V0ID0gY29udGV4dC5jbGVhclRpbWVvdXQgIT09IHJvb3QuY2xlYXJUaW1lb3V0ICYmIGNvbnRleHQuY2xlYXJUaW1lb3V0LFxuICAgICAgICBjdHhOb3cgPSBEYXRlICYmIERhdGUubm93ICE9PSByb290LkRhdGUubm93ICYmIERhdGUubm93LFxuICAgICAgICBjdHhTZXRUaW1lb3V0ID0gY29udGV4dC5zZXRUaW1lb3V0ICE9PSByb290LnNldFRpbWVvdXQgJiYgY29udGV4dC5zZXRUaW1lb3V0O1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuICAgIHZhciBuYXRpdmVDZWlsID0gTWF0aC5jZWlsLFxuICAgICAgICBuYXRpdmVGbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICAgIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgICAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgbmF0aXZlSXNGaW5pdGUgPSBjb250ZXh0LmlzRmluaXRlLFxuICAgICAgICBuYXRpdmVKb2luID0gYXJyYXlQcm90by5qb2luLFxuICAgICAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KSxcbiAgICAgICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluLFxuICAgICAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdyxcbiAgICAgICAgbmF0aXZlUGFyc2VJbnQgPSBjb250ZXh0LnBhcnNlSW50LFxuICAgICAgICBuYXRpdmVSYW5kb20gPSBNYXRoLnJhbmRvbSxcbiAgICAgICAgbmF0aXZlUmV2ZXJzZSA9IGFycmF5UHJvdG8ucmV2ZXJzZTtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbiAgICB2YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUoY29udGV4dCwgJ0RhdGFWaWV3JyksXG4gICAgICAgIE1hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnTWFwJyksXG4gICAgICAgIFByb21pc2UgPSBnZXROYXRpdmUoY29udGV4dCwgJ1Byb21pc2UnKSxcbiAgICAgICAgU2V0ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdTZXQnKSxcbiAgICAgICAgV2Vha01hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnV2Vha01hcCcpLFxuICAgICAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbiAgICAvKiogVXNlZCB0byBzdG9yZSBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgICB2YXIgbWV0YU1hcCA9IFdlYWtNYXAgJiYgbmV3IFdlYWtNYXA7XG5cbiAgICAvKiogVXNlZCB0byBsb29rdXAgdW5taW5pZmllZCBmdW5jdGlvbiBuYW1lcy4gKi9cbiAgICB2YXIgcmVhbE5hbWVzID0ge307XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xuICAgIHZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgICAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgICAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICAgICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuICAgIC8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xuICAgIHZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgaW1wbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzLiBNZXRob2RzIHRoYXQgb3BlcmF0ZSBvbiBhbmQgcmV0dXJuIGFycmF5cywgY29sbGVjdGlvbnMsXG4gICAgICogYW5kIGZ1bmN0aW9ucyBjYW4gYmUgY2hhaW5lZCB0b2dldGhlci4gTWV0aG9kcyB0aGF0IHJldHJpZXZlIGEgc2luZ2xlIHZhbHVlXG4gICAgICogb3IgbWF5IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZW5kIHRoZSBjaGFpbiBzZXF1ZW5jZVxuICAgICAqIGFuZCByZXR1cm4gdGhlIHVud3JhcHBlZCB2YWx1ZS4gT3RoZXJ3aXNlLCB0aGUgdmFsdWUgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEV4cGxpY2l0IGNoYWluIHNlcXVlbmNlcywgd2hpY2ggbXVzdCBiZSB1bndyYXBwZWQgd2l0aCBgXyN2YWx1ZWAsIG1heSBiZVxuICAgICAqIGVuYWJsZWQgdXNpbmcgYF8uY2hhaW5gLlxuICAgICAqXG4gICAgICogVGhlIGV4ZWN1dGlvbiBvZiBjaGFpbmVkIG1ldGhvZHMgaXMgbGF6eSwgdGhhdCBpcywgaXQncyBkZWZlcnJlZCB1bnRpbFxuICAgICAqIGBfI3ZhbHVlYCBpcyBpbXBsaWNpdGx5IG9yIGV4cGxpY2l0bHkgY2FsbGVkLlxuICAgICAqXG4gICAgICogTGF6eSBldmFsdWF0aW9uIGFsbG93cyBzZXZlcmFsIG1ldGhvZHMgdG8gc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24uXG4gICAgICogU2hvcnRjdXQgZnVzaW9uIGlzIGFuIG9wdGltaXphdGlvbiB0byBtZXJnZSBpdGVyYXRlZSBjYWxsczsgdGhpcyBhdm9pZHNcbiAgICAgKiB0aGUgY3JlYXRpb24gb2YgaW50ZXJtZWRpYXRlIGFycmF5cyBhbmQgY2FuIGdyZWF0bHkgcmVkdWNlIHRoZSBudW1iZXIgb2ZcbiAgICAgKiBpdGVyYXRlZSBleGVjdXRpb25zLiBTZWN0aW9ucyBvZiBhIGNoYWluIHNlcXVlbmNlIHF1YWxpZnkgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlmIHRoZSBzZWN0aW9uIGlzIGFwcGxpZWQgdG8gYW4gYXJyYXkgYW5kIGl0ZXJhdGVlcyBhY2NlcHQgb25seVxuICAgICAqIG9uZSBhcmd1bWVudC4gVGhlIGhldXJpc3RpYyBmb3Igd2hldGhlciBhIHNlY3Rpb24gcXVhbGlmaWVzIGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpcyBzdWJqZWN0IHRvIGNoYW5nZS5cbiAgICAgKlxuICAgICAqIENoYWluaW5nIGlzIHN1cHBvcnRlZCBpbiBjdXN0b20gYnVpbGRzIGFzIGxvbmcgYXMgdGhlIGBfI3ZhbHVlYCBtZXRob2QgaXNcbiAgICAgKiBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGluY2x1ZGVkIGluIHRoZSBidWlsZC5cbiAgICAgKlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGxvZGFzaCBtZXRob2RzLCB3cmFwcGVycyBoYXZlIGBBcnJheWAgYW5kIGBTdHJpbmdgIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgQXJyYXlgIG1ldGhvZHMgYXJlOlxuICAgICAqIGBjb25jYXRgLCBgam9pbmAsIGBwb3BgLCBgcHVzaGAsIGBzaGlmdGAsIGBzb3J0YCwgYHNwbGljZWAsIGFuZCBgdW5zaGlmdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBTdHJpbmdgIG1ldGhvZHMgYXJlOlxuICAgICAqIGByZXBsYWNlYCBhbmQgYHNwbGl0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uIGFyZTpcbiAgICAgKiBgYXRgLCBgY29tcGFjdGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBkcm9wV2hpbGVgLCBgZmlsdGVyYCwgYGZpbmRgLFxuICAgICAqIGBmaW5kTGFzdGAsIGBoZWFkYCwgYGluaXRpYWxgLCBgbGFzdGAsIGBtYXBgLCBgcmVqZWN0YCwgYHJldmVyc2VgLCBgc2xpY2VgLFxuICAgICAqIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCwgYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGFuZCBgdG9BcnJheWBcbiAgICAgKlxuICAgICAqIFRoZSBjaGFpbmFibGUgd3JhcHBlciBtZXRob2RzIGFyZTpcbiAgICAgKiBgYWZ0ZXJgLCBgYXJ5YCwgYGFzc2lnbmAsIGBhc3NpZ25JbmAsIGBhc3NpZ25JbldpdGhgLCBgYXNzaWduV2l0aGAsIGBhdGAsXG4gICAgICogYGJlZm9yZWAsIGBiaW5kYCwgYGJpbmRBbGxgLCBgYmluZEtleWAsIGBjYXN0QXJyYXlgLCBgY2hhaW5gLCBgY2h1bmtgLFxuICAgICAqIGBjb21taXRgLCBgY29tcGFjdGAsIGBjb25jYXRgLCBgY29uZm9ybXNgLCBgY29uc3RhbnRgLCBgY291bnRCeWAsIGBjcmVhdGVgLFxuICAgICAqIGBjdXJyeWAsIGBkZWJvdW5jZWAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgZGVmZXJgLCBgZGVsYXlgLFxuICAgICAqIGBkaWZmZXJlbmNlYCwgYGRpZmZlcmVuY2VCeWAsIGBkaWZmZXJlbmNlV2l0aGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsXG4gICAgICogYGRyb3BSaWdodFdoaWxlYCwgYGRyb3BXaGlsZWAsIGBleHRlbmRgLCBgZXh0ZW5kV2l0aGAsIGBmaWxsYCwgYGZpbHRlcmAsXG4gICAgICogYGZsYXRNYXBgLCBgZmxhdE1hcERlZXBgLCBgZmxhdE1hcERlcHRoYCwgYGZsYXR0ZW5gLCBgZmxhdHRlbkRlZXBgLFxuICAgICAqIGBmbGF0dGVuRGVwdGhgLCBgZmxpcGAsIGBmbG93YCwgYGZsb3dSaWdodGAsIGBmcm9tUGFpcnNgLCBgZnVuY3Rpb25zYCxcbiAgICAgKiBgZnVuY3Rpb25zSW5gLCBgZ3JvdXBCeWAsIGBpbml0aWFsYCwgYGludGVyc2VjdGlvbmAsIGBpbnRlcnNlY3Rpb25CeWAsXG4gICAgICogYGludGVyc2VjdGlvbldpdGhgLCBgaW52ZXJ0YCwgYGludmVydEJ5YCwgYGludm9rZU1hcGAsIGBpdGVyYXRlZWAsIGBrZXlCeWAsXG4gICAgICogYGtleXNgLCBga2V5c0luYCwgYG1hcGAsIGBtYXBLZXlzYCwgYG1hcFZhbHVlc2AsIGBtYXRjaGVzYCwgYG1hdGNoZXNQcm9wZXJ0eWAsXG4gICAgICogYG1lbW9pemVgLCBgbWVyZ2VgLCBgbWVyZ2VXaXRoYCwgYG1ldGhvZGAsIGBtZXRob2RPZmAsIGBtaXhpbmAsIGBuZWdhdGVgLFxuICAgICAqIGBudGhBcmdgLCBgb21pdGAsIGBvbWl0QnlgLCBgb25jZWAsIGBvcmRlckJ5YCwgYG92ZXJgLCBgb3ZlckFyZ3NgLFxuICAgICAqIGBvdmVyRXZlcnlgLCBgb3ZlclNvbWVgLCBgcGFydGlhbGAsIGBwYXJ0aWFsUmlnaHRgLCBgcGFydGl0aW9uYCwgYHBpY2tgLFxuICAgICAqIGBwaWNrQnlgLCBgcGxhbnRgLCBgcHJvcGVydHlgLCBgcHJvcGVydHlPZmAsIGBwdWxsYCwgYHB1bGxBbGxgLCBgcHVsbEFsbEJ5YCxcbiAgICAgKiBgcHVsbEFsbFdpdGhgLCBgcHVsbEF0YCwgYHB1c2hgLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZWFyZ2AsIGByZWplY3RgLFxuICAgICAqIGByZW1vdmVgLCBgcmVzdGAsIGByZXZlcnNlYCwgYHNhbXBsZVNpemVgLCBgc2V0YCwgYHNldFdpdGhgLCBgc2h1ZmZsZWAsXG4gICAgICogYHNsaWNlYCwgYHNvcnRgLCBgc29ydEJ5YCwgYHNwbGljZWAsIGBzcHJlYWRgLCBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGB0YXBgLCBgdGhyb3R0bGVgLCBgdGhydWAsIGB0b0FycmF5YCxcbiAgICAgKiBgdG9QYWlyc2AsIGB0b1BhaXJzSW5gLCBgdG9QYXRoYCwgYHRvUGxhaW5PYmplY3RgLCBgdHJhbnNmb3JtYCwgYHVuYXJ5YCxcbiAgICAgKiBgdW5pb25gLCBgdW5pb25CeWAsIGB1bmlvbldpdGhgLCBgdW5pcWAsIGB1bmlxQnlgLCBgdW5pcVdpdGhgLCBgdW5zZXRgLFxuICAgICAqIGB1bnNoaWZ0YCwgYHVuemlwYCwgYHVuemlwV2l0aGAsIGB1cGRhdGVgLCBgdXBkYXRlV2l0aGAsIGB2YWx1ZXNgLFxuICAgICAqIGB2YWx1ZXNJbmAsIGB3aXRob3V0YCwgYHdyYXBgLCBgeG9yYCwgYHhvckJ5YCwgYHhvcldpdGhgLCBgemlwYCxcbiAgICAgKiBgemlwT2JqZWN0YCwgYHppcE9iamVjdERlZXBgLCBhbmQgYHppcFdpdGhgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgYXJlICoqbm90KiogY2hhaW5hYmxlIGJ5IGRlZmF1bHQgYXJlOlxuICAgICAqIGBhZGRgLCBgYXR0ZW1wdGAsIGBjYW1lbENhc2VgLCBgY2FwaXRhbGl6ZWAsIGBjZWlsYCwgYGNsYW1wYCwgYGNsb25lYCxcbiAgICAgKiBgY2xvbmVEZWVwYCwgYGNsb25lRGVlcFdpdGhgLCBgY2xvbmVXaXRoYCwgYGNvbmZvcm1zVG9gLCBgZGVidXJyYCxcbiAgICAgKiBgZGVmYXVsdFRvYCwgYGRpdmlkZWAsIGBlYWNoYCwgYGVhY2hSaWdodGAsIGBlbmRzV2l0aGAsIGBlcWAsIGBlc2NhcGVgLFxuICAgICAqIGBlc2NhcGVSZWdFeHBgLCBgZXZlcnlgLCBgZmluZGAsIGBmaW5kSW5kZXhgLCBgZmluZEtleWAsIGBmaW5kTGFzdGAsXG4gICAgICogYGZpbmRMYXN0SW5kZXhgLCBgZmluZExhc3RLZXlgLCBgZmlyc3RgLCBgZmxvb3JgLCBgZm9yRWFjaGAsIGBmb3JFYWNoUmlnaHRgLFxuICAgICAqIGBmb3JJbmAsIGBmb3JJblJpZ2h0YCwgYGZvck93bmAsIGBmb3JPd25SaWdodGAsIGBnZXRgLCBgZ3RgLCBgZ3RlYCwgYGhhc2AsXG4gICAgICogYGhhc0luYCwgYGhlYWRgLCBgaWRlbnRpdHlgLCBgaW5jbHVkZXNgLCBgaW5kZXhPZmAsIGBpblJhbmdlYCwgYGludm9rZWAsXG4gICAgICogYGlzQXJndW1lbnRzYCwgYGlzQXJyYXlgLCBgaXNBcnJheUJ1ZmZlcmAsIGBpc0FycmF5TGlrZWAsIGBpc0FycmF5TGlrZU9iamVjdGAsXG4gICAgICogYGlzQm9vbGVhbmAsIGBpc0J1ZmZlcmAsIGBpc0RhdGVgLCBgaXNFbGVtZW50YCwgYGlzRW1wdHlgLCBgaXNFcXVhbGAsXG4gICAgICogYGlzRXF1YWxXaXRoYCwgYGlzRXJyb3JgLCBgaXNGaW5pdGVgLCBgaXNGdW5jdGlvbmAsIGBpc0ludGVnZXJgLCBgaXNMZW5ndGhgLFxuICAgICAqIGBpc01hcGAsIGBpc01hdGNoYCwgYGlzTWF0Y2hXaXRoYCwgYGlzTmFOYCwgYGlzTmF0aXZlYCwgYGlzTmlsYCwgYGlzTnVsbGAsXG4gICAgICogYGlzTnVtYmVyYCwgYGlzT2JqZWN0YCwgYGlzT2JqZWN0TGlrZWAsIGBpc1BsYWluT2JqZWN0YCwgYGlzUmVnRXhwYCxcbiAgICAgKiBgaXNTYWZlSW50ZWdlcmAsIGBpc1NldGAsIGBpc1N0cmluZ2AsIGBpc1VuZGVmaW5lZGAsIGBpc1R5cGVkQXJyYXlgLFxuICAgICAqIGBpc1dlYWtNYXBgLCBgaXNXZWFrU2V0YCwgYGpvaW5gLCBga2ViYWJDYXNlYCwgYGxhc3RgLCBgbGFzdEluZGV4T2ZgLFxuICAgICAqIGBsb3dlckNhc2VgLCBgbG93ZXJGaXJzdGAsIGBsdGAsIGBsdGVgLCBgbWF4YCwgYG1heEJ5YCwgYG1lYW5gLCBgbWVhbkJ5YCxcbiAgICAgKiBgbWluYCwgYG1pbkJ5YCwgYG11bHRpcGx5YCwgYG5vQ29uZmxpY3RgLCBgbm9vcGAsIGBub3dgLCBgbnRoYCwgYHBhZGAsXG4gICAgICogYHBhZEVuZGAsIGBwYWRTdGFydGAsIGBwYXJzZUludGAsIGBwb3BgLCBgcmFuZG9tYCwgYHJlZHVjZWAsIGByZWR1Y2VSaWdodGAsXG4gICAgICogYHJlcGVhdGAsIGByZXN1bHRgLCBgcm91bmRgLCBgcnVuSW5Db250ZXh0YCwgYHNhbXBsZWAsIGBzaGlmdGAsIGBzaXplYCxcbiAgICAgKiBgc25ha2VDYXNlYCwgYHNvbWVgLCBgc29ydGVkSW5kZXhgLCBgc29ydGVkSW5kZXhCeWAsIGBzb3J0ZWRMYXN0SW5kZXhgLFxuICAgICAqIGBzb3J0ZWRMYXN0SW5kZXhCeWAsIGBzdGFydENhc2VgLCBgc3RhcnRzV2l0aGAsIGBzdHViQXJyYXlgLCBgc3R1YkZhbHNlYCxcbiAgICAgKiBgc3R1Yk9iamVjdGAsIGBzdHViU3RyaW5nYCwgYHN0dWJUcnVlYCwgYHN1YnRyYWN0YCwgYHN1bWAsIGBzdW1CeWAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRpbWVzYCwgYHRvRmluaXRlYCwgYHRvSW50ZWdlcmAsIGB0b0pTT05gLCBgdG9MZW5ndGhgLFxuICAgICAqIGB0b0xvd2VyYCwgYHRvTnVtYmVyYCwgYHRvU2FmZUludGVnZXJgLCBgdG9TdHJpbmdgLCBgdG9VcHBlcmAsIGB0cmltYCxcbiAgICAgKiBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBgdHJ1bmNhdGVgLCBgdW5lc2NhcGVgLCBgdW5pcXVlSWRgLCBgdXBwZXJDYXNlYCxcbiAgICAgKiBgdXBwZXJGaXJzdGAsIGB2YWx1ZWAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAbmFtZSBfXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDIsIDNdKTtcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYW4gdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIHdyYXBwZWQucmVkdWNlKF8uYWRkKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGEgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB2YXIgc3F1YXJlcyA9IHdyYXBwZWQubWFwKHNxdWFyZSk7XG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzLnZhbHVlKCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2Rhc2godmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdExpa2UodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExvZGFzaFdyYXBwZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdfX3dyYXBwZWRfXycpKSB7XG4gICAgICAgICAgcmV0dXJuIHdyYXBwZXJDbG9uZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICAgICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgICAgIGZ1bmN0aW9uIG9iamVjdCgpIHt9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICAgICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgICAgIHJldHVybiBvYmplY3RDcmVhdGUocHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBvYmplY3Q7XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnVuY3Rpb24gd2hvc2UgcHJvdG90eXBlIGNoYWluIHNlcXVlbmNlIHdyYXBwZXJzIGluaGVyaXQgZnJvbS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUxvZGFzaCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgY29uc3RydWN0b3IgZm9yIGNyZWF0aW5nIGBsb2Rhc2hgIHdyYXBwZXIgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjaGFpbkFsbF0gRW5hYmxlIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9kYXNoV3JhcHBlcih2YWx1ZSwgY2hhaW5BbGwpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19jaGFpbl9fID0gISFjaGFpbkFsbDtcbiAgICAgIHRoaXMuX19pbmRleF9fID0gMDtcbiAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgZGVsaW1pdGVycyB1c2VkIGJ5IGxvZGFzaCBhcmUgbGlrZSB0aG9zZSBpblxuICAgICAqIGVtYmVkZGVkIFJ1YnkgKEVSQikgYXMgd2VsbCBhcyBFUzIwMTUgdGVtcGxhdGUgc3RyaW5ncy4gQ2hhbmdlIHRoZVxuICAgICAqIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2VzY2FwZSc6IHJlRXNjYXBlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGNvZGUgdG8gYmUgZXZhbHVhdGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBpbmplY3QuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2ludGVycG9sYXRlJzogcmVJbnRlcnBvbGF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgJ3ZhcmlhYmxlJzogJycsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBpbXBvcnQgdmFyaWFibGVzIGludG8gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgICdpbXBvcnRzJzoge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c1xuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICAnXyc6IGxvZGFzaFxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFbnN1cmUgd3JhcHBlcnMgYXJlIGluc3RhbmNlcyBvZiBgYmFzZUxvZGFzaGAuXG4gICAgbG9kYXNoLnByb3RvdHlwZSA9IGJhc2VMb2Rhc2gucHJvdG90eXBlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBsb2Rhc2g7XG5cbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9kYXNoV3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBsYXp5IHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGxhenkgZXZhbHVhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXp5V3JhcHBlcih2YWx1ZSkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2Rpcl9fID0gMTtcbiAgICAgIHRoaXMuX19maWx0ZXJlZF9fID0gZmFsc2U7XG4gICAgICB0aGlzLl9faXRlcmF0ZWVzX18gPSBbXTtcbiAgICAgIHRoaXMuX190YWtlQ291bnRfXyA9IE1BWF9BUlJBWV9MRU5HVEg7XG4gICAgICB0aGlzLl9fdmlld3NfXyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgbGF6eSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xvbmVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eUNsb25lKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzLl9fd3JhcHBlZF9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2Rpcl9fID0gdGhpcy5fX2Rpcl9fO1xuICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRoaXMuX19maWx0ZXJlZF9fO1xuICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18gPSBjb3B5QXJyYXkodGhpcy5fX2l0ZXJhdGVlc19fKTtcbiAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gdGhpcy5fX3Rha2VDb3VudF9fO1xuICAgICAgcmVzdWx0Ll9fdmlld3NfXyA9IGNvcHlBcnJheSh0aGlzLl9fdmlld3NfXyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIHRoZSBkaXJlY3Rpb24gb2YgbGF6eSBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgcmV2ZXJzZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVJldmVyc2UoKSB7XG4gICAgICBpZiAodGhpcy5fX2ZpbHRlcmVkX18pIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gPSAtMTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fICo9IC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgdW53cmFwcGVkIHZhbHVlIGZyb20gaXRzIGxhenkgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlWYWx1ZSgpIHtcbiAgICAgIHZhciBhcnJheSA9IHRoaXMuX193cmFwcGVkX18udmFsdWUoKSxcbiAgICAgICAgICBkaXIgPSB0aGlzLl9fZGlyX18sXG4gICAgICAgICAgaXNBcnIgPSBpc0FycmF5KGFycmF5KSxcbiAgICAgICAgICBpc1JpZ2h0ID0gZGlyIDwgMCxcbiAgICAgICAgICBhcnJMZW5ndGggPSBpc0FyciA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgdmlldyA9IGdldFZpZXcoMCwgYXJyTGVuZ3RoLCB0aGlzLl9fdmlld3NfXyksXG4gICAgICAgICAgc3RhcnQgPSB2aWV3LnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IHZpZXcuZW5kLFxuICAgICAgICAgIGxlbmd0aCA9IGVuZCAtIHN0YXJ0LFxuICAgICAgICAgIGluZGV4ID0gaXNSaWdodCA/IGVuZCA6IChzdGFydCAtIDEpLFxuICAgICAgICAgIGl0ZXJhdGVlcyA9IHRoaXMuX19pdGVyYXRlZXNfXyxcbiAgICAgICAgICBpdGVyTGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgdGFrZUNvdW50ID0gbmF0aXZlTWluKGxlbmd0aCwgdGhpcy5fX3Rha2VDb3VudF9fKTtcblxuICAgICAgaWYgKCFpc0FyciB8fCAoIWlzUmlnaHQgJiYgYXJyTGVuZ3RoID09IGxlbmd0aCAmJiB0YWtlQ291bnQgPT0gbGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZShhcnJheSwgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKGxlbmd0aC0tICYmIHJlc0luZGV4IDwgdGFrZUNvdW50KSB7XG4gICAgICAgIGluZGV4ICs9IGRpcjtcblxuICAgICAgICB2YXIgaXRlckluZGV4ID0gLTEsXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblxuICAgICAgICB3aGlsZSAoKytpdGVySW5kZXggPCBpdGVyTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBpdGVyYXRlZXNbaXRlckluZGV4XSxcbiAgICAgICAgICAgICAgaXRlcmF0ZWUgPSBkYXRhLml0ZXJhdGVlLFxuICAgICAgICAgICAgICB0eXBlID0gZGF0YS50eXBlLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICAgIGlmICh0eXBlID09IExBWllfTUFQX0ZMQUcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY29tcHV0ZWQ7XG4gICAgICAgICAgfSBlbHNlIGlmICghY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09IExBWllfRklMVEVSX0ZMQUcpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBicmVhayBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBgTGF6eVdyYXBwZXJgIGlzIGFuIGluc3RhbmNlIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMYXp5V3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgICAgIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuICAgIEhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuICAgIEhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG4gICAgSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbiAgICBIYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuICAgIEhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICAgIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgZGF0YS5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIC0tdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICsrdGhpcy5zaXplO1xuICAgICAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAgICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAgICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuICAgIE1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGFkZFxuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBhbGlhcyBwdXNoXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgICAgIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICAgICAgfVxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuICAgIFN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG4gICAgU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuICAgIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcbiAgICBTdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG4gICAgU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgICAgICkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtiYXNlUmFuZG9tKDAsIGxlbmd0aCAtIDEpXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlU2l6ZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZVNpemUoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpLCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2h1ZmZsZShhcnJheSkge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gICAgICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZ2dyZWdhdGVzIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBvbiBgYWNjdW11bGF0b3JgIHdpdGgga2V5cyB0cmFuc2Zvcm1lZFxuICAgICAqIGJ5IGBpdGVyYXRlZWAgYW5kIHZhbHVlcyBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBZ2dyZWdhdG9yKGNvbGxlY3Rpb24sIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbkluYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25JbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAgICAgKiB2YWx1ZSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXQob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgc2tpcCA9IG9iamVjdCA9PSBudWxsO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gc2tpcCA/IHVuZGVmaW5lZCA6IGdldChvYmplY3QsIHBhdGhzW2luZGV4XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsYW1wYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmIChudW1iZXIgPT09IG51bWJlcikge1xuICAgICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA8PSB1cHBlciA/IG51bWJlciA6IHVwcGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyID49IGxvd2VyID8gbnVtYmVyIDogbG93ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xvbmVgIGFuZCBgXy5jbG9uZURlZXBgIHdoaWNoIHRyYWNrc1xuICAgICAqIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBEZWVwIGNsb25lXG4gICAgICogIDIgLSBGbGF0dGVuIGluaGVyaXRlZCBwcm9wZXJ0aWVzXG4gICAgICogIDQgLSBDbG9uZSBzeW1ib2xzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gVGhlIGtleSBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgcGFyZW50IG9iamVjdCBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBhbmQgdGhlaXIgY2xvbmUgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsb25lKHZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIG9iamVjdCwgc3RhY2spIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgaXNEZWVwID0gYml0bWFzayAmIENMT05FX0RFRVBfRkxBRyxcbiAgICAgICAgICBpc0ZsYXQgPSBiaXRtYXNrICYgQ0xPTkVfRkxBVF9GTEFHLFxuICAgICAgICAgIGlzRnVsbCA9IGJpdG1hc2sgJiBDTE9ORV9TWU1CT0xTX0ZMQUc7XG5cbiAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgIHJlc3VsdCA9IG9iamVjdCA/IGN1c3RvbWl6ZXIodmFsdWUsIGtleSwgb2JqZWN0LCBzdGFjaykgOiBjdXN0b21pemVyKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSk7XG4gICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQXJyYXkodmFsdWUpO1xuICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgIHJldHVybiBjb3B5QXJyYXkodmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgaXNGdW5jID0gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcblxuICAgICAgICBpZiAoaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGNsb25lQnVmZmVyKHZhbHVlLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gb2JqZWN0VGFnIHx8IHRhZyA9PSBhcmdzVGFnIHx8IChpc0Z1bmMgJiYgIW9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSAoaXNGbGF0IHx8IGlzRnVuYykgPyB7fSA6IGluaXRDbG9uZU9iamVjdCh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICAgIHJldHVybiBpc0ZsYXRcbiAgICAgICAgICAgICAgPyBjb3B5U3ltYm9sc0luKHZhbHVlLCBiYXNlQXNzaWduSW4ocmVzdWx0LCB2YWx1ZSkpXG4gICAgICAgICAgICAgIDogY29weVN5bWJvbHModmFsdWUsIGJhc2VBc3NpZ24ocmVzdWx0LCB2YWx1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWNsb25lYWJsZVRhZ3NbdGFnXSkge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdCA/IHZhbHVlIDoge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUJ5VGFnKHZhbHVlLCB0YWcsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIGZvciBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCByZXR1cm4gaXRzIGNvcnJlc3BvbmRpbmcgY2xvbmUuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQodmFsdWUpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQ7XG4gICAgICB9XG4gICAgICBzdGFjay5zZXQodmFsdWUsIHJlc3VsdCk7XG5cbiAgICAgIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSkge1xuICAgICAgICAgIHJlc3VsdC5hZGQoYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdWJWYWx1ZSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc01hcCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgICAgcmVzdWx0LnNldChrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgdmFyIGtleXNGdW5jID0gaXNGdWxsXG4gICAgICAgID8gKGlzRmxhdCA/IGdldEFsbEtleXNJbiA6IGdldEFsbEtleXMpXG4gICAgICAgIDogKGlzRmxhdCA/IGtleXNJbiA6IGtleXMpO1xuXG4gICAgICB2YXIgcHJvcHMgPSBpc0FyciA/IHVuZGVmaW5lZCA6IGtleXNGdW5jKHZhbHVlKTtcbiAgICAgIGFycmF5RWFjaChwcm9wcyB8fCB2YWx1ZSwgZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICBrZXkgPSBzdWJWYWx1ZTtcbiAgICAgICAgICBzdWJWYWx1ZSA9IHZhbHVlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgcG9wdWxhdGUgY2xvbmUgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgYXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zVG9gIHdoaWNoIGFjY2VwdHMgYHByb3BzYCB0byBjaGVjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbbGVuZ3RoXSxcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IHNvdXJjZVtrZXldLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICBpZiAoKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkgfHwgIXByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmRlbGF5YCBhbmQgYF8uZGVmZXJgIHdoaWNoIGFjY2VwdHMgYGFyZ3NgXG4gICAgICogdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGVsYXkoZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgd2FpdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRpZmZlcmVuY2VgIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBleGNsdWRpbmcgbXVsdGlwbGUgYXJyYXlzIG9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHZhbHVlc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFsdWVzID0gYXJyYXlNYXAodmFsdWVzLCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh2YWx1ZXMubGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzID0gbmV3IFNldENhY2hlKHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPT0gbnVsbCA/IHZhbHVlIDogaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHZhbHVlc0luZGV4ID0gdmFsdWVzTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICh2YWx1ZXNJbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzW3ZhbHVlc0luZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXModmFsdWVzLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2ggPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hSaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2hSaWdodCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd25SaWdodCwgdHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ldmVyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFdmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9ICEhcHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLm1heGAgYW5kIGBfLm1pbmAgd2hpY2ggYWNjZXB0cyBhXG4gICAgICogYGNvbXBhcmF0b3JgIHRvIGRldGVybWluZSB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIHVzZWQgdG8gY29tcGFyZSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFeHRyZW11bShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY3VycmVudCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICBpZiAoY3VycmVudCAhPSBudWxsICYmIChjb21wdXRlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKGN1cnJlbnQgPT09IGN1cnJlbnQgJiYgIWlzU3ltYm9sKGN1cnJlbnQpKVxuICAgICAgICAgICAgICA6IGNvbXBhcmF0b3IoY3VycmVudCwgY29tcHV0ZWQpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgdmFyIGNvbXB1dGVkID0gY3VycmVudCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsbGAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBlbmQgPSAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gbGVuZ3RoKSA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVuZCA9IHN0YXJ0ID4gZW5kID8gMCA6IHRvTGVuZ3RoKGVuZCk7XG4gICAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICAgICAgYXJyYXlbc3RhcnQrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWx0ZXJgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmxhdHRlbmAgd2l0aCBzdXBwb3J0IGZvciByZXN0cmljdGluZyBmbGF0dGVuaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVwdGggVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZWRpY2F0ZT1pc0ZsYXR0ZW5hYmxlXSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RyaWN0XSBSZXN0cmljdCB0byB2YWx1ZXMgdGhhdCBwYXNzIGBwcmVkaWNhdGVgIGNoZWNrcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0PVtdXSBUaGUgaW5pdGlhbCByZXN1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSB8fCAocHJlZGljYXRlID0gaXNGbGF0dGVuYWJsZSk7XG4gICAgICByZXN1bHQgfHwgKHJlc3VsdCA9IFtdKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAoZGVwdGggPiAwICYmIHByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAoZGVwdGggPiAxKSB7XG4gICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBmbGF0dGVuIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgICAgYmFzZUZsYXR0ZW4odmFsdWUsIGRlcHRoIC0gMSwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaXNTdHJpY3QpIHtcbiAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICAgICAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUZvcmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzXG4gICAgICogaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yUmlnaHQgPSBjcmVhdGVCYXNlRm9yKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yKG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93blJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JSaWdodChvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mdW5jdGlvbnNgIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXkgb2ZcbiAgICAgKiBgb2JqZWN0YCBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmaWx0ZXJlZCBmcm9tIGBwcm9wc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBmaWx0ZXIuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRnVuY3Rpb25zKG9iamVjdCwgcHJvcHMpIHtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iamVjdFtrZXldKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmdldGAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWZhdWx0IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gICAgICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgICAgIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgICAgIH1cbiAgICAgIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICAgICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmd0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc2Agd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXMob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNJbmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXNJbihvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGtleSBpbiBPYmplY3Qob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pblJhbmdlYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiBudW1iZXIgPj0gbmF0aXZlTWluKHN0YXJ0LCBlbmQpICYmIG51bWJlciA8IG5hdGl2ZU1heChzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCwgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHNoYXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludGVyc2VjdGlvbihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5jbHVkZXMgPSBjb21wYXJhdG9yID8gYXJyYXlJbmNsdWRlc1dpdGggOiBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5c1swXS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aCxcbiAgICAgICAgICBjYWNoZXMgPSBBcnJheShvdGhMZW5ndGgpLFxuICAgICAgICAgIG1heExlbmd0aCA9IEluZmluaXR5LFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAob3RoSW5kZXgtLSkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbb3RoSW5kZXhdO1xuICAgICAgICBpZiAob3RoSW5kZXggJiYgaXRlcmF0ZWUpIHtcbiAgICAgICAgICBhcnJheSA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhMZW5ndGggPSBuYXRpdmVNaW4oYXJyYXkubGVuZ3RoLCBtYXhMZW5ndGgpO1xuICAgICAgICBjYWNoZXNbb3RoSW5kZXhdID0gIWNvbXBhcmF0b3IgJiYgKGl0ZXJhdGVlIHx8IChsZW5ndGggPj0gMTIwICYmIGFycmF5Lmxlbmd0aCA+PSAxMjApKVxuICAgICAgICAgID8gbmV3IFNldENhY2hlKG90aEluZGV4ICYmIGFycmF5KVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJyYXkgPSBhcnJheXNbMF07XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHNlZW4gPSBjYWNoZXNbMF07XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgcmVzdWx0Lmxlbmd0aCA8IG1heExlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmICghKHNlZW5cbiAgICAgICAgICAgICAgPyBjYWNoZUhhcyhzZWVuLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgOiBpbmNsdWRlcyhyZXN1bHQsIGNvbXB1dGVkLCBjb21wYXJhdG9yKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICgtLW90aEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSBjYWNoZXNbb3RoSW5kZXhdO1xuICAgICAgICAgICAgaWYgKCEoY2FjaGVcbiAgICAgICAgICAgICAgICAgID8gY2FjaGVIYXMoY2FjaGUsIGNvbXB1dGVkKVxuICAgICAgICAgICAgICAgICAgOiBpbmNsdWRlcyhhcnJheXNbb3RoSW5kZXhdLCBjb21wdXRlZCwgY29tcGFyYXRvcikpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludmVydGAgYW5kIGBfLmludmVydEJ5YCB3aGljaCBpbnZlcnRzXG4gICAgICogYG9iamVjdGAgd2l0aCB2YWx1ZXMgdHJhbnNmb3JtZWQgYnkgYGl0ZXJhdGVlYCBhbmQgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0gdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCBpdGVyYXRlZSh2YWx1ZSksIGtleSwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludm9rZWAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogbWV0aG9kIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgdmFyIGZ1bmMgPSBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgICByZXR1cm4gZnVuYyA9PSBudWxsID8gdW5kZWZpbmVkIDogYXBwbHkoZnVuYywgb2JqZWN0LCBhcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcnJheUJ1ZmZlcmAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FycmF5QnVmZmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcnJheUJ1ZmZlclRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0RhdGVgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRGF0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gZGF0ZVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gICAgICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gICAgICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICAgICAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gICAgICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICAgICAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICAgICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgfVxuICAgICAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgICAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICAgICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWlzU2FtZVRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hcGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IG1hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hdGNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtBcnJheX0gbWF0Y2hEYXRhIFRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpbmRleCA9IG1hdGNoRGF0YS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gaW5kZXgsXG4gICAgICAgICAgbm9DdXN0b21pemVyID0gIWN1c3RvbWl6ZXI7XG5cbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgICAgICA/IGRhdGFbMV0gIT09IG9iamVjdFtkYXRhWzBdXVxuICAgICAgICAgICAgICA6ICEoZGF0YVswXSBpbiBvYmplY3QpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgICAgIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBzcmNWYWx1ZSA9IGRhdGFbMV07XG5cbiAgICAgICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBuZXcgU3RhY2s7XG4gICAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcsIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgICAgIDogcmVzdWx0XG4gICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1JlZ0V4cGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzUmVnRXhwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSByZWdleHBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNTZXRgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBzZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXRlcmF0ZWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZT1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGl0ZXJhdGVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJdGVyYXRlZSh2YWx1ZSkge1xuICAgICAgLy8gRG9uJ3Qgc3RvcmUgdGhlIGB0eXBlb2ZgIHJlc3VsdCBpbiBhIHZhcmlhYmxlIHRvIGF2b2lkIGEgSklUIGJ1ZyBpbiBTYWZhcmkgOS5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU2MDM0IGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICA/IGJhc2VNYXRjaGVzUHJvcGVydHkodmFsdWVbMF0sIHZhbHVlWzFdKVxuICAgICAgICAgIDogYmFzZU1hdGNoZXModmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnR5KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICAgICAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmx0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hcGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpdGVyYXRlZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2hEYXRhID0gZ2V0TWF0Y2hEYXRhKHNvdXJjZSk7XG4gICAgICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUobWF0Y2hEYXRhWzBdWzBdLCBtYXRjaERhdGFbMF1bMV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNQcm9wZXJ0eWAgd2hpY2ggZG9lc24ndCBjbG9uZSBgc3JjVmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgaWYgKGlzS2V5KHBhdGgpICYmIGlzU3RyaWN0Q29tcGFyYWJsZShzcmNWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKHRvS2V5KHBhdGgpLCBzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IGdldChvYmplY3QsIHBhdGgpO1xuICAgICAgICByZXR1cm4gKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgb2JqVmFsdWUgPT09IHNyY1ZhbHVlKVxuICAgICAgICAgID8gaGFzSW4ob2JqZWN0LCBwYXRoKVxuICAgICAgICAgIDogYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLmxlbmd0aCA/IGl0ZXJhdGVlcyA6IFtpZGVudGl0eV0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlTWFwKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIGNyaXRlcmlhID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyAnY3JpdGVyaWEnOiBjcml0ZXJpYSwgJ2luZGV4JzogKytpbmRleCwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVNvcnRCeShyZXN1bHQsIGZ1bmN0aW9uKG9iamVjdCwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucGlja2Agd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gaGFzSW4ob2JqZWN0LCBwYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mICBgXy5waWNrQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhdGggPSBwYXRoc1tpbmRleF0sXG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblxuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBwYXRoKSkge1xuICAgICAgICAgIGJhc2VTZXQocmVzdWx0LCBjYXN0UGF0aChwYXRoLCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgICAqIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleE9mID0gY29tcGFyYXRvciA/IGJhc2VJbmRleE9mV2l0aCA6IGJhc2VJbmRleE9mLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICBzZWVuID0gYXJyYXk7XG5cbiAgICAgIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcyA9IGNvcHlBcnJheSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHNlZW4gPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZnJvbUluZGV4ID0gMCxcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB3aGlsZSAoKGZyb21JbmRleCA9IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQsIGZyb21JbmRleCwgY29tcGFyYXRvcikpID4gLTEpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gYXJyYXkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBpbmRleGVzIG9yIGNhcHR1cmluZyB0aGUgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBpbmRleGVzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKGxlbmd0aCA9PSBsYXN0SW5kZXggfHwgaW5kZXggIT09IHByZXZpb3VzKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzID0gaW5kZXg7XG4gICAgICAgICAgaWYgKGlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVW5zZXQoYXJyYXksIGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgc3VwcG9ydCBmb3IgcmV0dXJuaW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvd2VyIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgICAgIHJldHVybiBsb3dlciArIG5hdGl2ZUZsb29yKG5hdGl2ZVJhbmRvbSgpICogKHVwcGVyIC0gbG93ZXIgKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZ2VgIGFuZCBgXy5yYW5nZVJpZ2h0YCB3aGljaCBkb2Vzbid0XG4gICAgICogY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcCBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KG5hdGl2ZUNlaWwoKGVuZCAtIHN0YXJ0KSAvIChzdGVwIHx8IDEpKSwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XSA9IHN0YXJ0O1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXBlYXRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVwZWF0KHN0cmluZywgbikge1xuICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgaWYgKCFzdHJpbmcgfHwgbiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIExldmVyYWdlIHRoZSBleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyBhbGdvcml0aG0gZm9yIGEgZmFzdGVyIHJlcGVhdC5cbiAgICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHBvbmVudGlhdGlvbl9ieV9zcXVhcmluZyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgZG8ge1xuICAgICAgICBpZiAobiAlIDIpIHtcbiAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIG4gPSBuYXRpdmVGbG9vcihuIC8gMik7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgc3RyaW5nICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobik7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBhcnJheVNhbXBsZSh2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZVNpemVgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZVNpemUoY29sbGVjdGlvbiwgbikge1xuICAgICAgdmFyIGFycmF5ID0gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGFycmF5LCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxLFxuICAgICAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICAgICAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgICAgIHZhciBvYmpWYWx1ZSA9IG5lc3RlZFtrZXldO1xuICAgICAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpc09iamVjdChvYmpWYWx1ZSlcbiAgICAgICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXREYXRhYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXREYXRhID0gIW1ldGFNYXAgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIGRhdGEpIHtcbiAgICAgIG1ldGFNYXAuc2V0KGZ1bmMsIGRhdGEpO1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2h1ZmZsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gICAgICBzdGFydCA+Pj49IDA7XG5cbiAgICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb21lYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICFyZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleGAgYW5kIGBfLnNvcnRlZExhc3RJbmRleGAgd2hpY2hcbiAgICAgKiBwZXJmb3JtcyBhIGJpbmFyeSBzZWFyY2ggb2YgYGFycmF5YCB0byBkZXRlcm1pbmUgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IGxvdyA6IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PT0gdmFsdWUgJiYgaGlnaCA8PSBIQUxGX01BWF9BUlJBWV9MRU5HVEgpIHtcbiAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGFycmF5W21pZF07XG5cbiAgICAgICAgICBpZiAoY29tcHV0ZWQgIT09IG51bGwgJiYgIWlzU3ltYm9sKGNvbXB1dGVkKSAmJlxuICAgICAgICAgICAgICAocmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSkpKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGlnaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGlkZW50aXR5LCByZXRIaWdoZXN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleEJ5YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4QnlgXG4gICAgICogd2hpY2ggaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlXG4gICAgICogdGhlaXIgc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICB2YWxJc05hTiA9IHZhbHVlICE9PSB2YWx1ZSxcbiAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKSxcbiAgICAgICAgICB2YWxJc1VuZGVmaW5lZCA9IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIHZhciBtaWQgPSBuYXRpdmVGbG9vcigobG93ICsgaGlnaCkgLyAyKSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUoYXJyYXlbbWlkXSksXG4gICAgICAgICAgICBvdGhJc0RlZmluZWQgPSBjb21wdXRlZCAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gY29tcHV0ZWQgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IGNvbXB1dGVkID09PSBjb21wdXRlZCxcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2woY29tcHV0ZWQpO1xuXG4gICAgICAgIGlmICh2YWxJc05hTikge1xuICAgICAgICAgIHZhciBzZXRMb3cgPSByZXRIaWdoZXN0IHx8IG90aElzUmVmbGV4aXZlO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzVW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgKHJldEhpZ2hlc3QgfHwgb3RoSXNEZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc051bGwpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzTnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgIW90aElzTnVsbCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNTeW1ib2wpO1xuICAgICAgICB9IGVsc2UgaWYgKG90aElzTnVsbCB8fCBvdGhJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldExvdyA9IHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRMb3cpIHtcbiAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVNaW4oaGlnaCwgTUFYX0FSUkFZX0lOREVYKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRVbmlxYCBhbmQgYF8uc29ydGVkVW5pcUJ5YCB3aXRob3V0XG4gICAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkVW5pcShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICBpZiAoIWluZGV4IHx8ICFlcShjb21wdXRlZCwgc2VlbikpIHtcbiAgICAgICAgICB2YXIgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlID09PSAwID8gMCA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvTnVtYmVyYCB3aGljaCBkb2Vzbid0IGVuc3VyZSBjb3JyZWN0XG4gICAgICogY29udmVyc2lvbnMgb2YgYmluYXJ5LCBoZXhhZGVjaW1hbCwgb3Igb2N0YWwgc3RyaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIHJldHVybiArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gICAgICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmlxQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5pcShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHNlZW4gPSByZXN1bHQ7XG5cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChsZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICB2YXIgc2V0ID0gaXRlcmF0ZWUgPyBudWxsIDogY3JlYXRlU2V0KGFycmF5KTtcbiAgICAgICAgaWYgKHNldCkge1xuICAgICAgICAgIHJldHVybiBzZXRUb0FycmF5KHNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgc2VlbiA9IG5ldyBTZXRDYWNoZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWVuID0gaXRlcmF0ZWUgPyBbXSA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChzZWVuSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHNlZW5bc2VlbkluZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyhzZWVuLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwcm9wZXJ0eSBwYXRoIHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgfHwgZGVsZXRlIG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udXBkYXRlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICByZXR1cm4gYmFzZVNldChvYmplY3QsIHBhdGgsIHVwZGF0ZXIoYmFzZUdldChvYmplY3QsIHBhdGgpKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRyb3BXaGlsZWAgYW5kIGBfLnRha2VXaGlsZWBcbiAgICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0Ryb3BdIFNwZWNpZnkgZHJvcHBpbmcgZWxlbWVudHMgaW5zdGVhZCBvZiB0YWtpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUsIGlzRHJvcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTE7XG5cbiAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpICYmXG4gICAgICAgIHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHt9XG5cbiAgICAgIHJldHVybiBpc0Ryb3BcbiAgICAgICAgPyBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyAwIDogaW5kZXgpLCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogbGVuZ3RoKSlcbiAgICAgICAgOiBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiAwKSwgKGZyb21SaWdodCA/IGxlbmd0aCA6IGluZGV4KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHdyYXBwZXJWYWx1ZWAgd2hpY2ggcmV0dXJucyB0aGUgcmVzdWx0IG9mXG4gICAgICogcGVyZm9ybWluZyBhIHNlcXVlbmNlIG9mIGFjdGlvbnMgb24gdGhlIHVud3JhcHBlZCBgdmFsdWVgLCB3aGVyZSBlYWNoXG4gICAgICogc3VjY2Vzc2l2ZSBhY3Rpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhY3Rpb25zIEFjdGlvbnMgdG8gcGVyZm9ybSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXcmFwcGVyVmFsdWUodmFsdWUsIGFjdGlvbnMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVJlZHVjZShhY3Rpb25zLCBmdW5jdGlvbihyZXN1bHQsIGFjdGlvbikge1xuICAgICAgICByZXR1cm4gYWN0aW9uLmZ1bmMuYXBwbHkoYWN0aW9uLnRoaXNBcmcsIGFycmF5UHVzaChbcmVzdWx0XSwgYWN0aW9uLmFyZ3MpKTtcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLnhvcmAsIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVhvcihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlVW5pcShhcnJheXNbMF0pIDogW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaW5kZXhdLFxuICAgICAgICAgICAgb3RoSW5kZXggPSAtMTtcblxuICAgICAgICB3aGlsZSAoKytvdGhJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChvdGhJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGJhc2VEaWZmZXJlbmNlKHJlc3VsdFtpbmRleF0gfHwgYXJyYXksIGFycmF5c1tvdGhJbmRleF0sIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihyZXN1bHQsIDEpLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnppcE9iamVjdGAgd2hpY2ggYXNzaWducyB2YWx1ZXMgdXNpbmcgYGFzc2lnbkZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduRnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VaaXBPYmplY3QocHJvcHMsIHZhbHVlcywgYXNzaWduRnVuYykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHZhbHNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpbmRleCA8IHZhbHNMZW5ndGggPyB2YWx1ZXNbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgICBhc3NpZ25GdW5jKHJlc3VsdCwgcHJvcHNbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYW4gZW1wdHkgYXJyYXkgaWYgaXQncyBub3QgYW4gYXJyYXkgbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpID8gdmFsdWUgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGBpZGVudGl0eWAgaWYgaXQncyBub3QgYSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgY2FzdCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0RnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0tleSh2YWx1ZSwgb2JqZWN0KSA/IFt2YWx1ZV0gOiBzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGBiYXNlUmVzdGAgYWxpYXMgd2hpY2ggY2FuIGJlIHJlcGxhY2VkIHdpdGggYGlkZW50aXR5YCBieSBtb2R1bGVcbiAgICAgKiByZXBsYWNlbWVudCBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgY2FzdFJlc3QgPSBiYXNlUmVzdDtcblxuICAgIC8qKlxuICAgICAqIENhc3RzIGBhcnJheWAgdG8gYSBzbGljZSBpZiBpdCdzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHNsaWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kO1xuICAgICAgcmV0dXJuICghc3RhcnQgJiYgZW5kID49IGxlbmd0aCkgPyBhcnJheSA6IGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYGNsZWFyVGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL2NsZWFyVGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfE9iamVjdH0gaWQgVGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0IG9mIHRoZSB0aW1lciB0byBjbGVhci5cbiAgICAgKi9cbiAgICB2YXIgY2xlYXJUaW1lb3V0ID0gY3R4Q2xlYXJUaW1lb3V0IHx8IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gcm9vdC5jbGVhclRpbWVvdXQoaWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGRhdGFWaWV3YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFWaWV3IFRoZSBkYXRhIHZpZXcgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgZGF0YSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIoZGF0YVZpZXcuYnVmZmVyKSA6IGRhdGFWaWV3LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgZGF0YVZpZXcuY29uc3RydWN0b3IoYnVmZmVyLCBkYXRhVmlldy5ieXRlT2Zmc2V0LCBkYXRhVmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHJlZ2V4cGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWdleHAgVGhlIHJlZ2V4cCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgcmVnZXhwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lUmVnRXhwKHJlZ2V4cCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyByZWdleHAuY29uc3RydWN0b3IocmVnZXhwLnNvdXJjZSwgcmVGbGFncy5leGVjKHJlZ2V4cCkpO1xuICAgICAgcmVzdWx0Lmxhc3RJbmRleCA9IHJlZ2V4cC5sYXN0SW5kZXg7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgYHN5bWJvbGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3ltYm9sIFRoZSBzeW1ib2wgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBzeW1ib2wgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lU3ltYm9sKHN5bWJvbCkge1xuICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YgPyBPYmplY3Qoc3ltYm9sVmFsdWVPZi5jYWxsKHN5bWJvbCkpIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdmFsdWVzIHRvIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYHZhbHVlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKHZhbHVlLCBvdGhlcikge1xuICAgICAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgICAgICB2YXIgdmFsSXNEZWZpbmVkID0gdmFsdWUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgICAgdmFsSXNSZWZsZXhpdmUgPSB2YWx1ZSA9PT0gdmFsdWUsXG4gICAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKTtcblxuICAgICAgICB2YXIgb3RoSXNEZWZpbmVkID0gb3RoZXIgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IG90aGVyID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXIsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKG90aGVyKTtcblxuICAgICAgICBpZiAoKCFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sICYmICF2YWxJc1N5bWJvbCAmJiB2YWx1ZSA+IG90aGVyKSB8fFxuICAgICAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgICh2YWxJc051bGwgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCF2YWxJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgICAgICAgKG90aElzU3ltYm9sICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSAmJiAhdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgIChvdGhJc051bGwgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhb3RoSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub3JkZXJCeWAgdG8gY29tcGFyZSBtdWx0aXBsZSBwcm9wZXJ0aWVzIG9mIGEgdmFsdWUgdG8gYW5vdGhlclxuICAgICAqIGFuZCBzdGFibGUgc29ydCB0aGVtLlxuICAgICAqXG4gICAgICogSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSxcbiAgICAgKiBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvciBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyXG4gICAgICogb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFuW118c3RyaW5nW119IG9yZGVycyBUaGUgb3JkZXIgdG8gc29ydCBieSBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgb2JqQ3JpdGVyaWEgPSBvYmplY3QuY3JpdGVyaWEsXG4gICAgICAgICAgb3RoQ3JpdGVyaWEgPSBvdGhlci5jcml0ZXJpYSxcbiAgICAgICAgICBsZW5ndGggPSBvYmpDcml0ZXJpYS5sZW5ndGgsXG4gICAgICAgICAgb3JkZXJzTGVuZ3RoID0gb3JkZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2NlbmRpbmcob2JqQ3JpdGVyaWFbaW5kZXhdLCBvdGhDcml0ZXJpYVtpbmRleF0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGluZGV4ID49IG9yZGVyc0xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG9yZGVyID0gb3JkZXJzW2luZGV4XTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKG9yZGVyID09ICdkZXNjJyA/IC0xIDogMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgICAgIC8vIHRoYXQgY2F1c2VzIGl0LCB1bmRlciBjZXJ0YWluIGNpcmN1bXN0YW5jZXMsIHRvIHByb3ZpZGUgdGhlIHNhbWUgdmFsdWUgZm9yXG4gICAgICAvLyBgb2JqZWN0YCBhbmQgYG90aGVyYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9wdWxsLzEyNDdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBhbHNvIGVuc3VyZXMgYSBzdGFibGUgc29ydCBpbiBWOCBhbmQgb3RoZXIgZW5naW5lcy5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdC5pbmRleCAtIG90aGVyLmluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLFxuICAgICAqIHBsYWNlaG9sZGVycywgYW5kIHByb3ZpZGVkIGFyZ3VtZW50cyBpbnRvIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVmdExlbmd0aCArIHJhbmdlTGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtob2xkZXJzW2FyZ3NJbmRleF1dID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAocmFuZ2VMZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4KytdID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgY29tcG9zZUFyZ3NgIGV4Y2VwdCB0aGF0IHRoZSBhcmd1bWVudHMgY29tcG9zaXRpb25cbiAgICAgKiBpcyB0YWlsb3JlZCBmb3IgYF8ucGFydGlhbFJpZ2h0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0luZGV4ID0gLTEsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIHJpZ2h0SW5kZXggPSAtMSxcbiAgICAgICAgICByaWdodExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkocmFuZ2VMZW5ndGggKyByaWdodExlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCByYW5nZUxlbmd0aCkge1xuICAgICAgICByZXN1bHRbYXJnc0luZGV4XSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgIH1cbiAgICAgIHZhciBvZmZzZXQgPSBhcmdzSW5kZXg7XG4gICAgICB3aGlsZSAoKytyaWdodEluZGV4IDwgcmlnaHRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIHJpZ2h0SW5kZXhdID0gcGFydGlhbHNbcmlnaHRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytob2xkZXJzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W29mZnNldCArIGhvbGRlcnNbaG9sZGVyc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgICAgIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gICAgICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIGFuZCBpbmhlcml0ZWQgc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzSW4oc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9sc0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uZ3JvdXBCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaW5pdGlhbGl6ZXJdIFRoZSBhY2N1bXVsYXRvciBvYmplY3QgaW5pdGlhbGl6ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWdncmVnYXRvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBZ2dyZWdhdG9yKHNldHRlciwgaW5pdGlhbGl6ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUFnZ3JlZ2F0b3IgOiBiYXNlQWdncmVnYXRvcixcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yID0gaW5pdGlhbGl6ZXIgPyBpbml0aWFsaXplcigpIDoge307XG5cbiAgICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgc2V0dGVyLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGFjY3VtdWxhdG9yKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBiYXNlRWFjaGAgb3IgYGJhc2VFYWNoUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VFYWNoKGVhY2hGdW5jLCBmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLCBpdGVyYXRlZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ubG93ZXJGaXJzdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgU3RyaW5nYCBjYXNlIG1ldGhvZCB0byB1c2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXNlRmlyc3QobWV0aG9kTmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICAgICAgPyBzdHJpbmdUb0FycmF5KHN0cmluZylcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgY2hyID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gc3RyU3ltYm9sc1swXVxuICAgICAgICAgIDogc3RyaW5nLmNoYXJBdCgwKTtcblxuICAgICAgICB2YXIgdHJhaWxpbmcgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMSkuam9pbignJylcbiAgICAgICAgICA6IHN0cmluZy5zbGljZSgxKTtcblxuICAgICAgICByZXR1cm4gY2hyW21ldGhvZE5hbWVdKCkgKyB0cmFpbGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uY2FtZWxDYXNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmUgZWFjaCB3b3JkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvdW5kZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29tcG91bmRlcihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIGFuIGluc3RhbmNlIG9mIGBDdG9yYCByZWdhcmRsZXNzIG9mXG4gICAgICogd2hldGhlciBpdCB3YXMgaW52b2tlZCBhcyBwYXJ0IG9mIGEgYG5ld2AgZXhwcmVzc2lvbiBvciBieSBgY2FsbGAgb3IgYGFwcGx5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ3RvciBUaGUgY29uc3RydWN0b3IgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN0b3IoQ3Rvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBVc2UgYSBgc3dpdGNoYCBzdGF0ZW1lbnQgdG8gd29yayB3aXRoIGNsYXNzIGNvbnN0cnVjdG9ycy4gU2VlXG4gICAgICAgIC8vIGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtZnVuY3Rpb24tb2JqZWN0cy1jYWxsLXRoaXNhcmd1bWVudC1hcmd1bWVudHNsaXN0XG4gICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEN0b3I7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgY2FzZSA0OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgICAgY2FzZSA1OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7XG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgY2FzZSA3OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSwgYXJnc1s2XSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShDdG9yLnByb3RvdHlwZSksXG4gICAgICAgICAgICByZXN1bHQgPSBDdG9yLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcblxuICAgICAgICAvLyBNaW1pYyB0aGUgY29uc3RydWN0b3IncyBgcmV0dXJuYCBiZWhhdmlvci5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDEzLjIuMiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gZW5hYmxlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFyaXR5IFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSkge1xuICAgICAgdmFyIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKTtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9sZGVycyA9IChsZW5ndGggPCAzICYmIGFyZ3NbMF0gIT09IHBsYWNlaG9sZGVyICYmIGFyZ3NbbGVuZ3RoIC0gMV0gIT09IHBsYWNlaG9sZGVyKVxuICAgICAgICAgID8gW11cbiAgICAgICAgICA6IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcblxuICAgICAgICBsZW5ndGggLT0gaG9sZGVycy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB1bmRlZmluZWQsXG4gICAgICAgICAgICBhcmdzLCBob2xkZXJzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkgLSBsZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmluZGAgb3IgYF8uZmluZExhc3RgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kSW5kZXhGdW5jIFRoZSBmdW5jdGlvbiB0byBmaW5kIHRoZSBjb2xsZWN0aW9uIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZpbmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmluZChmaW5kSW5kZXhGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgICAgdmFyIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgICBwcmVkaWNhdGUgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpOyB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleEZ1bmMoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPiAtMSA/IGl0ZXJhYmxlW2l0ZXJhdGVlID8gY29sbGVjdGlvbltpbmRleF0gOiBpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5mbG93YCBvciBgXy5mbG93UmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbG93IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZsb3coZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oZnVuY3MpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcHJlcmVxID0gTG9kYXNoV3JhcHBlci5wcm90b3R5cGUudGhydTtcblxuICAgICAgICBpZiAoZnJvbVJpZ2h0KSB7XG4gICAgICAgICAgZnVuY3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgdmFyIGZ1bmMgPSBmdW5jc1tpbmRleF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByZXJlcSAmJiAhd3JhcHBlciAmJiBnZXRGdW5jTmFtZShmdW5jKSA9PSAnd3JhcHBlcicpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gbmV3IExvZGFzaFdyYXBwZXIoW10sIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IHdyYXBwZXIgPyBpbmRleCA6IGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBmdW5jID0gZnVuY3NbaW5kZXhdO1xuXG4gICAgICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgICAgIGRhdGEgPSBmdW5jTmFtZSA9PSAnd3JhcHBlcicgPyBnZXREYXRhKGZ1bmMpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKGRhdGEgJiYgaXNMYXppYWJsZShkYXRhWzBdKSAmJlxuICAgICAgICAgICAgICAgIGRhdGFbMV0gPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykgJiZcbiAgICAgICAgICAgICAgICAhZGF0YVs0XS5sZW5ndGggJiYgZGF0YVs5XSA9PSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgd3JhcHBlciA9IHdyYXBwZXJbZ2V0RnVuY05hbWUoZGF0YVswXSldLmFwcGx5KHdyYXBwZXIsIGRhdGFbM10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gKGZ1bmMubGVuZ3RoID09IDEgJiYgaXNMYXppYWJsZShmdW5jKSlcbiAgICAgICAgICAgICAgPyB3cmFwcGVyW2Z1bmNOYW1lXSgpXG4gICAgICAgICAgICAgIDogd3JhcHBlci50aHJ1KGZ1bmMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICAgIHZhbHVlID0gYXJnc1swXTtcblxuICAgICAgICAgIGlmICh3cmFwcGVyICYmIGFyZ3MubGVuZ3RoID09IDEgJiYgaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLnBsYW50KHZhbHVlKS52YWx1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgICAgICByZXN1bHQgPSBsZW5ndGggPyBmdW5jc1tpbmRleF0uYXBwbHkodGhpcywgYXJncykgOiB2YWx1ZTtcblxuICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jc1tpbmRleF0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLCBwYXJ0aWFsIGFwcGxpY2F0aW9uLCBhbmQgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc1JpZ2h0XSBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZFxuICAgICAqICB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzUmlnaHRdIFRoZSBgcGFydGlhbHNSaWdodGAgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVIeWJyaWQoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNBcnkgPSBiaXRtYXNrICYgV1JBUF9BUllfRkxBRyxcbiAgICAgICAgICBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRyxcbiAgICAgICAgICBpc0N1cnJpZWQgPSBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyksXG4gICAgICAgICAgaXNGbGlwID0gYml0bWFzayAmIFdSQVBfRkxJUF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ3VycmllZCkge1xuICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKSxcbiAgICAgICAgICAgICAgaG9sZGVyc0NvdW50ID0gY291bnRIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHMpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzUmlnaHQpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnNDb3VudDtcbiAgICAgICAgaWYgKGlzQ3VycmllZCAmJiBsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHZhciBuZXdIb2xkZXJzID0gcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB0aGlzQXJnLFxuICAgICAgICAgICAgYXJncywgbmV3SG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5IC0gbGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcyxcbiAgICAgICAgICAgIGZuID0gaXNCaW5kS2V5ID8gdGhpc0JpbmRpbmdbZnVuY10gOiBmdW5jO1xuXG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgICBpZiAoYXJnUG9zKSB7XG4gICAgICAgICAgYXJncyA9IHJlb3JkZXIoYXJncywgYXJnUG9zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZsaXAgJiYgbGVuZ3RoID4gMSkge1xuICAgICAgICAgIGFyZ3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FyeSAmJiBhcnkgPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzLmxlbmd0aCA9IGFyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSB7XG4gICAgICAgICAgZm4gPSBDdG9yIHx8IGNyZWF0ZUN0b3IoZm4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5pbnZlcnRCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0b0l0ZXJhdGVlIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZlcnRlcihzZXR0ZXIsIHRvSXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIHRvSXRlcmF0ZWUoaXRlcmF0ZWUpLCB7fSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgdXNlZCBmb3IgYHVuZGVmaW5lZGAgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlTWF0aE9wZXJhdGlvbihvcGVyYXRvciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIG90aGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvU3RyaW5nKG90aGVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9OdW1iZXIob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLm92ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhcnJheUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgb3ZlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVPdmVyKGFycmF5RnVuYykge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGl0ZXJhdGVlcykge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG4gICAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgdmFyIHRoaXNBcmcgPSB0aGlzO1xuICAgICAgICAgIHJldHVybiBhcnJheUZ1bmMoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYCBiYXNlZCBvbiBgbGVuZ3RoYC4gVGhlIGBjaGFyc2Agc3RyaW5nXG4gICAgICogaXMgdHJ1bmNhdGVkIGlmIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBleGNlZWRzIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFkZGluZyhsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBjaGFycyA9IGNoYXJzID09PSB1bmRlZmluZWQgPyAnICcgOiBiYXNlVG9TdHJpbmcoY2hhcnMpO1xuXG4gICAgICB2YXIgY2hhcnNMZW5ndGggPSBjaGFycy5sZW5ndGg7XG4gICAgICBpZiAoY2hhcnNMZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBjaGFyc0xlbmd0aCA/IGJhc2VSZXBlYXQoY2hhcnMsIGxlbmd0aCkgOiBjaGFycztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlUmVwZWF0KGNoYXJzLCBuYXRpdmVDZWlsKGxlbmd0aCAvIHN0cmluZ1NpemUoY2hhcnMpKSk7XG4gICAgICByZXR1cm4gaGFzVW5pY29kZShjaGFycylcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShyZXN1bHQpLCAwLCBsZW5ndGgpLmpvaW4oJycpXG4gICAgICAgIDogcmVzdWx0LnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZ1xuICAgICAqIG9mIGB0aGlzQXJnYCBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVmdExlbmd0aCArIGFyZ3NMZW5ndGgpLFxuICAgICAgICAgICAgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuXG4gICAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChhcmdzTGVuZ3RoLS0pIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleCsrXSA9IGFyZ3VtZW50c1srK2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8ucmFuZ2VgIG9yIGBfLnJhbmdlUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByYW5nZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSYW5nZShmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICAgIGlmIChzdGVwICYmIHR5cGVvZiBzdGVwICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0YXJ0LCBlbmQsIHN0ZXApKSB7XG4gICAgICAgICAgZW5kID0gc3RlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgdGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gKHN0YXJ0IDwgZW5kID8gMSA6IC0xKSA6IHRvRmluaXRlKHN0ZXApO1xuICAgICAgICByZXR1cm4gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcmVsYXRpb25hbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZWxhdGlvbmFsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKG9wZXJhdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgb3RoZXIgPSB0b051bWJlcihvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBjb250aW51ZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBGdW5jIFRoZSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGBmdW5jYCB3cmFwcGVyLlxuICAgICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWN1cnJ5KGZ1bmMsIGJpdG1hc2ssIHdyYXBGdW5jLCBwbGFjZWhvbGRlciwgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQ3VycnkgPSBiaXRtYXNrICYgV1JBUF9DVVJSWV9GTEFHLFxuICAgICAgICAgIG5ld0hvbGRlcnMgPSBpc0N1cnJ5ID8gaG9sZGVycyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdIb2xkZXJzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogaG9sZGVycyxcbiAgICAgICAgICBuZXdQYXJ0aWFscyA9IGlzQ3VycnkgPyBwYXJ0aWFscyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdQYXJ0aWFsc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IHBhcnRpYWxzO1xuXG4gICAgICBiaXRtYXNrIHw9IChpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX0ZMQUcgOiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICBiaXRtYXNrICY9IH4oaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHIDogV1JBUF9QQVJUSUFMX0ZMQUcpO1xuXG4gICAgICBpZiAoIShiaXRtYXNrICYgV1JBUF9DVVJSWV9CT1VORF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIG5ld1BhcnRpYWxzLCBuZXdIb2xkZXJzLCBuZXdQYXJ0aWFsc1JpZ2h0LFxuICAgICAgICBuZXdIb2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHdyYXBGdW5jLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICBpZiAoaXNMYXppYWJsZShmdW5jKSkge1xuICAgICAgICBzZXREYXRhKHJlc3VsdCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcocmVzdWx0LCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5yb3VuZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgTWF0aGAgbWV0aG9kIHRvIHVzZSB3aGVuIHJvdW5kaW5nLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJvdW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJvdW5kKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gTWF0aFttZXRob2ROYW1lXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihudW1iZXIsIHByZWNpc2lvbikge1xuICAgICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gPT0gbnVsbCA/IDAgOiBuYXRpdmVNaW4odG9JbnRlZ2VyKHByZWNpc2lvbiksIDI5Mik7XG4gICAgICAgIGlmIChwcmVjaXNpb24pIHtcbiAgICAgICAgICAvLyBTaGlmdCB3aXRoIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGF2b2lkIGZsb2F0aW5nLXBvaW50IGlzc3Vlcy5cbiAgICAgICAgICAvLyBTZWUgW01ETl0oaHR0cHM6Ly9tZG4uaW8vcm91bmQjRXhhbXBsZXMpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgdmFyIHBhaXIgPSAodG9TdHJpbmcobnVtYmVyKSArICdlJykuc3BsaXQoJ2UnKSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gKyBwcmVjaXNpb24pKTtcblxuICAgICAgICAgIHBhaXIgPSAodG9TdHJpbmcodmFsdWUpICsgJ2UnKS5zcGxpdCgnZScpO1xuICAgICAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYyhudW1iZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0IG9iamVjdCBvZiBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYWRkIHRvIHRoZSBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHNldC5cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlU2V0ID0gIShTZXQgJiYgKDEgLyBzZXRUb0FycmF5KG5ldyBTZXQoWywtMF0pKVsxXSkgPT0gSU5GSU5JVFkpID8gbm9vcCA6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIG5ldyBTZXQodmFsdWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnRvUGFpcnNgIG9yIGBfLnRvUGFpcnNJbmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFpcnMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVG9QYWlycyhrZXlzRnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgICAgIGlmICh0YWcgPT0gbWFwVGFnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcFRvQXJyYXkob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IHNldFRhZykge1xuICAgICAgICAgIHJldHVybiBzZXRUb1BhaXJzKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUb1BhaXJzKG9iamVjdCwga2V5c0Z1bmMob2JqZWN0KSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgIHdpdGggb3B0aW9uYWxcbiAgICAgKiBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgICAxIC0gYF8uYmluZGBcbiAgICAgKiAgICAyIC0gYF8uYmluZEtleWBcbiAgICAgKiAgICA0IC0gYF8uY3VycnlgIG9yIGBfLmN1cnJ5UmlnaHRgIG9mIGEgYm91bmQgZnVuY3Rpb25cbiAgICAgKiAgICA4IC0gYF8uY3VycnlgXG4gICAgICogICAxNiAtIGBfLmN1cnJ5UmlnaHRgXG4gICAgICogICAzMiAtIGBfLnBhcnRpYWxgXG4gICAgICogICA2NCAtIGBfLnBhcnRpYWxSaWdodGBcbiAgICAgKiAgMTI4IC0gYF8ucmVhcmdgXG4gICAgICogIDI1NiAtIGBfLmFyeWBcbiAgICAgKiAgNTEyIC0gYF8uZmxpcGBcbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgdHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGFydGlhbHMgPyBwYXJ0aWFscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnkgPSBhcnkgPT09IHVuZGVmaW5lZCA/IGFyeSA6IG5hdGl2ZU1heCh0b0ludGVnZXIoYXJ5KSwgMCk7XG4gICAgICBhcml0eSA9IGFyaXR5ID09PSB1bmRlZmluZWQgPyBhcml0eSA6IHRvSW50ZWdlcihhcml0eSk7XG4gICAgICBsZW5ndGggLT0gaG9sZGVycyA/IGhvbGRlcnMubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKGJpdG1hc2sgJiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRykge1xuICAgICAgICB2YXIgcGFydGlhbHNSaWdodCA9IHBhcnRpYWxzLFxuICAgICAgICAgICAgaG9sZGVyc1JpZ2h0ID0gaG9sZGVycztcblxuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGdldERhdGEoZnVuYyk7XG5cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LFxuICAgICAgICBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIG1lcmdlRGF0YShuZXdEYXRhLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGZ1bmMgPSBuZXdEYXRhWzBdO1xuICAgICAgYml0bWFzayA9IG5ld0RhdGFbMV07XG4gICAgICB0aGlzQXJnID0gbmV3RGF0YVsyXTtcbiAgICAgIHBhcnRpYWxzID0gbmV3RGF0YVszXTtcbiAgICAgIGhvbGRlcnMgPSBuZXdEYXRhWzRdO1xuICAgICAgYXJpdHkgPSBuZXdEYXRhWzldID0gbmV3RGF0YVs5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKGlzQmluZEtleSA/IDAgOiBmdW5jLmxlbmd0aClcbiAgICAgICAgOiBuYXRpdmVNYXgobmV3RGF0YVs5XSAtIGxlbmd0aCwgMCk7XG5cbiAgICAgIGlmICghYXJpdHkgJiYgYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpO1xuICAgICAgfVxuICAgICAgaWYgKCFiaXRtYXNrIHx8IGJpdG1hc2sgPT0gV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZyk7XG4gICAgICB9IGVsc2UgaWYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHIHx8IGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KTtcbiAgICAgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gV1JBUF9QQVJUSUFMX0ZMQUcgfHwgYml0bWFzayA9PSAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRykpICYmICFob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUh5YnJpZC5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgdmFyIHNldHRlciA9IGRhdGEgPyBiYXNlU2V0RGF0YSA6IHNldERhdGE7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHNldHRlcihyZXN1bHQsIG5ld0RhdGEpLCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzYCB0byBjdXN0b21pemUgaXRzIGBfLmFzc2lnbkluYCB1c2UgdG8gYXNzaWduIHByb3BlcnRpZXNcbiAgICAgKiBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllc1xuICAgICAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoZXEob2JqVmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgcmV0dXJuIHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNEZWVwYCB0byBjdXN0b21pemUgaXRzIGBfLm1lcmdlYCB1c2UgdG8gbWVyZ2Ugc291cmNlXG4gICAgICogb2JqZWN0cyBpbnRvIGRlc3RpbmF0aW9uIG9iamVjdHMgdGhhdCBhcmUgcGFzc2VkIHRocnUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBzcmNWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob2JqVmFsdWUpICYmIGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBvYmpWYWx1ZSk7XG4gICAgICAgIGJhc2VNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub21pdGAgdG8gY3VzdG9taXplIGl0cyBgXy5jbG9uZURlZXBgIHVzZSB0byBvbmx5IGNsb25lIHBsYWluXG4gICAgICogb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVuY2xvbmVkIHZhbHVlIG9yIGB1bmRlZmluZWRgIHRvIGRlZmVyIGNsb25pbmcgdG8gYF8uY2xvbmVEZWVwYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21PbWl0Q2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICAgICAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgICAgIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gICAgICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICAgICAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICAgICAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICAgICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgICAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgICAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICAgICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCBmbGF0dGVucyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0UmVzdChmdW5jKSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgdW5kZWZpbmVkLCBmbGF0dGVuKSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNJbiwgZ2V0U3ltYm9sc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBnZXREYXRhID0gIW1ldGFNYXAgPyBub29wIDogZnVuY3Rpb24oZnVuYykge1xuICAgICAgcmV0dXJuIG1ldGFNYXAuZ2V0KGZ1bmMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYW1lIG9mIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGdW5jTmFtZShmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gKGZ1bmMubmFtZSArICcnKSxcbiAgICAgICAgICBhcnJheSA9IHJlYWxOYW1lc1tyZXN1bHRdLFxuICAgICAgICAgIGxlbmd0aCA9IGhhc093blByb3BlcnR5LmNhbGwocmVhbE5hbWVzLCByZXN1bHQpID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXJyYXlbbGVuZ3RoXSxcbiAgICAgICAgICAgIG90aGVyRnVuYyA9IGRhdGEuZnVuYztcbiAgICAgICAgaWYgKG90aGVyRnVuYyA9PSBudWxsIHx8IG90aGVyRnVuYyA9PSBmdW5jKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcmd1bWVudCBwbGFjZWhvbGRlciB2YWx1ZSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIb2xkZXIoZnVuYykge1xuICAgICAgdmFyIG9iamVjdCA9IGhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLCAncGxhY2Vob2xkZXInKSA/IGxvZGFzaCA6IGZ1bmM7XG4gICAgICByZXR1cm4gb2JqZWN0LnBsYWNlaG9sZGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFwcHJvcHJpYXRlIFwiaXRlcmF0ZWVcIiBmdW5jdGlvbi4gSWYgYF8uaXRlcmF0ZWVgIGlzIGN1c3RvbWl6ZWQsXG4gICAgICogdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBjdXN0b20gbWV0aG9kLCBvdGhlcndpc2UgaXQgcmV0dXJucyBgYmFzZUl0ZXJhdGVlYC5cbiAgICAgKiBJZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLCB0aGUgY2hvc2VuIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aGVtIGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgdGhlIGNyZWF0ZWQgaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjaG9zZW4gZnVuY3Rpb24gb3IgaXRzIHJlc3VsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRlZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2guaXRlcmF0ZWUgfHwgaXRlcmF0ZWU7XG4gICAgICByZXN1bHQgPSByZXN1bHQgPT09IGl0ZXJhdGVlID8gYmFzZUl0ZXJhdGVlIDogcmVzdWx0O1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyByZXN1bHQoYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0pIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICAgICAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gICAgICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICAgICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICAgICAgOiBkYXRhLm1hcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXRjaERhdGEob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIHJlc3VsdFtsZW5ndGhdID0gW2tleSwgdmFsdWUsIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgICAgIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIGlmICh1bm1hc2tlZCkge1xuICAgICAgICBpZiAoaXNPd24pIHtcbiAgICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgICAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzSW4gPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgd2hpbGUgKG9iamVjdCkge1xuICAgICAgICBhcnJheVB1c2gocmVzdWx0LCBnZXRTeW1ib2xzKG9iamVjdCkpO1xuICAgICAgICBvYmplY3QgPSBnZXRQcm90b3R5cGUob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuICAgIC8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbiAgICBpZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAgICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgICAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgICAgIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICAgICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2aWV3LCBhcHBseWluZyBhbnkgYHRyYW5zZm9ybXNgIHRvIHRoZSBgc3RhcnRgIGFuZCBgZW5kYCBwb3NpdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybXMgVGhlIHRyYW5zZm9ybWF0aW9ucyB0byBhcHBseSB0byB0aGUgdmlldy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBgc3RhcnRgIGFuZCBgZW5kYFxuICAgICAqICBwb3NpdGlvbnMgb2YgdGhlIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VmlldyhzdGFydCwgZW5kLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0cmFuc2Zvcm1zW2luZGV4XSxcbiAgICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdkcm9wJzogICAgICBzdGFydCArPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICdkcm9wUmlnaHQnOiBlbmQgLT0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZSc6ICAgICAgZW5kID0gbmF0aXZlTWluKGVuZCwgc3RhcnQgKyBzaXplKTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZVJpZ2h0Jzogc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQsIGVuZCAtIHNpemUpOyBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgJ3N0YXJ0Jzogc3RhcnQsICdlbmQnOiBlbmQgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB3cmFwcGVyIGRldGFpbHMgZnJvbSB0aGUgYHNvdXJjZWAgYm9keSBjb21tZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdyYXBwZXIgZGV0YWlscy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRXcmFwRGV0YWlscyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaCA9IHNvdXJjZS5tYXRjaChyZVdyYXBEZXRhaWxzKTtcbiAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KHJlU3BsaXREZXRhaWxzKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgZXhpc3RzIG9uIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2sgcHJvcGVydGllcy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBoYXNGdW5jKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSk7XG4gICAgICAgIGlmICghKHJlc3VsdCA9IG9iamVjdCAhPSBudWxsICYmIGhhc0Z1bmMob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCB8fCArK2luZGV4ICE9IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgbGVuZ3RoID0gb2JqZWN0ID09IG51bGwgPyAwIDogb2JqZWN0Lmxlbmd0aDtcbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJiBpc0xlbmd0aChsZW5ndGgpICYmIGlzSW5kZXgoa2V5LCBsZW5ndGgpICYmXG4gICAgICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gYXJyYXkgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUFycmF5KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IG5ldyBhcnJheS5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICAvLyBBZGQgcHJvcGVydGllcyBhc3NpZ25lZCBieSBgUmVnRXhwI2V4ZWNgLlxuICAgICAgaWYgKGxlbmd0aCAmJiB0eXBlb2YgYXJyYXlbMF0gPT0gJ3N0cmluZycgJiYgaGFzT3duUHJvcGVydHkuY2FsbChhcnJheSwgJ2luZGV4JykpIHtcbiAgICAgICAgcmVzdWx0LmluZGV4ID0gYXJyYXkuaW5kZXg7XG4gICAgICAgIHJlc3VsdC5pbnB1dCA9IGFycmF5LmlucHV0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZSBiYXNlZCBvbiBpdHMgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY2xvbmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBNYXBgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIGBTZXRgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUJ5VGFnKG9iamVjdCwgdGFnLCBpc0RlZXApIHtcbiAgICAgIHZhciBDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3Rvcigrb2JqZWN0KTtcblxuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZURhdGFWaWV3KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIGZsb2F0MzJUYWc6IGNhc2UgZmxvYXQ2NFRhZzpcbiAgICAgICAgY2FzZSBpbnQ4VGFnOiBjYXNlIGludDE2VGFnOiBjYXNlIGludDMyVGFnOlxuICAgICAgICBjYXNlIHVpbnQ4VGFnOiBjYXNlIHVpbnQ4Q2xhbXBlZFRhZzogY2FzZSB1aW50MTZUYWc6IGNhc2UgdWludDMyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVR5cGVkQXJyYXkob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lUmVnRXhwKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVN5bWJvbChvYmplY3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgd3JhcHBlciBgZGV0YWlsc2AgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIGBzb3VyY2VgIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIGluc2VydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzb3VyY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCBkZXRhaWxzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZGV0YWlscy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBkZXRhaWxzW2xhc3RJbmRleF0gPSAobGVuZ3RoID4gMSA/ICcmICcgOiAnJykgKyBkZXRhaWxzW2xhc3RJbmRleF07XG4gICAgICBkZXRhaWxzID0gZGV0YWlscy5qb2luKGxlbmd0aCA+IDIgPyAnLCAnIDogJyAnKTtcbiAgICAgIHJldHVybiBzb3VyY2UucmVwbGFjZShyZVdyYXBDb21tZW50LCAne1xcbi8qIFt3cmFwcGVkIHdpdGggJyArIGRldGFpbHMgKyAnXSAqL1xcbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmxhdHRlbmFibGUgYGFyZ3VtZW50c2Agb2JqZWN0IG9yIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmbGF0dGVuYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmxhdHRlbmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkgfHxcbiAgICAgICAgISEoc3ByZWFkYWJsZVN5bWJvbCAmJiB2YWx1ZSAmJiB2YWx1ZVtzcHJlYWRhYmxlU3ltYm9sXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICAgICAgKSB7XG4gICAgICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lIGFuZCBub3QgYSBwcm9wZXJ0eSBwYXRoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgfHxcbiAgICAgICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAgICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgICAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgICAgIDogKHZhbHVlID09PSBudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGF6aWFibGUoZnVuYykge1xuICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgb3RoZXIgPSBsb2Rhc2hbZnVuY05hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIG90aGVyICE9ICdmdW5jdGlvbicgfHwgIShmdW5jTmFtZSBpbiBMYXp5V3JhcHBlci5wcm90b3R5cGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChmdW5jID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gZ2V0RGF0YShvdGhlcik7XG4gICAgICByZXR1cm4gISFkYXRhICYmIGZ1bmMgPT09IGRhdGFbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICAgICAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGlzIGNhcGFibGUgb2YgYmVpbmcgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2thYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgdmFyIGlzTWFza2FibGUgPSBjb3JlSnNEYXRhID8gaXNGdW5jdGlvbiA6IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgICAgIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaWYgc3VpdGFibGUgZm9yIHN0cmljdFxuICAgICAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgbWF0Y2hlc1Byb3BlcnR5YCBmb3Igc291cmNlIHZhbHVlcyBzdWl0YWJsZVxuICAgICAqIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUoa2V5LCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdFtrZXldID09PSBzcmNWYWx1ZSAmJlxuICAgICAgICAgIChzcmNWYWx1ZSAhPT0gdW5kZWZpbmVkIHx8IChrZXkgaW4gT2JqZWN0KG9iamVjdCkpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1lbW9pemVgIHdoaWNoIGNsZWFycyB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24nc1xuICAgICAqIGNhY2hlIHdoZW4gaXQgZXhjZWVkcyBgTUFYX01FTU9JWkVfU0laRWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplQ2FwcGVkKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoY2FjaGUuc2l6ZSA9PT0gTUFYX01FTU9JWkVfU0laRSkge1xuICAgICAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY2FjaGUgPSByZXN1bHQuY2FjaGU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyB0aGUgZnVuY3Rpb24gbWV0YWRhdGEgb2YgYHNvdXJjZWAgaW50byBgZGF0YWAuXG4gICAgICpcbiAgICAgKiBNZXJnaW5nIG1ldGFkYXRhIHJlZHVjZXMgdGhlIG51bWJlciBvZiB3cmFwcGVycyB1c2VkIHRvIGludm9rZSBhIGZ1bmN0aW9uLlxuICAgICAqIFRoaXMgaXMgcG9zc2libGUgYmVjYXVzZSBtZXRob2RzIGxpa2UgYF8uYmluZGAsIGBfLmN1cnJ5YCwgYW5kIGBfLnBhcnRpYWxgXG4gICAgICogbWF5IGJlIGFwcGxpZWQgcmVnYXJkbGVzcyBvZiBleGVjdXRpb24gb3JkZXIuIE1ldGhvZHMgbGlrZSBgXy5hcnlgIGFuZFxuICAgICAqIGBfLnJlYXJnYCBtb2RpZnkgZnVuY3Rpb24gYXJndW1lbnRzLCBtYWtpbmcgdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgYXJlXG4gICAgICogZXhlY3V0ZWQgaW1wb3J0YW50LCBwcmV2ZW50aW5nIHRoZSBtZXJnaW5nIG9mIG1ldGFkYXRhLiBIb3dldmVyLCB3ZSBtYWtlXG4gICAgICogYW4gZXhjZXB0aW9uIGZvciBhIHNhZmUgY29tYmluZWQgY2FzZSB3aGVyZSBjdXJyaWVkIGZ1bmN0aW9ucyBoYXZlIGBfLmFyeWBcbiAgICAgKiBhbmQgb3IgYF8ucmVhcmdgIGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgVGhlIGRlc3RpbmF0aW9uIG1ldGFkYXRhLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgc291cmNlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGF0YWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2VEYXRhKGRhdGEsIHNvdXJjZSkge1xuICAgICAgdmFyIGJpdG1hc2sgPSBkYXRhWzFdLFxuICAgICAgICAgIHNyY0JpdG1hc2sgPSBzb3VyY2VbMV0sXG4gICAgICAgICAgbmV3Qml0bWFzayA9IGJpdG1hc2sgfCBzcmNCaXRtYXNrLFxuICAgICAgICAgIGlzQ29tbW9uID0gbmV3Qml0bWFzayA8IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyB8IFdSQVBfQVJZX0ZMQUcpO1xuXG4gICAgICB2YXIgaXNDb21ibyA9XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9SRUFSR19GTEFHKSAmJiAoZGF0YVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSkgJiYgKHNvdXJjZVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKTtcblxuICAgICAgLy8gRXhpdCBlYXJseSBpZiBtZXRhZGF0YSBjYW4ndCBiZSBtZXJnZWQuXG4gICAgICBpZiAoIShpc0NvbW1vbiB8fCBpc0NvbWJvKSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYHRoaXNBcmdgIGlmIGF2YWlsYWJsZS5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgZGF0YVsyXSA9IHNvdXJjZVsyXTtcbiAgICAgICAgLy8gU2V0IHdoZW4gY3VycnlpbmcgYSBib3VuZCBmdW5jdGlvbi5cbiAgICAgICAgbmV3Qml0bWFzayB8PSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcgPyAwIDogV1JBUF9DVVJSWV9CT1VORF9GTEFHO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIGFyZ3VtZW50cy5cbiAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVszXTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbHMgPSBkYXRhWzNdO1xuICAgICAgICBkYXRhWzNdID0gcGFydGlhbHMgPyBjb21wb3NlQXJncyhwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs0XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs0XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVszXSwgUExBQ0VIT0xERVIpIDogc291cmNlWzRdO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIHJpZ2h0IGFyZ3VtZW50cy5cbiAgICAgIHZhbHVlID0gc291cmNlWzVdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHBhcnRpYWxzID0gZGF0YVs1XTtcbiAgICAgICAgZGF0YVs1XSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3NSaWdodChwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs2XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs2XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVs1XSwgUExBQ0VIT0xERVIpIDogc291cmNlWzZdO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJnUG9zYCBpZiBhdmFpbGFibGUuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs3XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBkYXRhWzddID0gdmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcnlgIGlmIGl0J3Mgc21hbGxlci5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9BUllfRkxBRykge1xuICAgICAgICBkYXRhWzhdID0gZGF0YVs4XSA9PSBudWxsID8gc291cmNlWzhdIDogbmF0aXZlTWluKGRhdGFbOF0sIHNvdXJjZVs4XSk7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcml0eWAgaWYgb25lIGlzIG5vdCBwcm92aWRlZC5cbiAgICAgIGlmIChkYXRhWzldID09IG51bGwpIHtcbiAgICAgICAgZGF0YVs5XSA9IHNvdXJjZVs5XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGZ1bmNgIGFuZCBtZXJnZSBiaXRtYXNrcy5cbiAgICAgIGRhdGFbMF0gPSBzb3VyY2VbMF07XG4gICAgICBkYXRhWzFdID0gbmV3Qml0bWFzaztcblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlXG4gICAgICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCB0cmFuc2Zvcm1zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgICAgIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBhcmVudCB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXRoIFRoZSBwYXRoIHRvIGdldCB0aGUgcGFyZW50IHZhbHVlIG9mLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwYXJlbnQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyZW50KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGgubGVuZ3RoIDwgMiA/IG9iamVjdCA6IGJhc2VHZXQob2JqZWN0LCBiYXNlU2xpY2UocGF0aCwgMCwgLTEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW9yZGVyIGBhcnJheWAgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgaW5kZXhlcyB3aGVyZSB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBmaXJzdCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgZmlyc3QgZWxlbWVudCwgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgc2Vjb25kIGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBzZWNvbmQgZWxlbWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcmVvcmRlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcnJheSBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlb3JkZXIoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGluZGV4ZXMubGVuZ3RoLCBhcnJMZW5ndGgpLFxuICAgICAgICAgIG9sZEFycmF5ID0gY29weUFycmF5KGFycmF5KTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgYXJyYXlbbGVuZ3RoXSA9IGlzSW5kZXgoaW5kZXgsIGFyckxlbmd0aCkgPyBvbGRBcnJheVtpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAsIHVubGVzcyBga2V5YCBpcyBcIl9fcHJvdG9fX1wiLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIHRoaXMgZnVuY3Rpb24gYmVjb21lcyBob3QsIGkuZS4gaXMgaW52b2tlZCBhIGxvdCBpbiBhIHNob3J0XG4gICAgICogcGVyaW9kIG9mIHRpbWUsIGl0IHdpbGwgdHJpcCBpdHMgYnJlYWtlciBhbmQgdHJhbnNpdGlvbiB0byBhbiBpZGVudGl0eVxuICAgICAqIGZ1bmN0aW9uIHRvIGF2b2lkIGdhcmJhZ2UgY29sbGVjdGlvbiBwYXVzZXMgaW4gVjguIFNlZVxuICAgICAqIFtWOCBpc3N1ZSAyMDcwXShodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDcwKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0RGF0YSA9IHNob3J0T3V0KGJhc2VTZXREYXRhKTtcblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BzZXRUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vc2V0VGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBzZXRUaW1lb3V0ID0gY3R4U2V0VGltZW91dCB8fCBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgICByZXR1cm4gcm9vdC5zZXRUaW1lb3V0KGZ1bmMsIHdhaXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgd3JhcHBlcmAgdG8gbWltaWMgdGhlIHNvdXJjZSBvZiBgcmVmZXJlbmNlYFxuICAgICAqIHdpdGggd3JhcHBlciBkZXRhaWxzIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBzb3VyY2UgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZmVyZW5jZSBUaGUgcmVmZXJlbmNlIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGB3cmFwcGVyYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXcmFwVG9TdHJpbmcod3JhcHBlciwgcmVmZXJlbmNlLCBiaXRtYXNrKSB7XG4gICAgICB2YXIgc291cmNlID0gKHJlZmVyZW5jZSArICcnKTtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyh3cmFwcGVyLCBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIHVwZGF0ZVdyYXBEZXRhaWxzKGdldFdyYXBEZXRhaWxzKHNvdXJjZSksIGJpdG1hc2spKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gICAgICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gICAgICogbWlsbGlzZWNvbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICAgICAgdmFyIGNvdW50ID0gMCxcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICAgICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIHdoaWNoIG11dGF0ZXMgYW5kIHNldHMgdGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPWFycmF5Lmxlbmd0aF0gVGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlU2VsZihhcnJheSwgc2l6ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cbiAgICAgIHNpemUgPSBzaXplID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBzaXplO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBzaXplKSB7XG4gICAgICAgIHZhciByYW5kID0gYmFzZVJhbmRvbShpbmRleCwgbGFzdEluZGV4KSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbcmFuZF07XG5cbiAgICAgICAgYXJyYXlbcmFuZF0gPSBhcnJheVtpbmRleF07XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgYXJyYXkubGVuZ3RoID0gc2l6ZTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICB2YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChzdHJpbmcuY2hhckNvZGVBdCgwKSA9PT0gNDYgLyogLiAqLykge1xuICAgICAgICByZXN1bHQucHVzaCgnJyk7XG4gICAgICB9XG4gICAgICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICAgICAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB3cmFwcGVyIGBkZXRhaWxzYCBiYXNlZCBvbiBgYml0bWFza2AgZmxhZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRldGFpbHNgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdyYXBEZXRhaWxzKGRldGFpbHMsIGJpdG1hc2spIHtcbiAgICAgIGFycmF5RWFjaCh3cmFwRmxhZ3MsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gJ18uJyArIHBhaXJbMF07XG4gICAgICAgIGlmICgoYml0bWFzayAmIHBhaXJbMV0pICYmICFhcnJheUluY2x1ZGVzKGRldGFpbHMsIHZhbHVlKSkge1xuICAgICAgICAgIGRldGFpbHMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRldGFpbHMuc29ydCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgd3JhcHBlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB3cmFwcGVyIFRoZSB3cmFwcGVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB3cmFwcGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDbG9uZSh3cmFwcGVyKSB7XG4gICAgICBpZiAod3JhcHBlciBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJldHVybiB3cmFwcGVyLmNsb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlci5fX3dyYXBwZWRfXywgd3JhcHBlci5fX2NoYWluX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHdyYXBwZXIuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9faW5kZXhfXyAgPSB3cmFwcGVyLl9faW5kZXhfXztcbiAgICAgIHJlc3VsdC5fX3ZhbHVlc19fID0gd3JhcHBlci5fX3ZhbHVlc19fO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gZ3JvdXBzIHRoZSBsZW5ndGggb2YgYHNpemVgLlxuICAgICAqIElmIGBhcnJheWAgY2FuJ3QgYmUgc3BsaXQgZXZlbmx5LCB0aGUgZmluYWwgY2h1bmsgd2lsbCBiZSB0aGUgcmVtYWluaW5nXG4gICAgICogZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9MV0gVGhlIGxlbmd0aCBvZiBlYWNoIGNodW5rXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjaHVua3MuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDIpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMyk7XG4gICAgICogLy8gPT4gW1snYScsICdiJywgJ2MnXSwgWydkJ11dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2h1bmsoYXJyYXksIHNpemUsIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoYXJyYXksIHNpemUsIGd1YXJkKSA6IHNpemUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgc2l6ZSA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaXplID0gbmF0aXZlTWF4KHRvSW50ZWdlcihzaXplKSwgMCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzaXplIDwgMSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShuYXRpdmVDZWlsKGxlbmd0aCAvIHNpemUpKTtcblxuICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGJhc2VTbGljZShhcnJheSwgaW5kZXgsIChpbmRleCArPSBzaXplKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgZmFsc2V5IHZhbHVlcyByZW1vdmVkLiBUaGUgdmFsdWVzIGBmYWxzZWAsIGBudWxsYCxcbiAgICAgKiBgMGAsIGBcIlwiYCwgYHVuZGVmaW5lZGAsIGFuZCBgTmFOYCBhcmUgZmFsc2V5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvbXBhY3QoWzAsIDEsIGZhbHNlLCAyLCAnJywgM10pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGFycmF5IGNvbmNhdGVuYXRpbmcgYGFycmF5YCB3aXRoIGFueSBhZGRpdGlvbmFsIGFycmF5c1xuICAgICAqIGFuZC9vciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGNvbmNhdGVuYXRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzFdO1xuICAgICAqIHZhciBvdGhlciA9IF8uY29uY2F0KGFycmF5LCAyLCBbM10sIFtbNF1dKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBBcnJheShsZW5ndGggLSAxKSxcbiAgICAgICAgICBhcnJheSA9IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgYXJnc1tpbmRleCAtIDFdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVB1c2goaXNBcnJheShhcnJheSkgPyBjb3B5QXJyYXkoYXJyYXkpIDogW2FycmF5XSwgYmFzZUZsYXR0ZW4oYXJncywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgYGFycmF5YCB2YWx1ZXMgbm90IGluY2x1ZGVkIGluIHRoZSBvdGhlciBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8ud2l0aG91dCwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxCeWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgW3sgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgb3JkZXIgYW5kXG4gICAgICogcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbFdpdGhgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlV2l0aChvYmplY3RzLCBbeyAneCc6IDEsICd5JzogMiB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGNvbXBhcmF0b3IpKSB7XG4gICAgICAgIGNvbXBhcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3AoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWxscyBlbGVtZW50cyBvZiBgYXJyYXlgIHdpdGggYHZhbHVlYCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3RcbiAgICAgKiBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5maWxsKGFycmF5LCAnYScpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYScsICdhJ11cbiAgICAgKlxuICAgICAqIF8uZmlsbChBcnJheSgzKSwgMik7XG4gICAgICogLy8gPT4gWzIsIDIsIDJdXG4gICAgICpcbiAgICAgKiBfLmZpbGwoWzQsIDYsIDgsIDEwXSwgJyonLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbNCwgJyonLCAnKicsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgJiYgdHlwZW9mIHN0YXJ0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAnYmFybmV5JzsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgeyAndXNlcic6ICdmcmVkJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEluZGV4YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdwZWJibGVzJzsgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGZyb21JbmRleCA8IDBcbiAgICAgICAgICA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMClcbiAgICAgICAgICA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYXR0ZW5zIGBhcnJheWAgYSBzaW5nbGUgbGV2ZWwgZGVlcC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVucyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZWVwKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDQsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlZXAoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgSU5GSU5JVFkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbiBgYXJyYXlgIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCBbMiwgWzMsIFs0XV0sIDVdXTtcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVwdGgoYXJyYXksIGRlcHRoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLnRvUGFpcnNgOyB0aGlzIG1ldGhvZCByZXR1cm5zIGFuIG9iamVjdCBjb21wb3NlZFxuICAgICAqIGZyb20ga2V5LXZhbHVlIGBwYWlyc2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZnJvbVBhaXJzKFtbJ2EnLCAxXSwgWydiJywgMl1dKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUGFpcnMocGFpcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhaXJzID09IG51bGwgPyAwIDogcGFpcnMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0W3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGZpcnN0XG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaGVhZChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIF8uaGVhZChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVhZChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYXJyYXlbMF0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCBpbiBgYXJyYXlgXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXMgdGhlXG4gICAgICogb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAwLCAtMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gYWxsIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzJdXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjFdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGlmIChpdGVyYXRlZSA9PT0gbGFzdChtYXBwZWQpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlc1xuICAgICAqIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbGwgZWxlbWVudHMgaW4gYGFycmF5YCBpbnRvIGEgc3RyaW5nIHNlcGFyYXRlZCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VwYXJhdG9yPScsJ10gVGhlIGVsZW1lbnQgc2VwYXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGpvaW5lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uam9pbihbJ2EnLCAnYicsICdjJ10sICd+Jyk7XG4gICAgICogLy8gPT4gJ2F+Yn5jJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpvaW4oYXJyYXksIHNlcGFyYXRvcikge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyAnJyA6IG5hdGl2ZUpvaW4uY2FsbChhcnJheSwgc2VwYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGFycmF5YCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBpbmRleCA8IDAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgICAgPyBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KVxuICAgICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGVsZW1lbnQgYXQgaW5kZXggYG5gIG9mIGBhcnJheWAuIElmIGBuYCBpcyBuZWdhdGl2ZSwgdGhlIG50aFxuICAgICAqIGVsZW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgLTIpO1xuICAgICAqIC8vID0+ICdjJztcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGgoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VOdGgoYXJyYXksIHRvSW50ZWdlcihuKSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZ2l2ZW4gdmFsdWVzIGZyb20gYGFycmF5YCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy53aXRob3V0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucmVtb3ZlYFxuICAgICAqIHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHByZWRpY2F0ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsKGFycmF5LCAnYScsICdjJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbCA9IGJhc2VSZXN0KHB1bGxBbGwpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsKGFycmF5LCBbJ2EnLCAnYyddKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGwoYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VCeWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAzIH0sIHsgJ3gnOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsQnkoYXJyYXksIFt7ICd4JzogMSB9LCB7ICd4JzogMyB9XSwgJ3gnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbEJ5KGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlV2l0aGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMywgJ3knOiA0IH0sIHsgJ3gnOiA1LCAneSc6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxXaXRoKGFycmF5LCBbeyAneCc6IDMsICd5JzogNCB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDUsICd5JzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxXaXRoKGFycmF5LCB2YWx1ZXMsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGVsZW1lbnRzIGZyb20gYGFycmF5YCBjb3JyZXNwb25kaW5nIHRvIGBpbmRleGVzYCBhbmQgcmV0dXJucyBhblxuICAgICAqIGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmF0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBbaW5kZXhlc10gVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqIHZhciBwdWxsZWQgPSBfLnB1bGxBdChhcnJheSwgWzEsIDNdKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYyddXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhwdWxsZWQpO1xuICAgICAqIC8vID0+IFsnYicsICdkJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbEF0ID0gZmxhdFJlc3QoZnVuY3Rpb24oYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBiYXNlQXQoYXJyYXksIGluZGV4ZXMpO1xuXG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBhcnJheU1hcChpbmRleGVzLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gaXNJbmRleChpbmRleCwgbGVuZ3RoKSA/ICtpbmRleCA6IGluZGV4O1xuICAgICAgfSkuc29ydChjb21wYXJlQXNjZW5kaW5nKSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBmcm9tIGBhcnJheWAgdGhhdCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3JcbiAgICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGUgcmVtb3ZlZCBlbGVtZW50cy4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZmlsdGVyYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucHVsbGBcbiAgICAgKiB0byBwdWxsIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgMywgNF07XG4gICAgICogdmFyIGV2ZW5zID0gXy5yZW1vdmUoYXJyYXksIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZXZlbnMpO1xuICAgICAqIC8vID0+IFsyLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmRleGVzID0gW10sXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIGluZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyBgYXJyYXlgIHNvIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgYmVjb21lcyB0aGUgbGFzdCwgdGhlIHNlY29uZFxuICAgICAqIGVsZW1lbnQgYmVjb21lcyB0aGUgc2Vjb25kIHRvIGxhc3QsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAgYW5kIGlzIGJhc2VkIG9uXG4gICAgICogW2BBcnJheSNyZXZlcnNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvcmV2ZXJzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLnJldmVyc2UoYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJldmVyc2UoYXJyYXkpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gYXJyYXkgOiBuYXRpdmVSZXZlcnNlLmNhbGwoYXJyYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW5zdGVhZCBvZlxuICAgICAqIFtgQXJyYXkjc2xpY2VgXShodHRwczovL21kbi5pby9BcnJheS9zbGljZSkgdG8gZW5zdXJlIGRlbnNlIGFycmF5cyBhcmVcbiAgICAgKiByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoZW5kICYmIHR5cGVvZiBlbmQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHN0YXJ0LCBlbmQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlcyBhIGJpbmFyeSBzZWFyY2ggdG8gZGV0ZXJtaW5lIHRoZSBsb3dlc3QgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4KFszMCwgNTBdLCA0MCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICAgICAgaWYgKGluZGV4IDwgbGVuZ3RoICYmIGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaGlnaGVzdFxuICAgICAqIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0b1xuICAgICAqIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXgoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkTGFzdEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5sYXN0SW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSkgLSAxO1xuICAgICAgICBpZiAoZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcShbMSwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5KVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcUJ5YCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcUJ5KFsxLjEsIDEuMiwgMi4zLCAyLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4xLCAyLjNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFpbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhaWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDEsIGxlbmd0aCkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLiBFbGVtZW50cyBhcmVcbiAgICAgKiB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgZmFsc2UsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuIEVsZW1lbnRzXG4gICAgICogYXJlIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMsIGluIG9yZGVyLCBmcm9tIGFsbCBnaXZlbiBhcnJheXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb24oWzJdLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciB1bmlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbSB0aGUgZmlyc3RcbiAgICAgKiBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb25CeShbMi4xXSwgWzEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tXG4gICAgICogdGhlIGZpcnN0IGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiBhbiBhcnJheSwgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucywgaW4gd2hpY2ggb25seSB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBlYWNoIGVsZW1lbnRcbiAgICAgKiBpcyBrZXB0LiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyXG4gICAgICogaW4gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcShbMiwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5KSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlXG4gICAgICogb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcUJ5KFsyLjEsIDEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlxQnkoW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LlRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaXFXaXRoKG9iamVjdHMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFXaXRoKGFycmF5LCBjb21wYXJhdG9yKSB7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIGdyb3VwZWRcbiAgICAgKiBlbGVtZW50cyBhbmQgY3JlYXRlcyBhbiBhcnJheSByZWdyb3VwaW5nIHRoZSBlbGVtZW50cyB0byB0aGVpciBwcmUtemlwXG4gICAgICogY29uZmlndXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKlxuICAgICAqIF8udW56aXAoemlwcGVkKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwKGFycmF5KSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSAwO1xuICAgICAgYXJyYXkgPSBhcnJheUZpbHRlcihhcnJheSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGdyb3VwKSkge1xuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChncm91cC5sZW5ndGgsIGxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGJhc2VUaW1lcyhsZW5ndGgsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBhcnJheU1hcChhcnJheSwgYmFzZVByb3BlcnR5KGluZGV4KSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyByZWdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgcmVncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdKTtcbiAgICAgKiAvLyA9PiBbWzEsIDEwLCAxMDBdLCBbMiwgMjAsIDIwMF1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwV2l0aCh6aXBwZWQsIF8uYWRkKTtcbiAgICAgKiAvLyA9PiBbMywgMzAsIDMwMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcFdpdGgoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB1bnppcChhcnJheSk7XG4gICAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5TWFwKHJlc3VsdCwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB1bmRlZmluZWQsIGdyb3VwKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZXhjbHVkaW5nIGFsbCBnaXZlbiB2YWx1ZXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud2l0aG91dChbMiwgMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqL1xuICAgIHZhciB3aXRob3V0ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBpcyB0aGVcbiAgICAgKiBbc3ltbWV0cmljIGRpZmZlcmVuY2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N5bW1ldHJpY19kaWZmZXJlbmNlKVxuICAgICAqIG9mIHRoZSBnaXZlbiBhcnJheXMuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyXG4gICAgICogdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy53aXRob3V0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKi9cbiAgICB2YXIgeG9yID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWRcbiAgICAgKiBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZVxuICAgICAqIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMiwgMy40XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy54b3JCeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnhvcldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cywgdGhlIGZpcnN0IG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIGZpcnN0IGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIHRoZSBzZWNvbmQgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogc2Vjb25kIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqL1xuICAgIHZhciB6aXAgPSBiYXNlUmVzdCh1bnppcCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZyb21QYWlyc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyB0d28gYXJyYXlzLFxuICAgICAqIG9uZSBvZiBwcm9wZXJ0eSBpZGVudGlmaWVycyBhbmQgb25lIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdChbJ2EnLCAnYiddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBhc3NpZ25WYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBPYmplY3RgIGV4Y2VwdCB0aGF0IGl0IHN1cHBvcnRzIHByb3BlcnR5IHBhdGhzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdERlZXAoWydhLmJbMF0uYycsICdhLmJbMV0uZCddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogW3sgJ2MnOiAxIH0sIHsgJ2QnOiAyIH1dIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdERlZXAocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYmFzZVNldCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IGdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICBncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcFdpdGgoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSwgZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIGEgKyBiICsgYztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMTExLCAyMjJdXG4gICAgICovXG4gICAgdmFyIHppcFdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIGl0ZXJhdGVlID0gbGVuZ3RoID4gMSA/IGFycmF5c1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaXRlcmF0ZWUgPSB0eXBlb2YgaXRlcmF0ZWUgPT0gJ2Z1bmN0aW9uJyA/IChhcnJheXMucG9wKCksIGl0ZXJhdGVlKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB1bnppcFdpdGgoYXJyYXlzLCBpdGVyYXRlZSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB0aGF0IHdyYXBzIGB2YWx1ZWAgd2l0aCBleHBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC4gVGhlIHJlc3VsdCBvZiBzdWNoIHNlcXVlbmNlcyBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciB5b3VuZ2VzdCA9IF9cbiAgICAgKiAgIC5jaGFpbih1c2VycylcbiAgICAgKiAgIC5zb3J0QnkoJ2FnZScpXG4gICAgICogICAubWFwKGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgICAgcmV0dXJuIG8udXNlciArICcgaXMgJyArIG8uYWdlO1xuICAgICAqICAgfSlcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+ICdwZWJibGVzIGlzIDEnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhaW4odmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2godmFsdWUpO1xuICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IHRydWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGludm9rZXMgYGludGVyY2VwdG9yYCBhbmQgcmV0dXJucyBgdmFsdWVgLiBUaGUgaW50ZXJjZXB0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0b1xuICAgICAqIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZSBpbiBvcmRlciB0byBtb2RpZnkgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pXG4gICAgICogIC50YXAoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgKiAgICAvLyBNdXRhdGUgaW5wdXQgYXJyYXkuXG4gICAgICogICAgYXJyYXkucG9wKCk7XG4gICAgICogIH0pXG4gICAgICogIC5yZXZlcnNlKClcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFwKHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udGFwYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInBhc3MgdGhydVwiIHZhbHVlcyByZXBsYWNpbmcgaW50ZXJtZWRpYXRlXG4gICAgICogcmVzdWx0cyBpbiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oJyAgYWJjICAnKVxuICAgICAqICAuY2hhaW4oKVxuICAgICAqICAudHJpbSgpXG4gICAgICogIC50aHJ1KGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgICogIH0pXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJ1KHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgcmV0dXJuIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLmF0YC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGF0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8ob2JqZWN0KS5hdChbJ2FbMF0uYi5jJywgJ2FbMV0nXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgd3JhcHBlckF0ID0gZmxhdFJlc3QoZnVuY3Rpb24ocGF0aHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgc3RhcnQgPSBsZW5ndGggPyBwYXRoc1swXSA6IDAsXG4gICAgICAgICAgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgIGludGVyY2VwdG9yID0gZnVuY3Rpb24ob2JqZWN0KSB7IHJldHVybiBiYXNlQXQob2JqZWN0LCBwYXRocyk7IH07XG5cbiAgICAgIGlmIChsZW5ndGggPiAxIHx8IHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoIHx8XG4gICAgICAgICAgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB8fCAhaXNJbmRleChzdGFydCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKHN0YXJ0LCArc3RhcnQgKyAobGVuZ3RoID8gMSA6IDApKTtcbiAgICAgIHZhbHVlLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICdhcmdzJzogW2ludGVyY2VwdG9yXSxcbiAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlLCB0aGlzLl9fY2hhaW5fXykudGhydShmdW5jdGlvbihhcnJheSkge1xuICAgICAgICBpZiAobGVuZ3RoICYmICFhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICBhcnJheS5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB3aXRoIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNoYWluXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aG91dCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKS5oZWFkKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRoIGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpXG4gICAgICogICAuY2hhaW4oKVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnBpY2soJ3VzZXInKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2hhaW4oKSB7XG4gICAgICByZXR1cm4gY2hhaW4odGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIGFuZCByZXR1cm5zIHRoZSB3cmFwcGVkIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNvbW1pdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMl07XG4gICAgICogdmFyIHdyYXBwZWQgPSBfKGFycmF5KS5wdXNoKDMpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogd3JhcHBlZCA9IHdyYXBwZWQuY29tbWl0KCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogd3JhcHBlZC5sYXN0KCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDb21taXQoKSB7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodGhpcy52YWx1ZSgpLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmV4dCB2YWx1ZSBvbiBhIHdyYXBwZWQgb2JqZWN0IGZvbGxvd2luZyB0aGVcbiAgICAgKiBbaXRlcmF0b3IgcHJvdG9jb2xdKGh0dHBzOi8vbWRuLmlvL2l0ZXJhdGlvbl9wcm90b2NvbHMjaXRlcmF0b3IpLlxuICAgICAqXG4gICAgICogQG5hbWUgbmV4dFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5leHQgaXRlcmF0b3IgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAxIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMiB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogdHJ1ZSwgJ3ZhbHVlJzogdW5kZWZpbmVkIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyTmV4dCgpIHtcbiAgICAgIGlmICh0aGlzLl9fdmFsdWVzX18gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9fdmFsdWVzX18gPSB0b0FycmF5KHRoaXMudmFsdWUoKSk7XG4gICAgICB9XG4gICAgICB2YXIgZG9uZSA9IHRoaXMuX19pbmRleF9fID49IHRoaXMuX192YWx1ZXNfXy5sZW5ndGgsXG4gICAgICAgICAgdmFsdWUgPSBkb25lID8gdW5kZWZpbmVkIDogdGhpcy5fX3ZhbHVlc19fW3RoaXMuX19pbmRleF9fKytdO1xuXG4gICAgICByZXR1cm4geyAnZG9uZSc6IGRvbmUsICd2YWx1ZSc6IHZhbHVlIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgd3JhcHBlciB0byBiZSBpdGVyYWJsZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIFN5bWJvbC5pdGVyYXRvclxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWRbU3ltYm9sLml0ZXJhdG9yXSgpID09PSB3cmFwcGVkO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIEFycmF5LmZyb20od3JhcHBlZCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclRvSXRlcmF0b3IoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGNoYWluIHNlcXVlbmNlIHBsYW50aW5nIGB2YWx1ZWAgYXMgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBwbGFudFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBsYW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pLm1hcChzcXVhcmUpO1xuICAgICAqIHZhciBvdGhlciA9IHdyYXBwZWQucGxhbnQoWzMsIDRdKTtcbiAgICAgKlxuICAgICAqIG90aGVyLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzksIDE2XVxuICAgICAqXG4gICAgICogd3JhcHBlZC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJQbGFudCh2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBwYXJlbnQgPSB0aGlzO1xuXG4gICAgICB3aGlsZSAocGFyZW50IGluc3RhbmNlb2YgYmFzZUxvZGFzaCkge1xuICAgICAgICB2YXIgY2xvbmUgPSB3cmFwcGVyQ2xvbmUocGFyZW50KTtcbiAgICAgICAgY2xvbmUuX19pbmRleF9fID0gMDtcbiAgICAgICAgY2xvbmUuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gY2xvbmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gY2xvbmU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZpb3VzID0gY2xvbmU7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5fX3dyYXBwZWRfXztcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8ucmV2ZXJzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyB0aGUgd3JhcHBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXyhhcnJheSkucmV2ZXJzZSgpLnZhbHVlKClcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUmV2ZXJzZSgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX187XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICB2YXIgd3JhcHBlZCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgpIHtcbiAgICAgICAgICB3cmFwcGVkID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHdyYXBwZWQgPSB3cmFwcGVkLnJldmVyc2UoKTtcbiAgICAgICAgd3JhcHBlZC5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICAgJ2FyZ3MnOiBbcmV2ZXJzZV0sXG4gICAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVkLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy50aHJ1KHJldmVyc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIHRvSlNPTiwgdmFsdWVPZlxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVmFsdWUoKSB7XG4gICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZSh0aGlzLl9fd3JhcHBlZF9fLCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHJldHVybmVkIGJ5IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY291bnRCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiAxLCAnNic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5jb3VudEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IDIsICc1JzogMSB9XG4gICAgICovXG4gICAgdmFyIGNvdW50QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgICsrcmVzdWx0W2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIDEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFsbCoqIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIFtlbXB0eSBjb2xsZWN0aW9uc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRW1wdHlfc2V0KSBiZWNhdXNlXG4gICAgICogW2V2ZXJ5dGhpbmcgaXMgdHJ1ZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVmFjdW91c190cnV0aCkgb2ZcbiAgICAgKiBlbGVtZW50cyBvZiBlbXB0eSBjb2xsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXZlcnkoW3RydWUsIDEsIG51bGwsICd5ZXMnXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RXZlcnkgOiBiYXNlRXZlcnk7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgZWxlbWVudHNcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnJlbW92ZWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLnJlamVjdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICovXG4gICAgdmFyIGZpbmQgPSBjcmVhdGVGaW5kKGZpbmRJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1jb2xsZWN0aW9uLmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICB2YXIgZmluZExhc3QgPSBjcmVhdGVGaW5kKGZpbmRMYXN0SW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZsYXR0ZW5lZCBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gXG4gICAgICogdGhydSBgaXRlcmF0ZWVgIGFuZCBmbGF0dGVuaW5nIHRoZSBtYXBwZWQgcmVzdWx0cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtuLCBuXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVlcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlZXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBJTkZJTklUWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cyB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVwdGgoWzEsIDJdLCBkdXBsaWNhdGUsIDIpO1xuICAgICAqIC8vID0+IFtbMSwgMV0sIFsyLCAyXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVwdGgoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGRlcHRoKSB7XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBlbGVtZW50LlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgdXNlIGBfLmZvckluYFxuICAgICAqIG9yIGBfLmZvck93bmAgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZWFjaFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAxYCB0aGVuIGAyYC5cbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoIDogYmFzZUVhY2g7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAYWxpYXMgZWFjaFJpZ2h0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoUmlnaHQoWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDJgIHRoZW4gYDFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoUmlnaHQgOiBiYXNlRWFjaFJpZ2h0O1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIG9yZGVyIG9mIGdyb3VwZWQgdmFsdWVzXG4gICAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiBgY29sbGVjdGlvbmAuIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlXG4gICAgICoga2V5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuM10gfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IFsnb25lJywgJ3R3byddLCAnNSc6IFsndGhyZWUnXSB9XG4gICAgICovXG4gICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBbdmFsdWVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIGBjb2xsZWN0aW9uYC4gSWYgYGNvbGxlY3Rpb25gIGlzIGEgc3RyaW5nLCBpdCdzXG4gICAgICogY2hlY2tlZCBmb3IgYSBzdWJzdHJpbmcgb2YgYHZhbHVlYCwgb3RoZXJ3aXNlXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBpcyB1c2VkIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhc1xuICAgICAqIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKHsgJ2EnOiAxLCAnYic6IDIgfSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcygnYWJjZCcsICdiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgICAgY29sbGVjdGlvbiA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggJiYgIWd1YXJkKSA/IHRvSW50ZWdlcihmcm9tSW5kZXgpIDogMDtcblxuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgZnJvbUluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbilcbiAgICAgICAgPyAoZnJvbUluZGV4IDw9IGxlbmd0aCAmJiBjb2xsZWN0aW9uLmluZGV4T2YodmFsdWUsIGZyb21JbmRleCkgPiAtMSlcbiAgICAgICAgOiAoISFsZW5ndGggJiYgYmFzZUluZGV4T2YoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLCByZXR1cm5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiBhcmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYHBhdGhgIGlzIGEgZnVuY3Rpb24sIGl0J3MgaW52b2tlZFxuICAgICAqIGZvciwgYW5kIGB0aGlzYCBib3VuZCB0bywgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlIG9yXG4gICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgZWFjaCBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFtbNSwgMSwgN10sIFszLCAyLCAxXV0sICdzb3J0Jyk7XG4gICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoWzEyMywgNDU2XSwgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgJycpO1xuICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgcGF0aCwgYXJncykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNGdW5jID0gdHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpc0Z1bmMgPyBhcHBseShwYXRoLCB2YWx1ZSwgYXJncykgOiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBsYXN0IGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1xuICAgICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksIGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG8uY29kZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgJ2RpcicpO1xuICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICovXG4gICAgdmFyIGtleUJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5ldmVyeWAsIGBfLmZpbHRlcmAsIGBfLm1hcGAsIGBfLm1hcFZhbHVlc2AsIGBfLnJlamVjdGAsIGFuZCBgXy5zb21lYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhcnlgLCBgY2h1bmtgLCBgY3VycnlgLCBgY3VycnlSaWdodGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsXG4gICAgICogYGZpbGxgLCBgaW52ZXJ0YCwgYHBhcnNlSW50YCwgYHJhbmRvbWAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlcGVhdGAsXG4gICAgICogYHNhbXBsZVNpemVgLCBgc2xpY2VgLCBgc29tZWAsIGBzb3J0QnlgLCBgc3BsaXRgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0cmltYCwgYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1hcChbNCwgOF0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF1cbiAgICAgKlxuICAgICAqIF8ubWFwKHsgJ2EnOiA0LCAnYic6IDggfSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsICd1c2VyJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheU1hcCA6IGJhc2VNYXA7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydEJ5YCBleGNlcHQgdGhhdCBpdCBhbGxvd3Mgc3BlY2lmeWluZyB0aGUgc29ydFxuICAgICAqIG9yZGVycyBvZiB0aGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzXG4gICAgICogYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSwgc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3JcbiAgICAgKiBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheVtdfEZ1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29yZGVyc10gVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFNvcnQgYnkgYHVzZXJgIGluIGFzY2VuZGluZyBvcmRlciBhbmQgYnkgYGFnZWAgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKiBfLm9yZGVyQnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSwgWydhc2MnLCAnZGVzYyddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXkoaXRlcmF0ZWVzKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBpdGVyYXRlZXMgPT0gbnVsbCA/IFtdIDogW2l0ZXJhdGVlc107XG4gICAgICB9XG4gICAgICBvcmRlcnMgPSBndWFyZCA/IHVuZGVmaW5lZCA6IG9yZGVycztcbiAgICAgIGlmICghaXNBcnJheShvcmRlcnMpKSB7XG4gICAgICAgIG9yZGVycyA9IG9yZGVycyA9PSBudWxsID8gW10gOiBbb3JkZXJzXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIHR3byBncm91cHMsIHRoZSBmaXJzdCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciwgdGhlIHNlY29uZCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5IGZvci4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ3BlYmJsZXMnXSwgWydiYXJuZXknLCAnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgJ3BlYmJsZXMnXSwgWydmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqL1xuICAgIHZhciBwYXJ0aXRpb24gPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0W2tleSA/IDAgOiAxXS5wdXNoKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIFtbXSwgW11dOyB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYGNvbGxlY3Rpb25gIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuIElmIGBhY2N1bXVsYXRvcmBcbiAgICAgKiBpcyBub3QgZ2l2ZW4sIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsXG4gICAgICogdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG4gICAgICogKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLnJlZHVjZWAsIGBfLnJlZHVjZVJpZ2h0YCwgYW5kIGBfLnRyYW5zZm9ybWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXNzaWduYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBpbmNsdWRlc2AsIGBtZXJnZWAsIGBvcmRlckJ5YCxcbiAgICAgKiBhbmQgYHNvcnRCeWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKFsxLCAyXSwgZnVuY3Rpb24oc3VtLCBuKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbjtcbiAgICAgKiB9LCAwKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlIDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yZWR1Y2VgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlUmlnaHQoYXJyYXksIGZ1bmN0aW9uKGZsYXR0ZW5lZCwgb3RoZXIpIHtcbiAgICAgKiAgIHJldHVybiBmbGF0dGVuZWQuY29uY2F0KG90aGVyKTtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZVJpZ2h0IDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaFJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYDsgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogdGhhdCBgcHJlZGljYXRlYCBkb2VzICoqbm90KiogcmV0dXJuIHRydXRoeSBmb3IuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLmZpbHRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnJlamVjdCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgeyAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByYW5kb20gZWxlbWVudCBmcm9tIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlIDogYmFzZVNhbXBsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYG5gIHJhbmRvbSBlbGVtZW50cyBhdCB1bmlxdWUga2V5cyBmcm9tIGBjb2xsZWN0aW9uYCB1cCB0byB0aGVcbiAgICAgKiBzaXplIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDQpO1xuICAgICAqIC8vID0+IFsyLCAzLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZVNpemUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlU2l6ZSA6IGJhc2VTYW1wbGVTaXplO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGVcbiAgICAgKiBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDMsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNodWZmbGUgOiBiYXNlU2h1ZmZsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBpdHMgbGVuZ3RoIGZvciBhcnJheS1saWtlXG4gICAgICogdmFsdWVzIG9yIHRoZSBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbGxlY3Rpb24gc2l6ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaXplKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbikgPyBzdHJpbmdTaXplKGNvbGxlY3Rpb24pIDogY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKGNvbGxlY3Rpb24pO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VLZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYW55KiogZWxlbWVudCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvbWUoW251bGwsIDAsICd5ZXMnLCBmYWxzZV0sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTb21lIDogYmFzZVNvbWU7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJ1IGVhY2ggaXRlcmF0ZWUuIFRoaXMgbWV0aG9kXG4gICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mXG4gICAgICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFtmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXI7IH1dKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM0XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDQwXSwgWydmcmVkJywgNDhdXVxuICAgICAqL1xuICAgIHZhciBzb3J0QnkgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZXMpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID4gMSAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW107XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgaXNJdGVyYXRlZUNhbGwoaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0sIGl0ZXJhdGVlc1syXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2l0ZXJhdGVlc1swXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgYmFzZUZsYXR0ZW4oaXRlcmF0ZWVzLCAxKSwgW10pO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gICAgICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgRGF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICAgKiB9LCBfLm5vdygpKTtcbiAgICAgKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICAgICAqL1xuICAgIHZhciBub3cgPSBjdHhOb3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uYmVmb3JlYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIGBmdW5jYCBvbmNlIGl0J3MgY2FsbGVkIGBuYCBvciBtb3JlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBiZWZvcmUgYGZ1bmNgIGlzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdkb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2RvbmUgc2F2aW5nIScgYWZ0ZXIgdGhlIHR3byBhc3luYyBzYXZlcyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdXAgdG8gYG5gIGFyZ3VtZW50cyxcbiAgICAgKiBpZ25vcmluZyBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBjYXAuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8uYXJ5KHBhcnNlSW50LCAxKSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFyeShmdW5jLCBuLCBndWFyZCkge1xuICAgICAgbiA9IGd1YXJkID8gdW5kZWZpbmVkIDogbjtcbiAgICAgIG4gPSAoZnVuYyAmJiBuID09IG51bGwpID8gZnVuYy5sZW5ndGggOiBuO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9BUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50c1xuICAgICAqIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGlsZSBpdCdzIGNhbGxlZCBsZXNzIHRoYW4gYG5gIHRpbWVzLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGF0IHdoaWNoIGBmdW5jYCBpcyBubyBsb25nZXIgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5iZWZvcmUoNSwgYWRkQ29udGFjdFRvTGlzdCkpO1xuICAgICAqIC8vID0+IEFsbG93cyBhZGRpbmcgdXAgdG8gNCBjb250YWN0cyB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiZWZvcmUobiwgZnVuYykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPiAwKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgICBmdW5jID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYFxuICAgICAqIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBuYXRpdmUgYEZ1bmN0aW9uI2JpbmRgLCB0aGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ3VzZXInOiAnZnJlZCcgfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZCkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWAgd2l0aCBgcGFydGlhbHNgXG4gICAgICogcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvIHJlZmVyZW5jZVxuICAgICAqIG1ldGhvZHMgdGhhdCBtYXkgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC4gU2VlXG4gICAgICogW1BldGVyIE1pY2hhdXgncyBhcnRpY2xlXShodHRwOi8vcGV0ZXIubWljaGF1eC5jYS9hcnRpY2xlcy9sYXp5LWZ1bmN0aW9uLWRlZmluaXRpb24tcGF0dGVybilcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmRLZXkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZva2UgdGhlIG1ldGhvZCBvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICd1c2VyJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmRLZXkgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGtleSwgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kS2V5KSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChrZXksIGJpdG1hc2ssIG9iamVjdCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhcmd1bWVudHMgb2YgYGZ1bmNgIGFuZCBlaXRoZXIgaW52b2tlc1xuICAgICAqIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYXQgbGVhc3QgYGFyaXR5YCBudW1iZXIgb2YgYXJndW1lbnRzIGhhdmVcbiAgICAgKiBiZWVuIHByb3ZpZGVkLCBvciByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSByZW1haW5pbmcgYGZ1bmNgXG4gICAgICogYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgbWF5IGJlIHNwZWNpZmllZCBpZiBgZnVuYy5sZW5ndGhgXG4gICAgICogaXMgbm90IHN1ZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnkoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgxKShfLCAzKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeShmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmN1cnJ5YCBleGNlcHQgdGhhdCBhcmd1bWVudHMgYXJlIGFwcGxpZWQgdG8gYGZ1bmNgXG4gICAgICogaW4gdGhlIG1hbm5lciBvZiBgXy5wYXJ0aWFsUmlnaHRgIGluc3RlYWQgb2YgYF8ucGFydGlhbGAuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnlSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeVJpZ2h0KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDMpKDIpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgyLCAzKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMykoMSwgXykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnlSaWdodChmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfUklHSFRfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5UmlnaHQucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICAgICAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAgICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAgICAgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAgICAgKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gICAgICogaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gICAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICAgKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqXG4gICAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAgICAgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAgICAgKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gICAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsXG4gICAgICAgICAgbGFzdFRoaXMsXG4gICAgICAgICAgbWF4V2FpdCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdGltZXJJZCxcbiAgICAgICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgICAgIHJldHVybiBtYXhpbmdcbiAgICAgICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICAgICAgOiB0aW1lV2FpdGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAgICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgICAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgICAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgICAgIHJldHVybiBkZWJvdW5jZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmZXJzIGludm9raW5nIHRoZSBgZnVuY2AgdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC4gQW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlZmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vID0+IExvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgbWlsbGlzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlZmVyID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCAxLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGZ1bmNgIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sIDEwMDAsICdsYXRlcicpO1xuICAgICAqIC8vID0+IExvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWxheSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgdG9OdW1iZXIod2FpdCkgfHwgMCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyByZXZlcnNlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZsaXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbGlwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZmxpcHBlZCA9IF8uZmxpcChmdW5jdGlvbigpIHtcbiAgICAgKiAgIHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGZsaXBwZWQoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiBbJ2QnLCAnYycsICdiJywgJ2EnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsaXAoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9GTElQX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gICAgICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICAgICAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gICAgICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gICAgICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAgICAgKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICAgICAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gICAgICpcbiAgICAgKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHZhbHVlcyhvdGhlcik7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICpcbiAgICAgKiBvYmplY3QuYSA9IDI7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAgICAgKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAgICAgKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCkgfHwgY2FjaGU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSBgTWFwQ2FjaGVgLlxuICAgIG1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG5lZ2F0ZXMgdGhlIHJlc3VsdCBvZiB0aGUgcHJlZGljYXRlIGBmdW5jYC4gVGhlXG4gICAgICogYGZ1bmNgIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgcHJlZGljYXRlIHRvIG5lZ2F0ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBuZWdhdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0V2ZW4obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBfLm5lZ2F0ZShpc0V2ZW4pKTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZWdhdGUocHJlZGljYXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gaW52b2tpbmcgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxsc1xuICAgICAqIHRvIHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBpbnZvY2F0aW9uLiBUaGUgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogLy8gPT4gYGNyZWF0ZUFwcGxpY2F0aW9uYCBpcyBpbnZva2VkIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbmNlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiZWZvcmUoMiwgZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnRzIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3RyYW5zZm9ybXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgYXJndW1lbnQgdHJhbnNmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZG91YmxlZChuKSB7XG4gICAgICogICByZXR1cm4gbiAqIDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckFyZ3MoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIFt4LCB5XTtcbiAgICAgKiB9LCBbc3F1YXJlLCBkb3VibGVkXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDksIDMpO1xuICAgICAqIC8vID0+IFs4MSwgNl1cbiAgICAgKlxuICAgICAqIGZ1bmMoMTAsIDUpO1xuICAgICAqIC8vID0+IFsxMDAsIDEwXVxuICAgICAqL1xuICAgIHZhciBvdmVyQXJncyA9IGNhc3RSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSAodHJhbnNmb3Jtcy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHRyYW5zZm9ybXNbMF0pKVxuICAgICAgICA/IGFycmF5TWFwKHRyYW5zZm9ybXNbMF0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSlcbiAgICAgICAgOiBhcnJheU1hcChiYXNlRmxhdHRlbih0cmFuc2Zvcm1zLCAxKSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIGZ1bmNzTGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihhcmdzLmxlbmd0aCwgZnVuY3NMZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSB0cmFuc2Zvcm1zW2luZGV4XS5jYWxsKHRoaXMsIGFyZ3NbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlXG4gICAgICogYXJndW1lbnRzIGl0IHJlY2VpdmVzLiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KipcbiAgICAgKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbChncmVldCwgJ2hlbGxvJyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbChncmVldCwgXywgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWwgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWwpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG4gICAgICogYXJlIGFwcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWxSaWdodCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbFJpZ2h0KSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyBhcnJhbmdlZCBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIGBpbmRleGVzYCB3aGVyZSB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIGZpcnN0IGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIHNlY29uZCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlYXJyYW5nZSBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFyZ3VtZW50IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFyZ2VkID0gXy5yZWFyZyhmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH0sIFsyLCAwLCAxXSk7XG4gICAgICpcbiAgICAgKiByZWFyZ2VkKCdiJywgJ2MnLCAnYScpXG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgdmFyIHJlYXJnID0gZmxhdFJlc3QoZnVuY3Rpb24oZnVuYywgaW5kZXhlcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9SRUFSR19GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbmRleGVzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gYW5kIGFyZ3VtZW50cyBmcm9tIGBzdGFydGAgYW5kIGJleW9uZCBwcm92aWRlZCBhc1xuICAgICAqIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9tZG4uaW8vcmVzdF9wYXJhbWV0ZXJzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5yZXN0KGZ1bmN0aW9uKHdoYXQsIG5hbWVzKSB7XG4gICAgICogICByZXR1cm4gd2hhdCArICcgJyArIF8uaW5pdGlhbChuYW1lcykuam9pbignLCAnKSArXG4gICAgICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGUgZnVuY3Rpb24gYW5kIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBtdWNoIGxpa2VcbiAgICAgKiBbYEZ1bmN0aW9uI2FwcGx5YF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3NwcmVhZCBvcGVyYXRvcl0oaHR0cHM6Ly9tZG4uaW8vc3ByZWFkX29wZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNwcmVhZCBhcmd1bWVudHMgb3Zlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3ByZWFkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5zcHJlYWQoZnVuY3Rpb24od2hvLCB3aGF0KSB7XG4gICAgICogICByZXR1cm4gd2hvICsgJyBzYXlzICcgKyB3aGF0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KFsnZnJlZCcsICdoZWxsbyddKTtcbiAgICAgKiAvLyA9PiAnZnJlZCBzYXlzIGhlbGxvJ1xuICAgICAqXG4gICAgICogdmFyIG51bWJlcnMgPSBQcm9taXNlLmFsbChbXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoNDApLFxuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDM2KVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogbnVtYmVycy50aGVuKF8uc3ByZWFkKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiB4ICsgeTtcbiAgICAgKiB9KSk7XG4gICAgICogLy8gPT4gYSBQcm9taXNlIG9mIDc2XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3ByZWFkKGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogbmF0aXZlTWF4KHRvSW50ZWdlcihzdGFydCksIDApO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJnc1tzdGFydF0sXG4gICAgICAgICAgICBvdGhlckFyZ3MgPSBjYXN0U2xpY2UoYXJncywgMCwgc3RhcnQpO1xuXG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIGFycmF5UHVzaChvdGhlckFyZ3MsIGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAgICAgKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICAgICAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAgICAgKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAgICAgKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gICAgICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICAgICAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAgICAgKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAgICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdXAgdG8gb25lIGFyZ3VtZW50LCBpZ25vcmluZyBhbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy51bmFyeShwYXJzZUludCkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmFyeShmdW5jKSB7XG4gICAgICByZXR1cm4gYXJ5KGZ1bmMsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGB2YWx1ZWAgdG8gYHdyYXBwZXJgIGFzIGl0cyBmaXJzdFxuICAgICAqIGFyZ3VtZW50LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBgd3JhcHBlcmAuIFRoZSB3cmFwcGVyIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3dyYXBwZXI9aWRlbnRpdHldIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcCA9IF8ud3JhcChfLmVzY2FwZSwgZnVuY3Rpb24oZnVuYywgdGV4dCkge1xuICAgICAqICAgcmV0dXJuICc8cD4nICsgZnVuYyh0ZXh0KSArICc8L3A+JztcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHAoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPmZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlczwvcD4nXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgICAgcmV0dXJuIHBhcnRpYWwoY2FzdEZ1bmN0aW9uKHdyYXBwZXIpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCBhcyBhbiBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtudWxsXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqIGNvbnNvbGUubG9nKF8uY2FzdEFycmF5KGFycmF5KSA9PT0gYXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXkoKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG1dKGh0dHBzOi8vbWRuLmlvL1N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtKVxuICAgICAqIGFuZCBzdXBwb3J0cyBjbG9uaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsIGRhdGUgb2JqZWN0cywgbWFwcyxcbiAgICAgKiBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLCBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWRcbiAgICAgKiBhcnJheXMuIFRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYXJlIGNsb25lZFxuICAgICAqIGFzIHBsYWluIG9iamVjdHMuIEFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZCBmb3IgdW5jbG9uZWFibGUgdmFsdWVzIHN1Y2hcbiAgICAgKiBhcyBlcnJvciBvYmplY3RzLCBmdW5jdGlvbnMsIERPTSBub2RlcywgYW5kIFdlYWtNYXBzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coc2hhbGxvd1swXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWUuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLFxuICAgICAqIGNsb25pbmcgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdXAgdG8gZm91ciBhcmd1bWVudHM7ICh2YWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZVdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVXaXRoYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZURlZXBXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcFdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBvYmplY3RgIGNvbmZvcm1zIHRvIGBzb3VyY2VgIGJ5IGludm9raW5nIHRoZSBwcmVkaWNhdGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAyOyB9IH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZSA9PSBudWxsIHx8IGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoTmFOLCBOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmd0KDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlR3QpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3RlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5QnVmZmVyYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5QnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5QnVmZmVyID0gbm9kZUlzQXJyYXlCdWZmZXIgPyBiYXNlVW5hcnkobm9kZUlzQXJyYXlCdWZmZXIpIDogYmFzZUlzQXJyYXlCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICAgICAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAgICAgKiBpcyBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBib29sZWFuIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYm9vbGVhbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihmYWxzZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYm9vbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYERhdGVgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUoJ01vbiBBcHJpbCAyMyAyMDEyJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNEYXRlID0gbm9kZUlzRGF0ZSA/IGJhc2VVbmFyeShub2RlSXNEYXRlKSA6IGJhc2VJc0RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudCgnPGJvZHk+Jyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBlbXB0eSBvYmplY3QsIGNvbGxlY3Rpb24sIG1hcCwgb3Igc2V0LlxuICAgICAqXG4gICAgICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuICAgICAqIGpRdWVyeS1saWtlIGNvbGxlY3Rpb25zIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBsZW5ndGhgIG9mIGAwYC5cbiAgICAgKiBTaW1pbGFybHksIG1hcHMgYW5kIHNldHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYHNpemVgIG9mIGAwYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh0cnVlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJlxuICAgICAgICAgIChpc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlLnNwbGljZSA9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNUeXBlZEFycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSk7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1Byb3RvdHlwZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICFiYXNlS2V5cyh2YWx1ZSkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAgICogZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAgICAgKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gICAgICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAgICAgKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAgICAgKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBvYmplY3QgPT09IG90aGVyO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNFcXVhbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHVwIHRvXG4gICAgICogc2l4IGFyZ3VtZW50czogKG9ialZhbHVlLCBvdGhWYWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhvdGhWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWxXaXRoKGFycmF5LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWxXaXRoKHZhbHVlLCBvdGhlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKHZhbHVlLCBvdGhlcikgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIHVuZGVmaW5lZCwgY3VzdG9taXplcikgOiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICAgICAqIGBTeW50YXhFcnJvcmAsIGBUeXBlRXJyb3JgLCBvciBgVVJJRXJyb3JgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gZXJyb3Igb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihuZXcgRXJyb3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihFcnJvcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Vycm9yKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBlcnJvclRhZyB8fCB0YWcgPT0gZG9tRXhjVGFnIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUubWVzc2FnZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFtZSA9PSAnc3RyaW5nJyAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIHByaW1pdGl2ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0Zpbml0ZWBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0Zpbml0ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIG5hdGl2ZUlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgICAgIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PSB0b0ludGVnZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAgICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc01hcCA9IG5vZGVJc01hcCA/IGJhc2VVbmFyeShub2RlSXNNYXApIDogYmFzZUlzTWFwO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGBvYmplY3RgIGFuZCBgc291cmNlYCB0b1xuICAgICAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLm1hdGNoZXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzTWF0Y2hgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBmaXZlXG4gICAgICogYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBpbmRleHxrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhzcmNWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2dyZWV0aW5nJzogJ2hlbGxvJyB9O1xuICAgICAqIHZhciBzb3VyY2UgPSB7ICdncmVldGluZyc6ICdoaScgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc05hTmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc05hTikgYW5kIGlzIG5vdCB0aGUgc2FtZSBhc1xuICAgICAqIGdsb2JhbCBbYGlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vaXNOYU4pIHdoaWNoIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtYmVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBBbiBgTmFOYCBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmLlxuICAgICAgLy8gUGVyZm9ybSB0aGUgYHRvU3RyaW5nVGFnYCBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lXG4gICAgICAvLyBBY3RpdmVYIG9iamVjdHMgaW4gSUUuXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByaXN0aW5lIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBjYW4ndCByZWxpYWJseSBkZXRlY3QgbmF0aXZlIGZ1bmN0aW9ucyBpbiB0aGUgcHJlc2VuY2VcbiAgICAgKiBvZiB0aGUgY29yZS1qcyBwYWNrYWdlIGJlY2F1c2UgY29yZS1qcyBjaXJjdW12ZW50cyB0aGlzIGtpbmQgb2YgZGV0ZWN0aW9uLlxuICAgICAqIERlc3BpdGUgbXVsdGlwbGUgcmVxdWVzdHMsIHRoZSBjb3JlLWpzIG1haW50YWluZXIgaGFzIG1hZGUgaXQgY2xlYXI6IGFueVxuICAgICAqIGF0dGVtcHQgdG8gZml4IHRoZSBkZXRlY3Rpb24gd2lsbCBiZSBvYnN0cnVjdGVkLiBBcyBhIHJlc3VsdCwgd2UncmUgbGVmdFxuICAgICAqIHdpdGggbGl0dGxlIGNob2ljZSBidXQgdG8gdGhyb3cgYW4gZXJyb3IuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBhZmZlY3RzXG4gICAgICogcGFja2FnZXMsIGxpa2UgW2JhYmVsLXBvbHlmaWxsXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9iYWJlbC1wb2x5ZmlsbCksXG4gICAgICogd2hpY2ggcmVseSBvbiBjb3JlLWpzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKF8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmIChpc01hc2thYmxlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoQ09SRV9FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYG51bGxgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG51bGxpc2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05pbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbChOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTnVtYmVyYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gICAgICogY2xhc3NpZmllZCBhcyBudW1iZXJzLCB1c2UgdGhlIGBfLmlzRmluaXRlYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBudW1iZXJUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAgICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFJlZ0V4cGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKC9hYmMvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKCcvYWJjLycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzUmVnRXhwID0gbm9kZUlzUmVnRXhwID8gYmFzZVVuYXJ5KG5vZGVJc1JlZ0V4cCkgOiBiYXNlSXNSZWdFeHA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlci4gQW4gaW50ZWdlciBpcyBzYWZlIGlmIGl0J3MgYW4gSUVFRS03NTRcbiAgICAgKiBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB3aGljaCBpc24ndCB0aGUgcmVzdWx0IG9mIGEgcm91bmRlZCB1bnNhZmUgaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzU2FmZUludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNTYWZlSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW50ZWdlcih2YWx1ZSkgJiYgdmFsdWUgPj0gLU1BWF9TQUZFX0lOVEVHRVIgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzU2V0ID0gbm9kZUlzU2V0ID8gYmFzZVVuYXJ5KG5vZGVJc1NldCkgOiBiYXNlSXNTZXQ7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha01hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSB3ZWFrTWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha1NldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gd2Vha1NldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHQoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUx0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHRlKDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPD0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoMSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gc3RyaW5nVG9BcnJheSh2YWx1ZSkgOiBjb3B5QXJyYXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN5bUl0ZXJhdG9yICYmIHZhbHVlW3N5bUl0ZXJhdG9yXSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JUb0FycmF5KHZhbHVlW3N5bUl0ZXJhdG9yXSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgIGZ1bmMgPSB0YWcgPT0gbWFwVGFnID8gbWFwVG9BcnJheSA6ICh0YWcgPT0gc2V0VGFnID8gc2V0VG9BcnJheSA6IHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgICAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyIHN1aXRhYmxlIGZvciB1c2UgYXMgdGhlIGxlbmd0aCBvZiBhblxuICAgICAqIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gNDI5NDk2NzI5NVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgnMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgMCwgTUFYX0FSUkFZX0xFTkdUSCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gSW5maW5pdHlcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICAgICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAgICAgKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgcGxhaW4gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIF8udG9QbGFpbk9iamVjdChuZXcgRm9vKSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHNhZmUgaW50ZWdlci4gQSBzYWZlIGludGVnZXIgY2FuIGJlIGNvbXBhcmVkIGFuZFxuICAgICAqIHJlcHJlc2VudGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gOTAwNzE5OTI1NDc0MDk5MVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIC1NQVhfU0FGRV9JTlRFR0VSLCBNQVhfU0FGRV9JTlRFR0VSKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAgICAgKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKG51bGwpO1xuICAgICAqIC8vID0+ICcnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKC0wKTtcbiAgICAgKiAvLyA9PiAnLTAnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gJzEsMiwzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIFN1YnNlcXVlbnQgc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgIGFuZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9tZG4uaW8vT2JqZWN0L2Fzc2lnbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBpZiAoaXNQcm90b3R5cGUoc291cmNlKSB8fCBpc0FycmF5TGlrZShzb3VyY2UpKSB7XG4gICAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBzb3VyY2UgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbkluKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMywgJ2QnOiA0IH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW4gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25JbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRXaXRoXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25JbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYHBhdGhzYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXy5hdChvYmplY3QsIFsnYVswXS5iLmMnLCAnYVsxXSddKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgYXQgPSBmbGF0UmVzdChiYXNlQXQpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBgcHJvdG90eXBlYCBvYmplY3QuIElmIGFcbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0IGlzIGdpdmVuLCBpdHMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXNcbiAgICAgKiBhcmUgYXNzaWduZWQgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBUaGUgcHJvcGVydGllcyB0byBhc3NpZ24gdG8gdGhlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICAgKiAgIFNoYXBlLmNhbGwodGhpcyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQ2lyY2xlLnByb3RvdHlwZSA9IF8uY3JlYXRlKFNoYXBlLnByb3RvdHlwZSwge1xuICAgICAqICAgJ2NvbnN0cnVjdG9yJzogQ2lyY2xlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2lyY2xlID0gbmV3IENpcmNsZTtcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBDaXJjbGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgU2hhcGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gcHJvcGVydGllcyA9PSBudWxsID8gcmVzdWx0IDogYmFzZUFzc2lnbihyZXN1bHQsIHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2VcbiAgICAgKiBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzIHRoYXRcbiAgICAgKiByZXNvbHZlIHRvIGB1bmRlZmluZWRgLiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogT25jZSBhIHByb3BlcnR5IGlzIHNldCwgYWRkaXRpb25hbCB2YWx1ZXMgb2YgdGhlIHNhbWUgcHJvcGVydHkgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICB2YXIgbGVuZ3RoID0gc291cmNlcy5sZW5ndGg7XG4gICAgICB2YXIgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgIHZhciBwcm9wcyA9IGtleXNJbihzb3VyY2UpO1xuICAgICAgICB2YXIgcHJvcHNJbmRleCA9IC0xO1xuICAgICAgICB2YXIgcHJvcHNMZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsrcHJvcHNJbmRleCA8IHByb3BzTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW3Byb3BzSW5kZXhdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgKGVxKHZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kZWZhdWx0c2AgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgYXNzaWduc1xuICAgICAqIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0c0RlZXAoeyAnYSc6IHsgJ2InOiAyIH0gfSwgeyAnYSc6IHsgJ2InOiAxLCAnYyc6IDMgfSB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IDIsICdjJzogMyB9IH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHNEZWVwID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgYXJncy5wdXNoKHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSk7XG4gICAgICByZXR1cm4gYXBwbHkobWVyZ2VXaXRoLCB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBrZXkgb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEtleWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGEgY29sbGVjdGlvbiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiByZXR1cm5zICdwZWJibGVzJyBhc3N1bWluZyBgXy5maW5kS2V5YCByZXR1cm5zICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93blJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW5cbiAgICAgKiBvYmplY3QgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdFxuICAgICAqIGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJbihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3Iob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JJbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW5SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2MnLCAnYicsIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvckluYCBsb2dzICdhJywgJ2InLCB0aGVuICdjJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJblJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3JSaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCBhbmRcbiAgICAgKiBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uXG4gICAgICogZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93bihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd24ob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yT3duYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdiJyB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JPd25gIGxvZ3MgJ2EnIHRoZW4gJ2InLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93blJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGVudW1lcmFibGUgcHJvcGVydGllc1xuICAgICAqIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc0luXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9ucyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGFuZCBpbmhlcml0ZWRcbiAgICAgKiBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9uc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9uc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gICAgICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IHsgJ2InOiAyIH0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvdGhlciwgJ2EnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhcyhvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc0luKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBpbnZlcnRlZCBrZXlzIGFuZCB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICogSWYgYG9iamVjdGAgY29udGFpbnMgZHVwbGljYXRlIHZhbHVlcywgc3Vic2VxdWVudCB2YWx1ZXMgb3ZlcndyaXRlXG4gICAgICogcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnQob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogJ2MnLCAnMic6ICdiJyB9XG4gICAgICovXG4gICAgdmFyIGludmVydCA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRbdmFsdWVdID0ga2V5O1xuICAgIH0sIGNvbnN0YW50KGlkZW50aXR5KSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludmVydGAgZXhjZXB0IHRoYXQgdGhlIGludmVydGVkIG9iamVjdCBpcyBnZW5lcmF0ZWRcbiAgICAgKiBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmcgZWFjaCBlbGVtZW50IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogY29ycmVzcG9uZGluZyBpbnZlcnRlZCB2YWx1ZSBvZiBlYWNoIGludmVydGVkIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzXG4gICAgICogcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGludmVydGVkIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAnZ3JvdXAnICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnZ3JvdXAxJzogWydhJywgJ2MnXSwgJ2dyb3VwMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0QnkgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXS5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbdmFsdWVdID0gW2tleV07XG4gICAgICB9XG4gICAgfSwgZ2V0SXRlcmF0ZWUpO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IFsxLCAyLCAzLCA0XSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmludm9rZShvYmplY3QsICdhWzBdLmIuYy5zbGljZScsIDEsIDMpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIHZhciBpbnZva2UgPSBiYXNlUmVzdChiYXNlSW52b2tlKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAgICAgKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5cyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLmtleXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1hcFZhbHVlc2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlXG4gICAgICogc2FtZSB2YWx1ZXMgYXMgYG9iamVjdGAgYW5kIGtleXMgZ2VuZXJhdGVkIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZVxuICAgICAqIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcFZhbHVlc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcEtleXMoeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICByZXR1cm4ga2V5ICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYTEnOiAxLCAnYjInOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBLZXlzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgYG9iamVjdGAgYW5kIHZhbHVlcyBnZW5lcmF0ZWRcbiAgICAgKiBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBLZXlzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdmcmVkJzogICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlOyB9KTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBWYWx1ZXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgbWVyZ2VzIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICAgICAqIHNraXBwZWQgaWYgYSBkZXN0aW5hdGlvbiB2YWx1ZSBleGlzdHMuIEFycmF5IGFuZCBwbGFpbiBvYmplY3QgcHJvcGVydGllc1xuICAgICAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG4gICAgICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gICAgICogc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIG90aGVyID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYyc6IDMgfSwgeyAnZSc6IDUgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWVyZ2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBtZXJnZWQgdmFsdWVzIG9mIHRoZSBkZXN0aW5hdGlvbiBhbmQgc291cmNlXG4gICAgICogcHJvcGVydGllcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIG1lcmdpbmcgaXMgaGFuZGxlZCBieSB0aGVcbiAgICAgKiBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggc2l4IGFyZ3VtZW50czpcbiAgICAgKiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogWzFdLCAnYic6IFsyXSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiBbM10sICdiJzogWzRdIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlV2l0aChvYmplY3QsIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogWzEsIDNdLCAnYic6IFsyLCA0XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZVxuICAgICAqIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgcGF0aHMgb2YgYG9iamVjdGAgdGhhdCBhcmUgbm90IG9taXR0ZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgY29uc2lkZXJhYmx5IHNsb3dlciB0aGFuIGBfLnBpY2tgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gb21pdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdChvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIHZhciBvbWl0ID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaXNEZWVwID0gZmFsc2U7XG4gICAgICBwYXRocyA9IGFycmF5TWFwKHBhdGhzLCBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgICBpc0RlZXAgfHwgKGlzRGVlcCA9IHBhdGgubGVuZ3RoID4gMSk7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfSk7XG4gICAgICBjb3B5T2JqZWN0KG9iamVjdCwgZ2V0QWxsS2V5c0luKG9iamVjdCksIHJlc3VsdCk7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJlc3VsdCA9IGJhc2VDbG9uZShyZXN1bHQsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX0ZMQVRfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9tT21pdENsb25lKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgYmFzZVVuc2V0KHJlc3VsdCwgcGF0aHNbbGVuZ3RoXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tCeWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mXG4gICAgICogdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYG9iamVjdGAgdGhhdFxuICAgICAqIGBwcmVkaWNhdGVgIGRvZXNuJ3QgcmV0dXJuIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3b1xuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXRCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9taXRCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHBpY2tCeShvYmplY3QsIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBgb2JqZWN0YCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGljayhvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBwaWNrID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8ge30gOiBiYXNlUGljayhvYmplY3QsIHBhdGhzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBgb2JqZWN0YCBwcm9wZXJ0aWVzIGBwcmVkaWNhdGVgIHJldHVybnNcbiAgICAgKiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGlja0J5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGlja0J5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgdmFyIHByb3BzID0gYXJyYXlNYXAoZ2V0QWxsS2V5c0luKG9iamVjdCksIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIFtwcm9wXTtcbiAgICAgIH0pO1xuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlKTtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGUodmFsdWUsIHBhdGhbMF0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5nZXRgIGV4Y2VwdCB0aGF0IGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyBhXG4gICAgICogZnVuY3Rpb24gaXQncyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGl0cyBwYXJlbnQgb2JqZWN0IGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byByZXNvbHZlLlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYzEnOiAzLCAnYzInOiBfLmNvbnN0YW50KDQpIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMScpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMicpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCBfLmNvbnN0YW50KCdkZWZhdWx0JykpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3VsdChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICAvLyBFbnN1cmUgdGhlIGxvb3AgaXMgZW50ZXJlZCB3aGVuIHBhdGggaXMgZW1wdHkuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICBvYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFt0b0tleShwYXRoW2luZGV4XSldO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IGlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgYSBwb3J0aW9uIG9mIGBwYXRoYCBkb2Vzbid0IGV4aXN0LFxuICAgICAqIGl0J3MgY3JlYXRlZC4gQXJyYXlzIGFyZSBjcmVhdGVkIGZvciBtaXNzaW5nIGluZGV4IHByb3BlcnRpZXMgd2hpbGUgb2JqZWN0c1xuICAgICAqIGFyZSBjcmVhdGVkIGZvciBhbGwgb3RoZXIgbWlzc2luZyBwcm9wZXJ0aWVzLiBVc2UgYF8uc2V0V2l0aGAgdG8gY3VzdG9taXplXG4gICAgICogYHBhdGhgIGNyZWF0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCAnYVswXS5iLmMnLCA0KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgWyd4JywgJzAnLCAneScsICd6J10sIDUpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnNldFdpdGgob2JqZWN0LCAnWzBdWzFdJywgJ2EnLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdpdGgob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGBcbiAgICAgKiB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXAgb3Igc2V0LCBpdHNcbiAgICAgKiBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlycyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzID0gY3JlYXRlVG9QYWlycyhrZXlzKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnNcbiAgICAgKiBmb3IgYG9iamVjdGAgd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwXG4gICAgICogb3Igc2V0LCBpdHMgZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc0luXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlyc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl0sIFsnYycsIDNdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzSW4gPSBjcmVhdGVUb1BhaXJzKGtleXNJbik7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBgXy5yZWR1Y2VgOyB0aGlzIG1ldGhvZCB0cmFuc2Zvcm1zIGBvYmplY3RgIHRvIGEgbmV3XG4gICAgICogYGFjY3VtdWxhdG9yYCBvYmplY3Qgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGVhY2ggb2YgaXRzIG93blxuICAgICAqIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgdGhydSBgaXRlcmF0ZWVgLCB3aXRoIGVhY2ggaW52b2NhdGlvblxuICAgICAqIHBvdGVudGlhbGx5IG11dGF0aW5nIHRoZSBgYWNjdW11bGF0b3JgIG9iamVjdC4gSWYgYGFjY3VtdWxhdG9yYCBpcyBub3RcbiAgICAgKiBwcm92aWRlZCwgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNhbWUgYFtbUHJvdG90eXBlXV1gIHdpbGwgYmUgdXNlZC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOiAoYWNjdW11bGF0b3IsIHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBjdXN0b20gYWNjdW11bGF0b3IgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybShbMiwgMywgNF0sIGZ1bmN0aW9uKHJlc3VsdCwgbikge1xuICAgICAqICAgcmVzdWx0LnB1c2gobiAqPSBuKTtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgOV1cbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ob2JqZWN0LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBpc0Fyckxpa2UgPSBpc0FyciB8fCBpc0J1ZmZlcihvYmplY3QpIHx8IGlzVHlwZWRBcnJheShvYmplY3QpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KTtcbiAgICAgIGlmIChhY2N1bXVsYXRvciA9PSBudWxsKSB7XG4gICAgICAgIHZhciBDdG9yID0gb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKGlzQXJyTGlrZSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNBcnIgPyBuZXcgQ3RvciA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzRnVuY3Rpb24oQ3RvcikgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIChpc0Fyckxpa2UgPyBhcnJheUVhY2ggOiBiYXNlRm9yT3duKShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcHJvcGVydHkgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogNyB9IH1dIH07XG4gICAgICogXy51bnNldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udW5zZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdHJ1ZSA6IGJhc2VVbnNldChvYmplY3QsIHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBhY2NlcHRzIGB1cGRhdGVyYCB0byBwcm9kdWNlIHRoZVxuICAgICAqIHZhbHVlIHRvIHNldC4gVXNlIGBfLnVwZGF0ZVdpdGhgIHRvIGN1c3RvbWl6ZSBgcGF0aGAgY3JlYXRpb24uIFRoZSBgdXBkYXRlcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ2FbMF0uYi5jJywgZnVuY3Rpb24obikgeyByZXR1cm4gbiAqIG47IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gOVxuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAneFswXS55LnonLCBmdW5jdGlvbihuKSB7IHJldHVybiBuID8gbiArIDEgOiAwOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVwZGF0ZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlV2l0aChvYmplY3QsICdbMF1bMV0nLCBfLmNvbnN0YW50KCdhJyksIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV2l0aChvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlciksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlcyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMl0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKCdoaScpO1xuICAgICAqIC8vID0+IFsnaCcsICdpJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5XG4gICAgICogdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDbGFtcHMgYG51bWJlcmAgd2l0aGluIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNsYW1wKC0xMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IC01XG4gICAgICpcbiAgICAgKiBfLmNsYW1wKDEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gdG9OdW1iZXIodXBwZXIpO1xuICAgICAgICB1cHBlciA9IHVwcGVyID09PSB1cHBlciA/IHVwcGVyIDogMDtcbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gdG9OdW1iZXIobG93ZXIpO1xuICAgICAgICBsb3dlciA9IGxvd2VyID09PSBsb3dlciA/IGxvd2VyIDogMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlQ2xhbXAodG9OdW1iZXIobnVtYmVyKSwgbG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG5gIGlzIGJldHdlZW4gYHN0YXJ0YCBhbmQgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gSWZcbiAgICAgKiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLCBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG4gICAgICogSWYgYHN0YXJ0YCBpcyBncmVhdGVyIHRoYW4gYGVuZGAgdGhlIHBhcmFtcyBhcmUgc3dhcHBlZCB0byBzdXBwb3J0XG4gICAgICogbmVnYXRpdmUgcmFuZ2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLnJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDMsIDIsIDQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCA4KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgyLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDEuMiwgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDUuMiwgNCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgtMywgLTIsIC02KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgfVxuICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgIHJldHVybiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICogSWYgb25seSBvbmUgYXJndW1lbnQgaXMgcHJvdmlkZWQgYSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIHRoZSBnaXZlbiBudW1iZXJcbiAgICAgKiBpcyByZXR1cm5lZC4gSWYgYGZsb2F0aW5nYCBpcyBgdHJ1ZWAsIG9yIGVpdGhlciBgbG93ZXJgIG9yIGB1cHBlcmAgYXJlXG4gICAgICogZmxvYXRzLCBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSmF2YVNjcmlwdCBmb2xsb3dzIHRoZSBJRUVFLTc1NCBzdGFuZGFyZCBmb3IgcmVzb2x2aW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgdmFsdWVzIHdoaWNoIGNhbiBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyPTBdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3VwcGVyPTFdIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbG9hdGluZ10gU3BlY2lmeSByZXR1cm5pbmcgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMCwgNSk7XG4gICAgICogLy8gPT4gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUpO1xuICAgICAqIC8vID0+IGFsc28gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUsIHRydWUpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMS4yLCA1LjIpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMS4yIGFuZCA1LjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5kb20obG93ZXIsIHVwcGVyLCBmbG9hdGluZykge1xuICAgICAgaWYgKGZsb2F0aW5nICYmIHR5cGVvZiBmbG9hdGluZyAhPSAnYm9vbGVhbicgJiYgaXNJdGVyYXRlZUNhbGwobG93ZXIsIHVwcGVyLCBmbG9hdGluZykpIHtcbiAgICAgICAgdXBwZXIgPSBmbG9hdGluZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXBwZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSB1cHBlcjtcbiAgICAgICAgICB1cHBlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbG93ZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID09PSB1bmRlZmluZWQgJiYgdXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIHVwcGVyID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsb3dlciA9IHRvRmluaXRlKGxvd2VyKTtcbiAgICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cHBlciA9IHRvRmluaXRlKHVwcGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHtcbiAgICAgICAgdmFyIHRlbXAgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1cHBlcjtcbiAgICAgICAgdXBwZXIgPSB0ZW1wO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nIHx8IGxvd2VyICUgMSB8fCB1cHBlciAlIDEpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBuYXRpdmVSYW5kb20oKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1pbihsb3dlciArIChyYW5kICogKHVwcGVyIC0gbG93ZXIgKyBmcmVlUGFyc2VGbG9hdCgnMWUtJyArICgocmFuZCArICcnKS5sZW5ndGggLSAxKSkpKSwgdXBwZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBbY2FtZWwgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FtZWxDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhbWVsIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICovXG4gICAgdmFyIGNhbWVsQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgd29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyBjYXBpdGFsaXplKHdvcmQpIDogd29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UgYW5kIHRoZSByZW1haW5pbmdcbiAgICAgKiB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNhcGl0YWxpemUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FwaXRhbGl6ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhcGl0YWxpemUoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgICAgcmV0dXJuIHVwcGVyRmlyc3QodG9TdHJpbmcoc3RyaW5nKS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWJ1cnJzIGBzdHJpbmdgIGJ5IGNvbnZlcnRpbmdcbiAgICAgKiBbTGF0aW4tMSBTdXBwbGVtZW50XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbi0xX1N1cHBsZW1lbnRfKFVuaWNvZGVfYmxvY2spI0NoYXJhY3Rlcl90YWJsZSlcbiAgICAgKiBhbmQgW0xhdGluIEV4dGVuZGVkLUFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluX0V4dGVuZGVkLUEpXG4gICAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzIGFuZCByZW1vdmluZ1xuICAgICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZGVidXJyLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWJ1cnIoJ2TDqWrDoCB2dScpO1xuICAgICAqIC8vID0+ICdkZWphIHZ1J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYnVycihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gc3RyaW5nICYmIHN0cmluZy5yZXBsYWNlKHJlTGF0aW4sIGRlYnVyckxldHRlcikucmVwbGFjZShyZUNvbWJvTWFyaywgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBlbmRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb249c3RyaW5nLmxlbmd0aF0gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZW5kc1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG5cbiAgICAgIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gbGVuZ3RoXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIGxlbmd0aCk7XG5cbiAgICAgIHZhciBlbmQgPSBwb3NpdGlvbjtcbiAgICAgIHBvc2l0aW9uIC09IHRhcmdldC5sZW5ndGg7XG4gICAgICByZXR1cm4gcG9zaXRpb24gPj0gMCAmJiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIGVuZCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIFwiJlwiLCBcIjxcIiwgXCI+XCIsICdcIicsIGFuZCBcIidcIiBpbiBgc3RyaW5nYCB0byB0aGVpclxuICAgICAqIGNvcnJlc3BvbmRpbmcgSFRNTCBlbnRpdGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkLiBUbyBlc2NhcGUgYWRkaXRpb25hbFxuICAgICAqIGNoYXJhY3RlcnMgdXNlIGEgdGhpcmQtcGFydHkgbGlicmFyeSBsaWtlIFtfaGVfXShodHRwczovL210aHMuYmUvaGUpLlxuICAgICAqXG4gICAgICogVGhvdWdoIHRoZSBcIj5cIiBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZVxuICAgICAqIFwiPlwiIGFuZCBcIi9cIiBkb24ndCBuZWVkIGVzY2FwaW5nIGluIEhUTUwgYW5kIGhhdmUgbm8gc3BlY2lhbCBtZWFuaW5nXG4gICAgICogdW5sZXNzIHRoZXkncmUgcGFydCBvZiBhIHRhZyBvciB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuIFNlZVxuICAgICAqIFtNYXRoaWFzIEJ5bmVucydzIGFydGljbGVdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcylcbiAgICAgKiAodW5kZXIgXCJzZW1pLXJlbGF0ZWQgZnVuIGZhY3RcIikgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFdoZW4gd29ya2luZyB3aXRoIEhUTUwgeW91IHNob3VsZCBhbHdheXNcbiAgICAgKiBbcXVvdGUgYXR0cmlidXRlIHZhbHVlc10oaHR0cDovL3dvbmtvLmNvbS9wb3N0L2h0bWwtZXNjYXBpbmcpIHRvIHJlZHVjZVxuICAgICAqIFhTUyB2ZWN0b3JzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNVbmVzY2FwZWRIdG1sLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVVuZXNjYXBlZEh0bWwsIGVzY2FwZUh0bWxDaGFyKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFc2NhcGVzIHRoZSBgUmVnRXhwYCBzcGVjaWFsIGNoYXJhY3RlcnMgXCJeXCIsIFwiJFwiLCBcIlxcXCIsIFwiLlwiLCBcIipcIiwgXCIrXCIsXG4gICAgICogXCI/XCIsIFwiKFwiLCBcIilcIiwgXCJbXCIsIFwiXVwiLCBcIntcIiwgXCJ9XCIsIGFuZCBcInxcIiBpbiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlUmVnRXhwKCdbbG9kYXNoXShodHRwczovL2xvZGFzaC5jb20vKScpO1xuICAgICAqIC8vID0+ICdcXFtsb2Rhc2hcXF1cXChodHRwczovL2xvZGFzaFxcLmNvbS9cXCknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzUmVnRXhwQ2hhci50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBba2ViYWIgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3BlY2lhbF9jYXNlX3N0eWxlcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBrZWJhYiBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKi9cbiAgICB2YXIga2ViYWJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJy0nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckZpcnN0KCdGcmVkJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnZlJFRCdcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJGaXJzdCA9IGNyZWF0ZUNhc2VGaXJzdCgndG9Mb3dlckNhc2UnKTtcblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgYW5kIHJpZ2h0IHNpZGVzIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLlxuICAgICAqIFBhZGRpbmcgY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgY2FuJ3QgYmUgZXZlbmx5IGRpdmlkZWQgYnkgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgpO1xuICAgICAqIC8vID0+ICcgIGFiYyAgICdcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCA4LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnXy1hYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc3RyTGVuZ3RoID49IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIG1pZCA9IChsZW5ndGggLSBzdHJMZW5ndGgpIC8gMjtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGNyZWF0ZVBhZGRpbmcobmF0aXZlRmxvb3IobWlkKSwgY2hhcnMpICtcbiAgICAgICAgc3RyaW5nICtcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVDZWlsKG1pZCksIGNoYXJzKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSByaWdodCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG4gICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWRFbmQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChzdHJpbmcgKyBjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNik7XG4gICAgICogLy8gPT4gJyAgIGFiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdfLV9hYmMnXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZFN0YXJ0KHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgPyAoY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSArIHN0cmluZylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gaW50ZWdlciBvZiB0aGUgc3BlY2lmaWVkIHJhZGl4LiBJZiBgcmFkaXhgIGlzXG4gICAgICogYHVuZGVmaW5lZGAgb3IgYDBgLCBhIGByYWRpeGAgb2YgYDEwYCBpcyB1c2VkIHVubGVzcyBgdmFsdWVgIGlzIGFcbiAgICAgKiBoZXhhZGVjaW1hbCwgaW4gd2hpY2ggY2FzZSBhIGByYWRpeGAgb2YgYDE2YCBpcyB1c2VkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGFsaWducyB3aXRoIHRoZVxuICAgICAqIFtFUzUgaW1wbGVtZW50YXRpb25dKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEuMi4yKSBvZiBgcGFyc2VJbnRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXg9MTBdIFRoZSByYWRpeCB0byBpbnRlcnByZXQgYHZhbHVlYCBieS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhcnNlSW50KCcwOCcpO1xuICAgICAqIC8vID0+IDhcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICcwOCcsICcxMCddLCBfLnBhcnNlSW50KTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2VJbnQoc3RyaW5nLCByYWRpeCwgZ3VhcmQpIHtcbiAgICAgIGlmIChndWFyZCB8fCByYWRpeCA9PSBudWxsKSB7XG4gICAgICAgIHJhZGl4ID0gMDtcbiAgICAgIH0gZWxzZSBpZiAocmFkaXgpIHtcbiAgICAgICAgcmFkaXggPSArcmFkaXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlUGFyc2VJbnQodG9TdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJyksIHJhZGl4IHx8IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGVhdHMgdGhlIGdpdmVuIHN0cmluZyBgbmAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnKicsIDMpO1xuICAgICAqIC8vID0+ICcqKionXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnYWJjJywgMik7XG4gICAgICogLy8gPT4gJ2FiY2FiYydcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAwKTtcbiAgICAgKiAvLyA9PiAnJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGVhdChzdHJpbmcsIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmVwZWF0KHRvU3RyaW5nKHN0cmluZyksIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIG1hdGNoZXMgZm9yIGBwYXR0ZXJuYCBpbiBgc3RyaW5nYCB3aXRoIGByZXBsYWNlbWVudGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNyZXBsYWNlYF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3JlcGxhY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHBhdHRlcm4gVGhlIHBhdHRlcm4gdG8gcmVwbGFjZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gcmVwbGFjZW1lbnQgVGhlIG1hdGNoIHJlcGxhY2VtZW50LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXBsYWNlKCdIaSBGcmVkJywgJ0ZyZWQnLCAnQmFybmV5Jyk7XG4gICAgICogLy8gPT4gJ0hpIEJhcm5leSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoYXJnc1swXSk7XG5cbiAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA8IDMgPyBzdHJpbmcgOiBzdHJpbmcucmVwbGFjZShhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzbmFrZSBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbmFrZV9jYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNuYWtlIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCctLUZPTy1CQVItLScpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqL1xuICAgIHZhciBzbmFrZUNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnXycgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNzcGxpdGBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9zcGxpdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gc3BsaXQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBzZXBhcmF0b3IgVGhlIHNlcGFyYXRvciBwYXR0ZXJuIHRvIHNwbGl0IGJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGltaXRdIFRoZSBsZW5ndGggdG8gdHJ1bmNhdGUgcmVzdWx0cyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHN0cmluZyBzZWdtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zcGxpdCgnYS1iLWMnLCAnLScsIDIpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcGxpdChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIGlmIChsaW1pdCAmJiB0eXBlb2YgbGltaXQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBsaW1pdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGxpbWl0ID0gbGltaXQgPT09IHVuZGVmaW5lZCA/IE1BWF9BUlJBWV9MRU5HVEggOiBsaW1pdCA+Pj4gMDtcbiAgICAgIGlmICghbGltaXQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKFxuICAgICAgICAgICAgdHlwZW9mIHNlcGFyYXRvciA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgKHNlcGFyYXRvciAhPSBudWxsICYmICFpc1JlZ0V4cChzZXBhcmF0b3IpKVxuICAgICAgICAgICkpIHtcbiAgICAgICAgc2VwYXJhdG9yID0gYmFzZVRvU3RyaW5nKHNlcGFyYXRvcik7XG4gICAgICAgIGlmICghc2VwYXJhdG9yICYmIGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShzdHJpbmcpLCAwLCBsaW1pdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcuc3BsaXQoc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBbc3RhcnQgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3R5bGlzdGljX29yX3NwZWNpYWxpc2VkX3VzYWdlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0YXJ0IGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKi9cbiAgICB2YXIgc3RhcnRDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgdXBwZXJGaXJzdCh3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj0wXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhcnRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09IG51bGxcbiAgICAgICAgPyAwXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIHN0cmluZy5sZW5ndGgpO1xuXG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcbiAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIHBvc2l0aW9uICsgdGFyZ2V0Lmxlbmd0aCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbiB0aGF0IGNhbiBpbnRlcnBvbGF0ZSBkYXRhIHByb3BlcnRpZXNcbiAgICAgKiBpbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVycywgSFRNTC1lc2NhcGUgaW50ZXJwb2xhdGVkIGRhdGEgcHJvcGVydGllcyBpblxuICAgICAqIFwiZXNjYXBlXCIgZGVsaW1pdGVycywgYW5kIGV4ZWN1dGUgSmF2YVNjcmlwdCBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy4gRGF0YVxuICAgICAqIHByb3BlcnRpZXMgbWF5IGJlIGFjY2Vzc2VkIGFzIGZyZWUgdmFyaWFibGVzIGluIHRoZSB0ZW1wbGF0ZS4gSWYgYSBzZXR0aW5nXG4gICAgICogb2JqZWN0IGlzIGdpdmVuLCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYF8udGVtcGxhdGVTZXR0aW5nc2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEluIHRoZSBkZXZlbG9wbWVudCBidWlsZCBgXy50ZW1wbGF0ZWAgdXRpbGl6ZXNcbiAgICAgKiBbc291cmNlVVJMc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZGV2ZWxvcGVydG9vbHMvc291cmNlbWFwcy8jdG9jLXNvdXJjZXVybClcbiAgICAgKiBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHByZWNvbXBpbGluZyB0ZW1wbGF0ZXMgc2VlXG4gICAgICogW2xvZGFzaCdzIGN1c3RvbSBidWlsZHMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9sb2Rhc2guY29tL2N1c3RvbS1idWlsZHMpLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gQ2hyb21lIGV4dGVuc2lvbiBzYW5kYm94ZXMgc2VlXG4gICAgICogW0Nocm9tZSdzIGV4dGVuc2lvbnMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9leHRlbnNpb25zL3NhbmRib3hpbmdFdmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHRlbXBsYXRlIHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXNjYXBlPV8udGVtcGxhdGVTZXR0aW5ncy5lc2NhcGVdXG4gICAgICogIFRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5ldmFsdWF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXZhbHVhdGVdXG4gICAgICogIFRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5pbXBvcnRzPV8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXVxuICAgICAqICBBbiBvYmplY3QgdG8gaW1wb3J0IGludG8gdGhlIHRlbXBsYXRlIGFzIGZyZWUgdmFyaWFibGVzLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5pbnRlcnBvbGF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGVdXG4gICAgICogIFRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zb3VyY2VVUkw9J2xvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbbl0nXVxuICAgICAqICBUaGUgc291cmNlVVJMIG9mIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudmFyaWFibGU9J29iaiddXG4gICAgICogIFRoZSBkYXRhIG9iamVjdCB2YXJpYWJsZSBuYW1lLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyIHRvIGNyZWF0ZSBhIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnZnJlZCcgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyIHRvIGVzY2FwZSBkYXRhIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8Yj48JS0gdmFsdWUgJT48L2I+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnPHNjcmlwdD4nIH0pO1xuICAgICAqIC8vID0+ICc8Yj4mbHQ7c2NyaXB0Jmd0OzwvYj4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIgdG8gZXhlY3V0ZSBKYXZhU2NyaXB0IGFuZCBnZW5lcmF0ZSBIVE1MLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIF8uZm9yRWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGludGVybmFsIGBwcmludGAgZnVuY3Rpb24gaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgcHJpbnQoXCJoZWxsbyBcIiArIHVzZXIpOyAlPiEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2Jhcm5leScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGJhcm5leSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEVTIHRlbXBsYXRlIGxpdGVyYWwgZGVsaW1pdGVyIGFzIGFuIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogLy8gRGlzYWJsZSBzdXBwb3J0IGJ5IHJlcGxhY2luZyB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyAkeyB1c2VyIH0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdwZWJibGVzJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gcGViYmxlcyEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgYmFja3NsYXNoZXMgdG8gdHJlYXQgZGVsaW1pdGVycyBhcyBwbGFpbiB0ZXh0LlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlPSBcIlxcXFw8JS0gdmFsdWUgJVxcXFw+XCIgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICdpZ25vcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnPCUtIHZhbHVlICU+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgaW1wb3J0c2Agb3B0aW9uIHRvIGltcG9ydCBgalF1ZXJ5YCBhcyBganFgLlxuICAgICAqIHZhciB0ZXh0ID0gJzwlIGpxLmVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPic7XG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSh0ZXh0LCB7ICdpbXBvcnRzJzogeyAnanEnOiBqUXVlcnkgfSB9KTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZVVSTGAgb3B0aW9uIHRvIHNwZWNpZnkgYSBjdXN0b20gc291cmNlVVJMIGZvciB0aGUgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJywgeyAnc291cmNlVVJMJzogJy9iYXNpYy9ncmVldGluZy5qc3QnIH0pO1xuICAgICAqIGNvbXBpbGVkKGRhdGEpO1xuICAgICAqIC8vID0+IEZpbmQgdGhlIHNvdXJjZSBvZiBcImdyZWV0aW5nLmpzdFwiIHVuZGVyIHRoZSBTb3VyY2VzIHRhYiBvciBSZXNvdXJjZXMgcGFuZWwgb2YgdGhlIHdlYiBpbnNwZWN0b3IuXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGB2YXJpYWJsZWAgb3B0aW9uIHRvIGVuc3VyZSBhIHdpdGgtc3RhdGVtZW50IGlzbid0IHVzZWQgaW4gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hpIDwlPSBkYXRhLnVzZXIgJT4hJywgeyAndmFyaWFibGUnOiAnZGF0YScgfSk7XG4gICAgICogY29tcGlsZWQuc291cmNlO1xuICAgICAqIC8vID0+IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgKiAvLyAgIHZhciBfX3QsIF9fcCA9ICcnO1xuICAgICAqIC8vICAgX19wICs9ICdoaSAnICsgKChfX3QgPSAoIGRhdGEudXNlciApKSA9PSBudWxsID8gJycgOiBfX3QpICsgJyEnO1xuICAgICAqIC8vICAgcmV0dXJuIF9fcDtcbiAgICAgKiAvLyB9XG4gICAgICpcbiAgICAgKiAvLyBVc2UgY3VzdG9tIHRlbXBsYXRlIGRlbGltaXRlcnMuXG4gICAgICogXy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlID0gL3t7KFtcXHNcXFNdKz8pfX0vZztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyB7eyB1c2VyIH19IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnbXVzdGFjaGUnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBtdXN0YWNoZSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VgIHByb3BlcnR5IHRvIGlubGluZSBjb21waWxlZCB0ZW1wbGF0ZXMgZm9yIG1lYW5pbmdmdWxcbiAgICAgKiAvLyBsaW5lIG51bWJlcnMgaW4gZXJyb3IgbWVzc2FnZXMgYW5kIHN0YWNrIHRyYWNlcy5cbiAgICAgKiBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnanN0LmpzJyksICdcXFxuICAgICAqICAgdmFyIEpTVCA9IHtcXFxuICAgICAqICAgICBcIm1haW5cIjogJyArIF8udGVtcGxhdGUobWFpblRleHQpLnNvdXJjZSArICdcXFxuICAgICAqICAgfTtcXFxuICAgICAqICcpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRlbXBsYXRlKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpIHtcbiAgICAgIC8vIEJhc2VkIG9uIEpvaG4gUmVzaWcncyBgdG1wbGAgaW1wbGVtZW50YXRpb25cbiAgICAgIC8vIChodHRwOi8vZWpvaG4ub3JnL2Jsb2cvamF2YXNjcmlwdC1taWNyby10ZW1wbGF0aW5nLylcbiAgICAgIC8vIGFuZCBMYXVyYSBEb2t0b3JvdmEncyBkb1QuanMgKGh0dHBzOi8vZ2l0aHViLmNvbS9vbGFkby9kb1QpLlxuICAgICAgdmFyIHNldHRpbmdzID0gbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3M7XG5cbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSkge1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIG9wdGlvbnMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMsIHNldHRpbmdzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKTtcblxuICAgICAgdmFyIGltcG9ydHMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMuaW1wb3J0cywgc2V0dGluZ3MuaW1wb3J0cywgY3VzdG9tRGVmYXVsdHNBc3NpZ25JbiksXG4gICAgICAgICAgaW1wb3J0c0tleXMgPSBrZXlzKGltcG9ydHMpLFxuICAgICAgICAgIGltcG9ydHNWYWx1ZXMgPSBiYXNlVmFsdWVzKGltcG9ydHMsIGltcG9ydHNLZXlzKTtcblxuICAgICAgdmFyIGlzRXNjYXBpbmcsXG4gICAgICAgICAgaXNFdmFsdWF0aW5nLFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBpbnRlcnBvbGF0ZSA9IG9wdGlvbnMuaW50ZXJwb2xhdGUgfHwgcmVOb01hdGNoLFxuICAgICAgICAgIHNvdXJjZSA9IFwiX19wICs9ICdcIjtcblxuICAgICAgLy8gQ29tcGlsZSB0aGUgcmVnZXhwIHRvIG1hdGNoIGVhY2ggZGVsaW1pdGVyLlxuICAgICAgdmFyIHJlRGVsaW1pdGVycyA9IFJlZ0V4cChcbiAgICAgICAgKG9wdGlvbnMuZXNjYXBlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgaW50ZXJwb2xhdGUuc291cmNlICsgJ3wnICtcbiAgICAgICAgKGludGVycG9sYXRlID09PSByZUludGVycG9sYXRlID8gcmVFc1RlbXBsYXRlIDogcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAob3B0aW9ucy5ldmFsdWF0ZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JCdcbiAgICAgICwgJ2cnKTtcblxuICAgICAgLy8gVXNlIGEgc291cmNlVVJMIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoJ3NvdXJjZVVSTCcgaW4gb3B0aW9uc1xuICAgICAgICAgID8gb3B0aW9ucy5zb3VyY2VVUkxcbiAgICAgICAgICA6ICgnbG9kYXNoLnRlbXBsYXRlU291cmNlc1snICsgKCsrdGVtcGxhdGVDb3VudGVyKSArICddJylcbiAgICAgICAgKSArICdcXG4nO1xuXG4gICAgICBzdHJpbmcucmVwbGFjZShyZURlbGltaXRlcnMsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGVWYWx1ZSwgaW50ZXJwb2xhdGVWYWx1ZSwgZXNUZW1wbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICAgICAgaW50ZXJwb2xhdGVWYWx1ZSB8fCAoaW50ZXJwb2xhdGVWYWx1ZSA9IGVzVGVtcGxhdGVWYWx1ZSk7XG5cbiAgICAgICAgLy8gRXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBjYW4ndCBiZSBpbmNsdWRlZCBpbiBzdHJpbmcgbGl0ZXJhbHMuXG4gICAgICAgIHNvdXJjZSArPSBzdHJpbmcuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShyZVVuZXNjYXBlZFN0cmluZywgZXNjYXBlU3RyaW5nQ2hhcik7XG5cbiAgICAgICAgLy8gUmVwbGFjZSBkZWxpbWl0ZXJzIHdpdGggc25pcHBldHMuXG4gICAgICAgIGlmIChlc2NhcGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbl9fZShcIiArIGVzY2FwZVZhbHVlICsgXCIpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcbiAgICAgICAgICBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZVZhbHVlICsgXCI7XFxuX19wICs9ICdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZSkge1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbigoX190ID0gKFwiICsgaW50ZXJwb2xhdGVWYWx1ZSArIFwiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICAgIC8vIFRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgcHJvZHVjdHMgbmVlZHMgYG1hdGNoYCByZXR1cm5lZCBpblxuICAgICAgICAvLyBvcmRlciB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGBvZmZzZXRgIHZhbHVlLlxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTtcblxuICAgICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgICAgLy8gSWYgYHZhcmlhYmxlYCBpcyBub3Qgc3BlY2lmaWVkIHdyYXAgYSB3aXRoLXN0YXRlbWVudCBhcm91bmQgdGhlIGdlbmVyYXRlZFxuICAgICAgLy8gY29kZSB0byBhZGQgdGhlIGRhdGEgb2JqZWN0IHRvIHRoZSB0b3Agb2YgdGhlIHNjb3BlIGNoYWluLlxuICAgICAgdmFyIHZhcmlhYmxlID0gb3B0aW9ucy52YXJpYWJsZTtcbiAgICAgIGlmICghdmFyaWFibGUpIHtcbiAgICAgICAgc291cmNlID0gJ3dpdGggKG9iaikge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gICAgICB9XG4gICAgICAvLyBDbGVhbnVwIGNvZGUgYnkgc3RyaXBwaW5nIGVtcHR5IHN0cmluZ3MuXG4gICAgICBzb3VyY2UgPSAoaXNFdmFsdWF0aW5nID8gc291cmNlLnJlcGxhY2UocmVFbXB0eVN0cmluZ0xlYWRpbmcsICcnKSA6IHNvdXJjZSlcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgICAgIC8vIEZyYW1lIGNvZGUgYXMgdGhlIGZ1bmN0aW9uIGJvZHkuXG4gICAgICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArICh2YXJpYWJsZSB8fCAnb2JqJykgKyAnKSB7XFxuJyArXG4gICAgICAgICh2YXJpYWJsZVxuICAgICAgICAgID8gJydcbiAgICAgICAgICA6ICdvYmogfHwgKG9iaiA9IHt9KTtcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBcInZhciBfX3QsIF9fcCA9ICcnXCIgK1xuICAgICAgICAoaXNFc2NhcGluZ1xuICAgICAgICAgICA/ICcsIF9fZSA9IF8uZXNjYXBlJ1xuICAgICAgICAgICA6ICcnXG4gICAgICAgICkgK1xuICAgICAgICAoaXNFdmFsdWF0aW5nXG4gICAgICAgICAgPyAnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG4nICtcbiAgICAgICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgICAgICA6ICc7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgc291cmNlICtcbiAgICAgICAgJ3JldHVybiBfX3BcXG59JztcblxuICAgICAgdmFyIHJlc3VsdCA9IGF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvbihpbXBvcnRzS2V5cywgc291cmNlVVJMICsgJ3JldHVybiAnICsgc291cmNlKVxuICAgICAgICAgIC5hcHBseSh1bmRlZmluZWQsIGltcG9ydHNWYWx1ZXMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBvclxuICAgICAgLy8gdGhlIGBzb3VyY2VgIHByb3BlcnR5IGFzIGEgY29udmVuaWVuY2UgZm9yIGlubGluaW5nIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICBpZiAoaXNFcnJvcihyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIGxvd2VyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b0xvd2VyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9Mb3dlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tZm9vLWJhci0tJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vYmFyJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdfX2Zvb19iYXJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xvd2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIHVwcGVyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9VcHBlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tRk9PLUJBUi0tJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PQkFSJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdfX0ZPT19CQVJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1VwcGVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8udHJpbSgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnICBmb28gICcsICcgIGJhciAgJ10sIF8udHJpbSk7XG4gICAgICogLy8gPT4gWydmb28nLCAnYmFyJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltRW5kLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHRoZVxuICAgICAqIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdCB0byBgc3JjVmFsdWVgLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZVxuICAgICAqIG9iamVjdCB2YWx1ZSBpcyBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3RcbiAgICAgKiBgc3JjVmFsdWVgIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlXG4gICAgICogYF8uaXNFcXVhbGAgZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZChvYmplY3RzLCBfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDQpKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgYmFzZUNsb25lKHNyY1ZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMikgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDEpIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZCgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoWydhJywgJ2InXSkpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciBtZXRob2QgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1ldGhvZGA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiB0aGUgbWV0aG9kIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBfLnRpbWVzKDMsIF8uY29uc3RhbnQpLFxuICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnYVsyXScsICdjWzBdJ10sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZE9mID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlXG4gICAgICogb2JqZWN0IHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24sIHRoZW4gbWV0aG9kc1xuICAgICAqIGFyZSBhZGRlZCB0byBpdHMgcHJvdG90eXBlIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVXNlIGBfLnJ1bkluQ29udGV4dGAgdG8gY3JlYXRlIGEgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdG9cbiAgICAgKiBhdm9pZCBjb25mbGljdHMgY2F1c2VkIGJ5IG1vZGlmeWluZyB0aGUgb3JpZ2luYWwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBbb2JqZWN0PWxvZGFzaF0gVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgZnVuY3Rpb25zIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoYWluPXRydWVdIFNwZWNpZnkgd2hldGhlciBtaXhpbnMgYXJlIGNoYWluYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiB2b3dlbHMoc3RyaW5nKSB7XG4gICAgICogICByZXR1cm4gXy5maWx0ZXIoc3RyaW5nLCBmdW5jdGlvbih2KSB7XG4gICAgICogICAgIHJldHVybiAvW2FlaW91XS9pLnRlc3Qodik7XG4gICAgICogICB9KTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9KTtcbiAgICAgKiBfLnZvd2VscygnZnJlZCcpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaXhpbihvYmplY3QsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpLFxuICAgICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIHByb3BzKTtcblxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCAmJlxuICAgICAgICAgICEoaXNPYmplY3Qoc291cmNlKSAmJiAobWV0aG9kTmFtZXMubGVuZ3RoIHx8ICFwcm9wcy5sZW5ndGgpKSkge1xuICAgICAgICBvcHRpb25zID0gc291cmNlO1xuICAgICAgICBzb3VyY2UgPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdCA9IHRoaXM7XG4gICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgICB9XG4gICAgICB2YXIgY2hhaW4gPSAhKGlzT2JqZWN0KG9wdGlvbnMpICYmICdjaGFpbicgaW4gb3B0aW9ucykgfHwgISFvcHRpb25zLmNoYWluLFxuICAgICAgICAgIGlzRnVuYyA9IGlzRnVuY3Rpb24ob2JqZWN0KTtcblxuICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBmdW5jID0gc291cmNlW21ldGhvZE5hbWVdO1xuICAgICAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICBpZiAoaXNGdW5jKSB7XG4gICAgICAgICAgb2JqZWN0LnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX187XG4gICAgICAgICAgICBpZiAoY2hhaW4gfHwgY2hhaW5BbGwpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCh0aGlzLl9fd3JhcHBlZF9fKSxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnMgPSByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG5cbiAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKHsgJ2Z1bmMnOiBmdW5jLCAnYXJncyc6IGFyZ3VtZW50cywgJ3RoaXNBcmcnOiBvYmplY3QgfSk7XG4gICAgICAgICAgICAgIHJlc3VsdC5fX2NoYWluX18gPSBjaGFpbkFsbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KG9iamVjdCwgYXJyYXlQdXNoKFt0aGlzLnZhbHVlKCldLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnRzIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvXG4gICAgICogdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbG9kYXNoID0gXy5ub0NvbmZsaWN0KCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgIGlmIChyb290Ll8gPT09IHRoaXMpIHtcbiAgICAgICAgcm9vdC5fID0gb2xkRGFzaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8ubm9vcCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGdldHMgdGhlIGFyZ3VtZW50IGF0IGluZGV4IGBuYC4gSWYgYG5gIGlzIG5lZ2F0aXZlLFxuICAgICAqIHRoZSBudGggYXJndW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBhcmd1bWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFzcy10aHJ1IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKDEpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoLTIpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGhBcmcobikge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBiYXNlTnRoKGFyZ3MsIG4pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgaXRlcmF0ZWVzYCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXNcbiAgICAgKiBhbmQgcmV0dXJucyB0aGVpciByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlcihbTWF0aC5tYXgsIE1hdGgubWluXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDEsIDIsIDMsIDQpO1xuICAgICAqIC8vID0+IFs0LCAxXVxuICAgICAqL1xuICAgIHZhciBvdmVyID0gY3JlYXRlT3ZlcihhcnJheU1hcCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbGwqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgcHJlZGljYXRlcyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJFdmVyeShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlckV2ZXJ5ID0gY3JlYXRlT3ZlcihhcnJheUV2ZXJ5KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFueSoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gKGxvZGFzaEZ1bmMubmFtZSArICcnKSxcbiAgICAgICAgICAgIG5hbWVzID0gcmVhbE5hbWVzW2tleV0gfHwgKHJlYWxOYW1lc1trZXldID0gW10pO1xuXG4gICAgICAgIG5hbWVzLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY29sb3JTdHJpbmcgPSByZXF1aXJlKCdjb2xvci1zdHJpbmcnKTtcbnZhciBjb252ZXJ0ID0gcmVxdWlyZSgnY29sb3ItY29udmVydCcpO1xuXG52YXIgX3NsaWNlID0gW10uc2xpY2U7XG5cbnZhciBza2lwcGVkTW9kZWxzID0gW1xuXHQvLyB0byBiZSBob25lc3QsIEkgZG9uJ3QgcmVhbGx5IGZlZWwgbGlrZSBrZXl3b3JkIGJlbG9uZ3MgaW4gY29sb3IgY29udmVydCwgYnV0IGVoLlxuXHQna2V5d29yZCcsXG5cblx0Ly8gZ3JheSBjb25mbGljdHMgd2l0aCBzb21lIG1ldGhvZCBuYW1lcywgYW5kIGhhcyBpdHMgb3duIG1ldGhvZCBkZWZpbmVkLlxuXHQnZ3JheScsXG5cblx0Ly8gc2hvdWxkbid0IHJlYWxseSBiZSBpbiBjb2xvci1jb252ZXJ0IGVpdGhlci4uLlxuXHQnaGV4J1xuXTtcblxudmFyIGhhc2hlZE1vZGVsS2V5cyA9IHt9O1xuT2JqZWN0LmtleXMoY29udmVydCkuZm9yRWFjaChmdW5jdGlvbiAobW9kZWwpIHtcblx0aGFzaGVkTW9kZWxLZXlzW19zbGljZS5jYWxsKGNvbnZlcnRbbW9kZWxdLmxhYmVscykuc29ydCgpLmpvaW4oJycpXSA9IG1vZGVsO1xufSk7XG5cbnZhciBsaW1pdGVycyA9IHt9O1xuXG5mdW5jdGlvbiBDb2xvcihvYmosIG1vZGVsKSB7XG5cdGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb2xvcikpIHtcblx0XHRyZXR1cm4gbmV3IENvbG9yKG9iaiwgbW9kZWwpO1xuXHR9XG5cblx0aWYgKG1vZGVsICYmIG1vZGVsIGluIHNraXBwZWRNb2RlbHMpIHtcblx0XHRtb2RlbCA9IG51bGw7XG5cdH1cblxuXHRpZiAobW9kZWwgJiYgIShtb2RlbCBpbiBjb252ZXJ0KSkge1xuXHRcdHRocm93IG5ldyBFcnJvcignVW5rbm93biBtb2RlbDogJyArIG1vZGVsKTtcblx0fVxuXG5cdHZhciBpO1xuXHR2YXIgY2hhbm5lbHM7XG5cblx0aWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0dGhpcy5tb2RlbCA9ICdyZ2InO1xuXHRcdHRoaXMuY29sb3IgPSBbMCwgMCwgMF07XG5cdFx0dGhpcy52YWxwaGEgPSAxO1xuXHR9IGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIENvbG9yKSB7XG5cdFx0dGhpcy5tb2RlbCA9IG9iai5tb2RlbDtcblx0XHR0aGlzLmNvbG9yID0gb2JqLmNvbG9yLnNsaWNlKCk7XG5cdFx0dGhpcy52YWxwaGEgPSBvYmoudmFscGhhO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG5cdFx0dmFyIHJlc3VsdCA9IGNvbG9yU3RyaW5nLmdldChvYmopO1xuXHRcdGlmIChyZXN1bHQgPT09IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHBhcnNlIGNvbG9yIGZyb20gc3RyaW5nOiAnICsgb2JqKTtcblx0XHR9XG5cblx0XHR0aGlzLm1vZGVsID0gcmVzdWx0Lm1vZGVsO1xuXHRcdGNoYW5uZWxzID0gY29udmVydFt0aGlzLm1vZGVsXS5jaGFubmVscztcblx0XHR0aGlzLmNvbG9yID0gcmVzdWx0LnZhbHVlLnNsaWNlKDAsIGNoYW5uZWxzKTtcblx0XHR0aGlzLnZhbHBoYSA9IHR5cGVvZiByZXN1bHQudmFsdWVbY2hhbm5lbHNdID09PSAnbnVtYmVyJyA/IHJlc3VsdC52YWx1ZVtjaGFubmVsc10gOiAxO1xuXHR9IGVsc2UgaWYgKG9iai5sZW5ndGgpIHtcblx0XHR0aGlzLm1vZGVsID0gbW9kZWwgfHwgJ3JnYic7XG5cdFx0Y2hhbm5lbHMgPSBjb252ZXJ0W3RoaXMubW9kZWxdLmNoYW5uZWxzO1xuXHRcdHZhciBuZXdBcnIgPSBfc2xpY2UuY2FsbChvYmosIDAsIGNoYW5uZWxzKTtcblx0XHR0aGlzLmNvbG9yID0gemVyb0FycmF5KG5ld0FyciwgY2hhbm5lbHMpO1xuXHRcdHRoaXMudmFscGhhID0gdHlwZW9mIG9ialtjaGFubmVsc10gPT09ICdudW1iZXInID8gb2JqW2NoYW5uZWxzXSA6IDE7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ251bWJlcicpIHtcblx0XHQvLyB0aGlzIGlzIGFsd2F5cyBSR0IgLSBjYW4gYmUgY29udmVydGVkIGxhdGVyIG9uLlxuXHRcdG9iaiAmPSAweEZGRkZGRjtcblx0XHR0aGlzLm1vZGVsID0gJ3JnYic7XG5cdFx0dGhpcy5jb2xvciA9IFtcblx0XHRcdChvYmogPj4gMTYpICYgMHhGRixcblx0XHRcdChvYmogPj4gOCkgJiAweEZGLFxuXHRcdFx0b2JqICYgMHhGRlxuXHRcdF07XG5cdFx0dGhpcy52YWxwaGEgPSAxO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMudmFscGhhID0gMTtcblxuXHRcdHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcblx0XHRpZiAoJ2FscGhhJyBpbiBvYmopIHtcblx0XHRcdGtleXMuc3BsaWNlKGtleXMuaW5kZXhPZignYWxwaGEnKSwgMSk7XG5cdFx0XHR0aGlzLnZhbHBoYSA9IHR5cGVvZiBvYmouYWxwaGEgPT09ICdudW1iZXInID8gb2JqLmFscGhhIDogMDtcblx0XHR9XG5cblx0XHR2YXIgaGFzaGVkS2V5cyA9IGtleXMuc29ydCgpLmpvaW4oJycpO1xuXHRcdGlmICghKGhhc2hlZEtleXMgaW4gaGFzaGVkTW9kZWxLZXlzKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcGFyc2UgY29sb3IgZnJvbSBvYmplY3Q6ICcgKyBKU09OLnN0cmluZ2lmeShvYmopKTtcblx0XHR9XG5cblx0XHR0aGlzLm1vZGVsID0gaGFzaGVkTW9kZWxLZXlzW2hhc2hlZEtleXNdO1xuXG5cdFx0dmFyIGxhYmVscyA9IGNvbnZlcnRbdGhpcy5tb2RlbF0ubGFiZWxzO1xuXHRcdHZhciBjb2xvciA9IFtdO1xuXHRcdGZvciAoaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbG9yLnB1c2gob2JqW2xhYmVsc1tpXV0pO1xuXHRcdH1cblxuXHRcdHRoaXMuY29sb3IgPSB6ZXJvQXJyYXkoY29sb3IpO1xuXHR9XG5cblx0Ly8gcGVyZm9ybSBsaW1pdGF0aW9ucyAoY2xhbXBpbmcsIGV0Yy4pXG5cdGlmIChsaW1pdGVyc1t0aGlzLm1vZGVsXSkge1xuXHRcdGNoYW5uZWxzID0gY29udmVydFt0aGlzLm1vZGVsXS5jaGFubmVscztcblx0XHRmb3IgKGkgPSAwOyBpIDwgY2hhbm5lbHM7IGkrKykge1xuXHRcdFx0dmFyIGxpbWl0ID0gbGltaXRlcnNbdGhpcy5tb2RlbF1baV07XG5cdFx0XHRpZiAobGltaXQpIHtcblx0XHRcdFx0dGhpcy5jb2xvcltpXSA9IGxpbWl0KHRoaXMuY29sb3JbaV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHRoaXMudmFscGhhID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdGhpcy52YWxwaGEpKTtcblxuXHRpZiAoT2JqZWN0LmZyZWV6ZSkge1xuXHRcdE9iamVjdC5mcmVlemUodGhpcyk7XG5cdH1cbn1cblxuQ29sb3IucHJvdG90eXBlID0ge1xuXHR0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLnN0cmluZygpO1xuXHR9LFxuXG5cdHRvSlNPTjogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzW3RoaXMubW9kZWxdKCk7XG5cdH0sXG5cblx0c3RyaW5nOiBmdW5jdGlvbiAocGxhY2VzKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzLm1vZGVsIGluIGNvbG9yU3RyaW5nLnRvID8gdGhpcyA6IHRoaXMucmdiKCk7XG5cdFx0c2VsZiA9IHNlbGYucm91bmQodHlwZW9mIHBsYWNlcyA9PT0gJ251bWJlcicgPyBwbGFjZXMgOiAxKTtcblx0XHR2YXIgYXJncyA9IHNlbGYudmFscGhhID09PSAxID8gc2VsZi5jb2xvciA6IHNlbGYuY29sb3IuY29uY2F0KHRoaXMudmFscGhhKTtcblx0XHRyZXR1cm4gY29sb3JTdHJpbmcudG9bc2VsZi5tb2RlbF0oYXJncyk7XG5cdH0sXG5cblx0cGVyY2VudFN0cmluZzogZnVuY3Rpb24gKHBsYWNlcykge1xuXHRcdHZhciBzZWxmID0gdGhpcy5yZ2IoKS5yb3VuZCh0eXBlb2YgcGxhY2VzID09PSAnbnVtYmVyJyA/IHBsYWNlcyA6IDEpO1xuXHRcdHZhciBhcmdzID0gc2VsZi52YWxwaGEgPT09IDEgPyBzZWxmLmNvbG9yIDogc2VsZi5jb2xvci5jb25jYXQodGhpcy52YWxwaGEpO1xuXHRcdHJldHVybiBjb2xvclN0cmluZy50by5yZ2IucGVyY2VudChhcmdzKTtcblx0fSxcblxuXHRhcnJheTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLnZhbHBoYSA9PT0gMSA/IHRoaXMuY29sb3Iuc2xpY2UoKSA6IHRoaXMuY29sb3IuY29uY2F0KHRoaXMudmFscGhhKTtcblx0fSxcblxuXHRvYmplY3Q6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcmVzdWx0ID0ge307XG5cdFx0dmFyIGNoYW5uZWxzID0gY29udmVydFt0aGlzLm1vZGVsXS5jaGFubmVscztcblx0XHR2YXIgbGFiZWxzID0gY29udmVydFt0aGlzLm1vZGVsXS5sYWJlbHM7XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5uZWxzOyBpKyspIHtcblx0XHRcdHJlc3VsdFtsYWJlbHNbaV1dID0gdGhpcy5jb2xvcltpXTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy52YWxwaGEgIT09IDEpIHtcblx0XHRcdHJlc3VsdC5hbHBoYSA9IHRoaXMudmFscGhhO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0dW5pdEFycmF5OiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHJnYiA9IHRoaXMucmdiKCkuY29sb3I7XG5cdFx0cmdiWzBdIC89IDI1NTtcblx0XHRyZ2JbMV0gLz0gMjU1O1xuXHRcdHJnYlsyXSAvPSAyNTU7XG5cblx0XHRpZiAodGhpcy52YWxwaGEgIT09IDEpIHtcblx0XHRcdHJnYi5wdXNoKHRoaXMudmFscGhhKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmdiO1xuXHR9LFxuXG5cdHVuaXRPYmplY3Q6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcmdiID0gdGhpcy5yZ2IoKS5vYmplY3QoKTtcblx0XHRyZ2IuciAvPSAyNTU7XG5cdFx0cmdiLmcgLz0gMjU1O1xuXHRcdHJnYi5iIC89IDI1NTtcblxuXHRcdGlmICh0aGlzLnZhbHBoYSAhPT0gMSkge1xuXHRcdFx0cmdiLmFscGhhID0gdGhpcy52YWxwaGE7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJnYjtcblx0fSxcblxuXHRyb3VuZDogZnVuY3Rpb24gKHBsYWNlcykge1xuXHRcdHBsYWNlcyA9IE1hdGgubWF4KHBsYWNlcyB8fCAwLCAwKTtcblx0XHRyZXR1cm4gbmV3IENvbG9yKHRoaXMuY29sb3IubWFwKHJvdW5kVG9QbGFjZShwbGFjZXMpKS5jb25jYXQodGhpcy52YWxwaGEpLCB0aGlzLm1vZGVsKTtcblx0fSxcblxuXHRhbHBoYTogZnVuY3Rpb24gKHZhbCkge1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gbmV3IENvbG9yKHRoaXMuY29sb3IuY29uY2F0KE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbCkpKSwgdGhpcy5tb2RlbCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMudmFscGhhO1xuXHR9LFxuXG5cdC8vIHJnYlxuXHRyZWQ6IGdldHNldCgncmdiJywgMCwgbWF4Zm4oMjU1KSksXG5cdGdyZWVuOiBnZXRzZXQoJ3JnYicsIDEsIG1heGZuKDI1NSkpLFxuXHRibHVlOiBnZXRzZXQoJ3JnYicsIDIsIG1heGZuKDI1NSkpLFxuXG5cdGh1ZTogZ2V0c2V0KFsnaHNsJywgJ2hzdicsICdoc2wnLCAnaHdiJywgJ2hjZyddLCAwLCBmdW5jdGlvbiAodmFsKSB7IHJldHVybiAoKHZhbCAlIDM2MCkgKyAzNjApICUgMzYwOyB9KSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBicmFjZS1zdHlsZVxuXG5cdHNhdHVyYXRpb25sOiBnZXRzZXQoJ2hzbCcsIDEsIG1heGZuKDEwMCkpLFxuXHRsaWdodG5lc3M6IGdldHNldCgnaHNsJywgMiwgbWF4Zm4oMTAwKSksXG5cblx0c2F0dXJhdGlvbnY6IGdldHNldCgnaHN2JywgMSwgbWF4Zm4oMTAwKSksXG5cdHZhbHVlOiBnZXRzZXQoJ2hzdicsIDIsIG1heGZuKDEwMCkpLFxuXG5cdGNocm9tYTogZ2V0c2V0KCdoY2cnLCAxLCBtYXhmbigxMDApKSxcblx0Z3JheTogZ2V0c2V0KCdoY2cnLCAyLCBtYXhmbigxMDApKSxcblxuXHR3aGl0ZTogZ2V0c2V0KCdod2InLCAxLCBtYXhmbigxMDApKSxcblx0d2JsYWNrOiBnZXRzZXQoJ2h3YicsIDIsIG1heGZuKDEwMCkpLFxuXG5cdGN5YW46IGdldHNldCgnY215aycsIDAsIG1heGZuKDEwMCkpLFxuXHRtYWdlbnRhOiBnZXRzZXQoJ2NteWsnLCAxLCBtYXhmbigxMDApKSxcblx0eWVsbG93OiBnZXRzZXQoJ2NteWsnLCAyLCBtYXhmbigxMDApKSxcblx0YmxhY2s6IGdldHNldCgnY215aycsIDMsIG1heGZuKDEwMCkpLFxuXG5cdHg6IGdldHNldCgneHl6JywgMCwgbWF4Zm4oMTAwKSksXG5cdHk6IGdldHNldCgneHl6JywgMSwgbWF4Zm4oMTAwKSksXG5cdHo6IGdldHNldCgneHl6JywgMiwgbWF4Zm4oMTAwKSksXG5cblx0bDogZ2V0c2V0KCdsYWInLCAwLCBtYXhmbigxMDApKSxcblx0YTogZ2V0c2V0KCdsYWInLCAxKSxcblx0YjogZ2V0c2V0KCdsYWInLCAyKSxcblxuXHRrZXl3b3JkOiBmdW5jdGlvbiAodmFsKSB7XG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcblx0XHRcdHJldHVybiBuZXcgQ29sb3IodmFsKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29udmVydFt0aGlzLm1vZGVsXS5rZXl3b3JkKHRoaXMuY29sb3IpO1xuXHR9LFxuXG5cdGhleDogZnVuY3Rpb24gKHZhbCkge1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gbmV3IENvbG9yKHZhbCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbG9yU3RyaW5nLnRvLmhleCh0aGlzLnJnYigpLnJvdW5kKCkuY29sb3IpO1xuXHR9LFxuXG5cdHJnYk51bWJlcjogZnVuY3Rpb24gKCkge1xuXHRcdHZhciByZ2IgPSB0aGlzLnJnYigpLmNvbG9yO1xuXHRcdHJldHVybiAoKHJnYlswXSAmIDB4RkYpIDw8IDE2KSB8ICgocmdiWzFdICYgMHhGRikgPDwgOCkgfCAocmdiWzJdICYgMHhGRik7XG5cdH0sXG5cblx0bHVtaW5vc2l0eTogZnVuY3Rpb24gKCkge1xuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1dDQUcyMC8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcblx0XHR2YXIgcmdiID0gdGhpcy5yZ2IoKS5jb2xvcjtcblxuXHRcdHZhciBsdW0gPSBbXTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJnYi5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGNoYW4gPSByZ2JbaV0gLyAyNTU7XG5cdFx0XHRsdW1baV0gPSAoY2hhbiA8PSAwLjAzOTI4KSA/IGNoYW4gLyAxMi45MiA6IE1hdGgucG93KCgoY2hhbiArIDAuMDU1KSAvIDEuMDU1KSwgMi40KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gMC4yMTI2ICogbHVtWzBdICsgMC43MTUyICogbHVtWzFdICsgMC4wNzIyICogbHVtWzJdO1xuXHR9LFxuXG5cdGNvbnRyYXN0OiBmdW5jdGlvbiAoY29sb3IyKSB7XG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvV0NBRzIwLyNjb250cmFzdC1yYXRpb2RlZlxuXHRcdHZhciBsdW0xID0gdGhpcy5sdW1pbm9zaXR5KCk7XG5cdFx0dmFyIGx1bTIgPSBjb2xvcjIubHVtaW5vc2l0eSgpO1xuXG5cdFx0aWYgKGx1bTEgPiBsdW0yKSB7XG5cdFx0XHRyZXR1cm4gKGx1bTEgKyAwLjA1KSAvIChsdW0yICsgMC4wNSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChsdW0yICsgMC4wNSkgLyAobHVtMSArIDAuMDUpO1xuXHR9LFxuXG5cdGxldmVsOiBmdW5jdGlvbiAoY29sb3IyKSB7XG5cdFx0dmFyIGNvbnRyYXN0UmF0aW8gPSB0aGlzLmNvbnRyYXN0KGNvbG9yMik7XG5cdFx0aWYgKGNvbnRyYXN0UmF0aW8gPj0gNy4xKSB7XG5cdFx0XHRyZXR1cm4gJ0FBQSc7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChjb250cmFzdFJhdGlvID49IDQuNSkgPyAnQUEnIDogJyc7XG5cdH0sXG5cblx0aXNEYXJrOiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gWUlRIGVxdWF0aW9uIGZyb20gaHR0cDovLzI0d2F5cy5vcmcvMjAxMC9jYWxjdWxhdGluZy1jb2xvci1jb250cmFzdFxuXHRcdHZhciByZ2IgPSB0aGlzLnJnYigpLmNvbG9yO1xuXHRcdHZhciB5aXEgPSAocmdiWzBdICogMjk5ICsgcmdiWzFdICogNTg3ICsgcmdiWzJdICogMTE0KSAvIDEwMDA7XG5cdFx0cmV0dXJuIHlpcSA8IDEyODtcblx0fSxcblxuXHRpc0xpZ2h0OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICF0aGlzLmlzRGFyaygpO1xuXHR9LFxuXG5cdG5lZ2F0ZTogZnVuY3Rpb24gKCkge1xuXHRcdHZhciByZ2IgPSB0aGlzLnJnYigpO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7XG5cdFx0XHRyZ2IuY29sb3JbaV0gPSAyNTUgLSByZ2IuY29sb3JbaV07XG5cdFx0fVxuXHRcdHJldHVybiByZ2I7XG5cdH0sXG5cblx0bGlnaHRlbjogZnVuY3Rpb24gKHJhdGlvKSB7XG5cdFx0dmFyIGhzbCA9IHRoaXMuaHNsKCk7XG5cdFx0aHNsLmNvbG9yWzJdICs9IGhzbC5jb2xvclsyXSAqIHJhdGlvO1xuXHRcdHJldHVybiBoc2w7XG5cdH0sXG5cblx0ZGFya2VuOiBmdW5jdGlvbiAocmF0aW8pIHtcblx0XHR2YXIgaHNsID0gdGhpcy5oc2woKTtcblx0XHRoc2wuY29sb3JbMl0gLT0gaHNsLmNvbG9yWzJdICogcmF0aW87XG5cdFx0cmV0dXJuIGhzbDtcblx0fSxcblxuXHRzYXR1cmF0ZTogZnVuY3Rpb24gKHJhdGlvKSB7XG5cdFx0dmFyIGhzbCA9IHRoaXMuaHNsKCk7XG5cdFx0aHNsLmNvbG9yWzFdICs9IGhzbC5jb2xvclsxXSAqIHJhdGlvO1xuXHRcdHJldHVybiBoc2w7XG5cdH0sXG5cblx0ZGVzYXR1cmF0ZTogZnVuY3Rpb24gKHJhdGlvKSB7XG5cdFx0dmFyIGhzbCA9IHRoaXMuaHNsKCk7XG5cdFx0aHNsLmNvbG9yWzFdIC09IGhzbC5jb2xvclsxXSAqIHJhdGlvO1xuXHRcdHJldHVybiBoc2w7XG5cdH0sXG5cblx0d2hpdGVuOiBmdW5jdGlvbiAocmF0aW8pIHtcblx0XHR2YXIgaHdiID0gdGhpcy5od2IoKTtcblx0XHRod2IuY29sb3JbMV0gKz0gaHdiLmNvbG9yWzFdICogcmF0aW87XG5cdFx0cmV0dXJuIGh3Yjtcblx0fSxcblxuXHRibGFja2VuOiBmdW5jdGlvbiAocmF0aW8pIHtcblx0XHR2YXIgaHdiID0gdGhpcy5od2IoKTtcblx0XHRod2IuY29sb3JbMl0gKz0gaHdiLmNvbG9yWzJdICogcmF0aW87XG5cdFx0cmV0dXJuIGh3Yjtcblx0fSxcblxuXHRncmF5c2NhbGU6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0dyYXlzY2FsZSNDb252ZXJ0aW5nX2NvbG9yX3RvX2dyYXlzY2FsZVxuXHRcdHZhciByZ2IgPSB0aGlzLnJnYigpLmNvbG9yO1xuXHRcdHZhciB2YWwgPSByZ2JbMF0gKiAwLjMgKyByZ2JbMV0gKiAwLjU5ICsgcmdiWzJdICogMC4xMTtcblx0XHRyZXR1cm4gQ29sb3IucmdiKHZhbCwgdmFsLCB2YWwpO1xuXHR9LFxuXG5cdGZhZGU6IGZ1bmN0aW9uIChyYXRpbykge1xuXHRcdHJldHVybiB0aGlzLmFscGhhKHRoaXMudmFscGhhIC0gKHRoaXMudmFscGhhICogcmF0aW8pKTtcblx0fSxcblxuXHRvcGFxdWVyOiBmdW5jdGlvbiAocmF0aW8pIHtcblx0XHRyZXR1cm4gdGhpcy5hbHBoYSh0aGlzLnZhbHBoYSArICh0aGlzLnZhbHBoYSAqIHJhdGlvKSk7XG5cdH0sXG5cblx0cm90YXRlOiBmdW5jdGlvbiAoZGVncmVlcykge1xuXHRcdHZhciBoc2wgPSB0aGlzLmhzbCgpO1xuXHRcdHZhciBodWUgPSBoc2wuY29sb3JbMF07XG5cdFx0aHVlID0gKGh1ZSArIGRlZ3JlZXMpICUgMzYwO1xuXHRcdGh1ZSA9IGh1ZSA8IDAgPyAzNjAgKyBodWUgOiBodWU7XG5cdFx0aHNsLmNvbG9yWzBdID0gaHVlO1xuXHRcdHJldHVybiBoc2w7XG5cdH0sXG5cblx0bWl4OiBmdW5jdGlvbiAobWl4aW5Db2xvciwgd2VpZ2h0KSB7XG5cdFx0Ly8gcG9ydGVkIGZyb20gc2FzcyBpbXBsZW1lbnRhdGlvbiBpbiBDXG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3Nhc3MvbGlic2Fzcy9ibG9iLzBlNmI0YTI4NTAwOTIzNTZhYTNlY2UwN2M2YjI0OWYwMjIxY2FjZWQvZnVuY3Rpb25zLmNwcCNMMjA5XG5cdFx0dmFyIGNvbG9yMSA9IG1peGluQ29sb3IucmdiKCk7XG5cdFx0dmFyIGNvbG9yMiA9IHRoaXMucmdiKCk7XG5cdFx0dmFyIHAgPSB3ZWlnaHQgPT09IHVuZGVmaW5lZCA/IDAuNSA6IHdlaWdodDtcblxuXHRcdHZhciB3ID0gMiAqIHAgLSAxO1xuXHRcdHZhciBhID0gY29sb3IxLmFscGhhKCkgLSBjb2xvcjIuYWxwaGEoKTtcblxuXHRcdHZhciB3MSA9ICgoKHcgKiBhID09PSAtMSkgPyB3IDogKHcgKyBhKSAvICgxICsgdyAqIGEpKSArIDEpIC8gMi4wO1xuXHRcdHZhciB3MiA9IDEgLSB3MTtcblxuXHRcdHJldHVybiBDb2xvci5yZ2IoXG5cdFx0XHRcdHcxICogY29sb3IxLnJlZCgpICsgdzIgKiBjb2xvcjIucmVkKCksXG5cdFx0XHRcdHcxICogY29sb3IxLmdyZWVuKCkgKyB3MiAqIGNvbG9yMi5ncmVlbigpLFxuXHRcdFx0XHR3MSAqIGNvbG9yMS5ibHVlKCkgKyB3MiAqIGNvbG9yMi5ibHVlKCksXG5cdFx0XHRcdGNvbG9yMS5hbHBoYSgpICogcCArIGNvbG9yMi5hbHBoYSgpICogKDEgLSBwKSk7XG5cdH1cbn07XG5cbi8vIG1vZGVsIGNvbnZlcnNpb24gbWV0aG9kcyBhbmQgc3RhdGljIGNvbnN0cnVjdG9yc1xuT2JqZWN0LmtleXMoY29udmVydCkuZm9yRWFjaChmdW5jdGlvbiAobW9kZWwpIHtcblx0aWYgKHNraXBwZWRNb2RlbHMuaW5kZXhPZihtb2RlbCkgIT09IC0xKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dmFyIGNoYW5uZWxzID0gY29udmVydFttb2RlbF0uY2hhbm5lbHM7XG5cblx0Ly8gY29udmVyc2lvbiBtZXRob2RzXG5cdENvbG9yLnByb3RvdHlwZVttb2RlbF0gPSBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMubW9kZWwgPT09IG1vZGVsKSB7XG5cdFx0XHRyZXR1cm4gbmV3IENvbG9yKHRoaXMpO1xuXHRcdH1cblxuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gbmV3IENvbG9yKGFyZ3VtZW50cywgbW9kZWwpO1xuXHRcdH1cblxuXHRcdHZhciBuZXdBbHBoYSA9IHR5cGVvZiBhcmd1bWVudHNbY2hhbm5lbHNdID09PSAnbnVtYmVyJyA/IGNoYW5uZWxzIDogdGhpcy52YWxwaGE7XG5cdFx0cmV0dXJuIG5ldyBDb2xvcihhc3NlcnRBcnJheShjb252ZXJ0W3RoaXMubW9kZWxdW21vZGVsXS5yYXcodGhpcy5jb2xvcikpLmNvbmNhdChuZXdBbHBoYSksIG1vZGVsKTtcblx0fTtcblxuXHQvLyAnc3RhdGljJyBjb25zdHJ1Y3Rpb24gbWV0aG9kc1xuXHRDb2xvclttb2RlbF0gPSBmdW5jdGlvbiAoY29sb3IpIHtcblx0XHRpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJykge1xuXHRcdFx0Y29sb3IgPSB6ZXJvQXJyYXkoX3NsaWNlLmNhbGwoYXJndW1lbnRzKSwgY2hhbm5lbHMpO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3IENvbG9yKGNvbG9yLCBtb2RlbCk7XG5cdH07XG59KTtcblxuZnVuY3Rpb24gcm91bmRUbyhudW0sIHBsYWNlcykge1xuXHRyZXR1cm4gTnVtYmVyKG51bS50b0ZpeGVkKHBsYWNlcykpO1xufVxuXG5mdW5jdGlvbiByb3VuZFRvUGxhY2UocGxhY2VzKSB7XG5cdHJldHVybiBmdW5jdGlvbiAobnVtKSB7XG5cdFx0cmV0dXJuIHJvdW5kVG8obnVtLCBwbGFjZXMpO1xuXHR9O1xufVxuXG5mdW5jdGlvbiBnZXRzZXQobW9kZWwsIGNoYW5uZWwsIG1vZGlmaWVyKSB7XG5cdG1vZGVsID0gQXJyYXkuaXNBcnJheShtb2RlbCkgPyBtb2RlbCA6IFttb2RlbF07XG5cblx0bW9kZWwuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuXHRcdChsaW1pdGVyc1ttXSB8fCAobGltaXRlcnNbbV0gPSBbXSkpW2NoYW5uZWxdID0gbW9kaWZpZXI7XG5cdH0pO1xuXG5cdG1vZGVsID0gbW9kZWxbMF07XG5cblx0cmV0dXJuIGZ1bmN0aW9uICh2YWwpIHtcblx0XHR2YXIgcmVzdWx0O1xuXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcblx0XHRcdGlmIChtb2RpZmllcikge1xuXHRcdFx0XHR2YWwgPSBtb2RpZmllcih2YWwpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXN1bHQgPSB0aGlzW21vZGVsXSgpO1xuXHRcdFx0cmVzdWx0LmNvbG9yW2NoYW5uZWxdID0gdmFsO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cblx0XHRyZXN1bHQgPSB0aGlzW21vZGVsXSgpLmNvbG9yW2NoYW5uZWxdO1xuXHRcdGlmIChtb2RpZmllcikge1xuXHRcdFx0cmVzdWx0ID0gbW9kaWZpZXIocmVzdWx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xufVxuXG5mdW5jdGlvbiBtYXhmbihtYXgpIHtcblx0cmV0dXJuIGZ1bmN0aW9uICh2KSB7XG5cdFx0cmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKG1heCwgdikpO1xuXHR9O1xufVxuXG5mdW5jdGlvbiBhc3NlcnRBcnJheSh2YWwpIHtcblx0cmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKSA/IHZhbCA6IFt2YWxdO1xufVxuXG5mdW5jdGlvbiB6ZXJvQXJyYXkoYXJyLCBsZW5ndGgpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdGlmICh0eXBlb2YgYXJyW2ldICE9PSAnbnVtYmVyJykge1xuXHRcdFx0YXJyW2ldID0gMDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYXJyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbG9yO1xuIiwiJ3VzZSBzdHJpY3QnXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRcImFsaWNlYmx1ZVwiOiBbMjQwLCAyNDgsIDI1NV0sXHJcblx0XCJhbnRpcXVld2hpdGVcIjogWzI1MCwgMjM1LCAyMTVdLFxyXG5cdFwiYXF1YVwiOiBbMCwgMjU1LCAyNTVdLFxyXG5cdFwiYXF1YW1hcmluZVwiOiBbMTI3LCAyNTUsIDIxMl0sXHJcblx0XCJhenVyZVwiOiBbMjQwLCAyNTUsIDI1NV0sXHJcblx0XCJiZWlnZVwiOiBbMjQ1LCAyNDUsIDIyMF0sXHJcblx0XCJiaXNxdWVcIjogWzI1NSwgMjI4LCAxOTZdLFxyXG5cdFwiYmxhY2tcIjogWzAsIDAsIDBdLFxyXG5cdFwiYmxhbmNoZWRhbG1vbmRcIjogWzI1NSwgMjM1LCAyMDVdLFxyXG5cdFwiYmx1ZVwiOiBbMCwgMCwgMjU1XSxcclxuXHRcImJsdWV2aW9sZXRcIjogWzEzOCwgNDMsIDIyNl0sXHJcblx0XCJicm93blwiOiBbMTY1LCA0MiwgNDJdLFxyXG5cdFwiYnVybHl3b29kXCI6IFsyMjIsIDE4NCwgMTM1XSxcclxuXHRcImNhZGV0Ymx1ZVwiOiBbOTUsIDE1OCwgMTYwXSxcclxuXHRcImNoYXJ0cmV1c2VcIjogWzEyNywgMjU1LCAwXSxcclxuXHRcImNob2NvbGF0ZVwiOiBbMjEwLCAxMDUsIDMwXSxcclxuXHRcImNvcmFsXCI6IFsyNTUsIDEyNywgODBdLFxyXG5cdFwiY29ybmZsb3dlcmJsdWVcIjogWzEwMCwgMTQ5LCAyMzddLFxyXG5cdFwiY29ybnNpbGtcIjogWzI1NSwgMjQ4LCAyMjBdLFxyXG5cdFwiY3JpbXNvblwiOiBbMjIwLCAyMCwgNjBdLFxyXG5cdFwiY3lhblwiOiBbMCwgMjU1LCAyNTVdLFxyXG5cdFwiZGFya2JsdWVcIjogWzAsIDAsIDEzOV0sXHJcblx0XCJkYXJrY3lhblwiOiBbMCwgMTM5LCAxMzldLFxyXG5cdFwiZGFya2dvbGRlbnJvZFwiOiBbMTg0LCAxMzQsIDExXSxcclxuXHRcImRhcmtncmF5XCI6IFsxNjksIDE2OSwgMTY5XSxcclxuXHRcImRhcmtncmVlblwiOiBbMCwgMTAwLCAwXSxcclxuXHRcImRhcmtncmV5XCI6IFsxNjksIDE2OSwgMTY5XSxcclxuXHRcImRhcmtraGFraVwiOiBbMTg5LCAxODMsIDEwN10sXHJcblx0XCJkYXJrbWFnZW50YVwiOiBbMTM5LCAwLCAxMzldLFxyXG5cdFwiZGFya29saXZlZ3JlZW5cIjogWzg1LCAxMDcsIDQ3XSxcclxuXHRcImRhcmtvcmFuZ2VcIjogWzI1NSwgMTQwLCAwXSxcclxuXHRcImRhcmtvcmNoaWRcIjogWzE1MywgNTAsIDIwNF0sXHJcblx0XCJkYXJrcmVkXCI6IFsxMzksIDAsIDBdLFxyXG5cdFwiZGFya3NhbG1vblwiOiBbMjMzLCAxNTAsIDEyMl0sXHJcblx0XCJkYXJrc2VhZ3JlZW5cIjogWzE0MywgMTg4LCAxNDNdLFxyXG5cdFwiZGFya3NsYXRlYmx1ZVwiOiBbNzIsIDYxLCAxMzldLFxyXG5cdFwiZGFya3NsYXRlZ3JheVwiOiBbNDcsIDc5LCA3OV0sXHJcblx0XCJkYXJrc2xhdGVncmV5XCI6IFs0NywgNzksIDc5XSxcclxuXHRcImRhcmt0dXJxdW9pc2VcIjogWzAsIDIwNiwgMjA5XSxcclxuXHRcImRhcmt2aW9sZXRcIjogWzE0OCwgMCwgMjExXSxcclxuXHRcImRlZXBwaW5rXCI6IFsyNTUsIDIwLCAxNDddLFxyXG5cdFwiZGVlcHNreWJsdWVcIjogWzAsIDE5MSwgMjU1XSxcclxuXHRcImRpbWdyYXlcIjogWzEwNSwgMTA1LCAxMDVdLFxyXG5cdFwiZGltZ3JleVwiOiBbMTA1LCAxMDUsIDEwNV0sXHJcblx0XCJkb2RnZXJibHVlXCI6IFszMCwgMTQ0LCAyNTVdLFxyXG5cdFwiZmlyZWJyaWNrXCI6IFsxNzgsIDM0LCAzNF0sXHJcblx0XCJmbG9yYWx3aGl0ZVwiOiBbMjU1LCAyNTAsIDI0MF0sXHJcblx0XCJmb3Jlc3RncmVlblwiOiBbMzQsIDEzOSwgMzRdLFxyXG5cdFwiZnVjaHNpYVwiOiBbMjU1LCAwLCAyNTVdLFxyXG5cdFwiZ2FpbnNib3JvXCI6IFsyMjAsIDIyMCwgMjIwXSxcclxuXHRcImdob3N0d2hpdGVcIjogWzI0OCwgMjQ4LCAyNTVdLFxyXG5cdFwiZ29sZFwiOiBbMjU1LCAyMTUsIDBdLFxyXG5cdFwiZ29sZGVucm9kXCI6IFsyMTgsIDE2NSwgMzJdLFxyXG5cdFwiZ3JheVwiOiBbMTI4LCAxMjgsIDEyOF0sXHJcblx0XCJncmVlblwiOiBbMCwgMTI4LCAwXSxcclxuXHRcImdyZWVueWVsbG93XCI6IFsxNzMsIDI1NSwgNDddLFxyXG5cdFwiZ3JleVwiOiBbMTI4LCAxMjgsIDEyOF0sXHJcblx0XCJob25leWRld1wiOiBbMjQwLCAyNTUsIDI0MF0sXHJcblx0XCJob3RwaW5rXCI6IFsyNTUsIDEwNSwgMTgwXSxcclxuXHRcImluZGlhbnJlZFwiOiBbMjA1LCA5MiwgOTJdLFxyXG5cdFwiaW5kaWdvXCI6IFs3NSwgMCwgMTMwXSxcclxuXHRcIml2b3J5XCI6IFsyNTUsIDI1NSwgMjQwXSxcclxuXHRcImtoYWtpXCI6IFsyNDAsIDIzMCwgMTQwXSxcclxuXHRcImxhdmVuZGVyXCI6IFsyMzAsIDIzMCwgMjUwXSxcclxuXHRcImxhdmVuZGVyYmx1c2hcIjogWzI1NSwgMjQwLCAyNDVdLFxyXG5cdFwibGF3bmdyZWVuXCI6IFsxMjQsIDI1MiwgMF0sXHJcblx0XCJsZW1vbmNoaWZmb25cIjogWzI1NSwgMjUwLCAyMDVdLFxyXG5cdFwibGlnaHRibHVlXCI6IFsxNzMsIDIxNiwgMjMwXSxcclxuXHRcImxpZ2h0Y29yYWxcIjogWzI0MCwgMTI4LCAxMjhdLFxyXG5cdFwibGlnaHRjeWFuXCI6IFsyMjQsIDI1NSwgMjU1XSxcclxuXHRcImxpZ2h0Z29sZGVucm9keWVsbG93XCI6IFsyNTAsIDI1MCwgMjEwXSxcclxuXHRcImxpZ2h0Z3JheVwiOiBbMjExLCAyMTEsIDIxMV0sXHJcblx0XCJsaWdodGdyZWVuXCI6IFsxNDQsIDIzOCwgMTQ0XSxcclxuXHRcImxpZ2h0Z3JleVwiOiBbMjExLCAyMTEsIDIxMV0sXHJcblx0XCJsaWdodHBpbmtcIjogWzI1NSwgMTgyLCAxOTNdLFxyXG5cdFwibGlnaHRzYWxtb25cIjogWzI1NSwgMTYwLCAxMjJdLFxyXG5cdFwibGlnaHRzZWFncmVlblwiOiBbMzIsIDE3OCwgMTcwXSxcclxuXHRcImxpZ2h0c2t5Ymx1ZVwiOiBbMTM1LCAyMDYsIDI1MF0sXHJcblx0XCJsaWdodHNsYXRlZ3JheVwiOiBbMTE5LCAxMzYsIDE1M10sXHJcblx0XCJsaWdodHNsYXRlZ3JleVwiOiBbMTE5LCAxMzYsIDE1M10sXHJcblx0XCJsaWdodHN0ZWVsYmx1ZVwiOiBbMTc2LCAxOTYsIDIyMl0sXHJcblx0XCJsaWdodHllbGxvd1wiOiBbMjU1LCAyNTUsIDIyNF0sXHJcblx0XCJsaW1lXCI6IFswLCAyNTUsIDBdLFxyXG5cdFwibGltZWdyZWVuXCI6IFs1MCwgMjA1LCA1MF0sXHJcblx0XCJsaW5lblwiOiBbMjUwLCAyNDAsIDIzMF0sXHJcblx0XCJtYWdlbnRhXCI6IFsyNTUsIDAsIDI1NV0sXHJcblx0XCJtYXJvb25cIjogWzEyOCwgMCwgMF0sXHJcblx0XCJtZWRpdW1hcXVhbWFyaW5lXCI6IFsxMDIsIDIwNSwgMTcwXSxcclxuXHRcIm1lZGl1bWJsdWVcIjogWzAsIDAsIDIwNV0sXHJcblx0XCJtZWRpdW1vcmNoaWRcIjogWzE4NiwgODUsIDIxMV0sXHJcblx0XCJtZWRpdW1wdXJwbGVcIjogWzE0NywgMTEyLCAyMTldLFxyXG5cdFwibWVkaXVtc2VhZ3JlZW5cIjogWzYwLCAxNzksIDExM10sXHJcblx0XCJtZWRpdW1zbGF0ZWJsdWVcIjogWzEyMywgMTA0LCAyMzhdLFxyXG5cdFwibWVkaXVtc3ByaW5nZ3JlZW5cIjogWzAsIDI1MCwgMTU0XSxcclxuXHRcIm1lZGl1bXR1cnF1b2lzZVwiOiBbNzIsIDIwOSwgMjA0XSxcclxuXHRcIm1lZGl1bXZpb2xldHJlZFwiOiBbMTk5LCAyMSwgMTMzXSxcclxuXHRcIm1pZG5pZ2h0Ymx1ZVwiOiBbMjUsIDI1LCAxMTJdLFxyXG5cdFwibWludGNyZWFtXCI6IFsyNDUsIDI1NSwgMjUwXSxcclxuXHRcIm1pc3R5cm9zZVwiOiBbMjU1LCAyMjgsIDIyNV0sXHJcblx0XCJtb2NjYXNpblwiOiBbMjU1LCAyMjgsIDE4MV0sXHJcblx0XCJuYXZham93aGl0ZVwiOiBbMjU1LCAyMjIsIDE3M10sXHJcblx0XCJuYXZ5XCI6IFswLCAwLCAxMjhdLFxyXG5cdFwib2xkbGFjZVwiOiBbMjUzLCAyNDUsIDIzMF0sXHJcblx0XCJvbGl2ZVwiOiBbMTI4LCAxMjgsIDBdLFxyXG5cdFwib2xpdmVkcmFiXCI6IFsxMDcsIDE0MiwgMzVdLFxyXG5cdFwib3JhbmdlXCI6IFsyNTUsIDE2NSwgMF0sXHJcblx0XCJvcmFuZ2VyZWRcIjogWzI1NSwgNjksIDBdLFxyXG5cdFwib3JjaGlkXCI6IFsyMTgsIDExMiwgMjE0XSxcclxuXHRcInBhbGVnb2xkZW5yb2RcIjogWzIzOCwgMjMyLCAxNzBdLFxyXG5cdFwicGFsZWdyZWVuXCI6IFsxNTIsIDI1MSwgMTUyXSxcclxuXHRcInBhbGV0dXJxdW9pc2VcIjogWzE3NSwgMjM4LCAyMzhdLFxyXG5cdFwicGFsZXZpb2xldHJlZFwiOiBbMjE5LCAxMTIsIDE0N10sXHJcblx0XCJwYXBheWF3aGlwXCI6IFsyNTUsIDIzOSwgMjEzXSxcclxuXHRcInBlYWNocHVmZlwiOiBbMjU1LCAyMTgsIDE4NV0sXHJcblx0XCJwZXJ1XCI6IFsyMDUsIDEzMywgNjNdLFxyXG5cdFwicGlua1wiOiBbMjU1LCAxOTIsIDIwM10sXHJcblx0XCJwbHVtXCI6IFsyMjEsIDE2MCwgMjIxXSxcclxuXHRcInBvd2RlcmJsdWVcIjogWzE3NiwgMjI0LCAyMzBdLFxyXG5cdFwicHVycGxlXCI6IFsxMjgsIDAsIDEyOF0sXHJcblx0XCJyZWJlY2NhcHVycGxlXCI6IFsxMDIsIDUxLCAxNTNdLFxyXG5cdFwicmVkXCI6IFsyNTUsIDAsIDBdLFxyXG5cdFwicm9zeWJyb3duXCI6IFsxODgsIDE0MywgMTQzXSxcclxuXHRcInJveWFsYmx1ZVwiOiBbNjUsIDEwNSwgMjI1XSxcclxuXHRcInNhZGRsZWJyb3duXCI6IFsxMzksIDY5LCAxOV0sXHJcblx0XCJzYWxtb25cIjogWzI1MCwgMTI4LCAxMTRdLFxyXG5cdFwic2FuZHlicm93blwiOiBbMjQ0LCAxNjQsIDk2XSxcclxuXHRcInNlYWdyZWVuXCI6IFs0NiwgMTM5LCA4N10sXHJcblx0XCJzZWFzaGVsbFwiOiBbMjU1LCAyNDUsIDIzOF0sXHJcblx0XCJzaWVubmFcIjogWzE2MCwgODIsIDQ1XSxcclxuXHRcInNpbHZlclwiOiBbMTkyLCAxOTIsIDE5Ml0sXHJcblx0XCJza3libHVlXCI6IFsxMzUsIDIwNiwgMjM1XSxcclxuXHRcInNsYXRlYmx1ZVwiOiBbMTA2LCA5MCwgMjA1XSxcclxuXHRcInNsYXRlZ3JheVwiOiBbMTEyLCAxMjgsIDE0NF0sXHJcblx0XCJzbGF0ZWdyZXlcIjogWzExMiwgMTI4LCAxNDRdLFxyXG5cdFwic25vd1wiOiBbMjU1LCAyNTAsIDI1MF0sXHJcblx0XCJzcHJpbmdncmVlblwiOiBbMCwgMjU1LCAxMjddLFxyXG5cdFwic3RlZWxibHVlXCI6IFs3MCwgMTMwLCAxODBdLFxyXG5cdFwidGFuXCI6IFsyMTAsIDE4MCwgMTQwXSxcclxuXHRcInRlYWxcIjogWzAsIDEyOCwgMTI4XSxcclxuXHRcInRoaXN0bGVcIjogWzIxNiwgMTkxLCAyMTZdLFxyXG5cdFwidG9tYXRvXCI6IFsyNTUsIDk5LCA3MV0sXHJcblx0XCJ0dXJxdW9pc2VcIjogWzY0LCAyMjQsIDIwOF0sXHJcblx0XCJ2aW9sZXRcIjogWzIzOCwgMTMwLCAyMzhdLFxyXG5cdFwid2hlYXRcIjogWzI0NSwgMjIyLCAxNzldLFxyXG5cdFwid2hpdGVcIjogWzI1NSwgMjU1LCAyNTVdLFxyXG5cdFwid2hpdGVzbW9rZVwiOiBbMjQ1LCAyNDUsIDI0NV0sXHJcblx0XCJ5ZWxsb3dcIjogWzI1NSwgMjU1LCAwXSxcclxuXHRcInllbGxvd2dyZWVuXCI6IFsxNTQsIDIwNSwgNTBdXHJcbn07XHJcbiIsIi8qIE1JVCBsaWNlbnNlICovXG52YXIgY3NzS2V5d29yZHMgPSByZXF1aXJlKCdjb2xvci1uYW1lJyk7XG5cbi8vIE5PVEU6IGNvbnZlcnNpb25zIHNob3VsZCBvbmx5IHJldHVybiBwcmltaXRpdmUgdmFsdWVzIChpLmUuIGFycmF5cywgb3Jcbi8vICAgICAgIHZhbHVlcyB0aGF0IGdpdmUgY29ycmVjdCBgdHlwZW9mYCByZXN1bHRzKS5cbi8vICAgICAgIGRvIG5vdCB1c2UgYm94IHZhbHVlcyB0eXBlcyAoaS5lLiBOdW1iZXIoKSwgU3RyaW5nKCksIGV0Yy4pXG5cbnZhciByZXZlcnNlS2V5d29yZHMgPSB7fTtcbmZvciAodmFyIGtleSBpbiBjc3NLZXl3b3Jkcykge1xuXHRpZiAoY3NzS2V5d29yZHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdHJldmVyc2VLZXl3b3Jkc1tjc3NLZXl3b3Jkc1trZXldXSA9IGtleTtcblx0fVxufVxuXG52YXIgY29udmVydCA9IG1vZHVsZS5leHBvcnRzID0ge1xuXHRyZ2I6IHtjaGFubmVsczogMywgbGFiZWxzOiAncmdiJ30sXG5cdGhzbDoge2NoYW5uZWxzOiAzLCBsYWJlbHM6ICdoc2wnfSxcblx0aHN2OiB7Y2hhbm5lbHM6IDMsIGxhYmVsczogJ2hzdid9LFxuXHRod2I6IHtjaGFubmVsczogMywgbGFiZWxzOiAnaHdiJ30sXG5cdGNteWs6IHtjaGFubmVsczogNCwgbGFiZWxzOiAnY215ayd9LFxuXHR4eXo6IHtjaGFubmVsczogMywgbGFiZWxzOiAneHl6J30sXG5cdGxhYjoge2NoYW5uZWxzOiAzLCBsYWJlbHM6ICdsYWInfSxcblx0bGNoOiB7Y2hhbm5lbHM6IDMsIGxhYmVsczogJ2xjaCd9LFxuXHRoZXg6IHtjaGFubmVsczogMSwgbGFiZWxzOiBbJ2hleCddfSxcblx0a2V5d29yZDoge2NoYW5uZWxzOiAxLCBsYWJlbHM6IFsna2V5d29yZCddfSxcblx0YW5zaTE2OiB7Y2hhbm5lbHM6IDEsIGxhYmVsczogWydhbnNpMTYnXX0sXG5cdGFuc2kyNTY6IHtjaGFubmVsczogMSwgbGFiZWxzOiBbJ2Fuc2kyNTYnXX0sXG5cdGhjZzoge2NoYW5uZWxzOiAzLCBsYWJlbHM6IFsnaCcsICdjJywgJ2cnXX0sXG5cdGFwcGxlOiB7Y2hhbm5lbHM6IDMsIGxhYmVsczogWydyMTYnLCAnZzE2JywgJ2IxNiddfSxcblx0Z3JheToge2NoYW5uZWxzOiAxLCBsYWJlbHM6IFsnZ3JheSddfVxufTtcblxuLy8gaGlkZSAuY2hhbm5lbHMgYW5kIC5sYWJlbHMgcHJvcGVydGllc1xuZm9yICh2YXIgbW9kZWwgaW4gY29udmVydCkge1xuXHRpZiAoY29udmVydC5oYXNPd25Qcm9wZXJ0eShtb2RlbCkpIHtcblx0XHRpZiAoISgnY2hhbm5lbHMnIGluIGNvbnZlcnRbbW9kZWxdKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdtaXNzaW5nIGNoYW5uZWxzIHByb3BlcnR5OiAnICsgbW9kZWwpO1xuXHRcdH1cblxuXHRcdGlmICghKCdsYWJlbHMnIGluIGNvbnZlcnRbbW9kZWxdKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdtaXNzaW5nIGNoYW5uZWwgbGFiZWxzIHByb3BlcnR5OiAnICsgbW9kZWwpO1xuXHRcdH1cblxuXHRcdGlmIChjb252ZXJ0W21vZGVsXS5sYWJlbHMubGVuZ3RoICE9PSBjb252ZXJ0W21vZGVsXS5jaGFubmVscykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdjaGFubmVsIGFuZCBsYWJlbCBjb3VudHMgbWlzbWF0Y2g6ICcgKyBtb2RlbCk7XG5cdFx0fVxuXG5cdFx0dmFyIGNoYW5uZWxzID0gY29udmVydFttb2RlbF0uY2hhbm5lbHM7XG5cdFx0dmFyIGxhYmVscyA9IGNvbnZlcnRbbW9kZWxdLmxhYmVscztcblx0XHRkZWxldGUgY29udmVydFttb2RlbF0uY2hhbm5lbHM7XG5cdFx0ZGVsZXRlIGNvbnZlcnRbbW9kZWxdLmxhYmVscztcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udmVydFttb2RlbF0sICdjaGFubmVscycsIHt2YWx1ZTogY2hhbm5lbHN9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udmVydFttb2RlbF0sICdsYWJlbHMnLCB7dmFsdWU6IGxhYmVsc30pO1xuXHR9XG59XG5cbmNvbnZlcnQucmdiLmhzbCA9IGZ1bmN0aW9uIChyZ2IpIHtcblx0dmFyIHIgPSByZ2JbMF0gLyAyNTU7XG5cdHZhciBnID0gcmdiWzFdIC8gMjU1O1xuXHR2YXIgYiA9IHJnYlsyXSAvIDI1NTtcblx0dmFyIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuXHR2YXIgbWF4ID0gTWF0aC5tYXgociwgZywgYik7XG5cdHZhciBkZWx0YSA9IG1heCAtIG1pbjtcblx0dmFyIGg7XG5cdHZhciBzO1xuXHR2YXIgbDtcblxuXHRpZiAobWF4ID09PSBtaW4pIHtcblx0XHRoID0gMDtcblx0fSBlbHNlIGlmIChyID09PSBtYXgpIHtcblx0XHRoID0gKGcgLSBiKSAvIGRlbHRhO1xuXHR9IGVsc2UgaWYgKGcgPT09IG1heCkge1xuXHRcdGggPSAyICsgKGIgLSByKSAvIGRlbHRhO1xuXHR9IGVsc2UgaWYgKGIgPT09IG1heCkge1xuXHRcdGggPSA0ICsgKHIgLSBnKSAvIGRlbHRhO1xuXHR9XG5cblx0aCA9IE1hdGgubWluKGggKiA2MCwgMzYwKTtcblxuXHRpZiAoaCA8IDApIHtcblx0XHRoICs9IDM2MDtcblx0fVxuXG5cdGwgPSAobWluICsgbWF4KSAvIDI7XG5cblx0aWYgKG1heCA9PT0gbWluKSB7XG5cdFx0cyA9IDA7XG5cdH0gZWxzZSBpZiAobCA8PSAwLjUpIHtcblx0XHRzID0gZGVsdGEgLyAobWF4ICsgbWluKTtcblx0fSBlbHNlIHtcblx0XHRzID0gZGVsdGEgLyAoMiAtIG1heCAtIG1pbik7XG5cdH1cblxuXHRyZXR1cm4gW2gsIHMgKiAxMDAsIGwgKiAxMDBdO1xufTtcblxuY29udmVydC5yZ2IuaHN2ID0gZnVuY3Rpb24gKHJnYikge1xuXHR2YXIgcmRpZjtcblx0dmFyIGdkaWY7XG5cdHZhciBiZGlmO1xuXHR2YXIgaDtcblx0dmFyIHM7XG5cblx0dmFyIHIgPSByZ2JbMF0gLyAyNTU7XG5cdHZhciBnID0gcmdiWzFdIC8gMjU1O1xuXHR2YXIgYiA9IHJnYlsyXSAvIDI1NTtcblx0dmFyIHYgPSBNYXRoLm1heChyLCBnLCBiKTtcblx0dmFyIGRpZmYgPSB2IC0gTWF0aC5taW4ociwgZywgYik7XG5cdHZhciBkaWZmYyA9IGZ1bmN0aW9uIChjKSB7XG5cdFx0cmV0dXJuICh2IC0gYykgLyA2IC8gZGlmZiArIDEgLyAyO1xuXHR9O1xuXG5cdGlmIChkaWZmID09PSAwKSB7XG5cdFx0aCA9IHMgPSAwO1xuXHR9IGVsc2Uge1xuXHRcdHMgPSBkaWZmIC8gdjtcblx0XHRyZGlmID0gZGlmZmMocik7XG5cdFx0Z2RpZiA9IGRpZmZjKGcpO1xuXHRcdGJkaWYgPSBkaWZmYyhiKTtcblxuXHRcdGlmIChyID09PSB2KSB7XG5cdFx0XHRoID0gYmRpZiAtIGdkaWY7XG5cdFx0fSBlbHNlIGlmIChnID09PSB2KSB7XG5cdFx0XHRoID0gKDEgLyAzKSArIHJkaWYgLSBiZGlmO1xuXHRcdH0gZWxzZSBpZiAoYiA9PT0gdikge1xuXHRcdFx0aCA9ICgyIC8gMykgKyBnZGlmIC0gcmRpZjtcblx0XHR9XG5cdFx0aWYgKGggPCAwKSB7XG5cdFx0XHRoICs9IDE7XG5cdFx0fSBlbHNlIGlmIChoID4gMSkge1xuXHRcdFx0aCAtPSAxO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBbXG5cdFx0aCAqIDM2MCxcblx0XHRzICogMTAwLFxuXHRcdHYgKiAxMDBcblx0XTtcbn07XG5cbmNvbnZlcnQucmdiLmh3YiA9IGZ1bmN0aW9uIChyZ2IpIHtcblx0dmFyIHIgPSByZ2JbMF07XG5cdHZhciBnID0gcmdiWzFdO1xuXHR2YXIgYiA9IHJnYlsyXTtcblx0dmFyIGggPSBjb252ZXJ0LnJnYi5oc2wocmdiKVswXTtcblx0dmFyIHcgPSAxIC8gMjU1ICogTWF0aC5taW4ociwgTWF0aC5taW4oZywgYikpO1xuXG5cdGIgPSAxIC0gMSAvIDI1NSAqIE1hdGgubWF4KHIsIE1hdGgubWF4KGcsIGIpKTtcblxuXHRyZXR1cm4gW2gsIHcgKiAxMDAsIGIgKiAxMDBdO1xufTtcblxuY29udmVydC5yZ2IuY215ayA9IGZ1bmN0aW9uIChyZ2IpIHtcblx0dmFyIHIgPSByZ2JbMF0gLyAyNTU7XG5cdHZhciBnID0gcmdiWzFdIC8gMjU1O1xuXHR2YXIgYiA9IHJnYlsyXSAvIDI1NTtcblx0dmFyIGM7XG5cdHZhciBtO1xuXHR2YXIgeTtcblx0dmFyIGs7XG5cblx0ayA9IE1hdGgubWluKDEgLSByLCAxIC0gZywgMSAtIGIpO1xuXHRjID0gKDEgLSByIC0gaykgLyAoMSAtIGspIHx8IDA7XG5cdG0gPSAoMSAtIGcgLSBrKSAvICgxIC0gaykgfHwgMDtcblx0eSA9ICgxIC0gYiAtIGspIC8gKDEgLSBrKSB8fCAwO1xuXG5cdHJldHVybiBbYyAqIDEwMCwgbSAqIDEwMCwgeSAqIDEwMCwgayAqIDEwMF07XG59O1xuXG4vKipcbiAqIFNlZSBodHRwczovL2VuLm0ud2lraXBlZGlhLm9yZy93aWtpL0V1Y2xpZGVhbl9kaXN0YW5jZSNTcXVhcmVkX0V1Y2xpZGVhbl9kaXN0YW5jZVxuICogKi9cbmZ1bmN0aW9uIGNvbXBhcmF0aXZlRGlzdGFuY2UoeCwgeSkge1xuXHRyZXR1cm4gKFxuXHRcdE1hdGgucG93KHhbMF0gLSB5WzBdLCAyKSArXG5cdFx0TWF0aC5wb3coeFsxXSAtIHlbMV0sIDIpICtcblx0XHRNYXRoLnBvdyh4WzJdIC0geVsyXSwgMilcblx0KTtcbn1cblxuY29udmVydC5yZ2Iua2V5d29yZCA9IGZ1bmN0aW9uIChyZ2IpIHtcblx0dmFyIHJldmVyc2VkID0gcmV2ZXJzZUtleXdvcmRzW3JnYl07XG5cdGlmIChyZXZlcnNlZCkge1xuXHRcdHJldHVybiByZXZlcnNlZDtcblx0fVxuXG5cdHZhciBjdXJyZW50Q2xvc2VzdERpc3RhbmNlID0gSW5maW5pdHk7XG5cdHZhciBjdXJyZW50Q2xvc2VzdEtleXdvcmQ7XG5cblx0Zm9yICh2YXIga2V5d29yZCBpbiBjc3NLZXl3b3Jkcykge1xuXHRcdGlmIChjc3NLZXl3b3Jkcy5oYXNPd25Qcm9wZXJ0eShrZXl3b3JkKSkge1xuXHRcdFx0dmFyIHZhbHVlID0gY3NzS2V5d29yZHNba2V5d29yZF07XG5cblx0XHRcdC8vIENvbXB1dGUgY29tcGFyYXRpdmUgZGlzdGFuY2Vcblx0XHRcdHZhciBkaXN0YW5jZSA9IGNvbXBhcmF0aXZlRGlzdGFuY2UocmdiLCB2YWx1ZSk7XG5cblx0XHRcdC8vIENoZWNrIGlmIGl0cyBsZXNzLCBpZiBzbyBzZXQgYXMgY2xvc2VzdFxuXHRcdFx0aWYgKGRpc3RhbmNlIDwgY3VycmVudENsb3Nlc3REaXN0YW5jZSkge1xuXHRcdFx0XHRjdXJyZW50Q2xvc2VzdERpc3RhbmNlID0gZGlzdGFuY2U7XG5cdFx0XHRcdGN1cnJlbnRDbG9zZXN0S2V5d29yZCA9IGtleXdvcmQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGN1cnJlbnRDbG9zZXN0S2V5d29yZDtcbn07XG5cbmNvbnZlcnQua2V5d29yZC5yZ2IgPSBmdW5jdGlvbiAoa2V5d29yZCkge1xuXHRyZXR1cm4gY3NzS2V5d29yZHNba2V5d29yZF07XG59O1xuXG5jb252ZXJ0LnJnYi54eXogPSBmdW5jdGlvbiAocmdiKSB7XG5cdHZhciByID0gcmdiWzBdIC8gMjU1O1xuXHR2YXIgZyA9IHJnYlsxXSAvIDI1NTtcblx0dmFyIGIgPSByZ2JbMl0gLyAyNTU7XG5cblx0Ly8gYXNzdW1lIHNSR0Jcblx0ciA9IHIgPiAwLjA0MDQ1ID8gTWF0aC5wb3coKChyICsgMC4wNTUpIC8gMS4wNTUpLCAyLjQpIDogKHIgLyAxMi45Mik7XG5cdGcgPSBnID4gMC4wNDA0NSA/IE1hdGgucG93KCgoZyArIDAuMDU1KSAvIDEuMDU1KSwgMi40KSA6IChnIC8gMTIuOTIpO1xuXHRiID0gYiA+IDAuMDQwNDUgPyBNYXRoLnBvdygoKGIgKyAwLjA1NSkgLyAxLjA1NSksIDIuNCkgOiAoYiAvIDEyLjkyKTtcblxuXHR2YXIgeCA9IChyICogMC40MTI0KSArIChnICogMC4zNTc2KSArIChiICogMC4xODA1KTtcblx0dmFyIHkgPSAociAqIDAuMjEyNikgKyAoZyAqIDAuNzE1MikgKyAoYiAqIDAuMDcyMik7XG5cdHZhciB6ID0gKHIgKiAwLjAxOTMpICsgKGcgKiAwLjExOTIpICsgKGIgKiAwLjk1MDUpO1xuXG5cdHJldHVybiBbeCAqIDEwMCwgeSAqIDEwMCwgeiAqIDEwMF07XG59O1xuXG5jb252ZXJ0LnJnYi5sYWIgPSBmdW5jdGlvbiAocmdiKSB7XG5cdHZhciB4eXogPSBjb252ZXJ0LnJnYi54eXoocmdiKTtcblx0dmFyIHggPSB4eXpbMF07XG5cdHZhciB5ID0geHl6WzFdO1xuXHR2YXIgeiA9IHh5elsyXTtcblx0dmFyIGw7XG5cdHZhciBhO1xuXHR2YXIgYjtcblxuXHR4IC89IDk1LjA0Nztcblx0eSAvPSAxMDA7XG5cdHogLz0gMTA4Ljg4MztcblxuXHR4ID0geCA+IDAuMDA4ODU2ID8gTWF0aC5wb3coeCwgMSAvIDMpIDogKDcuNzg3ICogeCkgKyAoMTYgLyAxMTYpO1xuXHR5ID0geSA+IDAuMDA4ODU2ID8gTWF0aC5wb3coeSwgMSAvIDMpIDogKDcuNzg3ICogeSkgKyAoMTYgLyAxMTYpO1xuXHR6ID0geiA+IDAuMDA4ODU2ID8gTWF0aC5wb3coeiwgMSAvIDMpIDogKDcuNzg3ICogeikgKyAoMTYgLyAxMTYpO1xuXG5cdGwgPSAoMTE2ICogeSkgLSAxNjtcblx0YSA9IDUwMCAqICh4IC0geSk7XG5cdGIgPSAyMDAgKiAoeSAtIHopO1xuXG5cdHJldHVybiBbbCwgYSwgYl07XG59O1xuXG5jb252ZXJ0LmhzbC5yZ2IgPSBmdW5jdGlvbiAoaHNsKSB7XG5cdHZhciBoID0gaHNsWzBdIC8gMzYwO1xuXHR2YXIgcyA9IGhzbFsxXSAvIDEwMDtcblx0dmFyIGwgPSBoc2xbMl0gLyAxMDA7XG5cdHZhciB0MTtcblx0dmFyIHQyO1xuXHR2YXIgdDM7XG5cdHZhciByZ2I7XG5cdHZhciB2YWw7XG5cblx0aWYgKHMgPT09IDApIHtcblx0XHR2YWwgPSBsICogMjU1O1xuXHRcdHJldHVybiBbdmFsLCB2YWwsIHZhbF07XG5cdH1cblxuXHRpZiAobCA8IDAuNSkge1xuXHRcdHQyID0gbCAqICgxICsgcyk7XG5cdH0gZWxzZSB7XG5cdFx0dDIgPSBsICsgcyAtIGwgKiBzO1xuXHR9XG5cblx0dDEgPSAyICogbCAtIHQyO1xuXG5cdHJnYiA9IFswLCAwLCAwXTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHtcblx0XHR0MyA9IGggKyAxIC8gMyAqIC0oaSAtIDEpO1xuXHRcdGlmICh0MyA8IDApIHtcblx0XHRcdHQzKys7XG5cdFx0fVxuXHRcdGlmICh0MyA+IDEpIHtcblx0XHRcdHQzLS07XG5cdFx0fVxuXG5cdFx0aWYgKDYgKiB0MyA8IDEpIHtcblx0XHRcdHZhbCA9IHQxICsgKHQyIC0gdDEpICogNiAqIHQzO1xuXHRcdH0gZWxzZSBpZiAoMiAqIHQzIDwgMSkge1xuXHRcdFx0dmFsID0gdDI7XG5cdFx0fSBlbHNlIGlmICgzICogdDMgPCAyKSB7XG5cdFx0XHR2YWwgPSB0MSArICh0MiAtIHQxKSAqICgyIC8gMyAtIHQzKSAqIDY7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhbCA9IHQxO1xuXHRcdH1cblxuXHRcdHJnYltpXSA9IHZhbCAqIDI1NTtcblx0fVxuXG5cdHJldHVybiByZ2I7XG59O1xuXG5jb252ZXJ0LmhzbC5oc3YgPSBmdW5jdGlvbiAoaHNsKSB7XG5cdHZhciBoID0gaHNsWzBdO1xuXHR2YXIgcyA9IGhzbFsxXSAvIDEwMDtcblx0dmFyIGwgPSBoc2xbMl0gLyAxMDA7XG5cdHZhciBzbWluID0gcztcblx0dmFyIGxtaW4gPSBNYXRoLm1heChsLCAwLjAxKTtcblx0dmFyIHN2O1xuXHR2YXIgdjtcblxuXHRsICo9IDI7XG5cdHMgKj0gKGwgPD0gMSkgPyBsIDogMiAtIGw7XG5cdHNtaW4gKj0gbG1pbiA8PSAxID8gbG1pbiA6IDIgLSBsbWluO1xuXHR2ID0gKGwgKyBzKSAvIDI7XG5cdHN2ID0gbCA9PT0gMCA/ICgyICogc21pbikgLyAobG1pbiArIHNtaW4pIDogKDIgKiBzKSAvIChsICsgcyk7XG5cblx0cmV0dXJuIFtoLCBzdiAqIDEwMCwgdiAqIDEwMF07XG59O1xuXG5jb252ZXJ0Lmhzdi5yZ2IgPSBmdW5jdGlvbiAoaHN2KSB7XG5cdHZhciBoID0gaHN2WzBdIC8gNjA7XG5cdHZhciBzID0gaHN2WzFdIC8gMTAwO1xuXHR2YXIgdiA9IGhzdlsyXSAvIDEwMDtcblx0dmFyIGhpID0gTWF0aC5mbG9vcihoKSAlIDY7XG5cblx0dmFyIGYgPSBoIC0gTWF0aC5mbG9vcihoKTtcblx0dmFyIHAgPSAyNTUgKiB2ICogKDEgLSBzKTtcblx0dmFyIHEgPSAyNTUgKiB2ICogKDEgLSAocyAqIGYpKTtcblx0dmFyIHQgPSAyNTUgKiB2ICogKDEgLSAocyAqICgxIC0gZikpKTtcblx0diAqPSAyNTU7XG5cblx0c3dpdGNoIChoaSkge1xuXHRcdGNhc2UgMDpcblx0XHRcdHJldHVybiBbdiwgdCwgcF07XG5cdFx0Y2FzZSAxOlxuXHRcdFx0cmV0dXJuIFtxLCB2LCBwXTtcblx0XHRjYXNlIDI6XG5cdFx0XHRyZXR1cm4gW3AsIHYsIHRdO1xuXHRcdGNhc2UgMzpcblx0XHRcdHJldHVybiBbcCwgcSwgdl07XG5cdFx0Y2FzZSA0OlxuXHRcdFx0cmV0dXJuIFt0LCBwLCB2XTtcblx0XHRjYXNlIDU6XG5cdFx0XHRyZXR1cm4gW3YsIHAsIHFdO1xuXHR9XG59O1xuXG5jb252ZXJ0Lmhzdi5oc2wgPSBmdW5jdGlvbiAoaHN2KSB7XG5cdHZhciBoID0gaHN2WzBdO1xuXHR2YXIgcyA9IGhzdlsxXSAvIDEwMDtcblx0dmFyIHYgPSBoc3ZbMl0gLyAxMDA7XG5cdHZhciB2bWluID0gTWF0aC5tYXgodiwgMC4wMSk7XG5cdHZhciBsbWluO1xuXHR2YXIgc2w7XG5cdHZhciBsO1xuXG5cdGwgPSAoMiAtIHMpICogdjtcblx0bG1pbiA9ICgyIC0gcykgKiB2bWluO1xuXHRzbCA9IHMgKiB2bWluO1xuXHRzbCAvPSAobG1pbiA8PSAxKSA/IGxtaW4gOiAyIC0gbG1pbjtcblx0c2wgPSBzbCB8fCAwO1xuXHRsIC89IDI7XG5cblx0cmV0dXJuIFtoLCBzbCAqIDEwMCwgbCAqIDEwMF07XG59O1xuXG4vLyBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3MtY29sb3IvI2h3Yi10by1yZ2JcbmNvbnZlcnQuaHdiLnJnYiA9IGZ1bmN0aW9uIChod2IpIHtcblx0dmFyIGggPSBod2JbMF0gLyAzNjA7XG5cdHZhciB3aCA9IGh3YlsxXSAvIDEwMDtcblx0dmFyIGJsID0gaHdiWzJdIC8gMTAwO1xuXHR2YXIgcmF0aW8gPSB3aCArIGJsO1xuXHR2YXIgaTtcblx0dmFyIHY7XG5cdHZhciBmO1xuXHR2YXIgbjtcblxuXHQvLyB3aCArIGJsIGNhbnQgYmUgPiAxXG5cdGlmIChyYXRpbyA+IDEpIHtcblx0XHR3aCAvPSByYXRpbztcblx0XHRibCAvPSByYXRpbztcblx0fVxuXG5cdGkgPSBNYXRoLmZsb29yKDYgKiBoKTtcblx0diA9IDEgLSBibDtcblx0ZiA9IDYgKiBoIC0gaTtcblxuXHRpZiAoKGkgJiAweDAxKSAhPT0gMCkge1xuXHRcdGYgPSAxIC0gZjtcblx0fVxuXG5cdG4gPSB3aCArIGYgKiAodiAtIHdoKTsgLy8gbGluZWFyIGludGVycG9sYXRpb25cblxuXHR2YXIgcjtcblx0dmFyIGc7XG5cdHZhciBiO1xuXHRzd2l0Y2ggKGkpIHtcblx0XHRkZWZhdWx0OlxuXHRcdGNhc2UgNjpcblx0XHRjYXNlIDA6IHIgPSB2OyBnID0gbjsgYiA9IHdoOyBicmVhaztcblx0XHRjYXNlIDE6IHIgPSBuOyBnID0gdjsgYiA9IHdoOyBicmVhaztcblx0XHRjYXNlIDI6IHIgPSB3aDsgZyA9IHY7IGIgPSBuOyBicmVhaztcblx0XHRjYXNlIDM6IHIgPSB3aDsgZyA9IG47IGIgPSB2OyBicmVhaztcblx0XHRjYXNlIDQ6IHIgPSBuOyBnID0gd2g7IGIgPSB2OyBicmVhaztcblx0XHRjYXNlIDU6IHIgPSB2OyBnID0gd2g7IGIgPSBuOyBicmVhaztcblx0fVxuXG5cdHJldHVybiBbciAqIDI1NSwgZyAqIDI1NSwgYiAqIDI1NV07XG59O1xuXG5jb252ZXJ0LmNteWsucmdiID0gZnVuY3Rpb24gKGNteWspIHtcblx0dmFyIGMgPSBjbXlrWzBdIC8gMTAwO1xuXHR2YXIgbSA9IGNteWtbMV0gLyAxMDA7XG5cdHZhciB5ID0gY215a1syXSAvIDEwMDtcblx0dmFyIGsgPSBjbXlrWzNdIC8gMTAwO1xuXHR2YXIgcjtcblx0dmFyIGc7XG5cdHZhciBiO1xuXG5cdHIgPSAxIC0gTWF0aC5taW4oMSwgYyAqICgxIC0gaykgKyBrKTtcblx0ZyA9IDEgLSBNYXRoLm1pbigxLCBtICogKDEgLSBrKSArIGspO1xuXHRiID0gMSAtIE1hdGgubWluKDEsIHkgKiAoMSAtIGspICsgayk7XG5cblx0cmV0dXJuIFtyICogMjU1LCBnICogMjU1LCBiICogMjU1XTtcbn07XG5cbmNvbnZlcnQueHl6LnJnYiA9IGZ1bmN0aW9uICh4eXopIHtcblx0dmFyIHggPSB4eXpbMF0gLyAxMDA7XG5cdHZhciB5ID0geHl6WzFdIC8gMTAwO1xuXHR2YXIgeiA9IHh5elsyXSAvIDEwMDtcblx0dmFyIHI7XG5cdHZhciBnO1xuXHR2YXIgYjtcblxuXHRyID0gKHggKiAzLjI0MDYpICsgKHkgKiAtMS41MzcyKSArICh6ICogLTAuNDk4Nik7XG5cdGcgPSAoeCAqIC0wLjk2ODkpICsgKHkgKiAxLjg3NTgpICsgKHogKiAwLjA0MTUpO1xuXHRiID0gKHggKiAwLjA1NTcpICsgKHkgKiAtMC4yMDQwKSArICh6ICogMS4wNTcwKTtcblxuXHQvLyBhc3N1bWUgc1JHQlxuXHRyID0gciA+IDAuMDAzMTMwOFxuXHRcdD8gKCgxLjA1NSAqIE1hdGgucG93KHIsIDEuMCAvIDIuNCkpIC0gMC4wNTUpXG5cdFx0OiByICogMTIuOTI7XG5cblx0ZyA9IGcgPiAwLjAwMzEzMDhcblx0XHQ/ICgoMS4wNTUgKiBNYXRoLnBvdyhnLCAxLjAgLyAyLjQpKSAtIDAuMDU1KVxuXHRcdDogZyAqIDEyLjkyO1xuXG5cdGIgPSBiID4gMC4wMDMxMzA4XG5cdFx0PyAoKDEuMDU1ICogTWF0aC5wb3coYiwgMS4wIC8gMi40KSkgLSAwLjA1NSlcblx0XHQ6IGIgKiAxMi45MjtcblxuXHRyID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgciksIDEpO1xuXHRnID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZyksIDEpO1xuXHRiID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgYiksIDEpO1xuXG5cdHJldHVybiBbciAqIDI1NSwgZyAqIDI1NSwgYiAqIDI1NV07XG59O1xuXG5jb252ZXJ0Lnh5ei5sYWIgPSBmdW5jdGlvbiAoeHl6KSB7XG5cdHZhciB4ID0geHl6WzBdO1xuXHR2YXIgeSA9IHh5elsxXTtcblx0dmFyIHogPSB4eXpbMl07XG5cdHZhciBsO1xuXHR2YXIgYTtcblx0dmFyIGI7XG5cblx0eCAvPSA5NS4wNDc7XG5cdHkgLz0gMTAwO1xuXHR6IC89IDEwOC44ODM7XG5cblx0eCA9IHggPiAwLjAwODg1NiA/IE1hdGgucG93KHgsIDEgLyAzKSA6ICg3Ljc4NyAqIHgpICsgKDE2IC8gMTE2KTtcblx0eSA9IHkgPiAwLjAwODg1NiA/IE1hdGgucG93KHksIDEgLyAzKSA6ICg3Ljc4NyAqIHkpICsgKDE2IC8gMTE2KTtcblx0eiA9IHogPiAwLjAwODg1NiA/IE1hdGgucG93KHosIDEgLyAzKSA6ICg3Ljc4NyAqIHopICsgKDE2IC8gMTE2KTtcblxuXHRsID0gKDExNiAqIHkpIC0gMTY7XG5cdGEgPSA1MDAgKiAoeCAtIHkpO1xuXHRiID0gMjAwICogKHkgLSB6KTtcblxuXHRyZXR1cm4gW2wsIGEsIGJdO1xufTtcblxuY29udmVydC5sYWIueHl6ID0gZnVuY3Rpb24gKGxhYikge1xuXHR2YXIgbCA9IGxhYlswXTtcblx0dmFyIGEgPSBsYWJbMV07XG5cdHZhciBiID0gbGFiWzJdO1xuXHR2YXIgeDtcblx0dmFyIHk7XG5cdHZhciB6O1xuXG5cdHkgPSAobCArIDE2KSAvIDExNjtcblx0eCA9IGEgLyA1MDAgKyB5O1xuXHR6ID0geSAtIGIgLyAyMDA7XG5cblx0dmFyIHkyID0gTWF0aC5wb3coeSwgMyk7XG5cdHZhciB4MiA9IE1hdGgucG93KHgsIDMpO1xuXHR2YXIgejIgPSBNYXRoLnBvdyh6LCAzKTtcblx0eSA9IHkyID4gMC4wMDg4NTYgPyB5MiA6ICh5IC0gMTYgLyAxMTYpIC8gNy43ODc7XG5cdHggPSB4MiA+IDAuMDA4ODU2ID8geDIgOiAoeCAtIDE2IC8gMTE2KSAvIDcuNzg3O1xuXHR6ID0gejIgPiAwLjAwODg1NiA/IHoyIDogKHogLSAxNiAvIDExNikgLyA3Ljc4NztcblxuXHR4ICo9IDk1LjA0Nztcblx0eSAqPSAxMDA7XG5cdHogKj0gMTA4Ljg4MztcblxuXHRyZXR1cm4gW3gsIHksIHpdO1xufTtcblxuY29udmVydC5sYWIubGNoID0gZnVuY3Rpb24gKGxhYikge1xuXHR2YXIgbCA9IGxhYlswXTtcblx0dmFyIGEgPSBsYWJbMV07XG5cdHZhciBiID0gbGFiWzJdO1xuXHR2YXIgaHI7XG5cdHZhciBoO1xuXHR2YXIgYztcblxuXHRociA9IE1hdGguYXRhbjIoYiwgYSk7XG5cdGggPSBociAqIDM2MCAvIDIgLyBNYXRoLlBJO1xuXG5cdGlmIChoIDwgMCkge1xuXHRcdGggKz0gMzYwO1xuXHR9XG5cblx0YyA9IE1hdGguc3FydChhICogYSArIGIgKiBiKTtcblxuXHRyZXR1cm4gW2wsIGMsIGhdO1xufTtcblxuY29udmVydC5sY2gubGFiID0gZnVuY3Rpb24gKGxjaCkge1xuXHR2YXIgbCA9IGxjaFswXTtcblx0dmFyIGMgPSBsY2hbMV07XG5cdHZhciBoID0gbGNoWzJdO1xuXHR2YXIgYTtcblx0dmFyIGI7XG5cdHZhciBocjtcblxuXHRociA9IGggLyAzNjAgKiAyICogTWF0aC5QSTtcblx0YSA9IGMgKiBNYXRoLmNvcyhocik7XG5cdGIgPSBjICogTWF0aC5zaW4oaHIpO1xuXG5cdHJldHVybiBbbCwgYSwgYl07XG59O1xuXG5jb252ZXJ0LnJnYi5hbnNpMTYgPSBmdW5jdGlvbiAoYXJncykge1xuXHR2YXIgciA9IGFyZ3NbMF07XG5cdHZhciBnID0gYXJnc1sxXTtcblx0dmFyIGIgPSBhcmdzWzJdO1xuXHR2YXIgdmFsdWUgPSAxIGluIGFyZ3VtZW50cyA/IGFyZ3VtZW50c1sxXSA6IGNvbnZlcnQucmdiLmhzdihhcmdzKVsyXTsgLy8gaHN2IC0+IGFuc2kxNiBvcHRpbWl6YXRpb25cblxuXHR2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUgLyA1MCk7XG5cblx0aWYgKHZhbHVlID09PSAwKSB7XG5cdFx0cmV0dXJuIDMwO1xuXHR9XG5cblx0dmFyIGFuc2kgPSAzMFxuXHRcdCsgKChNYXRoLnJvdW5kKGIgLyAyNTUpIDw8IDIpXG5cdFx0fCAoTWF0aC5yb3VuZChnIC8gMjU1KSA8PCAxKVxuXHRcdHwgTWF0aC5yb3VuZChyIC8gMjU1KSk7XG5cblx0aWYgKHZhbHVlID09PSAyKSB7XG5cdFx0YW5zaSArPSA2MDtcblx0fVxuXG5cdHJldHVybiBhbnNpO1xufTtcblxuY29udmVydC5oc3YuYW5zaTE2ID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0Ly8gb3B0aW1pemF0aW9uIGhlcmU7IHdlIGFscmVhZHkga25vdyB0aGUgdmFsdWUgYW5kIGRvbid0IG5lZWQgdG8gZ2V0XG5cdC8vIGl0IGNvbnZlcnRlZCBmb3IgdXMuXG5cdHJldHVybiBjb252ZXJ0LnJnYi5hbnNpMTYoY29udmVydC5oc3YucmdiKGFyZ3MpLCBhcmdzWzJdKTtcbn07XG5cbmNvbnZlcnQucmdiLmFuc2kyNTYgPSBmdW5jdGlvbiAoYXJncykge1xuXHR2YXIgciA9IGFyZ3NbMF07XG5cdHZhciBnID0gYXJnc1sxXTtcblx0dmFyIGIgPSBhcmdzWzJdO1xuXG5cdC8vIHdlIHVzZSB0aGUgZXh0ZW5kZWQgZ3JleXNjYWxlIHBhbGV0dGUgaGVyZSwgd2l0aCB0aGUgZXhjZXB0aW9uIG9mXG5cdC8vIGJsYWNrIGFuZCB3aGl0ZS4gbm9ybWFsIHBhbGV0dGUgb25seSBoYXMgNCBncmV5c2NhbGUgc2hhZGVzLlxuXHRpZiAociA9PT0gZyAmJiBnID09PSBiKSB7XG5cdFx0aWYgKHIgPCA4KSB7XG5cdFx0XHRyZXR1cm4gMTY7XG5cdFx0fVxuXG5cdFx0aWYgKHIgPiAyNDgpIHtcblx0XHRcdHJldHVybiAyMzE7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIE1hdGgucm91bmQoKChyIC0gOCkgLyAyNDcpICogMjQpICsgMjMyO1xuXHR9XG5cblx0dmFyIGFuc2kgPSAxNlxuXHRcdCsgKDM2ICogTWF0aC5yb3VuZChyIC8gMjU1ICogNSkpXG5cdFx0KyAoNiAqIE1hdGgucm91bmQoZyAvIDI1NSAqIDUpKVxuXHRcdCsgTWF0aC5yb3VuZChiIC8gMjU1ICogNSk7XG5cblx0cmV0dXJuIGFuc2k7XG59O1xuXG5jb252ZXJ0LmFuc2kxNi5yZ2IgPSBmdW5jdGlvbiAoYXJncykge1xuXHR2YXIgY29sb3IgPSBhcmdzICUgMTA7XG5cblx0Ly8gaGFuZGxlIGdyZXlzY2FsZVxuXHRpZiAoY29sb3IgPT09IDAgfHwgY29sb3IgPT09IDcpIHtcblx0XHRpZiAoYXJncyA+IDUwKSB7XG5cdFx0XHRjb2xvciArPSAzLjU7XG5cdFx0fVxuXG5cdFx0Y29sb3IgPSBjb2xvciAvIDEwLjUgKiAyNTU7XG5cblx0XHRyZXR1cm4gW2NvbG9yLCBjb2xvciwgY29sb3JdO1xuXHR9XG5cblx0dmFyIG11bHQgPSAofn4oYXJncyA+IDUwKSArIDEpICogMC41O1xuXHR2YXIgciA9ICgoY29sb3IgJiAxKSAqIG11bHQpICogMjU1O1xuXHR2YXIgZyA9ICgoKGNvbG9yID4+IDEpICYgMSkgKiBtdWx0KSAqIDI1NTtcblx0dmFyIGIgPSAoKChjb2xvciA+PiAyKSAmIDEpICogbXVsdCkgKiAyNTU7XG5cblx0cmV0dXJuIFtyLCBnLCBiXTtcbn07XG5cbmNvbnZlcnQuYW5zaTI1Ni5yZ2IgPSBmdW5jdGlvbiAoYXJncykge1xuXHQvLyBoYW5kbGUgZ3JleXNjYWxlXG5cdGlmIChhcmdzID49IDIzMikge1xuXHRcdHZhciBjID0gKGFyZ3MgLSAyMzIpICogMTAgKyA4O1xuXHRcdHJldHVybiBbYywgYywgY107XG5cdH1cblxuXHRhcmdzIC09IDE2O1xuXG5cdHZhciByZW07XG5cdHZhciByID0gTWF0aC5mbG9vcihhcmdzIC8gMzYpIC8gNSAqIDI1NTtcblx0dmFyIGcgPSBNYXRoLmZsb29yKChyZW0gPSBhcmdzICUgMzYpIC8gNikgLyA1ICogMjU1O1xuXHR2YXIgYiA9IChyZW0gJSA2KSAvIDUgKiAyNTU7XG5cblx0cmV0dXJuIFtyLCBnLCBiXTtcbn07XG5cbmNvbnZlcnQucmdiLmhleCA9IGZ1bmN0aW9uIChhcmdzKSB7XG5cdHZhciBpbnRlZ2VyID0gKChNYXRoLnJvdW5kKGFyZ3NbMF0pICYgMHhGRikgPDwgMTYpXG5cdFx0KyAoKE1hdGgucm91bmQoYXJnc1sxXSkgJiAweEZGKSA8PCA4KVxuXHRcdCsgKE1hdGgucm91bmQoYXJnc1syXSkgJiAweEZGKTtcblxuXHR2YXIgc3RyaW5nID0gaW50ZWdlci50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcblx0cmV0dXJuICcwMDAwMDAnLnN1YnN0cmluZyhzdHJpbmcubGVuZ3RoKSArIHN0cmluZztcbn07XG5cbmNvbnZlcnQuaGV4LnJnYiA9IGZ1bmN0aW9uIChhcmdzKSB7XG5cdHZhciBtYXRjaCA9IGFyZ3MudG9TdHJpbmcoMTYpLm1hdGNoKC9bYS1mMC05XXs2fXxbYS1mMC05XXszfS9pKTtcblx0aWYgKCFtYXRjaCkge1xuXHRcdHJldHVybiBbMCwgMCwgMF07XG5cdH1cblxuXHR2YXIgY29sb3JTdHJpbmcgPSBtYXRjaFswXTtcblxuXHRpZiAobWF0Y2hbMF0ubGVuZ3RoID09PSAzKSB7XG5cdFx0Y29sb3JTdHJpbmcgPSBjb2xvclN0cmluZy5zcGxpdCgnJykubWFwKGZ1bmN0aW9uIChjaGFyKSB7XG5cdFx0XHRyZXR1cm4gY2hhciArIGNoYXI7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHR2YXIgaW50ZWdlciA9IHBhcnNlSW50KGNvbG9yU3RyaW5nLCAxNik7XG5cdHZhciByID0gKGludGVnZXIgPj4gMTYpICYgMHhGRjtcblx0dmFyIGcgPSAoaW50ZWdlciA+PiA4KSAmIDB4RkY7XG5cdHZhciBiID0gaW50ZWdlciAmIDB4RkY7XG5cblx0cmV0dXJuIFtyLCBnLCBiXTtcbn07XG5cbmNvbnZlcnQucmdiLmhjZyA9IGZ1bmN0aW9uIChyZ2IpIHtcblx0dmFyIHIgPSByZ2JbMF0gLyAyNTU7XG5cdHZhciBnID0gcmdiWzFdIC8gMjU1O1xuXHR2YXIgYiA9IHJnYlsyXSAvIDI1NTtcblx0dmFyIG1heCA9IE1hdGgubWF4KE1hdGgubWF4KHIsIGcpLCBiKTtcblx0dmFyIG1pbiA9IE1hdGgubWluKE1hdGgubWluKHIsIGcpLCBiKTtcblx0dmFyIGNocm9tYSA9IChtYXggLSBtaW4pO1xuXHR2YXIgZ3JheXNjYWxlO1xuXHR2YXIgaHVlO1xuXG5cdGlmIChjaHJvbWEgPCAxKSB7XG5cdFx0Z3JheXNjYWxlID0gbWluIC8gKDEgLSBjaHJvbWEpO1xuXHR9IGVsc2Uge1xuXHRcdGdyYXlzY2FsZSA9IDA7XG5cdH1cblxuXHRpZiAoY2hyb21hIDw9IDApIHtcblx0XHRodWUgPSAwO1xuXHR9IGVsc2Vcblx0aWYgKG1heCA9PT0gcikge1xuXHRcdGh1ZSA9ICgoZyAtIGIpIC8gY2hyb21hKSAlIDY7XG5cdH0gZWxzZVxuXHRpZiAobWF4ID09PSBnKSB7XG5cdFx0aHVlID0gMiArIChiIC0gcikgLyBjaHJvbWE7XG5cdH0gZWxzZSB7XG5cdFx0aHVlID0gNCArIChyIC0gZykgLyBjaHJvbWEgKyA0O1xuXHR9XG5cblx0aHVlIC89IDY7XG5cdGh1ZSAlPSAxO1xuXG5cdHJldHVybiBbaHVlICogMzYwLCBjaHJvbWEgKiAxMDAsIGdyYXlzY2FsZSAqIDEwMF07XG59O1xuXG5jb252ZXJ0LmhzbC5oY2cgPSBmdW5jdGlvbiAoaHNsKSB7XG5cdHZhciBzID0gaHNsWzFdIC8gMTAwO1xuXHR2YXIgbCA9IGhzbFsyXSAvIDEwMDtcblx0dmFyIGMgPSAxO1xuXHR2YXIgZiA9IDA7XG5cblx0aWYgKGwgPCAwLjUpIHtcblx0XHRjID0gMi4wICogcyAqIGw7XG5cdH0gZWxzZSB7XG5cdFx0YyA9IDIuMCAqIHMgKiAoMS4wIC0gbCk7XG5cdH1cblxuXHRpZiAoYyA8IDEuMCkge1xuXHRcdGYgPSAobCAtIDAuNSAqIGMpIC8gKDEuMCAtIGMpO1xuXHR9XG5cblx0cmV0dXJuIFtoc2xbMF0sIGMgKiAxMDAsIGYgKiAxMDBdO1xufTtcblxuY29udmVydC5oc3YuaGNnID0gZnVuY3Rpb24gKGhzdikge1xuXHR2YXIgcyA9IGhzdlsxXSAvIDEwMDtcblx0dmFyIHYgPSBoc3ZbMl0gLyAxMDA7XG5cblx0dmFyIGMgPSBzICogdjtcblx0dmFyIGYgPSAwO1xuXG5cdGlmIChjIDwgMS4wKSB7XG5cdFx0ZiA9ICh2IC0gYykgLyAoMSAtIGMpO1xuXHR9XG5cblx0cmV0dXJuIFtoc3ZbMF0sIGMgKiAxMDAsIGYgKiAxMDBdO1xufTtcblxuY29udmVydC5oY2cucmdiID0gZnVuY3Rpb24gKGhjZykge1xuXHR2YXIgaCA9IGhjZ1swXSAvIDM2MDtcblx0dmFyIGMgPSBoY2dbMV0gLyAxMDA7XG5cdHZhciBnID0gaGNnWzJdIC8gMTAwO1xuXG5cdGlmIChjID09PSAwLjApIHtcblx0XHRyZXR1cm4gW2cgKiAyNTUsIGcgKiAyNTUsIGcgKiAyNTVdO1xuXHR9XG5cblx0dmFyIHB1cmUgPSBbMCwgMCwgMF07XG5cdHZhciBoaSA9IChoICUgMSkgKiA2O1xuXHR2YXIgdiA9IGhpICUgMTtcblx0dmFyIHcgPSAxIC0gdjtcblx0dmFyIG1nID0gMDtcblxuXHRzd2l0Y2ggKE1hdGguZmxvb3IoaGkpKSB7XG5cdFx0Y2FzZSAwOlxuXHRcdFx0cHVyZVswXSA9IDE7IHB1cmVbMV0gPSB2OyBwdXJlWzJdID0gMDsgYnJlYWs7XG5cdFx0Y2FzZSAxOlxuXHRcdFx0cHVyZVswXSA9IHc7IHB1cmVbMV0gPSAxOyBwdXJlWzJdID0gMDsgYnJlYWs7XG5cdFx0Y2FzZSAyOlxuXHRcdFx0cHVyZVswXSA9IDA7IHB1cmVbMV0gPSAxOyBwdXJlWzJdID0gdjsgYnJlYWs7XG5cdFx0Y2FzZSAzOlxuXHRcdFx0cHVyZVswXSA9IDA7IHB1cmVbMV0gPSB3OyBwdXJlWzJdID0gMTsgYnJlYWs7XG5cdFx0Y2FzZSA0OlxuXHRcdFx0cHVyZVswXSA9IHY7IHB1cmVbMV0gPSAwOyBwdXJlWzJdID0gMTsgYnJlYWs7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHB1cmVbMF0gPSAxOyBwdXJlWzFdID0gMDsgcHVyZVsyXSA9IHc7XG5cdH1cblxuXHRtZyA9ICgxLjAgLSBjKSAqIGc7XG5cblx0cmV0dXJuIFtcblx0XHQoYyAqIHB1cmVbMF0gKyBtZykgKiAyNTUsXG5cdFx0KGMgKiBwdXJlWzFdICsgbWcpICogMjU1LFxuXHRcdChjICogcHVyZVsyXSArIG1nKSAqIDI1NVxuXHRdO1xufTtcblxuY29udmVydC5oY2cuaHN2ID0gZnVuY3Rpb24gKGhjZykge1xuXHR2YXIgYyA9IGhjZ1sxXSAvIDEwMDtcblx0dmFyIGcgPSBoY2dbMl0gLyAxMDA7XG5cblx0dmFyIHYgPSBjICsgZyAqICgxLjAgLSBjKTtcblx0dmFyIGYgPSAwO1xuXG5cdGlmICh2ID4gMC4wKSB7XG5cdFx0ZiA9IGMgLyB2O1xuXHR9XG5cblx0cmV0dXJuIFtoY2dbMF0sIGYgKiAxMDAsIHYgKiAxMDBdO1xufTtcblxuY29udmVydC5oY2cuaHNsID0gZnVuY3Rpb24gKGhjZykge1xuXHR2YXIgYyA9IGhjZ1sxXSAvIDEwMDtcblx0dmFyIGcgPSBoY2dbMl0gLyAxMDA7XG5cblx0dmFyIGwgPSBnICogKDEuMCAtIGMpICsgMC41ICogYztcblx0dmFyIHMgPSAwO1xuXG5cdGlmIChsID4gMC4wICYmIGwgPCAwLjUpIHtcblx0XHRzID0gYyAvICgyICogbCk7XG5cdH0gZWxzZVxuXHRpZiAobCA+PSAwLjUgJiYgbCA8IDEuMCkge1xuXHRcdHMgPSBjIC8gKDIgKiAoMSAtIGwpKTtcblx0fVxuXG5cdHJldHVybiBbaGNnWzBdLCBzICogMTAwLCBsICogMTAwXTtcbn07XG5cbmNvbnZlcnQuaGNnLmh3YiA9IGZ1bmN0aW9uIChoY2cpIHtcblx0dmFyIGMgPSBoY2dbMV0gLyAxMDA7XG5cdHZhciBnID0gaGNnWzJdIC8gMTAwO1xuXHR2YXIgdiA9IGMgKyBnICogKDEuMCAtIGMpO1xuXHRyZXR1cm4gW2hjZ1swXSwgKHYgLSBjKSAqIDEwMCwgKDEgLSB2KSAqIDEwMF07XG59O1xuXG5jb252ZXJ0Lmh3Yi5oY2cgPSBmdW5jdGlvbiAoaHdiKSB7XG5cdHZhciB3ID0gaHdiWzFdIC8gMTAwO1xuXHR2YXIgYiA9IGh3YlsyXSAvIDEwMDtcblx0dmFyIHYgPSAxIC0gYjtcblx0dmFyIGMgPSB2IC0gdztcblx0dmFyIGcgPSAwO1xuXG5cdGlmIChjIDwgMSkge1xuXHRcdGcgPSAodiAtIGMpIC8gKDEgLSBjKTtcblx0fVxuXG5cdHJldHVybiBbaHdiWzBdLCBjICogMTAwLCBnICogMTAwXTtcbn07XG5cbmNvbnZlcnQuYXBwbGUucmdiID0gZnVuY3Rpb24gKGFwcGxlKSB7XG5cdHJldHVybiBbKGFwcGxlWzBdIC8gNjU1MzUpICogMjU1LCAoYXBwbGVbMV0gLyA2NTUzNSkgKiAyNTUsIChhcHBsZVsyXSAvIDY1NTM1KSAqIDI1NV07XG59O1xuXG5jb252ZXJ0LnJnYi5hcHBsZSA9IGZ1bmN0aW9uIChyZ2IpIHtcblx0cmV0dXJuIFsocmdiWzBdIC8gMjU1KSAqIDY1NTM1LCAocmdiWzFdIC8gMjU1KSAqIDY1NTM1LCAocmdiWzJdIC8gMjU1KSAqIDY1NTM1XTtcbn07XG5cbmNvbnZlcnQuZ3JheS5yZ2IgPSBmdW5jdGlvbiAoYXJncykge1xuXHRyZXR1cm4gW2FyZ3NbMF0gLyAxMDAgKiAyNTUsIGFyZ3NbMF0gLyAxMDAgKiAyNTUsIGFyZ3NbMF0gLyAxMDAgKiAyNTVdO1xufTtcblxuY29udmVydC5ncmF5LmhzbCA9IGNvbnZlcnQuZ3JheS5oc3YgPSBmdW5jdGlvbiAoYXJncykge1xuXHRyZXR1cm4gWzAsIDAsIGFyZ3NbMF1dO1xufTtcblxuY29udmVydC5ncmF5Lmh3YiA9IGZ1bmN0aW9uIChncmF5KSB7XG5cdHJldHVybiBbMCwgMTAwLCBncmF5WzBdXTtcbn07XG5cbmNvbnZlcnQuZ3JheS5jbXlrID0gZnVuY3Rpb24gKGdyYXkpIHtcblx0cmV0dXJuIFswLCAwLCAwLCBncmF5WzBdXTtcbn07XG5cbmNvbnZlcnQuZ3JheS5sYWIgPSBmdW5jdGlvbiAoZ3JheSkge1xuXHRyZXR1cm4gW2dyYXlbMF0sIDAsIDBdO1xufTtcblxuY29udmVydC5ncmF5LmhleCA9IGZ1bmN0aW9uIChncmF5KSB7XG5cdHZhciB2YWwgPSBNYXRoLnJvdW5kKGdyYXlbMF0gLyAxMDAgKiAyNTUpICYgMHhGRjtcblx0dmFyIGludGVnZXIgPSAodmFsIDw8IDE2KSArICh2YWwgPDwgOCkgKyB2YWw7XG5cblx0dmFyIHN0cmluZyA9IGludGVnZXIudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG5cdHJldHVybiAnMDAwMDAwJy5zdWJzdHJpbmcoc3RyaW5nLmxlbmd0aCkgKyBzdHJpbmc7XG59O1xuXG5jb252ZXJ0LnJnYi5ncmF5ID0gZnVuY3Rpb24gKHJnYikge1xuXHR2YXIgdmFsID0gKHJnYlswXSArIHJnYlsxXSArIHJnYlsyXSkgLyAzO1xuXHRyZXR1cm4gW3ZhbCAvIDI1NSAqIDEwMF07XG59O1xuIiwidmFyIHNheCA9IHJlcXVpcmUoJ3NheCcpO1xyXG52YXIgZXhwYXQgLyo9IHJlcXVpcmUoJ25vZGUtZXhwYXQnKTsqLyA9IHsgb246IGZ1bmN0aW9uICgpIHsgfSwgcGFyc2U6IGZ1bmN0aW9uICgpIHsgfSB9O1xyXG52YXIgaGVscGVyID0gcmVxdWlyZSgnLi9vcHRpb25zLWhlbHBlcicpO1xyXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4vYXJyYXktaGVscGVyJykuaXNBcnJheTtcclxuXHJcbnZhciBvcHRpb25zO1xyXG52YXIgcHVyZUpzUGFyc2VyID0gdHJ1ZTtcclxudmFyIGN1cnJlbnRFbGVtZW50O1xyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVPcHRpb25zKHVzZXJPcHRpb25zKSB7XHJcbiAgb3B0aW9ucyA9IGhlbHBlci5jb3B5T3B0aW9ucyh1c2VyT3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUZsYWdFeGlzdHMoJ2lnbm9yZURlY2xhcmF0aW9uJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUZsYWdFeGlzdHMoJ2lnbm9yZUluc3RydWN0aW9uJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUZsYWdFeGlzdHMoJ2lnbm9yZUF0dHJpYnV0ZXMnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlRmxhZ0V4aXN0cygnaWdub3JlVGV4dCcsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVGbGFnRXhpc3RzKCdpZ25vcmVDb21tZW50Jywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUZsYWdFeGlzdHMoJ2lnbm9yZUNkYXRhJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUZsYWdFeGlzdHMoJ2lnbm9yZURvY3R5cGUnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlRmxhZ0V4aXN0cygnY29tcGFjdCcsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVGbGFnRXhpc3RzKCdhbHdheXNDaGlsZHJlbicsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVGbGFnRXhpc3RzKCdhZGRQYXJlbnQnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlRmxhZ0V4aXN0cygndHJpbScsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVGbGFnRXhpc3RzKCduYXRpdmVUeXBlJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUZsYWdFeGlzdHMoJ25hdGl2ZVR5cGVBdHRyaWJ1dGVzJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUZsYWdFeGlzdHMoJ3Nhbml0aXplJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUZsYWdFeGlzdHMoJ2luc3RydWN0aW9uSGFzQXR0cmlidXRlcycsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVGbGFnRXhpc3RzKCdjYXB0dXJlU3BhY2VzQmV0d2VlbkVsZW1lbnRzJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUFsd2F5c0FycmF5RXhpc3RzKG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVLZXlFeGlzdHMoJ2RlY2xhcmF0aW9uJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUtleUV4aXN0cygnaW5zdHJ1Y3Rpb24nLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlS2V5RXhpc3RzKCdhdHRyaWJ1dGVzJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUtleUV4aXN0cygndGV4dCcsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVLZXlFeGlzdHMoJ2NvbW1lbnQnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlS2V5RXhpc3RzKCdjZGF0YScsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVLZXlFeGlzdHMoJ2RvY3R5cGUnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlS2V5RXhpc3RzKCd0eXBlJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUtleUV4aXN0cygnbmFtZScsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVLZXlFeGlzdHMoJ2VsZW1lbnRzJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUtleUV4aXN0cygncGFyZW50Jywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmNoZWNrRm5FeGlzdHMoJ2RvY3R5cGUnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuY2hlY2tGbkV4aXN0cygnaW5zdHJ1Y3Rpb24nLCBvcHRpb25zKTtcclxuICBoZWxwZXIuY2hlY2tGbkV4aXN0cygnY2RhdGEnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuY2hlY2tGbkV4aXN0cygnY29tbWVudCcsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5jaGVja0ZuRXhpc3RzKCd0ZXh0Jywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmNoZWNrRm5FeGlzdHMoJ2luc3RydWN0aW9uTmFtZScsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5jaGVja0ZuRXhpc3RzKCdlbGVtZW50TmFtZScsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5jaGVja0ZuRXhpc3RzKCdhdHRyaWJ1dGVOYW1lJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmNoZWNrRm5FeGlzdHMoJ2F0dHJpYnV0ZVZhbHVlJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmNoZWNrRm5FeGlzdHMoJ2F0dHJpYnV0ZXMnLCBvcHRpb25zKTtcclxuICByZXR1cm4gb3B0aW9ucztcclxufVxyXG5cclxuZnVuY3Rpb24gbmF0aXZlVHlwZSh2YWx1ZSkge1xyXG4gIHZhciBuVmFsdWUgPSBOdW1iZXIodmFsdWUpO1xyXG4gIGlmICghaXNOYU4oblZhbHVlKSkge1xyXG4gICAgcmV0dXJuIG5WYWx1ZTtcclxuICB9XHJcbiAgdmFyIGJWYWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgaWYgKGJWYWx1ZSA9PT0gJ3RydWUnKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2UgaWYgKGJWYWx1ZSA9PT0gJ2ZhbHNlJykge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICByZXR1cm4gdmFsdWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEZpZWxkKHR5cGUsIHZhbHVlKSB7XHJcbiAgdmFyIGtleTtcclxuICBpZiAob3B0aW9ucy5jb21wYWN0KSB7XHJcbiAgICBpZiAoXHJcbiAgICAgICFjdXJyZW50RWxlbWVudFtvcHRpb25zW3R5cGUgKyAnS2V5J11dICYmXHJcbiAgICAgIChpc0FycmF5KG9wdGlvbnMuYWx3YXlzQXJyYXkpID8gb3B0aW9ucy5hbHdheXNBcnJheS5pbmRleE9mKG9wdGlvbnNbdHlwZSArICdLZXknXSkgIT09IC0xIDogb3B0aW9ucy5hbHdheXNBcnJheSlcclxuICAgICkge1xyXG4gICAgICBjdXJyZW50RWxlbWVudFtvcHRpb25zW3R5cGUgKyAnS2V5J11dID0gW107XHJcbiAgICB9XHJcbiAgICBpZiAoY3VycmVudEVsZW1lbnRbb3B0aW9uc1t0eXBlICsgJ0tleSddXSAmJiAhaXNBcnJheShjdXJyZW50RWxlbWVudFtvcHRpb25zW3R5cGUgKyAnS2V5J11dKSkge1xyXG4gICAgICBjdXJyZW50RWxlbWVudFtvcHRpb25zW3R5cGUgKyAnS2V5J11dID0gW2N1cnJlbnRFbGVtZW50W29wdGlvbnNbdHlwZSArICdLZXknXV1dO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGUgKyAnRm4nIGluIG9wdGlvbnMgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICB2YWx1ZSA9IG9wdGlvbnNbdHlwZSArICdGbiddKHZhbHVlLCBjdXJyZW50RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZSA9PT0gJ2luc3RydWN0aW9uJyAmJiAoJ2luc3RydWN0aW9uRm4nIGluIG9wdGlvbnMgfHwgJ2luc3RydWN0aW9uTmFtZUZuJyBpbiBvcHRpb25zKSkge1xyXG4gICAgICBmb3IgKGtleSBpbiB2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICBpZiAoJ2luc3RydWN0aW9uRm4nIGluIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdmFsdWVba2V5XSA9IG9wdGlvbnMuaW5zdHJ1Y3Rpb25Gbih2YWx1ZVtrZXldLCBrZXksIGN1cnJlbnRFbGVtZW50KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wID0gdmFsdWVba2V5XTtcclxuICAgICAgICAgICAgZGVsZXRlIHZhbHVlW2tleV07XHJcbiAgICAgICAgICAgIHZhbHVlW29wdGlvbnMuaW5zdHJ1Y3Rpb25OYW1lRm4oa2V5LCB0ZW1wLCBjdXJyZW50RWxlbWVudCldID0gdGVtcDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc0FycmF5KGN1cnJlbnRFbGVtZW50W29wdGlvbnNbdHlwZSArICdLZXknXV0pKSB7XHJcbiAgICAgIGN1cnJlbnRFbGVtZW50W29wdGlvbnNbdHlwZSArICdLZXknXV0ucHVzaCh2YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdXJyZW50RWxlbWVudFtvcHRpb25zW3R5cGUgKyAnS2V5J11dID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICghY3VycmVudEVsZW1lbnRbb3B0aW9ucy5lbGVtZW50c0tleV0pIHtcclxuICAgICAgY3VycmVudEVsZW1lbnRbb3B0aW9ucy5lbGVtZW50c0tleV0gPSBbXTtcclxuICAgIH1cclxuICAgIHZhciBlbGVtZW50ID0ge307XHJcbiAgICBlbGVtZW50W29wdGlvbnMudHlwZUtleV0gPSB0eXBlO1xyXG4gICAgaWYgKHR5cGUgPT09ICdpbnN0cnVjdGlvbicpIHtcclxuICAgICAgZm9yIChrZXkgaW4gdmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsZW1lbnRbb3B0aW9ucy5uYW1lS2V5XSA9ICdpbnN0cnVjdGlvbk5hbWVGbicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuaW5zdHJ1Y3Rpb25OYW1lRm4oa2V5LCB2YWx1ZSwgY3VycmVudEVsZW1lbnQpIDoga2V5O1xyXG4gICAgICBpZiAob3B0aW9ucy5pbnN0cnVjdGlvbkhhc0F0dHJpYnV0ZXMpIHtcclxuICAgICAgICBlbGVtZW50W29wdGlvbnMuYXR0cmlidXRlc0tleV0gPSB2YWx1ZVtrZXldW29wdGlvbnMuYXR0cmlidXRlc0tleV07XHJcbiAgICAgICAgaWYgKCdpbnN0cnVjdGlvbkZuJyBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgICBlbGVtZW50W29wdGlvbnMuYXR0cmlidXRlc0tleV0gPSBvcHRpb25zLmluc3RydWN0aW9uRm4oZWxlbWVudFtvcHRpb25zLmF0dHJpYnV0ZXNLZXldLCBrZXksIGN1cnJlbnRFbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKCdpbnN0cnVjdGlvbkZuJyBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgICB2YWx1ZVtrZXldID0gb3B0aW9ucy5pbnN0cnVjdGlvbkZuKHZhbHVlW2tleV0sIGtleSwgY3VycmVudEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50W29wdGlvbnMuaW5zdHJ1Y3Rpb25LZXldID0gdmFsdWVba2V5XTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHR5cGUgKyAnRm4nIGluIG9wdGlvbnMpIHtcclxuICAgICAgICB2YWx1ZSA9IG9wdGlvbnNbdHlwZSArICdGbiddKHZhbHVlLCBjdXJyZW50RWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxlbWVudFtvcHRpb25zW3R5cGUgKyAnS2V5J11dID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5hZGRQYXJlbnQpIHtcclxuICAgICAgZWxlbWVudFtvcHRpb25zLnBhcmVudEtleV0gPSBjdXJyZW50RWxlbWVudDtcclxuICAgIH1cclxuICAgIGN1cnJlbnRFbGVtZW50W29wdGlvbnMuZWxlbWVudHNLZXldLnB1c2goZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBtYW5pcHVsYXRlQXR0cmlidXRlcyhhdHRyaWJ1dGVzKSB7XHJcbiAgaWYgKCdhdHRyaWJ1dGVzRm4nIGluIG9wdGlvbnMgJiYgYXR0cmlidXRlcykge1xyXG4gICAgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlc0ZuKGF0dHJpYnV0ZXMsIGN1cnJlbnRFbGVtZW50KTtcclxuICB9XHJcbiAgaWYgKChvcHRpb25zLnRyaW0gfHwgJ2F0dHJpYnV0ZVZhbHVlRm4nIGluIG9wdGlvbnMgfHwgJ2F0dHJpYnV0ZU5hbWVGbicgaW4gb3B0aW9ucyB8fCBvcHRpb25zLm5hdGl2ZVR5cGVBdHRyaWJ1dGVzKSAmJiBhdHRyaWJ1dGVzKSB7XHJcbiAgICB2YXIga2V5O1xyXG4gICAgZm9yIChrZXkgaW4gYXR0cmlidXRlcykge1xyXG4gICAgICBpZiAoYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMudHJpbSkgYXR0cmlidXRlc1trZXldID0gYXR0cmlidXRlc1trZXldLnRyaW0oKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5uYXRpdmVUeXBlQXR0cmlidXRlcykge1xyXG4gICAgICAgICAgYXR0cmlidXRlc1trZXldID0gbmF0aXZlVHlwZShhdHRyaWJ1dGVzW2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJ2F0dHJpYnV0ZVZhbHVlRm4nIGluIG9wdGlvbnMpIGF0dHJpYnV0ZXNba2V5XSA9IG9wdGlvbnMuYXR0cmlidXRlVmFsdWVGbihhdHRyaWJ1dGVzW2tleV0sIGtleSwgY3VycmVudEVsZW1lbnQpO1xyXG4gICAgICAgIGlmICgnYXR0cmlidXRlTmFtZUZuJyBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgICB2YXIgdGVtcCA9IGF0dHJpYnV0ZXNba2V5XTtcclxuICAgICAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzW2tleV07XHJcbiAgICAgICAgICBhdHRyaWJ1dGVzW29wdGlvbnMuYXR0cmlidXRlTmFtZUZuKGtleSwgYXR0cmlidXRlc1trZXldLCBjdXJyZW50RWxlbWVudCldID0gdGVtcDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGF0dHJpYnV0ZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcclxuICB2YXIgYXR0cmlidXRlcyA9IHt9O1xyXG4gIGlmIChpbnN0cnVjdGlvbi5ib2R5ICYmIChpbnN0cnVjdGlvbi5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd4bWwnIHx8IG9wdGlvbnMuaW5zdHJ1Y3Rpb25IYXNBdHRyaWJ1dGVzKSkge1xyXG4gICAgdmFyIGF0dHJzUmVnRXhwID0gLyhbXFx3Oi1dKylcXHMqPVxccyooPzpcIihbXlwiXSopXCJ8JyhbXiddKiknfChcXHcrKSlcXHMqL2c7XHJcbiAgICB2YXIgbWF0Y2g7XHJcbiAgICB3aGlsZSAoKG1hdGNoID0gYXR0cnNSZWdFeHAuZXhlYyhpbnN0cnVjdGlvbi5ib2R5KSkgIT09IG51bGwpIHtcclxuICAgICAgYXR0cmlidXRlc1ttYXRjaFsxXV0gPSBtYXRjaFsyXSB8fCBtYXRjaFszXSB8fCBtYXRjaFs0XTtcclxuICAgIH1cclxuICAgIGF0dHJpYnV0ZXMgPSBtYW5pcHVsYXRlQXR0cmlidXRlcyhhdHRyaWJ1dGVzKTtcclxuICB9XHJcbiAgaWYgKGluc3RydWN0aW9uLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3htbCcpIHtcclxuICAgIGlmIChvcHRpb25zLmlnbm9yZURlY2xhcmF0aW9uKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGN1cnJlbnRFbGVtZW50W29wdGlvbnMuZGVjbGFyYXRpb25LZXldID0ge307XHJcbiAgICBpZiAoT2JqZWN0LmtleXMoYXR0cmlidXRlcykubGVuZ3RoKSB7XHJcbiAgICAgIGN1cnJlbnRFbGVtZW50W29wdGlvbnMuZGVjbGFyYXRpb25LZXldW29wdGlvbnMuYXR0cmlidXRlc0tleV0gPSBhdHRyaWJ1dGVzO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuYWRkUGFyZW50KSB7XHJcbiAgICAgIGN1cnJlbnRFbGVtZW50W29wdGlvbnMuZGVjbGFyYXRpb25LZXldW29wdGlvbnMucGFyZW50S2V5XSA9IGN1cnJlbnRFbGVtZW50O1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAob3B0aW9ucy5pZ25vcmVJbnN0cnVjdGlvbikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy50cmltKSB7XHJcbiAgICAgIGluc3RydWN0aW9uLmJvZHkgPSBpbnN0cnVjdGlvbi5ib2R5LnRyaW0oKTtcclxuICAgIH1cclxuICAgIHZhciB2YWx1ZSA9IHt9O1xyXG4gICAgaWYgKG9wdGlvbnMuaW5zdHJ1Y3Rpb25IYXNBdHRyaWJ1dGVzICYmIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmxlbmd0aCkge1xyXG4gICAgICB2YWx1ZVtpbnN0cnVjdGlvbi5uYW1lXSA9IHt9O1xyXG4gICAgICB2YWx1ZVtpbnN0cnVjdGlvbi5uYW1lXVtvcHRpb25zLmF0dHJpYnV0ZXNLZXldID0gYXR0cmlidXRlcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhbHVlW2luc3RydWN0aW9uLm5hbWVdID0gaW5zdHJ1Y3Rpb24uYm9keTtcclxuICAgIH1cclxuICAgIGFkZEZpZWxkKCdpbnN0cnVjdGlvbicsIHZhbHVlKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uU3RhcnRFbGVtZW50KG5hbWUsIGF0dHJpYnV0ZXMpIHtcclxuICB2YXIgZWxlbWVudDtcclxuICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XHJcbiAgICBhdHRyaWJ1dGVzID0gbmFtZS5hdHRyaWJ1dGVzO1xyXG4gICAgbmFtZSA9IG5hbWUubmFtZTtcclxuICB9XHJcbiAgYXR0cmlidXRlcyA9IG1hbmlwdWxhdGVBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpO1xyXG4gIGlmICgnZWxlbWVudE5hbWVGbicgaW4gb3B0aW9ucykge1xyXG4gICAgbmFtZSA9IG9wdGlvbnMuZWxlbWVudE5hbWVGbihuYW1lLCBjdXJyZW50RWxlbWVudCk7XHJcbiAgfVxyXG4gIGlmIChvcHRpb25zLmNvbXBhY3QpIHtcclxuICAgIGVsZW1lbnQgPSB7fTtcclxuICAgIGlmICghb3B0aW9ucy5pZ25vcmVBdHRyaWJ1dGVzICYmIGF0dHJpYnV0ZXMgJiYgT2JqZWN0LmtleXMoYXR0cmlidXRlcykubGVuZ3RoKSB7XHJcbiAgICAgIGVsZW1lbnRbb3B0aW9ucy5hdHRyaWJ1dGVzS2V5XSA9IHt9O1xyXG4gICAgICB2YXIga2V5O1xyXG4gICAgICBmb3IgKGtleSBpbiBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgZWxlbWVudFtvcHRpb25zLmF0dHJpYnV0ZXNLZXldW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoXHJcbiAgICAgICEobmFtZSBpbiBjdXJyZW50RWxlbWVudCkgJiZcclxuICAgICAgKGlzQXJyYXkob3B0aW9ucy5hbHdheXNBcnJheSkgPyBvcHRpb25zLmFsd2F5c0FycmF5LmluZGV4T2YobmFtZSkgIT09IC0xIDogb3B0aW9ucy5hbHdheXNBcnJheSlcclxuICAgICkge1xyXG4gICAgICBjdXJyZW50RWxlbWVudFtuYW1lXSA9IFtdO1xyXG4gICAgfVxyXG4gICAgaWYgKGN1cnJlbnRFbGVtZW50W25hbWVdICYmICFpc0FycmF5KGN1cnJlbnRFbGVtZW50W25hbWVdKSkge1xyXG4gICAgICBjdXJyZW50RWxlbWVudFtuYW1lXSA9IFtjdXJyZW50RWxlbWVudFtuYW1lXV07XHJcbiAgICB9XHJcbiAgICBpZiAoaXNBcnJheShjdXJyZW50RWxlbWVudFtuYW1lXSkpIHtcclxuICAgICAgY3VycmVudEVsZW1lbnRbbmFtZV0ucHVzaChlbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN1cnJlbnRFbGVtZW50W25hbWVdID0gZWxlbWVudDtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKCFjdXJyZW50RWxlbWVudFtvcHRpb25zLmVsZW1lbnRzS2V5XSkge1xyXG4gICAgICBjdXJyZW50RWxlbWVudFtvcHRpb25zLmVsZW1lbnRzS2V5XSA9IFtdO1xyXG4gICAgfVxyXG4gICAgZWxlbWVudCA9IHt9O1xyXG4gICAgZWxlbWVudFtvcHRpb25zLnR5cGVLZXldID0gJ2VsZW1lbnQnO1xyXG4gICAgZWxlbWVudFtvcHRpb25zLm5hbWVLZXldID0gbmFtZTtcclxuICAgIGlmICghb3B0aW9ucy5pZ25vcmVBdHRyaWJ1dGVzICYmIGF0dHJpYnV0ZXMgJiYgT2JqZWN0LmtleXMoYXR0cmlidXRlcykubGVuZ3RoKSB7XHJcbiAgICAgIGVsZW1lbnRbb3B0aW9ucy5hdHRyaWJ1dGVzS2V5XSA9IGF0dHJpYnV0ZXM7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5hbHdheXNDaGlsZHJlbikge1xyXG4gICAgICBlbGVtZW50W29wdGlvbnMuZWxlbWVudHNLZXldID0gW107XHJcbiAgICB9XHJcbiAgICBjdXJyZW50RWxlbWVudFtvcHRpb25zLmVsZW1lbnRzS2V5XS5wdXNoKGVsZW1lbnQpO1xyXG4gIH1cclxuICBlbGVtZW50W29wdGlvbnMucGFyZW50S2V5XSA9IGN1cnJlbnRFbGVtZW50OyAvLyB3aWxsIGJlIGRlbGV0ZWQgaW4gb25FbmRFbGVtZW50KCkgaWYgIW9wdGlvbnMuYWRkUGFyZW50XHJcbiAgY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBvblRleHQodGV4dCkge1xyXG4gIGlmIChvcHRpb25zLmlnbm9yZVRleHQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgaWYgKCF0ZXh0LnRyaW0oKSAmJiAhb3B0aW9ucy5jYXB0dXJlU3BhY2VzQmV0d2VlbkVsZW1lbnRzKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIGlmIChvcHRpb25zLnRyaW0pIHtcclxuICAgIHRleHQgPSB0ZXh0LnRyaW0oKTtcclxuICB9XHJcbiAgaWYgKG9wdGlvbnMubmF0aXZlVHlwZSkge1xyXG4gICAgdGV4dCA9IG5hdGl2ZVR5cGUodGV4dCk7XHJcbiAgfVxyXG4gIGlmIChvcHRpb25zLnNhbml0aXplKSB7XHJcbiAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC8mL2csICcmYW1wOycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XHJcbiAgfVxyXG4gIGFkZEZpZWxkKCd0ZXh0JywgdGV4dCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uQ29tbWVudChjb21tZW50KSB7XHJcbiAgaWYgKG9wdGlvbnMuaWdub3JlQ29tbWVudCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICBpZiAob3B0aW9ucy50cmltKSB7XHJcbiAgICBjb21tZW50ID0gY29tbWVudC50cmltKCk7XHJcbiAgfVxyXG4gIGFkZEZpZWxkKCdjb21tZW50JywgY29tbWVudCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uRW5kRWxlbWVudChuYW1lKSB7XHJcbiAgdmFyIHBhcmVudEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudFtvcHRpb25zLnBhcmVudEtleV07XHJcbiAgaWYgKCFvcHRpb25zLmFkZFBhcmVudCkge1xyXG4gICAgZGVsZXRlIGN1cnJlbnRFbGVtZW50W29wdGlvbnMucGFyZW50S2V5XTtcclxuICB9XHJcbiAgY3VycmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkNkYXRhKGNkYXRhKSB7XHJcbiAgaWYgKG9wdGlvbnMuaWdub3JlQ2RhdGEpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgaWYgKG9wdGlvbnMudHJpbSkge1xyXG4gICAgY2RhdGEgPSBjZGF0YS50cmltKCk7XHJcbiAgfVxyXG4gIGFkZEZpZWxkKCdjZGF0YScsIGNkYXRhKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25Eb2N0eXBlKGRvY3R5cGUpIHtcclxuICBpZiAob3B0aW9ucy5pZ25vcmVEb2N0eXBlKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIGRvY3R5cGUgPSBkb2N0eXBlLnJlcGxhY2UoL14gLywgJycpO1xyXG4gIGlmIChvcHRpb25zLnRyaW0pIHtcclxuICAgIGRvY3R5cGUgPSBkb2N0eXBlLnRyaW0oKTtcclxuICB9XHJcbiAgYWRkRmllbGQoJ2RvY3R5cGUnLCBkb2N0eXBlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25FcnJvcihlcnJvcikge1xyXG4gIGVycm9yLm5vdGUgPSBlcnJvcjsgLy9jb25zb2xlLmVycm9yKGVycm9yKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoeG1sLCB1c2VyT3B0aW9ucykge1xyXG5cclxuICB2YXIgcGFyc2VyID0gcHVyZUpzUGFyc2VyID8gc2F4LnBhcnNlcih0cnVlLCB7fSkgOiBwYXJzZXIgPSBuZXcgZXhwYXQuUGFyc2VyKCdVVEYtOCcpO1xyXG4gIHZhciByZXN1bHQgPSB7fTtcclxuICBjdXJyZW50RWxlbWVudCA9IHJlc3VsdDtcclxuXHJcbiAgb3B0aW9ucyA9IHZhbGlkYXRlT3B0aW9ucyh1c2VyT3B0aW9ucyk7XHJcblxyXG4gIGlmIChwdXJlSnNQYXJzZXIpIHtcclxuICAgIHBhcnNlci5vcHQgPSB7c3RyaWN0RW50aXRpZXM6IHRydWV9O1xyXG4gICAgcGFyc2VyLm9ub3BlbnRhZyA9IG9uU3RhcnRFbGVtZW50O1xyXG4gICAgcGFyc2VyLm9udGV4dCA9IG9uVGV4dDtcclxuICAgIHBhcnNlci5vbmNvbW1lbnQgPSBvbkNvbW1lbnQ7XHJcbiAgICBwYXJzZXIub25jbG9zZXRhZyA9IG9uRW5kRWxlbWVudDtcclxuICAgIHBhcnNlci5vbmVycm9yID0gb25FcnJvcjtcclxuICAgIHBhcnNlci5vbmNkYXRhID0gb25DZGF0YTtcclxuICAgIHBhcnNlci5vbmRvY3R5cGUgPSBvbkRvY3R5cGU7XHJcbiAgICBwYXJzZXIub25wcm9jZXNzaW5naW5zdHJ1Y3Rpb24gPSBvbkluc3RydWN0aW9uO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBwYXJzZXIub24oJ3N0YXJ0RWxlbWVudCcsIG9uU3RhcnRFbGVtZW50KTtcclxuICAgIHBhcnNlci5vbigndGV4dCcsIG9uVGV4dCk7XHJcbiAgICBwYXJzZXIub24oJ2NvbW1lbnQnLCBvbkNvbW1lbnQpO1xyXG4gICAgcGFyc2VyLm9uKCdlbmRFbGVtZW50Jywgb25FbmRFbGVtZW50KTtcclxuICAgIHBhcnNlci5vbignZXJyb3InLCBvbkVycm9yKTtcclxuICAgIC8vcGFyc2VyLm9uKCdzdGFydENkYXRhJywgb25TdGFydENkYXRhKTtcclxuICAgIC8vcGFyc2VyLm9uKCdlbmRDZGF0YScsIG9uRW5kQ2RhdGEpO1xyXG4gICAgLy9wYXJzZXIub24oJ2VudGl0eURlY2wnLCBvbkVudGl0eURlY2wpO1xyXG4gIH1cclxuXHJcbiAgaWYgKHB1cmVKc1BhcnNlcikge1xyXG4gICAgcGFyc2VyLndyaXRlKHhtbCkuY2xvc2UoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKCFwYXJzZXIucGFyc2UoeG1sKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1hNTCBwYXJzaW5nIGVycm9yOiAnICsgcGFyc2VyLmdldEVycm9yKCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKHJlc3VsdFtvcHRpb25zLmVsZW1lbnRzS2V5XSkge1xyXG4gICAgdmFyIHRlbXAgPSByZXN1bHRbb3B0aW9ucy5lbGVtZW50c0tleV07XHJcbiAgICBkZWxldGUgcmVzdWx0W29wdGlvbnMuZWxlbWVudHNLZXldO1xyXG4gICAgcmVzdWx0W29wdGlvbnMuZWxlbWVudHNLZXldID0gdGVtcDtcclxuICAgIGRlbGV0ZSByZXN1bHQudGV4dDtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcblxyXG59O1xyXG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBwbmEgPSByZXF1aXJlKCdwcm9jZXNzLW5leHRpY2stYXJncycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhZGFibGU7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIER1cGxleDtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5SZWFkYWJsZS5SZWFkYWJsZVN0YXRlID0gUmVhZGFibGVTdGF0ZTtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBFRSA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcblxudmFyIEVFbGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIChlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVycyh0eXBlKS5sZW5ndGg7XG59O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgU3RyZWFtID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbScpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdzYWZlLWJ1ZmZlcicpLkJ1ZmZlcjtcbnZhciBPdXJVaW50OEFycmF5ID0gZ2xvYmFsLlVpbnQ4QXJyYXkgfHwgZnVuY3Rpb24gKCkge307XG5mdW5jdGlvbiBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShjaHVuayk7XG59XG5mdW5jdGlvbiBfaXNVaW50OEFycmF5KG9iaikge1xuICByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKG9iaikgfHwgb2JqIGluc3RhbmNlb2YgT3VyVWludDhBcnJheTtcbn1cblxuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgdXRpbCA9IHJlcXVpcmUoJ2NvcmUtdXRpbC1pcycpO1xudXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBkZWJ1Z1V0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG52YXIgZGVidWcgPSB2b2lkIDA7XG5pZiAoZGVidWdVdGlsICYmIGRlYnVnVXRpbC5kZWJ1Z2xvZykge1xuICBkZWJ1ZyA9IGRlYnVnVXRpbC5kZWJ1Z2xvZygnc3RyZWFtJyk7XG59IGVsc2Uge1xuICBkZWJ1ZyA9IGZ1bmN0aW9uICgpIHt9O1xufVxuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBCdWZmZXJMaXN0ID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL0J1ZmZlckxpc3QnKTtcbnZhciBkZXN0cm95SW1wbCA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95Jyk7XG52YXIgU3RyaW5nRGVjb2RlcjtcblxudXRpbC5pbmhlcml0cyhSZWFkYWJsZSwgU3RyZWFtKTtcblxudmFyIGtQcm94eUV2ZW50cyA9IFsnZXJyb3InLCAnY2xvc2UnLCAnZGVzdHJveScsICdwYXVzZScsICdyZXN1bWUnXTtcblxuZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbikge1xuICAvLyBTYWRseSB0aGlzIGlzIG5vdCBjYWNoZWFibGUgYXMgc29tZSBsaWJyYXJpZXMgYnVuZGxlIHRoZWlyIG93blxuICAvLyBldmVudCBlbWl0dGVyIGltcGxlbWVudGF0aW9uIHdpdGggdGhlbS5cbiAgaWYgKHR5cGVvZiBlbWl0dGVyLnByZXBlbmRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGVtaXR0ZXIucHJlcGVuZExpc3RlbmVyKGV2ZW50LCBmbik7XG5cbiAgLy8gVGhpcyBpcyBhIGhhY2sgdG8gbWFrZSBzdXJlIHRoYXQgb3VyIGVycm9yIGhhbmRsZXIgaXMgYXR0YWNoZWQgYmVmb3JlIGFueVxuICAvLyB1c2VybGFuZCBvbmVzLiAgTkVWRVIgRE8gVEhJUy4gVGhpcyBpcyBoZXJlIG9ubHkgYmVjYXVzZSB0aGlzIGNvZGUgbmVlZHNcbiAgLy8gdG8gY29udGludWUgdG8gd29yayB3aXRoIG9sZGVyIHZlcnNpb25zIG9mIE5vZGUuanMgdGhhdCBkbyBub3QgaW5jbHVkZVxuICAvLyB0aGUgcHJlcGVuZExpc3RlbmVyKCkgbWV0aG9kLiBUaGUgZ29hbCBpcyB0byBldmVudHVhbGx5IHJlbW92ZSB0aGlzIGhhY2suXG4gIGlmICghZW1pdHRlci5fZXZlbnRzIHx8ICFlbWl0dGVyLl9ldmVudHNbZXZlbnRdKSBlbWl0dGVyLm9uKGV2ZW50LCBmbik7ZWxzZSBpZiAoaXNBcnJheShlbWl0dGVyLl9ldmVudHNbZXZlbnRdKSkgZW1pdHRlci5fZXZlbnRzW2V2ZW50XS51bnNoaWZ0KGZuKTtlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldmVudF0gPSBbZm4sIGVtaXR0ZXIuX2V2ZW50c1tldmVudF1dO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsIHN0cmVhbSkge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIC8vIER1cGxleCBzdHJlYW1zIGFyZSBib3RoIHJlYWRhYmxlIGFuZCB3cml0YWJsZSwgYnV0IHNoYXJlXG4gIC8vIHRoZSBzYW1lIG9wdGlvbnMgb2JqZWN0LlxuICAvLyBIb3dldmVyLCBzb21lIGNhc2VzIHJlcXVpcmUgc2V0dGluZyBvcHRpb25zIHRvIGRpZmZlcmVudFxuICAvLyB2YWx1ZXMgZm9yIHRoZSByZWFkYWJsZSBhbmQgdGhlIHdyaXRhYmxlIHNpZGVzIG9mIHRoZSBkdXBsZXggc3RyZWFtLlxuICAvLyBUaGVzZSBvcHRpb25zIGNhbiBiZSBwcm92aWRlZCBzZXBhcmF0ZWx5IGFzIHJlYWRhYmxlWFhYIGFuZCB3cml0YWJsZVhYWC5cbiAgdmFyIGlzRHVwbGV4ID0gc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4O1xuXG4gIC8vIG9iamVjdCBzdHJlYW0gZmxhZy4gVXNlZCB0byBtYWtlIHJlYWQobikgaWdub3JlIG4gYW5kIHRvXG4gIC8vIG1ha2UgYWxsIHRoZSBidWZmZXIgbWVyZ2luZyBhbmQgbGVuZ3RoIGNoZWNrcyBnbyBhd2F5XG4gIHRoaXMub2JqZWN0TW9kZSA9ICEhb3B0aW9ucy5vYmplY3RNb2RlO1xuXG4gIGlmIChpc0R1cGxleCkgdGhpcy5vYmplY3RNb2RlID0gdGhpcy5vYmplY3RNb2RlIHx8ICEhb3B0aW9ucy5yZWFkYWJsZU9iamVjdE1vZGU7XG5cbiAgLy8gdGhlIHBvaW50IGF0IHdoaWNoIGl0IHN0b3BzIGNhbGxpbmcgX3JlYWQoKSB0byBmaWxsIHRoZSBidWZmZXJcbiAgLy8gTm90ZTogMCBpcyBhIHZhbGlkIHZhbHVlLCBtZWFucyBcImRvbid0IGNhbGwgX3JlYWQgcHJlZW1wdGl2ZWx5IGV2ZXJcIlxuICB2YXIgaHdtID0gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrO1xuICB2YXIgcmVhZGFibGVId20gPSBvcHRpb25zLnJlYWRhYmxlSGlnaFdhdGVyTWFyaztcbiAgdmFyIGRlZmF1bHRId20gPSB0aGlzLm9iamVjdE1vZGUgPyAxNiA6IDE2ICogMTAyNDtcblxuICBpZiAoaHdtIHx8IGh3bSA9PT0gMCkgdGhpcy5oaWdoV2F0ZXJNYXJrID0gaHdtO2Vsc2UgaWYgKGlzRHVwbGV4ICYmIChyZWFkYWJsZUh3bSB8fCByZWFkYWJsZUh3bSA9PT0gMCkpIHRoaXMuaGlnaFdhdGVyTWFyayA9IHJlYWRhYmxlSHdtO2Vsc2UgdGhpcy5oaWdoV2F0ZXJNYXJrID0gZGVmYXVsdEh3bTtcblxuICAvLyBjYXN0IHRvIGludHMuXG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IE1hdGguZmxvb3IodGhpcy5oaWdoV2F0ZXJNYXJrKTtcblxuICAvLyBBIGxpbmtlZCBsaXN0IGlzIHVzZWQgdG8gc3RvcmUgZGF0YSBjaHVua3MgaW5zdGVhZCBvZiBhbiBhcnJheSBiZWNhdXNlIHRoZVxuICAvLyBsaW5rZWQgbGlzdCBjYW4gcmVtb3ZlIGVsZW1lbnRzIGZyb20gdGhlIGJlZ2lubmluZyBmYXN0ZXIgdGhhblxuICAvLyBhcnJheS5zaGlmdCgpXG4gIHRoaXMuYnVmZmVyID0gbmV3IEJ1ZmZlckxpc3QoKTtcbiAgdGhpcy5sZW5ndGggPSAwO1xuICB0aGlzLnBpcGVzID0gbnVsbDtcbiAgdGhpcy5waXBlc0NvdW50ID0gMDtcbiAgdGhpcy5mbG93aW5nID0gbnVsbDtcbiAgdGhpcy5lbmRlZCA9IGZhbHNlO1xuICB0aGlzLmVuZEVtaXR0ZWQgPSBmYWxzZTtcbiAgdGhpcy5yZWFkaW5nID0gZmFsc2U7XG5cbiAgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgZXZlbnQgJ3JlYWRhYmxlJy8nZGF0YScgaXMgZW1pdHRlZFxuICAvLyBpbW1lZGlhdGVseSwgb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZVxuICAvLyBhbnkgYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3QgcmVhZCBjYWxsLlxuICB0aGlzLnN5bmMgPSB0cnVlO1xuXG4gIC8vIHdoZW5ldmVyIHdlIHJldHVybiBudWxsLCB0aGVuIHdlIHNldCBhIGZsYWcgdG8gc2F5XG4gIC8vIHRoYXQgd2UncmUgYXdhaXRpbmcgYSAncmVhZGFibGUnIGV2ZW50IGVtaXNzaW9uLlxuICB0aGlzLm5lZWRSZWFkYWJsZSA9IGZhbHNlO1xuICB0aGlzLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICB0aGlzLnJlYWRhYmxlTGlzdGVuaW5nID0gZmFsc2U7XG4gIHRoaXMucmVzdW1lU2NoZWR1bGVkID0gZmFsc2U7XG5cbiAgLy8gaGFzIGl0IGJlZW4gZGVzdHJveWVkXG4gIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgLy8gQ3J5cHRvIGlzIGtpbmQgb2Ygb2xkIGFuZCBjcnVzdHkuICBIaXN0b3JpY2FsbHksIGl0cyBkZWZhdWx0IHN0cmluZ1xuICAvLyBlbmNvZGluZyBpcyAnYmluYXJ5JyBzbyB3ZSBoYXZlIHRvIG1ha2UgdGhpcyBjb25maWd1cmFibGUuXG4gIC8vIEV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgdW5pdmVyc2UgdXNlcyAndXRmOCcsIHRob3VnaC5cbiAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7XG5cbiAgLy8gdGhlIG51bWJlciBvZiB3cml0ZXJzIHRoYXQgYXJlIGF3YWl0aW5nIGEgZHJhaW4gZXZlbnQgaW4gLnBpcGUoKXNcbiAgdGhpcy5hd2FpdERyYWluID0gMDtcblxuICAvLyBpZiB0cnVlLCBhIG1heWJlUmVhZE1vcmUgaGFzIGJlZW4gc2NoZWR1bGVkXG4gIHRoaXMucmVhZGluZ01vcmUgPSBmYWxzZTtcblxuICB0aGlzLmRlY29kZXIgPSBudWxsO1xuICB0aGlzLmVuY29kaW5nID0gbnVsbDtcbiAgaWYgKG9wdGlvbnMuZW5jb2RpbmcpIHtcbiAgICBpZiAoIVN0cmluZ0RlY29kZXIpIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2Rlci8nKS5TdHJpbmdEZWNvZGVyO1xuICAgIHRoaXMuZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKG9wdGlvbnMuZW5jb2RpbmcpO1xuICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nO1xuICB9XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlKG9wdGlvbnMpIHtcbiAgRHVwbGV4ID0gRHVwbGV4IHx8IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcblxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVhZGFibGUpKSByZXR1cm4gbmV3IFJlYWRhYmxlKG9wdGlvbnMpO1xuXG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUgPSBuZXcgUmVhZGFibGVTdGF0ZShvcHRpb25zLCB0aGlzKTtcblxuICAvLyBsZWdhY3lcbiAgdGhpcy5yZWFkYWJsZSA9IHRydWU7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMucmVhZCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fcmVhZCA9IG9wdGlvbnMucmVhZDtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSB0aGlzLl9kZXN0cm95ID0gb3B0aW9ucy5kZXN0cm95O1xuICB9XG5cbiAgU3RyZWFtLmNhbGwodGhpcyk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsICdkZXN0cm95ZWQnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIHdlIGlnbm9yZSB0aGUgdmFsdWUgaWYgdGhlIHN0cmVhbVxuICAgIC8vIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXRcbiAgICBpZiAoIXRoaXMuX3JlYWRhYmxlU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCB0aGUgdXNlciBpcyBleHBsaWNpdGx5XG4gICAgLy8gbWFuYWdpbmcgZGVzdHJveWVkXG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7XG5cblJlYWRhYmxlLnByb3RvdHlwZS5kZXN0cm95ID0gZGVzdHJveUltcGwuZGVzdHJveTtcblJlYWRhYmxlLnByb3RvdHlwZS5fdW5kZXN0cm95ID0gZGVzdHJveUltcGwudW5kZXN0cm95O1xuUmVhZGFibGUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgdGhpcy5wdXNoKG51bGwpO1xuICBjYihlcnIpO1xufTtcblxuLy8gTWFudWFsbHkgc2hvdmUgc29tZXRoaW5nIGludG8gdGhlIHJlYWQoKSBidWZmZXIuXG4vLyBUaGlzIHJldHVybnMgdHJ1ZSBpZiB0aGUgaGlnaFdhdGVyTWFyayBoYXMgbm90IGJlZW4gaGl0IHlldCxcbi8vIHNpbWlsYXIgdG8gaG93IFdyaXRhYmxlLndyaXRlKCkgcmV0dXJucyB0cnVlIGlmIHlvdSBzaG91bGRcbi8vIHdyaXRlKCkgc29tZSBtb3JlLlxuUmVhZGFibGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciBza2lwQ2h1bmtDaGVjaztcblxuICBpZiAoIXN0YXRlLm9iamVjdE1vZGUpIHtcbiAgICBpZiAodHlwZW9mIGNodW5rID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmNvZGluZyB8fCBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7XG4gICAgICBpZiAoZW5jb2RpbmcgIT09IHN0YXRlLmVuY29kaW5nKSB7XG4gICAgICAgIGNodW5rID0gQnVmZmVyLmZyb20oY2h1bmssIGVuY29kaW5nKTtcbiAgICAgICAgZW5jb2RpbmcgPSAnJztcbiAgICAgIH1cbiAgICAgIHNraXBDaHVua0NoZWNrID0gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc2tpcENodW5rQ2hlY2sgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgY2h1bmssIGVuY29kaW5nLCBmYWxzZSwgc2tpcENodW5rQ2hlY2spO1xufTtcblxuLy8gVW5zaGlmdCBzaG91bGQgKmFsd2F5cyogYmUgc29tZXRoaW5nIGRpcmVjdGx5IG91dCBvZiByZWFkKClcblJlYWRhYmxlLnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gIHJldHVybiByZWFkYWJsZUFkZENodW5rKHRoaXMsIGNodW5rLCBudWxsLCB0cnVlLCBmYWxzZSk7XG59O1xuXG5mdW5jdGlvbiByZWFkYWJsZUFkZENodW5rKHN0cmVhbSwgY2h1bmssIGVuY29kaW5nLCBhZGRUb0Zyb250LCBza2lwQ2h1bmtDaGVjaykge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBlcjtcbiAgICBpZiAoIXNraXBDaHVua0NoZWNrKSBlciA9IGNodW5rSW52YWxpZChzdGF0ZSwgY2h1bmspO1xuICAgIGlmIChlcikge1xuICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUub2JqZWN0TW9kZSB8fCBjaHVuayAmJiBjaHVuay5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAodHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiAhc3RhdGUub2JqZWN0TW9kZSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2h1bmspICE9PSBCdWZmZXIucHJvdG90eXBlKSB7XG4gICAgICAgIGNodW5rID0gX3VpbnQ4QXJyYXlUb0J1ZmZlcihjaHVuayk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhZGRUb0Zyb250KSB7XG4gICAgICAgIGlmIChzdGF0ZS5lbmRFbWl0dGVkKSBzdHJlYW0uZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ3N0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50JykpO2Vsc2UgYWRkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5lbmRlZCkge1xuICAgICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ3N0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GJykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUucmVhZGluZyA9IGZhbHNlO1xuICAgICAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhZW5jb2RpbmcpIHtcbiAgICAgICAgICBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspO1xuICAgICAgICAgIGlmIChzdGF0ZS5vYmplY3RNb2RlIHx8IGNodW5rLmxlbmd0aCAhPT0gMCkgYWRkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGZhbHNlKTtlbHNlIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWFkZFRvRnJvbnQpIHtcbiAgICAgIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmVlZE1vcmVEYXRhKHN0YXRlKTtcbn1cblxuZnVuY3Rpb24gYWRkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGFkZFRvRnJvbnQpIHtcbiAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgc3RhdGUubGVuZ3RoID09PSAwICYmICFzdGF0ZS5zeW5jKSB7XG4gICAgc3RyZWFtLmVtaXQoJ2RhdGEnLCBjaHVuayk7XG4gICAgc3RyZWFtLnJlYWQoMCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gdXBkYXRlIHRoZSBidWZmZXIgaW5mby5cbiAgICBzdGF0ZS5sZW5ndGggKz0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG4gICAgaWYgKGFkZFRvRnJvbnQpIHN0YXRlLmJ1ZmZlci51bnNoaWZ0KGNodW5rKTtlbHNlIHN0YXRlLmJ1ZmZlci5wdXNoKGNodW5rKTtcblxuICAgIGlmIChzdGF0ZS5uZWVkUmVhZGFibGUpIGVtaXRSZWFkYWJsZShzdHJlYW0pO1xuICB9XG4gIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSk7XG59XG5cbmZ1bmN0aW9uIGNodW5rSW52YWxpZChzdGF0ZSwgY2h1bmspIHtcbiAgdmFyIGVyO1xuICBpZiAoIV9pc1VpbnQ4QXJyYXkoY2h1bmspICYmIHR5cGVvZiBjaHVuayAhPT0gJ3N0cmluZycgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCAmJiAhc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGVyID0gbmV3IFR5cGVFcnJvcignSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVuaycpO1xuICB9XG4gIHJldHVybiBlcjtcbn1cblxuLy8gaWYgaXQncyBwYXN0IHRoZSBoaWdoIHdhdGVyIG1hcmssIHdlIGNhbiBwdXNoIGluIHNvbWUgbW9yZS5cbi8vIEFsc28sIGlmIHdlIGhhdmUgbm8gZGF0YSB5ZXQsIHdlIGNhbiBzdGFuZCBzb21lXG4vLyBtb3JlIGJ5dGVzLiAgVGhpcyBpcyB0byB3b3JrIGFyb3VuZCBjYXNlcyB3aGVyZSBod209MCxcbi8vIHN1Y2ggYXMgdGhlIHJlcGwuICBBbHNvLCBpZiB0aGUgcHVzaCgpIHRyaWdnZXJlZCBhXG4vLyByZWFkYWJsZSBldmVudCwgYW5kIHRoZSB1c2VyIGNhbGxlZCByZWFkKGxhcmdlTnVtYmVyKSBzdWNoIHRoYXRcbi8vIG5lZWRSZWFkYWJsZSB3YXMgc2V0LCB0aGVuIHdlIG91Z2h0IHRvIHB1c2ggbW9yZSwgc28gdGhhdCBhbm90aGVyXG4vLyAncmVhZGFibGUnIGV2ZW50IHdpbGwgYmUgdHJpZ2dlcmVkLlxuZnVuY3Rpb24gbmVlZE1vcmVEYXRhKHN0YXRlKSB7XG4gIHJldHVybiAhc3RhdGUuZW5kZWQgJiYgKHN0YXRlLm5lZWRSZWFkYWJsZSB8fCBzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmxlbmd0aCA9PT0gMCk7XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS5pc1BhdXNlZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyA9PT0gZmFsc2U7XG59O1xuXG4vLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cblJlYWRhYmxlLnByb3RvdHlwZS5zZXRFbmNvZGluZyA9IGZ1bmN0aW9uIChlbmMpIHtcbiAgaWYgKCFTdHJpbmdEZWNvZGVyKSBTdHJpbmdEZWNvZGVyID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXIvJykuU3RyaW5nRGVjb2RlcjtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIoZW5jKTtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZyA9IGVuYztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBEb24ndCByYWlzZSB0aGUgaHdtID4gOE1CXG52YXIgTUFYX0hXTSA9IDB4ODAwMDAwO1xuZnVuY3Rpb24gY29tcHV0ZU5ld0hpZ2hXYXRlck1hcmsobikge1xuICBpZiAobiA+PSBNQVhfSFdNKSB7XG4gICAgbiA9IE1BWF9IV007XG4gIH0gZWxzZSB7XG4gICAgLy8gR2V0IHRoZSBuZXh0IGhpZ2hlc3QgcG93ZXIgb2YgMiB0byBwcmV2ZW50IGluY3JlYXNpbmcgaHdtIGV4Y2Vzc2l2ZWx5IGluXG4gICAgLy8gdGlueSBhbW91bnRzXG4gICAgbi0tO1xuICAgIG4gfD0gbiA+Pj4gMTtcbiAgICBuIHw9IG4gPj4+IDI7XG4gICAgbiB8PSBuID4+PiA0O1xuICAgIG4gfD0gbiA+Pj4gODtcbiAgICBuIHw9IG4gPj4+IDE2O1xuICAgIG4rKztcbiAgfVxuICByZXR1cm4gbjtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKSB7XG4gIGlmIChuIDw9IDAgfHwgc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKSByZXR1cm4gMDtcbiAgaWYgKHN0YXRlLm9iamVjdE1vZGUpIHJldHVybiAxO1xuICBpZiAobiAhPT0gbikge1xuICAgIC8vIE9ubHkgZmxvdyBvbmUgYnVmZmVyIGF0IGEgdGltZVxuICAgIGlmIChzdGF0ZS5mbG93aW5nICYmIHN0YXRlLmxlbmd0aCkgcmV0dXJuIHN0YXRlLmJ1ZmZlci5oZWFkLmRhdGEubGVuZ3RoO2Vsc2UgcmV0dXJuIHN0YXRlLmxlbmd0aDtcbiAgfVxuICAvLyBJZiB3ZSdyZSBhc2tpbmcgZm9yIG1vcmUgdGhhbiB0aGUgY3VycmVudCBod20sIHRoZW4gcmFpc2UgdGhlIGh3bS5cbiAgaWYgKG4gPiBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSBzdGF0ZS5oaWdoV2F0ZXJNYXJrID0gY29tcHV0ZU5ld0hpZ2hXYXRlck1hcmsobik7XG4gIGlmIChuIDw9IHN0YXRlLmxlbmd0aCkgcmV0dXJuIG47XG4gIC8vIERvbid0IGhhdmUgZW5vdWdoXG4gIGlmICghc3RhdGUuZW5kZWQpIHtcbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgIHJldHVybiAwO1xuICB9XG4gIHJldHVybiBzdGF0ZS5sZW5ndGg7XG59XG5cbi8vIHlvdSBjYW4gb3ZlcnJpZGUgZWl0aGVyIHRoaXMgbWV0aG9kLCBvciB0aGUgYXN5bmMgX3JlYWQobikgYmVsb3cuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIGRlYnVnKCdyZWFkJywgbik7XG4gIG4gPSBwYXJzZUludChuLCAxMCk7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciBuT3JpZyA9IG47XG5cbiAgaWYgKG4gIT09IDApIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuXG4gIC8vIGlmIHdlJ3JlIGRvaW5nIHJlYWQoMCkgdG8gdHJpZ2dlciBhIHJlYWRhYmxlIGV2ZW50LCBidXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGEgYnVuY2ggb2YgZGF0YSBpbiB0aGUgYnVmZmVyLCB0aGVuIGp1c3QgdHJpZ2dlclxuICAvLyB0aGUgJ3JlYWRhYmxlJyBldmVudCBhbmQgbW92ZSBvbi5cbiAgaWYgKG4gPT09IDAgJiYgc3RhdGUubmVlZFJlYWRhYmxlICYmIChzdGF0ZS5sZW5ndGggPj0gc3RhdGUuaGlnaFdhdGVyTWFyayB8fCBzdGF0ZS5lbmRlZCkpIHtcbiAgICBkZWJ1ZygncmVhZDogZW1pdFJlYWRhYmxlJywgc3RhdGUubGVuZ3RoLCBzdGF0ZS5lbmRlZCk7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7ZWxzZSBlbWl0UmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBuID0gaG93TXVjaFRvUmVhZChuLCBzdGF0ZSk7XG5cbiAgLy8gaWYgd2UndmUgZW5kZWQsIGFuZCB3ZSdyZSBub3cgY2xlYXIsIHRoZW4gZmluaXNoIGl0IHVwLlxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkge1xuICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIGVuZFJlYWRhYmxlKHRoaXMpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gQWxsIHRoZSBhY3R1YWwgY2h1bmsgZ2VuZXJhdGlvbiBsb2dpYyBuZWVkcyB0byBiZVxuICAvLyAqYmVsb3cqIHRoZSBjYWxsIHRvIF9yZWFkLiAgVGhlIHJlYXNvbiBpcyB0aGF0IGluIGNlcnRhaW5cbiAgLy8gc3ludGhldGljIHN0cmVhbSBjYXNlcywgc3VjaCBhcyBwYXNzdGhyb3VnaCBzdHJlYW1zLCBfcmVhZFxuICAvLyBtYXkgYmUgYSBjb21wbGV0ZWx5IHN5bmNocm9ub3VzIG9wZXJhdGlvbiB3aGljaCBtYXkgY2hhbmdlXG4gIC8vIHRoZSBzdGF0ZSBvZiB0aGUgcmVhZCBidWZmZXIsIHByb3ZpZGluZyBlbm91Z2ggZGF0YSB3aGVuXG4gIC8vIGJlZm9yZSB0aGVyZSB3YXMgKm5vdCogZW5vdWdoLlxuICAvL1xuICAvLyBTbywgdGhlIHN0ZXBzIGFyZTpcbiAgLy8gMS4gRmlndXJlIG91dCB3aGF0IHRoZSBzdGF0ZSBvZiB0aGluZ3Mgd2lsbCBiZSBhZnRlciB3ZSBkb1xuICAvLyBhIHJlYWQgZnJvbSB0aGUgYnVmZmVyLlxuICAvL1xuICAvLyAyLiBJZiB0aGF0IHJlc3VsdGluZyBzdGF0ZSB3aWxsIHRyaWdnZXIgYSBfcmVhZCwgdGhlbiBjYWxsIF9yZWFkLlxuICAvLyBOb3RlIHRoYXQgdGhpcyBtYXkgYmUgYXN5bmNocm9ub3VzLCBvciBzeW5jaHJvbm91cy4gIFllcywgaXQgaXNcbiAgLy8gZGVlcGx5IHVnbHkgdG8gd3JpdGUgQVBJcyB0aGlzIHdheSwgYnV0IHRoYXQgc3RpbGwgZG9lc24ndCBtZWFuXG4gIC8vIHRoYXQgdGhlIFJlYWRhYmxlIGNsYXNzIHNob3VsZCBiZWhhdmUgaW1wcm9wZXJseSwgYXMgc3RyZWFtcyBhcmVcbiAgLy8gZGVzaWduZWQgdG8gYmUgc3luYy9hc3luYyBhZ25vc3RpYy5cbiAgLy8gVGFrZSBub3RlIGlmIHRoZSBfcmVhZCBjYWxsIGlzIHN5bmMgb3IgYXN5bmMgKGllLCBpZiB0aGUgcmVhZCBjYWxsXG4gIC8vIGhhcyByZXR1cm5lZCB5ZXQpLCBzbyB0aGF0IHdlIGtub3cgd2hldGhlciBvciBub3QgaXQncyBzYWZlIHRvIGVtaXRcbiAgLy8gJ3JlYWRhYmxlJyBldGMuXG4gIC8vXG4gIC8vIDMuIEFjdHVhbGx5IHB1bGwgdGhlIHJlcXVlc3RlZCBjaHVua3Mgb3V0IG9mIHRoZSBidWZmZXIgYW5kIHJldHVybi5cblxuICAvLyBpZiB3ZSBuZWVkIGEgcmVhZGFibGUgZXZlbnQsIHRoZW4gd2UgbmVlZCB0byBkbyBzb21lIHJlYWRpbmcuXG4gIHZhciBkb1JlYWQgPSBzdGF0ZS5uZWVkUmVhZGFibGU7XG4gIGRlYnVnKCduZWVkIHJlYWRhYmxlJywgZG9SZWFkKTtcblxuICAvLyBpZiB3ZSBjdXJyZW50bHkgaGF2ZSBsZXNzIHRoYW4gdGhlIGhpZ2hXYXRlck1hcmssIHRoZW4gYWxzbyByZWFkIHNvbWVcbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCB8fCBzdGF0ZS5sZW5ndGggLSBuIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykge1xuICAgIGRvUmVhZCA9IHRydWU7XG4gICAgZGVidWcoJ2xlbmd0aCBsZXNzIHRoYW4gd2F0ZXJtYXJrJywgZG9SZWFkKTtcbiAgfVxuXG4gIC8vIGhvd2V2ZXIsIGlmIHdlJ3ZlIGVuZGVkLCB0aGVuIHRoZXJlJ3Mgbm8gcG9pbnQsIGFuZCBpZiB3ZSdyZSBhbHJlYWR5XG4gIC8vIHJlYWRpbmcsIHRoZW4gaXQncyB1bm5lY2Vzc2FyeS5cbiAgaWYgKHN0YXRlLmVuZGVkIHx8IHN0YXRlLnJlYWRpbmcpIHtcbiAgICBkb1JlYWQgPSBmYWxzZTtcbiAgICBkZWJ1ZygncmVhZGluZyBvciBlbmRlZCcsIGRvUmVhZCk7XG4gIH0gZWxzZSBpZiAoZG9SZWFkKSB7XG4gICAgZGVidWcoJ2RvIHJlYWQnKTtcbiAgICBzdGF0ZS5yZWFkaW5nID0gdHJ1ZTtcbiAgICBzdGF0ZS5zeW5jID0gdHJ1ZTtcbiAgICAvLyBpZiB0aGUgbGVuZ3RoIGlzIGN1cnJlbnRseSB6ZXJvLCB0aGVuIHdlICpuZWVkKiBhIHJlYWRhYmxlIGV2ZW50LlxuICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgLy8gY2FsbCBpbnRlcm5hbCByZWFkIG1ldGhvZFxuICAgIHRoaXMuX3JlYWQoc3RhdGUuaGlnaFdhdGVyTWFyayk7XG4gICAgc3RhdGUuc3luYyA9IGZhbHNlO1xuICAgIC8vIElmIF9yZWFkIHB1c2hlZCBkYXRhIHN5bmNocm9ub3VzbHksIHRoZW4gYHJlYWRpbmdgIHdpbGwgYmUgZmFsc2UsXG4gICAgLy8gYW5kIHdlIG5lZWQgdG8gcmUtZXZhbHVhdGUgaG93IG11Y2ggZGF0YSB3ZSBjYW4gcmV0dXJuIHRvIHRoZSB1c2VyLlxuICAgIGlmICghc3RhdGUucmVhZGluZykgbiA9IGhvd011Y2hUb1JlYWQobk9yaWcsIHN0YXRlKTtcbiAgfVxuXG4gIHZhciByZXQ7XG4gIGlmIChuID4gMCkgcmV0ID0gZnJvbUxpc3Qobiwgc3RhdGUpO2Vsc2UgcmV0ID0gbnVsbDtcblxuICBpZiAocmV0ID09PSBudWxsKSB7XG4gICAgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICBuID0gMDtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS5sZW5ndGggLT0gbjtcbiAgfVxuXG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHtcbiAgICAvLyBJZiB3ZSBoYXZlIG5vdGhpbmcgaW4gdGhlIGJ1ZmZlciwgdGhlbiB3ZSB3YW50IHRvIGtub3dcbiAgICAvLyBhcyBzb29uIGFzIHdlICpkbyogZ2V0IHNvbWV0aGluZyBpbnRvIHRoZSBidWZmZXIuXG4gICAgaWYgKCFzdGF0ZS5lbmRlZCkgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcblxuICAgIC8vIElmIHdlIHRyaWVkIHRvIHJlYWQoKSBwYXN0IHRoZSBFT0YsIHRoZW4gZW1pdCBlbmQgb24gdGhlIG5leHQgdGljay5cbiAgICBpZiAobk9yaWcgIT09IG4gJiYgc3RhdGUuZW5kZWQpIGVuZFJlYWRhYmxlKHRoaXMpO1xuICB9XG5cbiAgaWYgKHJldCAhPT0gbnVsbCkgdGhpcy5lbWl0KCdkYXRhJywgcmV0KTtcblxuICByZXR1cm4gcmV0O1xufTtcblxuZnVuY3Rpb24gb25Fb2ZDaHVuayhzdHJlYW0sIHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5lbmRlZCkgcmV0dXJuO1xuICBpZiAoc3RhdGUuZGVjb2Rlcikge1xuICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7XG4gICAgaWYgKGNodW5rICYmIGNodW5rLmxlbmd0aCkge1xuICAgICAgc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspO1xuICAgICAgc3RhdGUubGVuZ3RoICs9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuICAgIH1cbiAgfVxuICBzdGF0ZS5lbmRlZCA9IHRydWU7XG5cbiAgLy8gZW1pdCAncmVhZGFibGUnIG5vdyB0byBtYWtlIHN1cmUgaXQgZ2V0cyBwaWNrZWQgdXAuXG4gIGVtaXRSZWFkYWJsZShzdHJlYW0pO1xufVxuXG4vLyBEb24ndCBlbWl0IHJlYWRhYmxlIHJpZ2h0IGF3YXkgaW4gc3luYyBtb2RlLCBiZWNhdXNlIHRoaXMgY2FuIHRyaWdnZXJcbi8vIGFub3RoZXIgcmVhZCgpIGNhbGwgPT4gc3RhY2sgb3ZlcmZsb3cuICBUaGlzIHdheSwgaXQgbWlnaHQgdHJpZ2dlclxuLy8gYSBuZXh0VGljayByZWN1cnNpb24gd2FybmluZywgYnV0IHRoYXQncyBub3Qgc28gYmFkLlxuZnVuY3Rpb24gZW1pdFJlYWRhYmxlKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIHN0YXRlLm5lZWRSZWFkYWJsZSA9IGZhbHNlO1xuICBpZiAoIXN0YXRlLmVtaXR0ZWRSZWFkYWJsZSkge1xuICAgIGRlYnVnKCdlbWl0UmVhZGFibGUnLCBzdGF0ZS5mbG93aW5nKTtcbiAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSB0cnVlO1xuICAgIGlmIChzdGF0ZS5zeW5jKSBwbmEubmV4dFRpY2soZW1pdFJlYWRhYmxlXywgc3RyZWFtKTtlbHNlIGVtaXRSZWFkYWJsZV8oc3RyZWFtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0UmVhZGFibGVfKHN0cmVhbSkge1xuICBkZWJ1ZygnZW1pdCByZWFkYWJsZScpO1xuICBzdHJlYW0uZW1pdCgncmVhZGFibGUnKTtcbiAgZmxvdyhzdHJlYW0pO1xufVxuXG4vLyBhdCB0aGlzIHBvaW50LCB0aGUgdXNlciBoYXMgcHJlc3VtYWJseSBzZWVuIHRoZSAncmVhZGFibGUnIGV2ZW50LFxuLy8gYW5kIGNhbGxlZCByZWFkKCkgdG8gY29uc3VtZSBzb21lIGRhdGEuICB0aGF0IG1heSBoYXZlIHRyaWdnZXJlZFxuLy8gaW4gdHVybiBhbm90aGVyIF9yZWFkKG4pIGNhbGwsIGluIHdoaWNoIGNhc2UgcmVhZGluZyA9IHRydWUgaWZcbi8vIGl0J3MgaW4gcHJvZ3Jlc3MuXG4vLyBIb3dldmVyLCBpZiB3ZSdyZSBub3QgZW5kZWQsIG9yIHJlYWRpbmcsIGFuZCB0aGUgbGVuZ3RoIDwgaHdtLFxuLy8gdGhlbiBnbyBhaGVhZCBhbmQgdHJ5IHRvIHJlYWQgc29tZSBtb3JlIHByZWVtcHRpdmVseS5cbmZ1bmN0aW9uIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnJlYWRpbmdNb3JlKSB7XG4gICAgc3RhdGUucmVhZGluZ01vcmUgPSB0cnVlO1xuICAgIHBuYS5uZXh0VGljayhtYXliZVJlYWRNb3JlXywgc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWF5YmVSZWFkTW9yZV8oc3RyZWFtLCBzdGF0ZSkge1xuICB2YXIgbGVuID0gc3RhdGUubGVuZ3RoO1xuICB3aGlsZSAoIXN0YXRlLnJlYWRpbmcgJiYgIXN0YXRlLmZsb3dpbmcgJiYgIXN0YXRlLmVuZGVkICYmIHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcmspIHtcbiAgICBkZWJ1ZygnbWF5YmVSZWFkTW9yZSByZWFkIDAnKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgICBpZiAobGVuID09PSBzdGF0ZS5sZW5ndGgpXG4gICAgICAvLyBkaWRuJ3QgZ2V0IGFueSBkYXRhLCBzdG9wIHNwaW5uaW5nLlxuICAgICAgYnJlYWs7ZWxzZSBsZW4gPSBzdGF0ZS5sZW5ndGg7XG4gIH1cbiAgc3RhdGUucmVhZGluZ01vcmUgPSBmYWxzZTtcbn1cblxuLy8gYWJzdHJhY3QgbWV0aG9kLiAgdG8gYmUgb3ZlcnJpZGRlbiBpbiBzcGVjaWZpYyBpbXBsZW1lbnRhdGlvbiBjbGFzc2VzLlxuLy8gY2FsbCBjYihlciwgZGF0YSkgd2hlcmUgZGF0YSBpcyA8PSBuIGluIGxlbmd0aC5cbi8vIGZvciB2aXJ0dWFsIChub24tc3RyaW5nLCBub24tYnVmZmVyKSBzdHJlYW1zLCBcImxlbmd0aFwiIGlzIHNvbWV3aGF0XG4vLyBhcmJpdHJhcnksIGFuZCBwZXJoYXBzIG5vdCB2ZXJ5IG1lYW5pbmdmdWwuXG5SZWFkYWJsZS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdfcmVhZCgpIGlzIG5vdCBpbXBsZW1lbnRlZCcpKTtcbn07XG5cblJlYWRhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKGRlc3QsIHBpcGVPcHRzKSB7XG4gIHZhciBzcmMgPSB0aGlzO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIHN3aXRjaCAoc3RhdGUucGlwZXNDb3VudCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHN0YXRlLnBpcGVzID0gZGVzdDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMTpcbiAgICAgIHN0YXRlLnBpcGVzID0gW3N0YXRlLnBpcGVzLCBkZXN0XTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBzdGF0ZS5waXBlcy5wdXNoKGRlc3QpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgc3RhdGUucGlwZXNDb3VudCArPSAxO1xuICBkZWJ1ZygncGlwZSBjb3VudD0lZCBvcHRzPSVqJywgc3RhdGUucGlwZXNDb3VudCwgcGlwZU9wdHMpO1xuXG4gIHZhciBkb0VuZCA9ICghcGlwZU9wdHMgfHwgcGlwZU9wdHMuZW5kICE9PSBmYWxzZSkgJiYgZGVzdCAhPT0gcHJvY2Vzcy5zdGRvdXQgJiYgZGVzdCAhPT0gcHJvY2Vzcy5zdGRlcnI7XG5cbiAgdmFyIGVuZEZuID0gZG9FbmQgPyBvbmVuZCA6IHVucGlwZTtcbiAgaWYgKHN0YXRlLmVuZEVtaXR0ZWQpIHBuYS5uZXh0VGljayhlbmRGbik7ZWxzZSBzcmMub25jZSgnZW5kJywgZW5kRm4pO1xuXG4gIGRlc3Qub24oJ3VucGlwZScsIG9udW5waXBlKTtcbiAgZnVuY3Rpb24gb251bnBpcGUocmVhZGFibGUsIHVucGlwZUluZm8pIHtcbiAgICBkZWJ1Zygnb251bnBpcGUnKTtcbiAgICBpZiAocmVhZGFibGUgPT09IHNyYykge1xuICAgICAgaWYgKHVucGlwZUluZm8gJiYgdW5waXBlSW5mby5oYXNVbnBpcGVkID09PSBmYWxzZSkge1xuICAgICAgICB1bnBpcGVJbmZvLmhhc1VucGlwZWQgPSB0cnVlO1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25lbmQoKSB7XG4gICAgZGVidWcoJ29uZW5kJyk7XG4gICAgZGVzdC5lbmQoKTtcbiAgfVxuXG4gIC8vIHdoZW4gdGhlIGRlc3QgZHJhaW5zLCBpdCByZWR1Y2VzIHRoZSBhd2FpdERyYWluIGNvdW50ZXJcbiAgLy8gb24gdGhlIHNvdXJjZS4gIFRoaXMgd291bGQgYmUgbW9yZSBlbGVnYW50IHdpdGggYSAub25jZSgpXG4gIC8vIGhhbmRsZXIgaW4gZmxvdygpLCBidXQgYWRkaW5nIGFuZCByZW1vdmluZyByZXBlYXRlZGx5IGlzXG4gIC8vIHRvbyBzbG93LlxuICB2YXIgb25kcmFpbiA9IHBpcGVPbkRyYWluKHNyYyk7XG4gIGRlc3Qub24oJ2RyYWluJywgb25kcmFpbik7XG5cbiAgdmFyIGNsZWFuZWRVcCA9IGZhbHNlO1xuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIGRlYnVnKCdjbGVhbnVwJyk7XG4gICAgLy8gY2xlYW51cCBldmVudCBoYW5kbGVycyBvbmNlIHRoZSBwaXBlIGlzIGJyb2tlblxuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25jbG9zZSk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2RyYWluJywgb25kcmFpbik7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCd1bnBpcGUnLCBvbnVucGlwZSk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCB1bnBpcGUpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZGF0YScsIG9uZGF0YSk7XG5cbiAgICBjbGVhbmVkVXAgPSB0cnVlO1xuXG4gICAgLy8gaWYgdGhlIHJlYWRlciBpcyB3YWl0aW5nIGZvciBhIGRyYWluIGV2ZW50IGZyb20gdGhpc1xuICAgIC8vIHNwZWNpZmljIHdyaXRlciwgdGhlbiBpdCB3b3VsZCBjYXVzZSBpdCB0byBuZXZlciBzdGFydFxuICAgIC8vIGZsb3dpbmcgYWdhaW4uXG4gICAgLy8gU28sIGlmIHRoaXMgaXMgYXdhaXRpbmcgYSBkcmFpbiwgdGhlbiB3ZSBqdXN0IGNhbGwgaXQgbm93LlxuICAgIC8vIElmIHdlIGRvbid0IGtub3csIHRoZW4gYXNzdW1lIHRoYXQgd2UgYXJlIHdhaXRpbmcgZm9yIG9uZS5cbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiAmJiAoIWRlc3QuX3dyaXRhYmxlU3RhdGUgfHwgZGVzdC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pKSBvbmRyYWluKCk7XG4gIH1cblxuICAvLyBJZiB0aGUgdXNlciBwdXNoZXMgbW9yZSBkYXRhIHdoaWxlIHdlJ3JlIHdyaXRpbmcgdG8gZGVzdCB0aGVuIHdlJ2xsIGVuZCB1cFxuICAvLyBpbiBvbmRhdGEgYWdhaW4uIEhvd2V2ZXIsIHdlIG9ubHkgd2FudCB0byBpbmNyZWFzZSBhd2FpdERyYWluIG9uY2UgYmVjYXVzZVxuICAvLyBkZXN0IHdpbGwgb25seSBlbWl0IG9uZSAnZHJhaW4nIGV2ZW50IGZvciB0aGUgbXVsdGlwbGUgd3JpdGVzLlxuICAvLyA9PiBJbnRyb2R1Y2UgYSBndWFyZCBvbiBpbmNyZWFzaW5nIGF3YWl0RHJhaW4uXG4gIHZhciBpbmNyZWFzZWRBd2FpdERyYWluID0gZmFsc2U7XG4gIHNyYy5vbignZGF0YScsIG9uZGF0YSk7XG4gIGZ1bmN0aW9uIG9uZGF0YShjaHVuaykge1xuICAgIGRlYnVnKCdvbmRhdGEnKTtcbiAgICBpbmNyZWFzZWRBd2FpdERyYWluID0gZmFsc2U7XG4gICAgdmFyIHJldCA9IGRlc3Qud3JpdGUoY2h1bmspO1xuICAgIGlmIChmYWxzZSA9PT0gcmV0ICYmICFpbmNyZWFzZWRBd2FpdERyYWluKSB7XG4gICAgICAvLyBJZiB0aGUgdXNlciB1bnBpcGVkIGR1cmluZyBgZGVzdC53cml0ZSgpYCwgaXQgaXMgcG9zc2libGVcbiAgICAgIC8vIHRvIGdldCBzdHVjayBpbiBhIHBlcm1hbmVudGx5IHBhdXNlZCBzdGF0ZSBpZiB0aGF0IHdyaXRlXG4gICAgICAvLyBhbHNvIHJldHVybmVkIGZhbHNlLlxuICAgICAgLy8gPT4gQ2hlY2sgd2hldGhlciBgZGVzdGAgaXMgc3RpbGwgYSBwaXBpbmcgZGVzdGluYXRpb24uXG4gICAgICBpZiAoKHN0YXRlLnBpcGVzQ291bnQgPT09IDEgJiYgc3RhdGUucGlwZXMgPT09IGRlc3QgfHwgc3RhdGUucGlwZXNDb3VudCA+IDEgJiYgaW5kZXhPZihzdGF0ZS5waXBlcywgZGVzdCkgIT09IC0xKSAmJiAhY2xlYW5lZFVwKSB7XG4gICAgICAgIGRlYnVnKCdmYWxzZSB3cml0ZSByZXNwb25zZSwgcGF1c2UnLCBzcmMuX3JlYWRhYmxlU3RhdGUuYXdhaXREcmFpbik7XG4gICAgICAgIHNyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKys7XG4gICAgICAgIGluY3JlYXNlZEF3YWl0RHJhaW4gPSB0cnVlO1xuICAgICAgfVxuICAgICAgc3JjLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIGRlc3QgaGFzIGFuIGVycm9yLCB0aGVuIHN0b3AgcGlwaW5nIGludG8gaXQuXG4gIC8vIGhvd2V2ZXIsIGRvbid0IHN1cHByZXNzIHRoZSB0aHJvd2luZyBiZWhhdmlvciBmb3IgdGhpcy5cbiAgZnVuY3Rpb24gb25lcnJvcihlcikge1xuICAgIGRlYnVnKCdvbmVycm9yJywgZXIpO1xuICAgIHVucGlwZSgpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgaWYgKEVFbGlzdGVuZXJDb3VudChkZXN0LCAnZXJyb3InKSA9PT0gMCkgZGVzdC5lbWl0KCdlcnJvcicsIGVyKTtcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgdXNlcmxhbmQgb25lcy5cbiAgcHJlcGVuZExpc3RlbmVyKGRlc3QsICdlcnJvcicsIG9uZXJyb3IpO1xuXG4gIC8vIEJvdGggY2xvc2UgYW5kIGZpbmlzaCBzaG91bGQgdHJpZ2dlciB1bnBpcGUsIGJ1dCBvbmx5IG9uY2UuXG4gIGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpO1xuICAgIHVucGlwZSgpO1xuICB9XG4gIGRlc3Qub25jZSgnY2xvc2UnLCBvbmNsb3NlKTtcbiAgZnVuY3Rpb24gb25maW5pc2goKSB7XG4gICAgZGVidWcoJ29uZmluaXNoJyk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcbiAgICB1bnBpcGUoKTtcbiAgfVxuICBkZXN0Lm9uY2UoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcblxuICBmdW5jdGlvbiB1bnBpcGUoKSB7XG4gICAgZGVidWcoJ3VucGlwZScpO1xuICAgIHNyYy51bnBpcGUoZGVzdCk7XG4gIH1cblxuICAvLyB0ZWxsIHRoZSBkZXN0IHRoYXQgaXQncyBiZWluZyBwaXBlZCB0b1xuICBkZXN0LmVtaXQoJ3BpcGUnLCBzcmMpO1xuXG4gIC8vIHN0YXJ0IHRoZSBmbG93IGlmIGl0IGhhc24ndCBiZWVuIHN0YXJ0ZWQgYWxyZWFkeS5cbiAgaWYgKCFzdGF0ZS5mbG93aW5nKSB7XG4gICAgZGVidWcoJ3BpcGUgcmVzdW1lJyk7XG4gICAgc3JjLnJlc3VtZSgpO1xuICB9XG5cbiAgcmV0dXJuIGRlc3Q7XG59O1xuXG5mdW5jdGlvbiBwaXBlT25EcmFpbihzcmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhdGUgPSBzcmMuX3JlYWRhYmxlU3RhdGU7XG4gICAgZGVidWcoJ3BpcGVPbkRyYWluJywgc3RhdGUuYXdhaXREcmFpbik7XG4gICAgaWYgKHN0YXRlLmF3YWl0RHJhaW4pIHN0YXRlLmF3YWl0RHJhaW4tLTtcbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiA9PT0gMCAmJiBFRWxpc3RlbmVyQ291bnQoc3JjLCAnZGF0YScpKSB7XG4gICAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcbiAgICAgIGZsb3coc3JjKTtcbiAgICB9XG4gIH07XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS51bnBpcGUgPSBmdW5jdGlvbiAoZGVzdCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgdW5waXBlSW5mbyA9IHsgaGFzVW5waXBlZDogZmFsc2UgfTtcblxuICAvLyBpZiB3ZSdyZSBub3QgcGlwaW5nIGFueXdoZXJlLCB0aGVuIGRvIG5vdGhpbmcuXG4gIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAwKSByZXR1cm4gdGhpcztcblxuICAvLyBqdXN0IG9uZSBkZXN0aW5hdGlvbi4gIG1vc3QgY29tbW9uIGNhc2UuXG4gIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAxKSB7XG4gICAgLy8gcGFzc2VkIGluIG9uZSwgYnV0IGl0J3Mgbm90IHRoZSByaWdodCBvbmUuXG4gICAgaWYgKGRlc3QgJiYgZGVzdCAhPT0gc3RhdGUucGlwZXMpIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKCFkZXN0KSBkZXN0ID0gc3RhdGUucGlwZXM7XG5cbiAgICAvLyBnb3QgYSBtYXRjaC5cbiAgICBzdGF0ZS5waXBlcyA9IG51bGw7XG4gICAgc3RhdGUucGlwZXNDb3VudCA9IDA7XG4gICAgc3RhdGUuZmxvd2luZyA9IGZhbHNlO1xuICAgIGlmIChkZXN0KSBkZXN0LmVtaXQoJ3VucGlwZScsIHRoaXMsIHVucGlwZUluZm8pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gc2xvdyBjYXNlLiBtdWx0aXBsZSBwaXBlIGRlc3RpbmF0aW9ucy5cblxuICBpZiAoIWRlc3QpIHtcbiAgICAvLyByZW1vdmUgYWxsLlxuICAgIHZhciBkZXN0cyA9IHN0YXRlLnBpcGVzO1xuICAgIHZhciBsZW4gPSBzdGF0ZS5waXBlc0NvdW50O1xuICAgIHN0YXRlLnBpcGVzID0gbnVsbDtcbiAgICBzdGF0ZS5waXBlc0NvdW50ID0gMDtcbiAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBkZXN0c1tpXS5lbWl0KCd1bnBpcGUnLCB0aGlzLCB1bnBpcGVJbmZvKTtcbiAgICB9cmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyB0cnkgdG8gZmluZCB0aGUgcmlnaHQgb25lLlxuICB2YXIgaW5kZXggPSBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KTtcbiAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIHRoaXM7XG5cbiAgc3RhdGUucGlwZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgc3RhdGUucGlwZXNDb3VudCAtPSAxO1xuICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMSkgc3RhdGUucGlwZXMgPSBzdGF0ZS5waXBlc1swXTtcblxuICBkZXN0LmVtaXQoJ3VucGlwZScsIHRoaXMsIHVucGlwZUluZm8pO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gc2V0IHVwIGRhdGEgZXZlbnRzIGlmIHRoZXkgYXJlIGFza2VkIGZvclxuLy8gRW5zdXJlIHJlYWRhYmxlIGxpc3RlbmVycyBldmVudHVhbGx5IGdldCBzb21ldGhpbmdcblJlYWRhYmxlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldiwgZm4pIHtcbiAgdmFyIHJlcyA9IFN0cmVhbS5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBldiwgZm4pO1xuXG4gIGlmIChldiA9PT0gJ2RhdGEnKSB7XG4gICAgLy8gU3RhcnQgZmxvd2luZyBvbiBuZXh0IHRpY2sgaWYgc3RyZWFtIGlzbid0IGV4cGxpY2l0bHkgcGF1c2VkXG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyAhPT0gZmFsc2UpIHRoaXMucmVzdW1lKCk7XG4gIH0gZWxzZSBpZiAoZXYgPT09ICdyZWFkYWJsZScpIHtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICAgIGlmICghc3RhdGUuZW5kRW1pdHRlZCAmJiAhc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcpIHtcbiAgICAgIHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nID0gc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICAgICAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgICAgIHBuYS5uZXh0VGljayhuUmVhZGluZ05leHRUaWNrLCB0aGlzKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUubGVuZ3RoKSB7XG4gICAgICAgIGVtaXRSZWFkYWJsZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufTtcblJlYWRhYmxlLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IFJlYWRhYmxlLnByb3RvdHlwZS5vbjtcblxuZnVuY3Rpb24gblJlYWRpbmdOZXh0VGljayhzZWxmKSB7XG4gIGRlYnVnKCdyZWFkYWJsZSBuZXh0dGljayByZWFkIDAnKTtcbiAgc2VsZi5yZWFkKDApO1xufVxuXG4vLyBwYXVzZSgpIGFuZCByZXN1bWUoKSBhcmUgcmVtbmFudHMgb2YgdGhlIGxlZ2FjeSByZWFkYWJsZSBzdHJlYW0gQVBJXG4vLyBJZiB0aGUgdXNlciB1c2VzIHRoZW0sIHRoZW4gc3dpdGNoIGludG8gb2xkIG1vZGUuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVzdW1lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICBpZiAoIXN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncmVzdW1lJyk7XG4gICAgc3RhdGUuZmxvd2luZyA9IHRydWU7XG4gICAgcmVzdW1lKHRoaXMsIHN0YXRlKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIHJlc3VtZShzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucmVzdW1lU2NoZWR1bGVkKSB7XG4gICAgc3RhdGUucmVzdW1lU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBwbmEubmV4dFRpY2socmVzdW1lXywgc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzdW1lXyhzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucmVhZGluZykge1xuICAgIGRlYnVnKCdyZXN1bWUgcmVhZCAwJyk7XG4gICAgc3RyZWFtLnJlYWQoMCk7XG4gIH1cblxuICBzdGF0ZS5yZXN1bWVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgc3RhdGUuYXdhaXREcmFpbiA9IDA7XG4gIHN0cmVhbS5lbWl0KCdyZXN1bWUnKTtcbiAgZmxvdyhzdHJlYW0pO1xuICBpZiAoc3RhdGUuZmxvd2luZyAmJiAhc3RhdGUucmVhZGluZykgc3RyZWFtLnJlYWQoMCk7XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcbiAgZGVidWcoJ2NhbGwgcGF1c2UgZmxvd2luZz0laicsIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyk7XG4gIGlmIChmYWxzZSAhPT0gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKSB7XG4gICAgZGVidWcoJ3BhdXNlJyk7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgdGhpcy5lbWl0KCdwYXVzZScpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gZmxvdyhzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBkZWJ1ZygnZmxvdycsIHN0YXRlLmZsb3dpbmcpO1xuICB3aGlsZSAoc3RhdGUuZmxvd2luZyAmJiBzdHJlYW0ucmVhZCgpICE9PSBudWxsKSB7fVxufVxuXG4vLyB3cmFwIGFuIG9sZC1zdHlsZSBzdHJlYW0gYXMgdGhlIGFzeW5jIGRhdGEgc291cmNlLlxuLy8gVGhpcyBpcyAqbm90KiBwYXJ0IG9mIHRoZSByZWFkYWJsZSBzdHJlYW0gaW50ZXJmYWNlLlxuLy8gSXQgaXMgYW4gdWdseSB1bmZvcnR1bmF0ZSBtZXNzIG9mIGhpc3RvcnkuXG5SZWFkYWJsZS5wcm90b3R5cGUud3JhcCA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgcGF1c2VkID0gZmFsc2U7XG5cbiAgc3RyZWFtLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgZW5kJyk7XG4gICAgaWYgKHN0YXRlLmRlY29kZXIgJiYgIXN0YXRlLmVuZGVkKSB7XG4gICAgICB2YXIgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLmVuZCgpO1xuICAgICAgaWYgKGNodW5rICYmIGNodW5rLmxlbmd0aCkgX3RoaXMucHVzaChjaHVuayk7XG4gICAgfVxuXG4gICAgX3RoaXMucHVzaChudWxsKTtcbiAgfSk7XG5cbiAgc3RyZWFtLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgZGF0YScpO1xuICAgIGlmIChzdGF0ZS5kZWNvZGVyKSBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspO1xuXG4gICAgLy8gZG9uJ3Qgc2tpcCBvdmVyIGZhbHN5IHZhbHVlcyBpbiBvYmplY3RNb2RlXG4gICAgaWYgKHN0YXRlLm9iamVjdE1vZGUgJiYgKGNodW5rID09PSBudWxsIHx8IGNodW5rID09PSB1bmRlZmluZWQpKSByZXR1cm47ZWxzZSBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgKCFjaHVuayB8fCAhY2h1bmsubGVuZ3RoKSkgcmV0dXJuO1xuXG4gICAgdmFyIHJldCA9IF90aGlzLnB1c2goY2h1bmspO1xuICAgIGlmICghcmV0KSB7XG4gICAgICBwYXVzZWQgPSB0cnVlO1xuICAgICAgc3RyZWFtLnBhdXNlKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBwcm94eSBhbGwgdGhlIG90aGVyIG1ldGhvZHMuXG4gIC8vIGltcG9ydGFudCB3aGVuIHdyYXBwaW5nIGZpbHRlcnMgYW5kIGR1cGxleGVzLlxuICBmb3IgKHZhciBpIGluIHN0cmVhbSkge1xuICAgIGlmICh0aGlzW2ldID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHN0cmVhbVtpXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpc1tpXSA9IGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc3RyZWFtW21ldGhvZF0uYXBwbHkoc3RyZWFtLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgfShpKTtcbiAgICB9XG4gIH1cblxuICAvLyBwcm94eSBjZXJ0YWluIGltcG9ydGFudCBldmVudHMuXG4gIGZvciAodmFyIG4gPSAwOyBuIDwga1Byb3h5RXZlbnRzLmxlbmd0aDsgbisrKSB7XG4gICAgc3RyZWFtLm9uKGtQcm94eUV2ZW50c1tuXSwgdGhpcy5lbWl0LmJpbmQodGhpcywga1Byb3h5RXZlbnRzW25dKSk7XG4gIH1cblxuICAvLyB3aGVuIHdlIHRyeSB0byBjb25zdW1lIHNvbWUgbW9yZSBieXRlcywgc2ltcGx5IHVucGF1c2UgdGhlXG4gIC8vIHVuZGVybHlpbmcgc3RyZWFtLlxuICB0aGlzLl9yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBfcmVhZCcsIG4pO1xuICAgIGlmIChwYXVzZWQpIHtcbiAgICAgIHBhdXNlZCA9IGZhbHNlO1xuICAgICAgc3RyZWFtLnJlc3VtZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsICdyZWFkYWJsZUhpZ2hXYXRlck1hcmsnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIH1cbn0pO1xuXG4vLyBleHBvc2VkIGZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkuXG5SZWFkYWJsZS5fZnJvbUxpc3QgPSBmcm9tTGlzdDtcblxuLy8gUGx1Y2sgb2ZmIG4gYnl0ZXMgZnJvbSBhbiBhcnJheSBvZiBidWZmZXJzLlxuLy8gTGVuZ3RoIGlzIHRoZSBjb21iaW5lZCBsZW5ndGhzIG9mIGFsbCB0aGUgYnVmZmVycyBpbiB0aGUgbGlzdC5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gZnJvbUxpc3Qobiwgc3RhdGUpIHtcbiAgLy8gbm90aGluZyBidWZmZXJlZFxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICB2YXIgcmV0O1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0ID0gc3RhdGUuYnVmZmVyLnNoaWZ0KCk7ZWxzZSBpZiAoIW4gfHwgbiA+PSBzdGF0ZS5sZW5ndGgpIHtcbiAgICAvLyByZWFkIGl0IGFsbCwgdHJ1bmNhdGUgdGhlIGxpc3RcbiAgICBpZiAoc3RhdGUuZGVjb2RlcikgcmV0ID0gc3RhdGUuYnVmZmVyLmpvaW4oJycpO2Vsc2UgaWYgKHN0YXRlLmJ1ZmZlci5sZW5ndGggPT09IDEpIHJldCA9IHN0YXRlLmJ1ZmZlci5oZWFkLmRhdGE7ZWxzZSByZXQgPSBzdGF0ZS5idWZmZXIuY29uY2F0KHN0YXRlLmxlbmd0aCk7XG4gICAgc3RhdGUuYnVmZmVyLmNsZWFyKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcmVhZCBwYXJ0IG9mIGxpc3RcbiAgICByZXQgPSBmcm9tTGlzdFBhcnRpYWwobiwgc3RhdGUuYnVmZmVyLCBzdGF0ZS5kZWNvZGVyKTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbi8vIEV4dHJhY3RzIG9ubHkgZW5vdWdoIGJ1ZmZlcmVkIGRhdGEgdG8gc2F0aXNmeSB0aGUgYW1vdW50IHJlcXVlc3RlZC5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gZnJvbUxpc3RQYXJ0aWFsKG4sIGxpc3QsIGhhc1N0cmluZ3MpIHtcbiAgdmFyIHJldDtcbiAgaWYgKG4gPCBsaXN0LmhlYWQuZGF0YS5sZW5ndGgpIHtcbiAgICAvLyBzbGljZSBpcyB0aGUgc2FtZSBmb3IgYnVmZmVycyBhbmQgc3RyaW5nc1xuICAgIHJldCA9IGxpc3QuaGVhZC5kYXRhLnNsaWNlKDAsIG4pO1xuICAgIGxpc3QuaGVhZC5kYXRhID0gbGlzdC5oZWFkLmRhdGEuc2xpY2Uobik7XG4gIH0gZWxzZSBpZiAobiA9PT0gbGlzdC5oZWFkLmRhdGEubGVuZ3RoKSB7XG4gICAgLy8gZmlyc3QgY2h1bmsgaXMgYSBwZXJmZWN0IG1hdGNoXG4gICAgcmV0ID0gbGlzdC5zaGlmdCgpO1xuICB9IGVsc2Uge1xuICAgIC8vIHJlc3VsdCBzcGFucyBtb3JlIHRoYW4gb25lIGJ1ZmZlclxuICAgIHJldCA9IGhhc1N0cmluZ3MgPyBjb3B5RnJvbUJ1ZmZlclN0cmluZyhuLCBsaXN0KSA6IGNvcHlGcm9tQnVmZmVyKG4sIGxpc3QpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbi8vIENvcGllcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgY2hhcmFjdGVycyBmcm9tIHRoZSBsaXN0IG9mIGJ1ZmZlcmVkIGRhdGFcbi8vIGNodW5rcy5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gY29weUZyb21CdWZmZXJTdHJpbmcobiwgbGlzdCkge1xuICB2YXIgcCA9IGxpc3QuaGVhZDtcbiAgdmFyIGMgPSAxO1xuICB2YXIgcmV0ID0gcC5kYXRhO1xuICBuIC09IHJldC5sZW5ndGg7XG4gIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgdmFyIHN0ciA9IHAuZGF0YTtcbiAgICB2YXIgbmIgPSBuID4gc3RyLmxlbmd0aCA/IHN0ci5sZW5ndGggOiBuO1xuICAgIGlmIChuYiA9PT0gc3RyLmxlbmd0aCkgcmV0ICs9IHN0cjtlbHNlIHJldCArPSBzdHIuc2xpY2UoMCwgbik7XG4gICAgbiAtPSBuYjtcbiAgICBpZiAobiA9PT0gMCkge1xuICAgICAgaWYgKG5iID09PSBzdHIubGVuZ3RoKSB7XG4gICAgICAgICsrYztcbiAgICAgICAgaWYgKHAubmV4dCkgbGlzdC5oZWFkID0gcC5uZXh0O2Vsc2UgbGlzdC5oZWFkID0gbGlzdC50YWlsID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpc3QuaGVhZCA9IHA7XG4gICAgICAgIHAuZGF0YSA9IHN0ci5zbGljZShuYik7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgKytjO1xuICB9XG4gIGxpc3QubGVuZ3RoIC09IGM7XG4gIHJldHVybiByZXQ7XG59XG5cbi8vIENvcGllcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgYnl0ZXMgZnJvbSB0aGUgbGlzdCBvZiBidWZmZXJlZCBkYXRhIGNodW5rcy5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gY29weUZyb21CdWZmZXIobiwgbGlzdCkge1xuICB2YXIgcmV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG4pO1xuICB2YXIgcCA9IGxpc3QuaGVhZDtcbiAgdmFyIGMgPSAxO1xuICBwLmRhdGEuY29weShyZXQpO1xuICBuIC09IHAuZGF0YS5sZW5ndGg7XG4gIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgdmFyIGJ1ZiA9IHAuZGF0YTtcbiAgICB2YXIgbmIgPSBuID4gYnVmLmxlbmd0aCA/IGJ1Zi5sZW5ndGggOiBuO1xuICAgIGJ1Zi5jb3B5KHJldCwgcmV0Lmxlbmd0aCAtIG4sIDAsIG5iKTtcbiAgICBuIC09IG5iO1xuICAgIGlmIChuID09PSAwKSB7XG4gICAgICBpZiAobmIgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgKytjO1xuICAgICAgICBpZiAocC5uZXh0KSBsaXN0LmhlYWQgPSBwLm5leHQ7ZWxzZSBsaXN0LmhlYWQgPSBsaXN0LnRhaWwgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC5oZWFkID0gcDtcbiAgICAgICAgcC5kYXRhID0gYnVmLnNsaWNlKG5iKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICArK2M7XG4gIH1cbiAgbGlzdC5sZW5ndGggLT0gYztcbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZW5kUmVhZGFibGUoc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcblxuICAvLyBJZiB3ZSBnZXQgaGVyZSBiZWZvcmUgY29uc3VtaW5nIGFsbCB0aGUgYnl0ZXMsIHRoZW4gdGhhdCBpcyBhXG4gIC8vIGJ1ZyBpbiBub2RlLiAgU2hvdWxkIG5ldmVyIGhhcHBlbi5cbiAgaWYgKHN0YXRlLmxlbmd0aCA+IDApIHRocm93IG5ldyBFcnJvcignXCJlbmRSZWFkYWJsZSgpXCIgY2FsbGVkIG9uIG5vbi1lbXB0eSBzdHJlYW0nKTtcblxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQpIHtcbiAgICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gICAgcG5hLm5leHRUaWNrKGVuZFJlYWRhYmxlTlQsIHN0YXRlLCBzdHJlYW0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuZFJlYWRhYmxlTlQoc3RhdGUsIHN0cmVhbSkge1xuICAvLyBDaGVjayB0aGF0IHdlIGRpZG4ndCBnZXQgb25lIGxhc3QgdW5zaGlmdC5cbiAgaWYgKCFzdGF0ZS5lbmRFbWl0dGVkICYmIHN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIHN0YXRlLmVuZEVtaXR0ZWQgPSB0cnVlO1xuICAgIHN0cmVhbS5yZWFkYWJsZSA9IGZhbHNlO1xuICAgIHN0cmVhbS5lbWl0KCdlbmQnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbmRleE9mKHhzLCB4KSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHhzW2ldID09PSB4KSByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBwbmEgPSByZXF1aXJlKCdwcm9jZXNzLW5leHRpY2stYXJncycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8vIHVuZG9jdW1lbnRlZCBjYigpIEFQSSwgbmVlZGVkIGZvciBjb3JlLCBub3QgZm9yIHB1YmxpYyBBUElcbmZ1bmN0aW9uIGRlc3Ryb3koZXJyLCBjYikge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciByZWFkYWJsZURlc3Ryb3llZCA9IHRoaXMuX3JlYWRhYmxlU3RhdGUgJiYgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIHZhciB3cml0YWJsZURlc3Ryb3llZCA9IHRoaXMuX3dyaXRhYmxlU3RhdGUgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG5cbiAgaWYgKHJlYWRhYmxlRGVzdHJveWVkIHx8IHdyaXRhYmxlRGVzdHJveWVkKSB7XG4gICAgaWYgKGNiKSB7XG4gICAgICBjYihlcnIpO1xuICAgIH0gZWxzZSBpZiAoZXJyICYmICghdGhpcy5fd3JpdGFibGVTdGF0ZSB8fCAhdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQpKSB7XG4gICAgICBwbmEubmV4dFRpY2soZW1pdEVycm9yTlQsIHRoaXMsIGVycik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gd2Ugc2V0IGRlc3Ryb3llZCB0byB0cnVlIGJlZm9yZSBmaXJpbmcgZXJyb3IgY2FsbGJhY2tzIGluIG9yZGVyXG4gIC8vIHRvIG1ha2UgaXQgcmUtZW50cmFuY2Ugc2FmZSBpbiBjYXNlIGRlc3Ryb3koKSBpcyBjYWxsZWQgd2l0aGluIGNhbGxiYWNrc1xuXG4gIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlKSB7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB0cnVlO1xuICB9XG5cbiAgLy8gaWYgdGhpcyBpcyBhIGR1cGxleCBzdHJlYW0gbWFyayB0aGUgd3JpdGFibGUgcGFydCBhcyBkZXN0cm95ZWQgYXMgd2VsbFxuICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgfVxuXG4gIHRoaXMuX2Rlc3Ryb3koZXJyIHx8IG51bGwsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoIWNiICYmIGVycikge1xuICAgICAgcG5hLm5leHRUaWNrKGVtaXRFcnJvck5ULCBfdGhpcywgZXJyKTtcbiAgICAgIGlmIChfdGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgICAgICBfdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2IpIHtcbiAgICAgIGNiKGVycik7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gdW5kZXN0cm95KCkge1xuICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKHRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQgPSBmYWxzZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmVuZGluZyA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCA9IGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVtaXRFcnJvck5UKHNlbGYsIGVycikge1xuICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRlc3Ryb3k6IGRlc3Ryb3ksXG4gIHVuZGVzdHJveTogdW5kZXN0cm95XG59OyIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyBhIHRyYW5zZm9ybSBzdHJlYW0gaXMgYSByZWFkYWJsZS93cml0YWJsZSBzdHJlYW0gd2hlcmUgeW91IGRvXG4vLyBzb21ldGhpbmcgd2l0aCB0aGUgZGF0YS4gIFNvbWV0aW1lcyBpdCdzIGNhbGxlZCBhIFwiZmlsdGVyXCIsXG4vLyBidXQgdGhhdCdzIG5vdCBhIGdyZWF0IG5hbWUgZm9yIGl0LCBzaW5jZSB0aGF0IGltcGxpZXMgYSB0aGluZyB3aGVyZVxuLy8gc29tZSBiaXRzIHBhc3MgdGhyb3VnaCwgYW5kIG90aGVycyBhcmUgc2ltcGx5IGlnbm9yZWQuICAoVGhhdCB3b3VsZFxuLy8gYmUgYSB2YWxpZCBleGFtcGxlIG9mIGEgdHJhbnNmb3JtLCBvZiBjb3Vyc2UuKVxuLy9cbi8vIFdoaWxlIHRoZSBvdXRwdXQgaXMgY2F1c2FsbHkgcmVsYXRlZCB0byB0aGUgaW5wdXQsIGl0J3Mgbm90IGFcbi8vIG5lY2Vzc2FyaWx5IHN5bW1ldHJpYyBvciBzeW5jaHJvbm91cyB0cmFuc2Zvcm1hdGlvbi4gIEZvciBleGFtcGxlLFxuLy8gYSB6bGliIHN0cmVhbSBtaWdodCB0YWtlIG11bHRpcGxlIHBsYWluLXRleHQgd3JpdGVzKCksIGFuZCB0aGVuXG4vLyBlbWl0IGEgc2luZ2xlIGNvbXByZXNzZWQgY2h1bmsgc29tZSB0aW1lIGluIHRoZSBmdXR1cmUuXG4vL1xuLy8gSGVyZSdzIGhvdyB0aGlzIHdvcmtzOlxuLy9cbi8vIFRoZSBUcmFuc2Zvcm0gc3RyZWFtIGhhcyBhbGwgdGhlIGFzcGVjdHMgb2YgdGhlIHJlYWRhYmxlIGFuZCB3cml0YWJsZVxuLy8gc3RyZWFtIGNsYXNzZXMuICBXaGVuIHlvdSB3cml0ZShjaHVuayksIHRoYXQgY2FsbHMgX3dyaXRlKGNodW5rLGNiKVxuLy8gaW50ZXJuYWxseSwgYW5kIHJldHVybnMgZmFsc2UgaWYgdGhlcmUncyBhIGxvdCBvZiBwZW5kaW5nIHdyaXRlc1xuLy8gYnVmZmVyZWQgdXAuICBXaGVuIHlvdSBjYWxsIHJlYWQoKSwgdGhhdCBjYWxscyBfcmVhZChuKSB1bnRpbFxuLy8gdGhlcmUncyBlbm91Z2ggcGVuZGluZyByZWFkYWJsZSBkYXRhIGJ1ZmZlcmVkIHVwLlxuLy9cbi8vIEluIGEgdHJhbnNmb3JtIHN0cmVhbSwgdGhlIHdyaXR0ZW4gZGF0YSBpcyBwbGFjZWQgaW4gYSBidWZmZXIuICBXaGVuXG4vLyBfcmVhZChuKSBpcyBjYWxsZWQsIGl0IHRyYW5zZm9ybXMgdGhlIHF1ZXVlZCB1cCBkYXRhLCBjYWxsaW5nIHRoZVxuLy8gYnVmZmVyZWQgX3dyaXRlIGNiJ3MgYXMgaXQgY29uc3VtZXMgY2h1bmtzLiAgSWYgY29uc3VtaW5nIGEgc2luZ2xlXG4vLyB3cml0dGVuIGNodW5rIHdvdWxkIHJlc3VsdCBpbiBtdWx0aXBsZSBvdXRwdXQgY2h1bmtzLCB0aGVuIHRoZSBmaXJzdFxuLy8gb3V0cHV0dGVkIGJpdCBjYWxscyB0aGUgcmVhZGNiLCBhbmQgc3Vic2VxdWVudCBjaHVua3MganVzdCBnbyBpbnRvXG4vLyB0aGUgcmVhZCBidWZmZXIsIGFuZCB3aWxsIGNhdXNlIGl0IHRvIGVtaXQgJ3JlYWRhYmxlJyBpZiBuZWNlc3NhcnkuXG4vL1xuLy8gVGhpcyB3YXksIGJhY2stcHJlc3N1cmUgaXMgYWN0dWFsbHkgZGV0ZXJtaW5lZCBieSB0aGUgcmVhZGluZyBzaWRlLFxuLy8gc2luY2UgX3JlYWQgaGFzIHRvIGJlIGNhbGxlZCB0byBzdGFydCBwcm9jZXNzaW5nIGEgbmV3IGNodW5rLiAgSG93ZXZlcixcbi8vIGEgcGF0aG9sb2dpY2FsIGluZmxhdGUgdHlwZSBvZiB0cmFuc2Zvcm0gY2FuIGNhdXNlIGV4Y2Vzc2l2ZSBidWZmZXJpbmdcbi8vIGhlcmUuICBGb3IgZXhhbXBsZSwgaW1hZ2luZSBhIHN0cmVhbSB3aGVyZSBldmVyeSBieXRlIG9mIGlucHV0IGlzXG4vLyBpbnRlcnByZXRlZCBhcyBhbiBpbnRlZ2VyIGZyb20gMC0yNTUsIGFuZCB0aGVuIHJlc3VsdHMgaW4gdGhhdCBtYW55XG4vLyBieXRlcyBvZiBvdXRwdXQuICBXcml0aW5nIHRoZSA0IGJ5dGVzIHtmZixmZixmZixmZn0gd291bGQgcmVzdWx0IGluXG4vLyAxa2Igb2YgZGF0YSBiZWluZyBvdXRwdXQuICBJbiB0aGlzIGNhc2UsIHlvdSBjb3VsZCB3cml0ZSBhIHZlcnkgc21hbGxcbi8vIGFtb3VudCBvZiBpbnB1dCwgYW5kIGVuZCB1cCB3aXRoIGEgdmVyeSBsYXJnZSBhbW91bnQgb2Ygb3V0cHV0LiAgSW5cbi8vIHN1Y2ggYSBwYXRob2xvZ2ljYWwgaW5mbGF0aW5nIG1lY2hhbmlzbSwgdGhlcmUnZCBiZSBubyB3YXkgdG8gdGVsbFxuLy8gdGhlIHN5c3RlbSB0byBzdG9wIGRvaW5nIHRoZSB0cmFuc2Zvcm0uICBBIHNpbmdsZSA0TUIgd3JpdGUgY291bGRcbi8vIGNhdXNlIHRoZSBzeXN0ZW0gdG8gcnVuIG91dCBvZiBtZW1vcnkuXG4vL1xuLy8gSG93ZXZlciwgZXZlbiBpbiBzdWNoIGEgcGF0aG9sb2dpY2FsIGNhc2UsIG9ubHkgYSBzaW5nbGUgd3JpdHRlbiBjaHVua1xuLy8gd291bGQgYmUgY29uc3VtZWQsIGFuZCB0aGVuIHRoZSByZXN0IHdvdWxkIHdhaXQgKHVuLXRyYW5zZm9ybWVkKSB1bnRpbFxuLy8gdGhlIHJlc3VsdHMgb2YgdGhlIHByZXZpb3VzIHRyYW5zZm9ybWVkIGNodW5rIHdlcmUgY29uc3VtZWQuXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBUcmFuc2Zvcm07XG5cbnZhciBEdXBsZXggPSByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgdXRpbCA9IHJlcXVpcmUoJ2NvcmUtdXRpbC1pcycpO1xudXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudXRpbC5pbmhlcml0cyhUcmFuc2Zvcm0sIER1cGxleCk7XG5cbmZ1bmN0aW9uIGFmdGVyVHJhbnNmb3JtKGVyLCBkYXRhKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuICB0cy50cmFuc2Zvcm1pbmcgPSBmYWxzZTtcblxuICB2YXIgY2IgPSB0cy53cml0ZWNiO1xuXG4gIGlmICghY2IpIHtcbiAgICByZXR1cm4gdGhpcy5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignd3JpdGUgY2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzJykpO1xuICB9XG5cbiAgdHMud3JpdGVjaHVuayA9IG51bGw7XG4gIHRzLndyaXRlY2IgPSBudWxsO1xuXG4gIGlmIChkYXRhICE9IG51bGwpIC8vIHNpbmdsZSBlcXVhbHMgY2hlY2sgZm9yIGJvdGggYG51bGxgIGFuZCBgdW5kZWZpbmVkYFxuICAgIHRoaXMucHVzaChkYXRhKTtcblxuICBjYihlcik7XG5cbiAgdmFyIHJzID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgcnMucmVhZGluZyA9IGZhbHNlO1xuICBpZiAocnMubmVlZFJlYWRhYmxlIHx8IHJzLmxlbmd0aCA8IHJzLmhpZ2hXYXRlck1hcmspIHtcbiAgICB0aGlzLl9yZWFkKHJzLmhpZ2hXYXRlck1hcmspO1xuICB9XG59XG5cbmZ1bmN0aW9uIFRyYW5zZm9ybShvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBUcmFuc2Zvcm0pKSByZXR1cm4gbmV3IFRyYW5zZm9ybShvcHRpb25zKTtcblxuICBEdXBsZXguY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICB0aGlzLl90cmFuc2Zvcm1TdGF0ZSA9IHtcbiAgICBhZnRlclRyYW5zZm9ybTogYWZ0ZXJUcmFuc2Zvcm0uYmluZCh0aGlzKSxcbiAgICBuZWVkVHJhbnNmb3JtOiBmYWxzZSxcbiAgICB0cmFuc2Zvcm1pbmc6IGZhbHNlLFxuICAgIHdyaXRlY2I6IG51bGwsXG4gICAgd3JpdGVjaHVuazogbnVsbCxcbiAgICB3cml0ZWVuY29kaW5nOiBudWxsXG4gIH07XG5cbiAgLy8gc3RhcnQgb3V0IGFza2luZyBmb3IgYSByZWFkYWJsZSBldmVudCBvbmNlIGRhdGEgaXMgdHJhbnNmb3JtZWQuXG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcblxuICAvLyB3ZSBoYXZlIGltcGxlbWVudGVkIHRoZSBfcmVhZCBtZXRob2QsIGFuZCBkb25lIHRoZSBvdGhlciB0aGluZ3NcbiAgLy8gdGhhdCBSZWFkYWJsZSB3YW50cyBiZWZvcmUgdGhlIGZpcnN0IF9yZWFkIGNhbGwsIHNvIHVuc2V0IHRoZVxuICAvLyBzeW5jIGd1YXJkIGZsYWcuXG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUuc3luYyA9IGZhbHNlO1xuXG4gIGlmIChvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnRyYW5zZm9ybSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fdHJhbnNmb3JtID0gb3B0aW9ucy50cmFuc2Zvcm07XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmx1c2ggPT09ICdmdW5jdGlvbicpIHRoaXMuX2ZsdXNoID0gb3B0aW9ucy5mbHVzaDtcbiAgfVxuXG4gIC8vIFdoZW4gdGhlIHdyaXRhYmxlIHNpZGUgZmluaXNoZXMsIHRoZW4gZmx1c2ggb3V0IGFueXRoaW5nIHJlbWFpbmluZy5cbiAgdGhpcy5vbigncHJlZmluaXNoJywgcHJlZmluaXNoKTtcbn1cblxuZnVuY3Rpb24gcHJlZmluaXNoKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIGlmICh0eXBlb2YgdGhpcy5fZmx1c2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICB0aGlzLl9mbHVzaChmdW5jdGlvbiAoZXIsIGRhdGEpIHtcbiAgICAgIGRvbmUoX3RoaXMsIGVyLCBkYXRhKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBkb25lKHRoaXMsIG51bGwsIG51bGwpO1xuICB9XG59XG5cblRyYW5zZm9ybS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcpIHtcbiAgdGhpcy5fdHJhbnNmb3JtU3RhdGUubmVlZFRyYW5zZm9ybSA9IGZhbHNlO1xuICByZXR1cm4gRHVwbGV4LnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGVuY29kaW5nKTtcbn07XG5cbi8vIFRoaXMgaXMgdGhlIHBhcnQgd2hlcmUgeW91IGRvIHN0dWZmIVxuLy8gb3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiBpbiBpbXBsZW1lbnRhdGlvbiBjbGFzc2VzLlxuLy8gJ2NodW5rJyBpcyBhbiBpbnB1dCBjaHVuay5cbi8vXG4vLyBDYWxsIGBwdXNoKG5ld0NodW5rKWAgdG8gcGFzcyBhbG9uZyB0cmFuc2Zvcm1lZCBvdXRwdXRcbi8vIHRvIHRoZSByZWFkYWJsZSBzaWRlLiAgWW91IG1heSBjYWxsICdwdXNoJyB6ZXJvIG9yIG1vcmUgdGltZXMuXG4vL1xuLy8gQ2FsbCBgY2IoZXJyKWAgd2hlbiB5b3UgYXJlIGRvbmUgd2l0aCB0aGlzIGNodW5rLiAgSWYgeW91IHBhc3Ncbi8vIGFuIGVycm9yLCB0aGVuIHRoYXQnbGwgcHV0IHRoZSBodXJ0IG9uIHRoZSB3aG9sZSBvcGVyYXRpb24uICBJZiB5b3Vcbi8vIG5ldmVyIGNhbGwgY2IoKSwgdGhlbiB5b3UnbGwgbmV2ZXIgZ2V0IGFub3RoZXIgY2h1bmsuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB0aHJvdyBuZXcgRXJyb3IoJ190cmFuc2Zvcm0oKSBpcyBub3QgaW1wbGVtZW50ZWQnKTtcbn07XG5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHRzID0gdGhpcy5fdHJhbnNmb3JtU3RhdGU7XG4gIHRzLndyaXRlY2IgPSBjYjtcbiAgdHMud3JpdGVjaHVuayA9IGNodW5rO1xuICB0cy53cml0ZWVuY29kaW5nID0gZW5jb2Rpbmc7XG4gIGlmICghdHMudHJhbnNmb3JtaW5nKSB7XG4gICAgdmFyIHJzID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgICBpZiAodHMubmVlZFRyYW5zZm9ybSB8fCBycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykgdGhpcy5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufTtcblxuLy8gRG9lc24ndCBtYXR0ZXIgd2hhdCB0aGUgYXJncyBhcmUgaGVyZS5cbi8vIF90cmFuc2Zvcm0gZG9lcyBhbGwgdGhlIHdvcmsuXG4vLyBUaGF0IHdlIGdvdCBoZXJlIG1lYW5zIHRoYXQgdGhlIHJlYWRhYmxlIHNpZGUgd2FudHMgbW9yZSBkYXRhLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuXG4gIGlmICh0cy53cml0ZWNodW5rICE9PSBudWxsICYmIHRzLndyaXRlY2IgJiYgIXRzLnRyYW5zZm9ybWluZykge1xuICAgIHRzLnRyYW5zZm9ybWluZyA9IHRydWU7XG4gICAgdGhpcy5fdHJhbnNmb3JtKHRzLndyaXRlY2h1bmssIHRzLndyaXRlZW5jb2RpbmcsIHRzLmFmdGVyVHJhbnNmb3JtKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBtYXJrIHRoYXQgd2UgbmVlZCBhIHRyYW5zZm9ybSwgc28gdGhhdCBhbnkgZGF0YSB0aGF0IGNvbWVzIGluXG4gICAgLy8gd2lsbCBnZXQgcHJvY2Vzc2VkLCBub3cgdGhhdCB3ZSd2ZSBhc2tlZCBmb3IgaXQuXG4gICAgdHMubmVlZFRyYW5zZm9ybSA9IHRydWU7XG4gIH1cbn07XG5cblRyYW5zZm9ybS5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICB2YXIgX3RoaXMyID0gdGhpcztcblxuICBEdXBsZXgucHJvdG90eXBlLl9kZXN0cm95LmNhbGwodGhpcywgZXJyLCBmdW5jdGlvbiAoZXJyMikge1xuICAgIGNiKGVycjIpO1xuICAgIF90aGlzMi5lbWl0KCdjbG9zZScpO1xuICB9KTtcbn07XG5cbmZ1bmN0aW9uIGRvbmUoc3RyZWFtLCBlciwgZGF0YSkge1xuICBpZiAoZXIpIHJldHVybiBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG5cbiAgaWYgKGRhdGEgIT0gbnVsbCkgLy8gc2luZ2xlIGVxdWFscyBjaGVjayBmb3IgYm90aCBgbnVsbGAgYW5kIGB1bmRlZmluZWRgXG4gICAgc3RyZWFtLnB1c2goZGF0YSk7XG5cbiAgLy8gaWYgdGhlcmUncyBub3RoaW5nIGluIHRoZSB3cml0ZSBidWZmZXIsIHRoZW4gdGhhdCBtZWFuc1xuICAvLyB0aGF0IG5vdGhpbmcgbW9yZSB3aWxsIGV2ZXIgYmUgcHJvdmlkZWRcbiAgaWYgKHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHdzLmxlbmd0aCAhPSAwJyk7XG5cbiAgaWYgKHN0cmVhbS5fdHJhbnNmb3JtU3RhdGUudHJhbnNmb3JtaW5nKSB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiBzdGlsbCB0cmFuc2Zvcm1pbmcnKTtcblxuICByZXR1cm4gc3RyZWFtLnB1c2gobnVsbCk7XG59IiwidmFyIGhlbHBlciA9IHJlcXVpcmUoJy4vb3B0aW9ucy1oZWxwZXInKTtcclxudmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuL2FycmF5LWhlbHBlcicpLmlzQXJyYXk7XHJcblxyXG52YXIgY3VycmVudEVsZW1lbnQsIGN1cnJlbnRFbGVtZW50TmFtZTtcclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXRlT3B0aW9ucyh1c2VyT3B0aW9ucykge1xyXG4gIHZhciBvcHRpb25zID0gaGVscGVyLmNvcHlPcHRpb25zKHVzZXJPcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlRmxhZ0V4aXN0cygnaWdub3JlRGVjbGFyYXRpb24nLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlRmxhZ0V4aXN0cygnaWdub3JlSW5zdHJ1Y3Rpb24nLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlRmxhZ0V4aXN0cygnaWdub3JlQXR0cmlidXRlcycsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVGbGFnRXhpc3RzKCdpZ25vcmVUZXh0Jywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUZsYWdFeGlzdHMoJ2lnbm9yZUNvbW1lbnQnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlRmxhZ0V4aXN0cygnaWdub3JlQ2RhdGEnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlRmxhZ0V4aXN0cygnaWdub3JlRG9jdHlwZScsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVGbGFnRXhpc3RzKCdjb21wYWN0Jywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUZsYWdFeGlzdHMoJ2luZGVudFRleHQnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlRmxhZ0V4aXN0cygnaW5kZW50Q2RhdGEnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlRmxhZ0V4aXN0cygnaW5kZW50QXR0cmlidXRlcycsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVGbGFnRXhpc3RzKCdpbmRlbnRJbnN0cnVjdGlvbicsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVGbGFnRXhpc3RzKCdmdWxsVGFnRW1wdHlFbGVtZW50Jywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUZsYWdFeGlzdHMoJ25vUXVvdGVzRm9yTmF0aXZlQXR0cmlidXRlcycsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVTcGFjZXNFeGlzdHMob3B0aW9ucyk7XHJcbiAgaWYgKHR5cGVvZiBvcHRpb25zLnNwYWNlcyA9PT0gJ251bWJlcicpIHtcclxuICAgIG9wdGlvbnMuc3BhY2VzID0gQXJyYXkob3B0aW9ucy5zcGFjZXMgKyAxKS5qb2luKCcgJyk7XHJcbiAgfVxyXG4gIGhlbHBlci5lbnN1cmVLZXlFeGlzdHMoJ2RlY2xhcmF0aW9uJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUtleUV4aXN0cygnaW5zdHJ1Y3Rpb24nLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlS2V5RXhpc3RzKCdhdHRyaWJ1dGVzJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUtleUV4aXN0cygndGV4dCcsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVLZXlFeGlzdHMoJ2NvbW1lbnQnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlS2V5RXhpc3RzKCdjZGF0YScsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVLZXlFeGlzdHMoJ2RvY3R5cGUnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlS2V5RXhpc3RzKCd0eXBlJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmVuc3VyZUtleUV4aXN0cygnbmFtZScsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5lbnN1cmVLZXlFeGlzdHMoJ2VsZW1lbnRzJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmNoZWNrRm5FeGlzdHMoJ2RvY3R5cGUnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuY2hlY2tGbkV4aXN0cygnaW5zdHJ1Y3Rpb24nLCBvcHRpb25zKTtcclxuICBoZWxwZXIuY2hlY2tGbkV4aXN0cygnY2RhdGEnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuY2hlY2tGbkV4aXN0cygnY29tbWVudCcsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5jaGVja0ZuRXhpc3RzKCd0ZXh0Jywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmNoZWNrRm5FeGlzdHMoJ2luc3RydWN0aW9uTmFtZScsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5jaGVja0ZuRXhpc3RzKCdlbGVtZW50TmFtZScsIG9wdGlvbnMpO1xyXG4gIGhlbHBlci5jaGVja0ZuRXhpc3RzKCdhdHRyaWJ1dGVOYW1lJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmNoZWNrRm5FeGlzdHMoJ2F0dHJpYnV0ZVZhbHVlJywgb3B0aW9ucyk7XHJcbiAgaGVscGVyLmNoZWNrRm5FeGlzdHMoJ2F0dHJpYnV0ZXMnLCBvcHRpb25zKTtcclxuICBoZWxwZXIuY2hlY2tGbkV4aXN0cygnZnVsbFRhZ0VtcHR5RWxlbWVudCcsIG9wdGlvbnMpO1xyXG4gIHJldHVybiBvcHRpb25zO1xyXG59XHJcblxyXG5mdW5jdGlvbiB3cml0ZUluZGVudGF0aW9uKG9wdGlvbnMsIGRlcHRoLCBmaXJzdExpbmUpIHtcclxuICByZXR1cm4gKCFmaXJzdExpbmUgJiYgb3B0aW9ucy5zcGFjZXMgPyAnXFxuJyA6ICcnKSArIEFycmF5KGRlcHRoICsgMSkuam9pbihvcHRpb25zLnNwYWNlcyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdyaXRlQXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBvcHRpb25zLCBkZXB0aCkge1xyXG4gIGlmIChvcHRpb25zLmlnbm9yZUF0dHJpYnV0ZXMpIHtcclxuICAgIHJldHVybiAnJztcclxuICB9XHJcbiAgaWYgKCdhdHRyaWJ1dGVzRm4nIGluIG9wdGlvbnMpIHtcclxuICAgIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXNGbihhdHRyaWJ1dGVzLCBjdXJyZW50RWxlbWVudE5hbWUsIGN1cnJlbnRFbGVtZW50KTtcclxuICB9XHJcbiAgdmFyIGtleSwgYXR0ciwgYXR0ck5hbWUsIHF1b3RlLCByZXN1bHQgPSBbXTtcclxuICBmb3IgKGtleSBpbiBhdHRyaWJ1dGVzKSB7XHJcbiAgICBpZiAoYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGF0dHJpYnV0ZXNba2V5XSAhPT0gbnVsbCAmJiBhdHRyaWJ1dGVzW2tleV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBxdW90ZSA9IG9wdGlvbnMubm9RdW90ZXNGb3JOYXRpdmVBdHRyaWJ1dGVzICYmIHR5cGVvZiBhdHRyaWJ1dGVzW2tleV0gIT09ICdzdHJpbmcnID8gJycgOiAnXCInO1xyXG4gICAgICBhdHRyID0gJycgKyBhdHRyaWJ1dGVzW2tleV07IC8vIGVuc3VyZSBudW1iZXIgYW5kIGJvb2xlYW4gYXJlIGNvbnZlcnRlZCB0byBTdHJpbmdcclxuICAgICAgYXR0ciA9IGF0dHIucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xyXG4gICAgICBhdHRyTmFtZSA9ICdhdHRyaWJ1dGVOYW1lRm4nIGluIG9wdGlvbnMgPyBvcHRpb25zLmF0dHJpYnV0ZU5hbWVGbihrZXksIGF0dHIsIGN1cnJlbnRFbGVtZW50TmFtZSwgY3VycmVudEVsZW1lbnQpIDoga2V5O1xyXG4gICAgICByZXN1bHQucHVzaCgob3B0aW9ucy5zcGFjZXMgJiYgb3B0aW9ucy5pbmRlbnRBdHRyaWJ1dGVzPyB3cml0ZUluZGVudGF0aW9uKG9wdGlvbnMsIGRlcHRoKzEsIGZhbHNlKSA6ICcgJykpO1xyXG4gICAgICByZXN1bHQucHVzaChhdHRyTmFtZSArICc9JyArIHF1b3RlICsgKCdhdHRyaWJ1dGVWYWx1ZUZuJyBpbiBvcHRpb25zID8gb3B0aW9ucy5hdHRyaWJ1dGVWYWx1ZUZuKGF0dHIsIGtleSwgY3VycmVudEVsZW1lbnROYW1lLCBjdXJyZW50RWxlbWVudCkgOiBhdHRyKSArIHF1b3RlKTtcclxuICAgIH1cclxuICB9XHJcbiAgaWYgKGF0dHJpYnV0ZXMgJiYgT2JqZWN0LmtleXMoYXR0cmlidXRlcykubGVuZ3RoICYmIG9wdGlvbnMuc3BhY2VzICYmIG9wdGlvbnMuaW5kZW50QXR0cmlidXRlcykge1xyXG4gICAgcmVzdWx0LnB1c2god3JpdGVJbmRlbnRhdGlvbihvcHRpb25zLCBkZXB0aCwgZmFsc2UpKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gd3JpdGVEZWNsYXJhdGlvbihkZWNsYXJhdGlvbiwgb3B0aW9ucywgZGVwdGgpIHtcclxuICBjdXJyZW50RWxlbWVudCA9IGRlY2xhcmF0aW9uO1xyXG4gIGN1cnJlbnRFbGVtZW50TmFtZSA9ICd4bWwnO1xyXG4gIHJldHVybiBvcHRpb25zLmlnbm9yZURlY2xhcmF0aW9uID8gJycgOiAgJzw/JyArICd4bWwnICsgd3JpdGVBdHRyaWJ1dGVzKGRlY2xhcmF0aW9uW29wdGlvbnMuYXR0cmlidXRlc0tleV0sIG9wdGlvbnMsIGRlcHRoKSArICc/Pic7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdyaXRlSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24sIG9wdGlvbnMsIGRlcHRoKSB7XHJcbiAgaWYgKG9wdGlvbnMuaWdub3JlSW5zdHJ1Y3Rpb24pIHtcclxuICAgIHJldHVybiAnJztcclxuICB9XHJcbiAgdmFyIGtleTtcclxuICBmb3IgKGtleSBpbiBpbnN0cnVjdGlvbikge1xyXG4gICAgaWYgKGluc3RydWN0aW9uLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHZhciBpbnN0cnVjdGlvbk5hbWUgPSAnaW5zdHJ1Y3Rpb25OYW1lRm4nIGluIG9wdGlvbnMgPyBvcHRpb25zLmluc3RydWN0aW9uTmFtZUZuKGtleSwgaW5zdHJ1Y3Rpb25ba2V5XSwgY3VycmVudEVsZW1lbnROYW1lLCBjdXJyZW50RWxlbWVudCkgOiBrZXk7XHJcbiAgaWYgKHR5cGVvZiBpbnN0cnVjdGlvbltrZXldID09PSAnb2JqZWN0Jykge1xyXG4gICAgY3VycmVudEVsZW1lbnQgPSBpbnN0cnVjdGlvbjtcclxuICAgIGN1cnJlbnRFbGVtZW50TmFtZSA9IGluc3RydWN0aW9uTmFtZTtcclxuICAgIHJldHVybiAnPD8nICsgaW5zdHJ1Y3Rpb25OYW1lICsgd3JpdGVBdHRyaWJ1dGVzKGluc3RydWN0aW9uW2tleV1bb3B0aW9ucy5hdHRyaWJ1dGVzS2V5XSwgb3B0aW9ucywgZGVwdGgpICsgJz8+JztcclxuICB9IGVsc2Uge1xyXG4gICAgdmFyIGluc3RydWN0aW9uVmFsdWUgPSBpbnN0cnVjdGlvbltrZXldID8gaW5zdHJ1Y3Rpb25ba2V5XSA6ICcnO1xyXG4gICAgaWYgKCdpbnN0cnVjdGlvbkZuJyBpbiBvcHRpb25zKSBpbnN0cnVjdGlvblZhbHVlID0gb3B0aW9ucy5pbnN0cnVjdGlvbkZuKGluc3RydWN0aW9uVmFsdWUsIGtleSwgY3VycmVudEVsZW1lbnROYW1lLCBjdXJyZW50RWxlbWVudCk7XHJcbiAgICByZXR1cm4gJzw/JyArIGluc3RydWN0aW9uTmFtZSArIChpbnN0cnVjdGlvblZhbHVlID8gJyAnICsgaW5zdHJ1Y3Rpb25WYWx1ZSA6ICcnKSArICc/Pic7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB3cml0ZUNvbW1lbnQoY29tbWVudCwgb3B0aW9ucykge1xyXG4gIHJldHVybiBvcHRpb25zLmlnbm9yZUNvbW1lbnQgPyAnJyA6ICc8IS0tJyArICgnY29tbWVudEZuJyBpbiBvcHRpb25zID8gb3B0aW9ucy5jb21tZW50Rm4oY29tbWVudCwgY3VycmVudEVsZW1lbnROYW1lLCBjdXJyZW50RWxlbWVudCkgOiBjb21tZW50KSArICctLT4nO1xyXG59XHJcblxyXG5mdW5jdGlvbiB3cml0ZUNkYXRhKGNkYXRhLCBvcHRpb25zKSB7XHJcbiAgcmV0dXJuIG9wdGlvbnMuaWdub3JlQ2RhdGEgPyAnJyA6ICc8IVtDREFUQVsnICsgKCdjZGF0YUZuJyBpbiBvcHRpb25zID8gb3B0aW9ucy5jZGF0YUZuKGNkYXRhLCBjdXJyZW50RWxlbWVudE5hbWUsIGN1cnJlbnRFbGVtZW50KSA6IGNkYXRhKSArICddXT4nO1xyXG59XHJcblxyXG5mdW5jdGlvbiB3cml0ZURvY3R5cGUoZG9jdHlwZSwgb3B0aW9ucykge1xyXG4gIHJldHVybiBvcHRpb25zLmlnbm9yZURvY3R5cGUgPyAnJyA6ICc8IURPQ1RZUEUgJyArICgnZG9jdHlwZUZuJyBpbiBvcHRpb25zID8gb3B0aW9ucy5kb2N0eXBlRm4oZG9jdHlwZSwgY3VycmVudEVsZW1lbnROYW1lLCBjdXJyZW50RWxlbWVudCkgOiBkb2N0eXBlKSArICc+JztcclxufVxyXG5cclxuZnVuY3Rpb24gd3JpdGVUZXh0KHRleHQsIG9wdGlvbnMpIHtcclxuICBpZiAob3B0aW9ucy5pZ25vcmVUZXh0KSByZXR1cm4gJyc7XHJcbiAgdGV4dCA9ICcnICsgdGV4dDsgLy8gZW5zdXJlIE51bWJlciBhbmQgQm9vbGVhbiBhcmUgY29udmVydGVkIHRvIFN0cmluZ1xyXG4gIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyZhbXA7L2csICcmJyk7IC8vIGRlc2FuaXRpemUgdG8gYXZvaWQgZG91YmxlIHNhbml0aXphdGlvblxyXG4gIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcclxuICByZXR1cm4gJ3RleHRGbicgaW4gb3B0aW9ucyA/IG9wdGlvbnMudGV4dEZuKHRleHQsIGN1cnJlbnRFbGVtZW50TmFtZSwgY3VycmVudEVsZW1lbnQpIDogdGV4dDtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFzQ29udGVudChlbGVtZW50LCBvcHRpb25zKSB7XHJcbiAgdmFyIGk7XHJcbiAgaWYgKGVsZW1lbnQuZWxlbWVudHMgJiYgZWxlbWVudC5lbGVtZW50cy5sZW5ndGgpIHtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBlbGVtZW50LmVsZW1lbnRzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgIHN3aXRjaCAoZWxlbWVudC5lbGVtZW50c1tpXVtvcHRpb25zLnR5cGVLZXldKSB7XHJcbiAgICAgIGNhc2UgJ3RleHQnOlxyXG4gICAgICAgIGlmIChvcHRpb25zLmluZGVudFRleHQpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhazsgLy8gc2tpcCB0byBuZXh0IGtleVxyXG4gICAgICBjYXNlICdjZGF0YSc6XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaW5kZW50Q2RhdGEpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhazsgLy8gc2tpcCB0byBuZXh0IGtleVxyXG4gICAgICBjYXNlICdpbnN0cnVjdGlvbic6XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaW5kZW50SW5zdHJ1Y3Rpb24pIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhazsgLy8gc2tpcCB0byBuZXh0IGtleVxyXG4gICAgICBjYXNlICdkb2N0eXBlJzpcclxuICAgICAgY2FzZSAnY29tbWVudCc6XHJcbiAgICAgIGNhc2UgJ2VsZW1lbnQnOlxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gd3JpdGVFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMsIGRlcHRoKSB7XHJcbiAgY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gIGN1cnJlbnRFbGVtZW50TmFtZSA9IGVsZW1lbnQubmFtZTtcclxuICB2YXIgeG1sID0gW10sIGVsZW1lbnROYW1lID0gJ2VsZW1lbnROYW1lRm4nIGluIG9wdGlvbnMgPyBvcHRpb25zLmVsZW1lbnROYW1lRm4oZWxlbWVudC5uYW1lLCBlbGVtZW50KSA6IGVsZW1lbnQubmFtZTtcclxuICB4bWwucHVzaCgnPCcgKyBlbGVtZW50TmFtZSk7XHJcbiAgaWYgKGVsZW1lbnRbb3B0aW9ucy5hdHRyaWJ1dGVzS2V5XSkge1xyXG4gICAgeG1sLnB1c2god3JpdGVBdHRyaWJ1dGVzKGVsZW1lbnRbb3B0aW9ucy5hdHRyaWJ1dGVzS2V5XSwgb3B0aW9ucywgZGVwdGgpKTtcclxuICB9XHJcbiAgdmFyIHdpdGhDbG9zaW5nVGFnID0gZWxlbWVudFtvcHRpb25zLmVsZW1lbnRzS2V5XSAmJiBlbGVtZW50W29wdGlvbnMuZWxlbWVudHNLZXldLmxlbmd0aCB8fCBlbGVtZW50W29wdGlvbnMuYXR0cmlidXRlc0tleV0gJiYgZWxlbWVudFtvcHRpb25zLmF0dHJpYnV0ZXNLZXldWyd4bWw6c3BhY2UnXSA9PT0gJ3ByZXNlcnZlJztcclxuICBpZiAoIXdpdGhDbG9zaW5nVGFnKSB7XHJcbiAgICBpZiAoJ2Z1bGxUYWdFbXB0eUVsZW1lbnRGbicgaW4gb3B0aW9ucykge1xyXG4gICAgICB3aXRoQ2xvc2luZ1RhZyA9IG9wdGlvbnMuZnVsbFRhZ0VtcHR5RWxlbWVudEZuKGVsZW1lbnQubmFtZSwgZWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3aXRoQ2xvc2luZ1RhZyA9IG9wdGlvbnMuZnVsbFRhZ0VtcHR5RWxlbWVudDtcclxuICAgIH1cclxuICB9XHJcbiAgaWYgKHdpdGhDbG9zaW5nVGFnKSB7XHJcbiAgICB4bWwucHVzaCgnPicpO1xyXG4gICAgaWYgKGVsZW1lbnRbb3B0aW9ucy5lbGVtZW50c0tleV0gJiYgZWxlbWVudFtvcHRpb25zLmVsZW1lbnRzS2V5XS5sZW5ndGgpIHtcclxuICAgICAgeG1sLnB1c2god3JpdGVFbGVtZW50cyhlbGVtZW50W29wdGlvbnMuZWxlbWVudHNLZXldLCBvcHRpb25zLCBkZXB0aCArIDEpKTtcclxuICAgICAgY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICBjdXJyZW50RWxlbWVudE5hbWUgPSBlbGVtZW50Lm5hbWU7XHJcbiAgICB9XHJcbiAgICB4bWwucHVzaChvcHRpb25zLnNwYWNlcyAmJiBoYXNDb250ZW50KGVsZW1lbnQsIG9wdGlvbnMpID8gJ1xcbicgKyBBcnJheShkZXB0aCArIDEpLmpvaW4ob3B0aW9ucy5zcGFjZXMpIDogJycpO1xyXG4gICAgeG1sLnB1c2goJzwvJyArIGVsZW1lbnROYW1lICsgJz4nKTtcclxuICB9IGVsc2Uge1xyXG4gICAgeG1sLnB1c2goJy8+Jyk7XHJcbiAgfVxyXG4gIHJldHVybiB4bWwuam9pbignJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdyaXRlRWxlbWVudHMoZWxlbWVudHMsIG9wdGlvbnMsIGRlcHRoLCBmaXJzdExpbmUpIHtcclxuICByZXR1cm4gZWxlbWVudHMucmVkdWNlKGZ1bmN0aW9uICh4bWwsIGVsZW1lbnQpIHtcclxuICAgIHZhciBpbmRlbnQgPSB3cml0ZUluZGVudGF0aW9uKG9wdGlvbnMsIGRlcHRoLCBmaXJzdExpbmUgJiYgIXhtbCk7XHJcbiAgICBzd2l0Y2ggKGVsZW1lbnQudHlwZSkge1xyXG4gICAgY2FzZSAnZWxlbWVudCc6IHJldHVybiB4bWwgKyBpbmRlbnQgKyB3cml0ZUVsZW1lbnQoZWxlbWVudCwgb3B0aW9ucywgZGVwdGgpO1xyXG4gICAgY2FzZSAnY29tbWVudCc6IHJldHVybiB4bWwgKyBpbmRlbnQgKyB3cml0ZUNvbW1lbnQoZWxlbWVudFtvcHRpb25zLmNvbW1lbnRLZXldLCBvcHRpb25zKTtcclxuICAgIGNhc2UgJ2RvY3R5cGUnOiByZXR1cm4geG1sICsgaW5kZW50ICsgd3JpdGVEb2N0eXBlKGVsZW1lbnRbb3B0aW9ucy5kb2N0eXBlS2V5XSwgb3B0aW9ucyk7XHJcbiAgICBjYXNlICdjZGF0YSc6IHJldHVybiB4bWwgKyAob3B0aW9ucy5pbmRlbnRDZGF0YSA/IGluZGVudCA6ICcnKSArIHdyaXRlQ2RhdGEoZWxlbWVudFtvcHRpb25zLmNkYXRhS2V5XSwgb3B0aW9ucyk7XHJcbiAgICBjYXNlICd0ZXh0JzogcmV0dXJuIHhtbCArIChvcHRpb25zLmluZGVudFRleHQgPyBpbmRlbnQgOiAnJykgKyB3cml0ZVRleHQoZWxlbWVudFtvcHRpb25zLnRleHRLZXldLCBvcHRpb25zKTtcclxuICAgIGNhc2UgJ2luc3RydWN0aW9uJzpcclxuICAgICAgdmFyIGluc3RydWN0aW9uID0ge307XHJcbiAgICAgIGluc3RydWN0aW9uW2VsZW1lbnRbb3B0aW9ucy5uYW1lS2V5XV0gPSBlbGVtZW50W29wdGlvbnMuYXR0cmlidXRlc0tleV0gPyBlbGVtZW50IDogZWxlbWVudFtvcHRpb25zLmluc3RydWN0aW9uS2V5XTtcclxuICAgICAgcmV0dXJuIHhtbCArIChvcHRpb25zLmluZGVudEluc3RydWN0aW9uID8gaW5kZW50IDogJycpICsgd3JpdGVJbnN0cnVjdGlvbihpbnN0cnVjdGlvbiwgb3B0aW9ucywgZGVwdGgpO1xyXG4gICAgfVxyXG4gIH0sICcnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFzQ29udGVudENvbXBhY3QoZWxlbWVudCwgb3B0aW9ucywgYW55Q29udGVudCkge1xyXG4gIHZhciBrZXk7XHJcbiAgZm9yIChrZXkgaW4gZWxlbWVudCkge1xyXG4gICAgaWYgKGVsZW1lbnQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICBjYXNlIG9wdGlvbnMucGFyZW50S2V5OlxyXG4gICAgICBjYXNlIG9wdGlvbnMuYXR0cmlidXRlc0tleTpcclxuICAgICAgICBicmVhazsgLy8gc2tpcCB0byBuZXh0IGtleVxyXG4gICAgICBjYXNlIG9wdGlvbnMudGV4dEtleTpcclxuICAgICAgICBpZiAob3B0aW9ucy5pbmRlbnRUZXh0IHx8IGFueUNvbnRlbnQpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhazsgLy8gc2tpcCB0byBuZXh0IGtleVxyXG4gICAgICBjYXNlIG9wdGlvbnMuY2RhdGFLZXk6XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaW5kZW50Q2RhdGEgfHwgYW55Q29udGVudCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrOyAvLyBza2lwIHRvIG5leHQga2V5XHJcbiAgICAgIGNhc2Ugb3B0aW9ucy5pbnN0cnVjdGlvbktleTpcclxuICAgICAgICBpZiAob3B0aW9ucy5pbmRlbnRJbnN0cnVjdGlvbiB8fCBhbnlDb250ZW50KSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7IC8vIHNraXAgdG8gbmV4dCBrZXlcclxuICAgICAgY2FzZSBvcHRpb25zLmRvY3R5cGVLZXk6XHJcbiAgICAgIGNhc2Ugb3B0aW9ucy5jb21tZW50S2V5OlxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gd3JpdGVFbGVtZW50Q29tcGFjdChlbGVtZW50LCBuYW1lLCBvcHRpb25zLCBkZXB0aCwgaW5kZW50KSB7XHJcbiAgY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gIGN1cnJlbnRFbGVtZW50TmFtZSA9IG5hbWU7XHJcbiAgdmFyIGVsZW1lbnROYW1lID0gJ2VsZW1lbnROYW1lRm4nIGluIG9wdGlvbnMgPyBvcHRpb25zLmVsZW1lbnROYW1lRm4obmFtZSwgZWxlbWVudCkgOiBuYW1lO1xyXG4gIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgZWxlbWVudCA9PT0gbnVsbCkge1xyXG4gICAgcmV0dXJuICdmdWxsVGFnRW1wdHlFbGVtZW50Rm4nIGluIG9wdGlvbnMgJiYgb3B0aW9ucy5mdWxsVGFnRW1wdHlFbGVtZW50Rm4obmFtZSwgZWxlbWVudCkgfHwgb3B0aW9ucy5mdWxsVGFnRW1wdHlFbGVtZW50ID8gJzwnICsgZWxlbWVudE5hbWUgKyAnPjwvJyArIGVsZW1lbnROYW1lICsgJz4nIDogJzwnICsgZWxlbWVudE5hbWUgKyAnLz4nO1xyXG4gIH1cclxuICB2YXIgeG1sID0gW107XHJcbiAgaWYgKG5hbWUpIHtcclxuICAgIHhtbC5wdXNoKCc8JyArIGVsZW1lbnROYW1lKTtcclxuICAgIGlmICh0eXBlb2YgZWxlbWVudCAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgeG1sLnB1c2goJz4nICsgd3JpdGVUZXh0KGVsZW1lbnQsb3B0aW9ucykgKyAnPC8nICsgZWxlbWVudE5hbWUgKyAnPicpO1xyXG4gICAgICByZXR1cm4geG1sLmpvaW4oJycpO1xyXG4gICAgfVxyXG4gICAgaWYgKGVsZW1lbnRbb3B0aW9ucy5hdHRyaWJ1dGVzS2V5XSkge1xyXG4gICAgICB4bWwucHVzaCh3cml0ZUF0dHJpYnV0ZXMoZWxlbWVudFtvcHRpb25zLmF0dHJpYnV0ZXNLZXldLCBvcHRpb25zLCBkZXB0aCkpO1xyXG4gICAgfVxyXG4gICAgdmFyIHdpdGhDbG9zaW5nVGFnID0gaGFzQ29udGVudENvbXBhY3QoZWxlbWVudCwgb3B0aW9ucywgdHJ1ZSkgfHwgZWxlbWVudFtvcHRpb25zLmF0dHJpYnV0ZXNLZXldICYmIGVsZW1lbnRbb3B0aW9ucy5hdHRyaWJ1dGVzS2V5XVsneG1sOnNwYWNlJ10gPT09ICdwcmVzZXJ2ZSc7XHJcbiAgICBpZiAoIXdpdGhDbG9zaW5nVGFnKSB7XHJcbiAgICAgIGlmICgnZnVsbFRhZ0VtcHR5RWxlbWVudEZuJyBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgd2l0aENsb3NpbmdUYWcgPSBvcHRpb25zLmZ1bGxUYWdFbXB0eUVsZW1lbnRGbihuYW1lLCBlbGVtZW50KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3aXRoQ2xvc2luZ1RhZyA9IG9wdGlvbnMuZnVsbFRhZ0VtcHR5RWxlbWVudDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHdpdGhDbG9zaW5nVGFnKSB7XHJcbiAgICAgIHhtbC5wdXNoKCc+Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB4bWwucHVzaCgnLz4nKTtcclxuICAgICAgcmV0dXJuIHhtbC5qb2luKCcnKTtcclxuICAgIH1cclxuICB9XHJcbiAgeG1sLnB1c2god3JpdGVFbGVtZW50c0NvbXBhY3QoZWxlbWVudCwgb3B0aW9ucywgZGVwdGggKyAxLCBmYWxzZSkpO1xyXG4gIGN1cnJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICBjdXJyZW50RWxlbWVudE5hbWUgPSBuYW1lO1xyXG4gIGlmIChuYW1lKSB7XHJcbiAgICB4bWwucHVzaCgoaW5kZW50ID8gd3JpdGVJbmRlbnRhdGlvbihvcHRpb25zLCBkZXB0aCwgZmFsc2UpIDogJycpICsgJzwvJyArIGVsZW1lbnROYW1lICsgJz4nKTtcclxuICB9XHJcbiAgcmV0dXJuIHhtbC5qb2luKCcnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gd3JpdGVFbGVtZW50c0NvbXBhY3QoZWxlbWVudCwgb3B0aW9ucywgZGVwdGgsIGZpcnN0TGluZSkge1xyXG4gIHZhciBpLCBrZXksIG5vZGVzLCB4bWwgPSBbXTtcclxuICBmb3IgKGtleSBpbiBlbGVtZW50KSB7XHJcbiAgICBpZiAoZWxlbWVudC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgIG5vZGVzID0gaXNBcnJheShlbGVtZW50W2tleV0pID8gZWxlbWVudFtrZXldIDogW2VsZW1lbnRba2V5XV07XHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgY2FzZSBvcHRpb25zLmRlY2xhcmF0aW9uS2V5OiB4bWwucHVzaCh3cml0ZURlY2xhcmF0aW9uKG5vZGVzW2ldLCBvcHRpb25zLCBkZXB0aCkpOyBicmVhaztcclxuICAgICAgICBjYXNlIG9wdGlvbnMuaW5zdHJ1Y3Rpb25LZXk6IHhtbC5wdXNoKChvcHRpb25zLmluZGVudEluc3RydWN0aW9uID8gd3JpdGVJbmRlbnRhdGlvbihvcHRpb25zLCBkZXB0aCwgZmlyc3RMaW5lKSA6ICcnKSArIHdyaXRlSW5zdHJ1Y3Rpb24obm9kZXNbaV0sIG9wdGlvbnMsIGRlcHRoKSk7IGJyZWFrO1xyXG4gICAgICAgIGNhc2Ugb3B0aW9ucy5hdHRyaWJ1dGVzS2V5OiBjYXNlIG9wdGlvbnMucGFyZW50S2V5OiBicmVhazsgLy8gc2tpcFxyXG4gICAgICAgIGNhc2Ugb3B0aW9ucy50ZXh0S2V5OiB4bWwucHVzaCgob3B0aW9ucy5pbmRlbnRUZXh0ID8gd3JpdGVJbmRlbnRhdGlvbihvcHRpb25zLCBkZXB0aCwgZmlyc3RMaW5lKSA6ICcnKSArIHdyaXRlVGV4dChub2Rlc1tpXSwgb3B0aW9ucykpOyBicmVhaztcclxuICAgICAgICBjYXNlIG9wdGlvbnMuY2RhdGFLZXk6IHhtbC5wdXNoKChvcHRpb25zLmluZGVudENkYXRhID8gd3JpdGVJbmRlbnRhdGlvbihvcHRpb25zLCBkZXB0aCwgZmlyc3RMaW5lKSA6ICcnKSArIHdyaXRlQ2RhdGEobm9kZXNbaV0sIG9wdGlvbnMpKTsgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBvcHRpb25zLmRvY3R5cGVLZXk6IHhtbC5wdXNoKHdyaXRlSW5kZW50YXRpb24ob3B0aW9ucywgZGVwdGgsIGZpcnN0TGluZSkgKyB3cml0ZURvY3R5cGUobm9kZXNbaV0sIG9wdGlvbnMpKTsgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBvcHRpb25zLmNvbW1lbnRLZXk6IHhtbC5wdXNoKHdyaXRlSW5kZW50YXRpb24ob3B0aW9ucywgZGVwdGgsIGZpcnN0TGluZSkgKyB3cml0ZUNvbW1lbnQobm9kZXNbaV0sIG9wdGlvbnMpKTsgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDogeG1sLnB1c2god3JpdGVJbmRlbnRhdGlvbihvcHRpb25zLCBkZXB0aCwgZmlyc3RMaW5lKSArIHdyaXRlRWxlbWVudENvbXBhY3Qobm9kZXNbaV0sIGtleSwgb3B0aW9ucywgZGVwdGgsIGhhc0NvbnRlbnRDb21wYWN0KG5vZGVzW2ldLCBvcHRpb25zKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaXJzdExpbmUgPSBmaXJzdExpbmUgJiYgIXhtbC5sZW5ndGg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHhtbC5qb2luKCcnKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoanMsIG9wdGlvbnMpIHtcclxuICBvcHRpb25zID0gdmFsaWRhdGVPcHRpb25zKG9wdGlvbnMpO1xyXG4gIHZhciB4bWwgPSBbXTtcclxuICBjdXJyZW50RWxlbWVudCA9IGpzO1xyXG4gIGN1cnJlbnRFbGVtZW50TmFtZSA9ICdfcm9vdF8nO1xyXG4gIGlmIChvcHRpb25zLmNvbXBhY3QpIHtcclxuICAgIHhtbC5wdXNoKHdyaXRlRWxlbWVudHNDb21wYWN0KGpzLCBvcHRpb25zLCAwLCB0cnVlKSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChqc1tvcHRpb25zLmRlY2xhcmF0aW9uS2V5XSkge1xyXG4gICAgICB4bWwucHVzaCh3cml0ZURlY2xhcmF0aW9uKGpzW29wdGlvbnMuZGVjbGFyYXRpb25LZXldLCBvcHRpb25zLCAwKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoanNbb3B0aW9ucy5lbGVtZW50c0tleV0gJiYganNbb3B0aW9ucy5lbGVtZW50c0tleV0ubGVuZ3RoKSB7XHJcbiAgICAgIHhtbC5wdXNoKHdyaXRlRWxlbWVudHMoanNbb3B0aW9ucy5lbGVtZW50c0tleV0sIG9wdGlvbnMsIDAsICF4bWwubGVuZ3RoKSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB4bWwuam9pbignJyk7XHJcbn07XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XHJcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XHJcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcclxuXHR9XHJcblx0cmV0dXJuIG1vZHVsZTtcclxufTtcclxuIiwiLyogTUlUIGxpY2Vuc2UgKi9cbnZhciBjb2xvck5hbWVzID0gcmVxdWlyZSgnY29sb3ItbmFtZScpO1xudmFyIHN3aXp6bGUgPSByZXF1aXJlKCdzaW1wbGUtc3dpenpsZScpO1xuXG52YXIgcmV2ZXJzZU5hbWVzID0ge307XG5cbi8vIGNyZWF0ZSBhIGxpc3Qgb2YgcmV2ZXJzZSBjb2xvciBuYW1lc1xuZm9yICh2YXIgbmFtZSBpbiBjb2xvck5hbWVzKSB7XG5cdGlmIChjb2xvck5hbWVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG5cdFx0cmV2ZXJzZU5hbWVzW2NvbG9yTmFtZXNbbmFtZV1dID0gbmFtZTtcblx0fVxufVxuXG52YXIgY3MgPSBtb2R1bGUuZXhwb3J0cyA9IHtcblx0dG86IHt9LFxuXHRnZXQ6IHt9XG59O1xuXG5jcy5nZXQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG5cdHZhciBwcmVmaXggPSBzdHJpbmcuc3Vic3RyaW5nKDAsIDMpLnRvTG93ZXJDYXNlKCk7XG5cdHZhciB2YWw7XG5cdHZhciBtb2RlbDtcblx0c3dpdGNoIChwcmVmaXgpIHtcblx0XHRjYXNlICdoc2wnOlxuXHRcdFx0dmFsID0gY3MuZ2V0LmhzbChzdHJpbmcpO1xuXHRcdFx0bW9kZWwgPSAnaHNsJztcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ2h3Yic6XG5cdFx0XHR2YWwgPSBjcy5nZXQuaHdiKHN0cmluZyk7XG5cdFx0XHRtb2RlbCA9ICdod2InO1xuXHRcdFx0YnJlYWs7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHZhbCA9IGNzLmdldC5yZ2Ioc3RyaW5nKTtcblx0XHRcdG1vZGVsID0gJ3JnYic7XG5cdFx0XHRicmVhaztcblx0fVxuXG5cdGlmICghdmFsKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4ge21vZGVsOiBtb2RlbCwgdmFsdWU6IHZhbH07XG59O1xuXG5jcy5nZXQucmdiID0gZnVuY3Rpb24gKHN0cmluZykge1xuXHRpZiAoIXN0cmluZykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0dmFyIGFiYnIgPSAvXiMoW2EtZjAtOV17Myw0fSkkL2k7XG5cdHZhciBoZXggPSAvXiMoW2EtZjAtOV17Nn0pKFthLWYwLTldezJ9KT8kL2k7XG5cdHZhciByZ2JhID0gL15yZ2JhP1xcKFxccyooWystXT9cXGQrKVxccyosXFxzKihbKy1dP1xcZCspXFxzKixcXHMqKFsrLV0/XFxkKylcXHMqKD86LFxccyooWystXT9bXFxkXFwuXSspXFxzKik/XFwpJC87XG5cdHZhciBwZXIgPSAvXnJnYmE/XFwoXFxzKihbKy1dP1tcXGRcXC5dKylcXCVcXHMqLFxccyooWystXT9bXFxkXFwuXSspXFwlXFxzKixcXHMqKFsrLV0/W1xcZFxcLl0rKVxcJVxccyooPzosXFxzKihbKy1dP1tcXGRcXC5dKylcXHMqKT9cXCkkLztcblx0dmFyIGtleXdvcmQgPSAvKFxcRCspLztcblxuXHR2YXIgcmdiID0gWzAsIDAsIDAsIDFdO1xuXHR2YXIgbWF0Y2g7XG5cdHZhciBpO1xuXHR2YXIgaGV4QWxwaGE7XG5cblx0aWYgKG1hdGNoID0gc3RyaW5nLm1hdGNoKGhleCkpIHtcblx0XHRoZXhBbHBoYSA9IG1hdGNoWzJdO1xuXHRcdG1hdGNoID0gbWF0Y2hbMV07XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG5cdFx0XHQvLyBodHRwczovL2pzcGVyZi5jb20vc2xpY2UtdnMtc3Vic3RyLXZzLXN1YnN0cmluZy1tZXRob2RzLWxvbmctc3RyaW5nLzE5XG5cdFx0XHR2YXIgaTIgPSBpICogMjtcblx0XHRcdHJnYltpXSA9IHBhcnNlSW50KG1hdGNoLnNsaWNlKGkyLCBpMiArIDIpLCAxNik7XG5cdFx0fVxuXG5cdFx0aWYgKGhleEFscGhhKSB7XG5cdFx0XHRyZ2JbM10gPSBNYXRoLnJvdW5kKChwYXJzZUludChoZXhBbHBoYSwgMTYpIC8gMjU1KSAqIDEwMCkgLyAxMDA7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG1hdGNoID0gc3RyaW5nLm1hdGNoKGFiYnIpKSB7XG5cdFx0bWF0Y2ggPSBtYXRjaFsxXTtcblx0XHRoZXhBbHBoYSA9IG1hdGNoWzNdO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IDM7IGkrKykge1xuXHRcdFx0cmdiW2ldID0gcGFyc2VJbnQobWF0Y2hbaV0gKyBtYXRjaFtpXSwgMTYpO1xuXHRcdH1cblxuXHRcdGlmIChoZXhBbHBoYSkge1xuXHRcdFx0cmdiWzNdID0gTWF0aC5yb3VuZCgocGFyc2VJbnQoaGV4QWxwaGEgKyBoZXhBbHBoYSwgMTYpIC8gMjU1KSAqIDEwMCkgLyAxMDA7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG1hdGNoID0gc3RyaW5nLm1hdGNoKHJnYmEpKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IDM7IGkrKykge1xuXHRcdFx0cmdiW2ldID0gcGFyc2VJbnQobWF0Y2hbaSArIDFdLCAwKTtcblx0XHR9XG5cblx0XHRpZiAobWF0Y2hbNF0pIHtcblx0XHRcdHJnYlszXSA9IHBhcnNlRmxvYXQobWF0Y2hbNF0pO1xuXHRcdH1cblx0fSBlbHNlIGlmIChtYXRjaCA9IHN0cmluZy5tYXRjaChwZXIpKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IDM7IGkrKykge1xuXHRcdFx0cmdiW2ldID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KG1hdGNoW2kgKyAxXSkgKiAyLjU1KTtcblx0XHR9XG5cblx0XHRpZiAobWF0Y2hbNF0pIHtcblx0XHRcdHJnYlszXSA9IHBhcnNlRmxvYXQobWF0Y2hbNF0pO1xuXHRcdH1cblx0fSBlbHNlIGlmIChtYXRjaCA9IHN0cmluZy5tYXRjaChrZXl3b3JkKSkge1xuXHRcdGlmIChtYXRjaFsxXSA9PT0gJ3RyYW5zcGFyZW50Jykge1xuXHRcdFx0cmV0dXJuIFswLCAwLCAwLCAwXTtcblx0XHR9XG5cblx0XHRyZ2IgPSBjb2xvck5hbWVzW21hdGNoWzFdXTtcblxuXHRcdGlmICghcmdiKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHRyZ2JbM10gPSAxO1xuXG5cdFx0cmV0dXJuIHJnYjtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcblx0XHRyZ2JbaV0gPSBjbGFtcChyZ2JbaV0sIDAsIDI1NSk7XG5cdH1cblx0cmdiWzNdID0gY2xhbXAocmdiWzNdLCAwLCAxKTtcblxuXHRyZXR1cm4gcmdiO1xufTtcblxuY3MuZ2V0LmhzbCA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcblx0aWYgKCFzdHJpbmcpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHZhciBoc2wgPSAvXmhzbGE/XFwoXFxzKihbKy1dPyg/OlxcZCpcXC4pP1xcZCspKD86ZGVnKT9cXHMqLFxccyooWystXT9bXFxkXFwuXSspJVxccyosXFxzKihbKy1dP1tcXGRcXC5dKyklXFxzKig/OixcXHMqKFsrLV0/W1xcZFxcLl0rKVxccyopP1xcKSQvO1xuXHR2YXIgbWF0Y2ggPSBzdHJpbmcubWF0Y2goaHNsKTtcblxuXHRpZiAobWF0Y2gpIHtcblx0XHR2YXIgYWxwaGEgPSBwYXJzZUZsb2F0KG1hdGNoWzRdKTtcblx0XHR2YXIgaCA9IChwYXJzZUZsb2F0KG1hdGNoWzFdKSArIDM2MCkgJSAzNjA7XG5cdFx0dmFyIHMgPSBjbGFtcChwYXJzZUZsb2F0KG1hdGNoWzJdKSwgMCwgMTAwKTtcblx0XHR2YXIgbCA9IGNsYW1wKHBhcnNlRmxvYXQobWF0Y2hbM10pLCAwLCAxMDApO1xuXHRcdHZhciBhID0gY2xhbXAoaXNOYU4oYWxwaGEpID8gMSA6IGFscGhhLCAwLCAxKTtcblxuXHRcdHJldHVybiBbaCwgcywgbCwgYV07XG5cdH1cblxuXHRyZXR1cm4gbnVsbDtcbn07XG5cbmNzLmdldC5od2IgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG5cdGlmICghc3RyaW5nKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHR2YXIgaHdiID0gL15od2JcXChcXHMqKFsrLV0/XFxkKltcXC5dP1xcZCspKD86ZGVnKT9cXHMqLFxccyooWystXT9bXFxkXFwuXSspJVxccyosXFxzKihbKy1dP1tcXGRcXC5dKyklXFxzKig/OixcXHMqKFsrLV0/W1xcZFxcLl0rKVxccyopP1xcKSQvO1xuXHR2YXIgbWF0Y2ggPSBzdHJpbmcubWF0Y2goaHdiKTtcblxuXHRpZiAobWF0Y2gpIHtcblx0XHR2YXIgYWxwaGEgPSBwYXJzZUZsb2F0KG1hdGNoWzRdKTtcblx0XHR2YXIgaCA9ICgocGFyc2VGbG9hdChtYXRjaFsxXSkgJSAzNjApICsgMzYwKSAlIDM2MDtcblx0XHR2YXIgdyA9IGNsYW1wKHBhcnNlRmxvYXQobWF0Y2hbMl0pLCAwLCAxMDApO1xuXHRcdHZhciBiID0gY2xhbXAocGFyc2VGbG9hdChtYXRjaFszXSksIDAsIDEwMCk7XG5cdFx0dmFyIGEgPSBjbGFtcChpc05hTihhbHBoYSkgPyAxIDogYWxwaGEsIDAsIDEpO1xuXHRcdHJldHVybiBbaCwgdywgYiwgYV07XG5cdH1cblxuXHRyZXR1cm4gbnVsbDtcbn07XG5cbmNzLnRvLmhleCA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIHJnYmEgPSBzd2l6emxlKGFyZ3VtZW50cyk7XG5cblx0cmV0dXJuIChcblx0XHQnIycgK1xuXHRcdGhleERvdWJsZShyZ2JhWzBdKSArXG5cdFx0aGV4RG91YmxlKHJnYmFbMV0pICtcblx0XHRoZXhEb3VibGUocmdiYVsyXSkgK1xuXHRcdChyZ2JhWzNdIDwgMVxuXHRcdFx0PyAoaGV4RG91YmxlKE1hdGgucm91bmQocmdiYVszXSAqIDI1NSkpKVxuXHRcdFx0OiAnJylcblx0KTtcbn07XG5cbmNzLnRvLnJnYiA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIHJnYmEgPSBzd2l6emxlKGFyZ3VtZW50cyk7XG5cblx0cmV0dXJuIHJnYmEubGVuZ3RoIDwgNCB8fCByZ2JhWzNdID09PSAxXG5cdFx0PyAncmdiKCcgKyBNYXRoLnJvdW5kKHJnYmFbMF0pICsgJywgJyArIE1hdGgucm91bmQocmdiYVsxXSkgKyAnLCAnICsgTWF0aC5yb3VuZChyZ2JhWzJdKSArICcpJ1xuXHRcdDogJ3JnYmEoJyArIE1hdGgucm91bmQocmdiYVswXSkgKyAnLCAnICsgTWF0aC5yb3VuZChyZ2JhWzFdKSArICcsICcgKyBNYXRoLnJvdW5kKHJnYmFbMl0pICsgJywgJyArIHJnYmFbM10gKyAnKSc7XG59O1xuXG5jcy50by5yZ2IucGVyY2VudCA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIHJnYmEgPSBzd2l6emxlKGFyZ3VtZW50cyk7XG5cblx0dmFyIHIgPSBNYXRoLnJvdW5kKHJnYmFbMF0gLyAyNTUgKiAxMDApO1xuXHR2YXIgZyA9IE1hdGgucm91bmQocmdiYVsxXSAvIDI1NSAqIDEwMCk7XG5cdHZhciBiID0gTWF0aC5yb3VuZChyZ2JhWzJdIC8gMjU1ICogMTAwKTtcblxuXHRyZXR1cm4gcmdiYS5sZW5ndGggPCA0IHx8IHJnYmFbM10gPT09IDFcblx0XHQ/ICdyZ2IoJyArIHIgKyAnJSwgJyArIGcgKyAnJSwgJyArIGIgKyAnJSknXG5cdFx0OiAncmdiYSgnICsgciArICclLCAnICsgZyArICclLCAnICsgYiArICclLCAnICsgcmdiYVszXSArICcpJztcbn07XG5cbmNzLnRvLmhzbCA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIGhzbGEgPSBzd2l6emxlKGFyZ3VtZW50cyk7XG5cdHJldHVybiBoc2xhLmxlbmd0aCA8IDQgfHwgaHNsYVszXSA9PT0gMVxuXHRcdD8gJ2hzbCgnICsgaHNsYVswXSArICcsICcgKyBoc2xhWzFdICsgJyUsICcgKyBoc2xhWzJdICsgJyUpJ1xuXHRcdDogJ2hzbGEoJyArIGhzbGFbMF0gKyAnLCAnICsgaHNsYVsxXSArICclLCAnICsgaHNsYVsyXSArICclLCAnICsgaHNsYVszXSArICcpJztcbn07XG5cbi8vIGh3YiBpcyBhIGJpdCBkaWZmZXJlbnQgdGhhbiByZ2IoYSkgJiBoc2woYSkgc2luY2UgdGhlcmUgaXMgbm8gYWxwaGEgc3BlY2lmaWMgc3ludGF4XG4vLyAoaHdiIGhhdmUgYWxwaGEgb3B0aW9uYWwgJiAxIGlzIGRlZmF1bHQgdmFsdWUpXG5jcy50by5od2IgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBod2JhID0gc3dpenpsZShhcmd1bWVudHMpO1xuXG5cdHZhciBhID0gJyc7XG5cdGlmIChod2JhLmxlbmd0aCA+PSA0ICYmIGh3YmFbM10gIT09IDEpIHtcblx0XHRhID0gJywgJyArIGh3YmFbM107XG5cdH1cblxuXHRyZXR1cm4gJ2h3YignICsgaHdiYVswXSArICcsICcgKyBod2JhWzFdICsgJyUsICcgKyBod2JhWzJdICsgJyUnICsgYSArICcpJztcbn07XG5cbmNzLnRvLmtleXdvcmQgPSBmdW5jdGlvbiAocmdiKSB7XG5cdHJldHVybiByZXZlcnNlTmFtZXNbcmdiLnNsaWNlKDAsIDMpXTtcbn07XG5cbi8vIGhlbHBlcnNcbmZ1bmN0aW9uIGNsYW1wKG51bSwgbWluLCBtYXgpIHtcblx0cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG1pbiwgbnVtKSwgbWF4KTtcbn1cblxuZnVuY3Rpb24gaGV4RG91YmxlKG51bSkge1xuXHR2YXIgc3RyID0gbnVtLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuXHRyZXR1cm4gKHN0ci5sZW5ndGggPCAyKSA/ICcwJyArIHN0ciA6IHN0cjtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGlzQXJyYXlpc2ggPSByZXF1aXJlKCdpcy1hcnJheWlzaCcpO1xuXG52YXIgY29uY2F0ID0gQXJyYXkucHJvdG90eXBlLmNvbmNhdDtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxudmFyIHN3aXp6bGUgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN3aXp6bGUoYXJncykge1xuXHR2YXIgcmVzdWx0cyA9IFtdO1xuXG5cdGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0dmFyIGFyZyA9IGFyZ3NbaV07XG5cblx0XHRpZiAoaXNBcnJheWlzaChhcmcpKSB7XG5cdFx0XHQvLyBodHRwOi8vanNwZXJmLmNvbS9qYXZhc2NyaXB0LWFycmF5LWNvbmNhdC12cy1wdXNoLzk4XG5cdFx0XHRyZXN1bHRzID0gY29uY2F0LmNhbGwocmVzdWx0cywgc2xpY2UuY2FsbChhcmcpKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0cy5wdXNoKGFyZyk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdHM7XG59O1xuXG5zd2l6emxlLndyYXAgPSBmdW5jdGlvbiAoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gZm4oc3dpenpsZShhcmd1bWVudHMpKTtcblx0fTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQXJyYXlpc2gob2JqKSB7XG5cdGlmICghb2JqIHx8IHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIG9iaiBpbnN0YW5jZW9mIEFycmF5IHx8IEFycmF5LmlzQXJyYXkob2JqKSB8fFxuXHRcdChvYmoubGVuZ3RoID49IDAgJiYgKG9iai5zcGxpY2UgaW5zdGFuY2VvZiBGdW5jdGlvbiB8fFxuXHRcdFx0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCAob2JqLmxlbmd0aCAtIDEpKSAmJiBvYmouY29uc3RydWN0b3IubmFtZSAhPT0gJ1N0cmluZycpKSk7XG59O1xuIiwidmFyIGNvbnZlcnNpb25zID0gcmVxdWlyZSgnLi9jb252ZXJzaW9ucycpO1xudmFyIHJvdXRlID0gcmVxdWlyZSgnLi9yb3V0ZScpO1xuXG52YXIgY29udmVydCA9IHt9O1xuXG52YXIgbW9kZWxzID0gT2JqZWN0LmtleXMoY29udmVyc2lvbnMpO1xuXG5mdW5jdGlvbiB3cmFwUmF3KGZuKSB7XG5cdHZhciB3cmFwcGVkRm4gPSBmdW5jdGlvbiAoYXJncykge1xuXHRcdGlmIChhcmdzID09PSB1bmRlZmluZWQgfHwgYXJncyA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIGFyZ3M7XG5cdFx0fVxuXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdFx0XHRhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZm4oYXJncyk7XG5cdH07XG5cblx0Ly8gcHJlc2VydmUgLmNvbnZlcnNpb24gcHJvcGVydHkgaWYgdGhlcmUgaXMgb25lXG5cdGlmICgnY29udmVyc2lvbicgaW4gZm4pIHtcblx0XHR3cmFwcGVkRm4uY29udmVyc2lvbiA9IGZuLmNvbnZlcnNpb247XG5cdH1cblxuXHRyZXR1cm4gd3JhcHBlZEZuO1xufVxuXG5mdW5jdGlvbiB3cmFwUm91bmRlZChmbikge1xuXHR2YXIgd3JhcHBlZEZuID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0XHRpZiAoYXJncyA9PT0gdW5kZWZpbmVkIHx8IGFyZ3MgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiBhcmdzO1xuXHRcdH1cblxuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHRcdFx0YXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cdFx0fVxuXG5cdFx0dmFyIHJlc3VsdCA9IGZuKGFyZ3MpO1xuXG5cdFx0Ly8gd2UncmUgYXNzdW1pbmcgdGhlIHJlc3VsdCBpcyBhbiBhcnJheSBoZXJlLlxuXHRcdC8vIHNlZSBub3RpY2UgaW4gY29udmVyc2lvbnMuanM7IGRvbid0IHVzZSBib3ggdHlwZXNcblx0XHQvLyBpbiBjb252ZXJzaW9uIGZ1bmN0aW9ucy5cblx0XHRpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcpIHtcblx0XHRcdGZvciAodmFyIGxlbiA9IHJlc3VsdC5sZW5ndGgsIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0cmVzdWx0W2ldID0gTWF0aC5yb3VuZChyZXN1bHRbaV0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH07XG5cblx0Ly8gcHJlc2VydmUgLmNvbnZlcnNpb24gcHJvcGVydHkgaWYgdGhlcmUgaXMgb25lXG5cdGlmICgnY29udmVyc2lvbicgaW4gZm4pIHtcblx0XHR3cmFwcGVkRm4uY29udmVyc2lvbiA9IGZuLmNvbnZlcnNpb247XG5cdH1cblxuXHRyZXR1cm4gd3JhcHBlZEZuO1xufVxuXG5tb2RlbHMuZm9yRWFjaChmdW5jdGlvbiAoZnJvbU1vZGVsKSB7XG5cdGNvbnZlcnRbZnJvbU1vZGVsXSA9IHt9O1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb252ZXJ0W2Zyb21Nb2RlbF0sICdjaGFubmVscycsIHt2YWx1ZTogY29udmVyc2lvbnNbZnJvbU1vZGVsXS5jaGFubmVsc30pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udmVydFtmcm9tTW9kZWxdLCAnbGFiZWxzJywge3ZhbHVlOiBjb252ZXJzaW9uc1tmcm9tTW9kZWxdLmxhYmVsc30pO1xuXG5cdHZhciByb3V0ZXMgPSByb3V0ZShmcm9tTW9kZWwpO1xuXHR2YXIgcm91dGVNb2RlbHMgPSBPYmplY3Qua2V5cyhyb3V0ZXMpO1xuXG5cdHJvdXRlTW9kZWxzLmZvckVhY2goZnVuY3Rpb24gKHRvTW9kZWwpIHtcblx0XHR2YXIgZm4gPSByb3V0ZXNbdG9Nb2RlbF07XG5cblx0XHRjb252ZXJ0W2Zyb21Nb2RlbF1bdG9Nb2RlbF0gPSB3cmFwUm91bmRlZChmbik7XG5cdFx0Y29udmVydFtmcm9tTW9kZWxdW3RvTW9kZWxdLnJhdyA9IHdyYXBSYXcoZm4pO1xuXHR9KTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnZlcnQ7XG4iLCJ2YXIgY29udmVyc2lvbnMgPSByZXF1aXJlKCcuL2NvbnZlcnNpb25zJyk7XG5cbi8qXG5cdHRoaXMgZnVuY3Rpb24gcm91dGVzIGEgbW9kZWwgdG8gYWxsIG90aGVyIG1vZGVscy5cblxuXHRhbGwgZnVuY3Rpb25zIHRoYXQgYXJlIHJvdXRlZCBoYXZlIGEgcHJvcGVydHkgYC5jb252ZXJzaW9uYCBhdHRhY2hlZFxuXHR0byB0aGUgcmV0dXJuZWQgc3ludGhldGljIGZ1bmN0aW9uLiBUaGlzIHByb3BlcnR5IGlzIGFuIGFycmF5XG5cdG9mIHN0cmluZ3MsIGVhY2ggd2l0aCB0aGUgc3RlcHMgaW4gYmV0d2VlbiB0aGUgJ2Zyb20nIGFuZCAndG8nXG5cdGNvbG9yIG1vZGVscyAoaW5jbHVzaXZlKS5cblxuXHRjb252ZXJzaW9ucyB0aGF0IGFyZSBub3QgcG9zc2libGUgc2ltcGx5IGFyZSBub3QgaW5jbHVkZWQuXG4qL1xuXG5mdW5jdGlvbiBidWlsZEdyYXBoKCkge1xuXHR2YXIgZ3JhcGggPSB7fTtcblx0Ly8gaHR0cHM6Ly9qc3BlcmYuY29tL29iamVjdC1rZXlzLXZzLWZvci1pbi13aXRoLWNsb3N1cmUvM1xuXHR2YXIgbW9kZWxzID0gT2JqZWN0LmtleXMoY29udmVyc2lvbnMpO1xuXG5cdGZvciAodmFyIGxlbiA9IG1vZGVscy5sZW5ndGgsIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRncmFwaFttb2RlbHNbaV1dID0ge1xuXHRcdFx0Ly8gaHR0cDovL2pzcGVyZi5jb20vMS12cy1pbmZpbml0eVxuXHRcdFx0Ly8gbWljcm8tb3B0LCBidXQgdGhpcyBpcyBzaW1wbGUuXG5cdFx0XHRkaXN0YW5jZTogLTEsXG5cdFx0XHRwYXJlbnQ6IG51bGxcblx0XHR9O1xuXHR9XG5cblx0cmV0dXJuIGdyYXBoO1xufVxuXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CcmVhZHRoLWZpcnN0X3NlYXJjaFxuZnVuY3Rpb24gZGVyaXZlQkZTKGZyb21Nb2RlbCkge1xuXHR2YXIgZ3JhcGggPSBidWlsZEdyYXBoKCk7XG5cdHZhciBxdWV1ZSA9IFtmcm9tTW9kZWxdOyAvLyB1bnNoaWZ0IC0+IHF1ZXVlIC0+IHBvcFxuXG5cdGdyYXBoW2Zyb21Nb2RlbF0uZGlzdGFuY2UgPSAwO1xuXG5cdHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcblx0XHR2YXIgY3VycmVudCA9IHF1ZXVlLnBvcCgpO1xuXHRcdHZhciBhZGphY2VudHMgPSBPYmplY3Qua2V5cyhjb252ZXJzaW9uc1tjdXJyZW50XSk7XG5cblx0XHRmb3IgKHZhciBsZW4gPSBhZGphY2VudHMubGVuZ3RoLCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHR2YXIgYWRqYWNlbnQgPSBhZGphY2VudHNbaV07XG5cdFx0XHR2YXIgbm9kZSA9IGdyYXBoW2FkamFjZW50XTtcblxuXHRcdFx0aWYgKG5vZGUuZGlzdGFuY2UgPT09IC0xKSB7XG5cdFx0XHRcdG5vZGUuZGlzdGFuY2UgPSBncmFwaFtjdXJyZW50XS5kaXN0YW5jZSArIDE7XG5cdFx0XHRcdG5vZGUucGFyZW50ID0gY3VycmVudDtcblx0XHRcdFx0cXVldWUudW5zaGlmdChhZGphY2VudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGdyYXBoO1xufVxuXG5mdW5jdGlvbiBsaW5rKGZyb20sIHRvKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoYXJncykge1xuXHRcdHJldHVybiB0byhmcm9tKGFyZ3MpKTtcblx0fTtcbn1cblxuZnVuY3Rpb24gd3JhcENvbnZlcnNpb24odG9Nb2RlbCwgZ3JhcGgpIHtcblx0dmFyIHBhdGggPSBbZ3JhcGhbdG9Nb2RlbF0ucGFyZW50LCB0b01vZGVsXTtcblx0dmFyIGZuID0gY29udmVyc2lvbnNbZ3JhcGhbdG9Nb2RlbF0ucGFyZW50XVt0b01vZGVsXTtcblxuXHR2YXIgY3VyID0gZ3JhcGhbdG9Nb2RlbF0ucGFyZW50O1xuXHR3aGlsZSAoZ3JhcGhbY3VyXS5wYXJlbnQpIHtcblx0XHRwYXRoLnVuc2hpZnQoZ3JhcGhbY3VyXS5wYXJlbnQpO1xuXHRcdGZuID0gbGluayhjb252ZXJzaW9uc1tncmFwaFtjdXJdLnBhcmVudF1bY3VyXSwgZm4pO1xuXHRcdGN1ciA9IGdyYXBoW2N1cl0ucGFyZW50O1xuXHR9XG5cblx0Zm4uY29udmVyc2lvbiA9IHBhdGg7XG5cdHJldHVybiBmbjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZnJvbU1vZGVsKSB7XG5cdHZhciBncmFwaCA9IGRlcml2ZUJGUyhmcm9tTW9kZWwpO1xuXHR2YXIgY29udmVyc2lvbiA9IHt9O1xuXG5cdHZhciBtb2RlbHMgPSBPYmplY3Qua2V5cyhncmFwaCk7XG5cdGZvciAodmFyIGxlbiA9IG1vZGVscy5sZW5ndGgsIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHR2YXIgdG9Nb2RlbCA9IG1vZGVsc1tpXTtcblx0XHR2YXIgbm9kZSA9IGdyYXBoW3RvTW9kZWxdO1xuXG5cdFx0aWYgKG5vZGUucGFyZW50ID09PSBudWxsKSB7XG5cdFx0XHQvLyBubyBwb3NzaWJsZSBjb252ZXJzaW9uLCBvciB0aGlzIG5vZGUgaXMgdGhlIHNvdXJjZSBtb2RlbC5cblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGNvbnZlcnNpb25bdG9Nb2RlbF0gPSB3cmFwQ29udmVyc2lvbih0b01vZGVsLCBncmFwaCk7XG5cdH1cblxuXHRyZXR1cm4gY29udmVyc2lvbjtcbn07XG5cbiIsIjsoZnVuY3Rpb24gKHNheCkgeyAvLyB3cmFwcGVyIGZvciBub24tbm9kZSBlbnZzXG4gIHNheC5wYXJzZXIgPSBmdW5jdGlvbiAoc3RyaWN0LCBvcHQpIHsgcmV0dXJuIG5ldyBTQVhQYXJzZXIoc3RyaWN0LCBvcHQpIH1cbiAgc2F4LlNBWFBhcnNlciA9IFNBWFBhcnNlclxuICBzYXguU0FYU3RyZWFtID0gU0FYU3RyZWFtXG4gIHNheC5jcmVhdGVTdHJlYW0gPSBjcmVhdGVTdHJlYW1cblxuICAvLyBXaGVuIHdlIHBhc3MgdGhlIE1BWF9CVUZGRVJfTEVOR1RIIHBvc2l0aW9uLCBzdGFydCBjaGVja2luZyBmb3IgYnVmZmVyIG92ZXJydW5zLlxuICAvLyBXaGVuIHdlIGNoZWNrLCBzY2hlZHVsZSB0aGUgbmV4dCBjaGVjayBmb3IgTUFYX0JVRkZFUl9MRU5HVEggLSAobWF4KGJ1ZmZlciBsZW5ndGhzKSksXG4gIC8vIHNpbmNlIHRoYXQncyB0aGUgZWFybGllc3QgdGhhdCBhIGJ1ZmZlciBvdmVycnVuIGNvdWxkIG9jY3VyLiAgVGhpcyB3YXksIGNoZWNrcyBhcmVcbiAgLy8gYXMgcmFyZSBhcyByZXF1aXJlZCwgYnV0IGFzIG9mdGVuIGFzIG5lY2Vzc2FyeSB0byBlbnN1cmUgbmV2ZXIgY3Jvc3NpbmcgdGhpcyBib3VuZC5cbiAgLy8gRnVydGhlcm1vcmUsIGJ1ZmZlcnMgYXJlIG9ubHkgdGVzdGVkIGF0IG1vc3Qgb25jZSBwZXIgd3JpdGUoKSwgc28gcGFzc2luZyBhIHZlcnlcbiAgLy8gbGFyZ2Ugc3RyaW5nIGludG8gd3JpdGUoKSBtaWdodCBoYXZlIHVuZGVzaXJhYmxlIGVmZmVjdHMsIGJ1dCB0aGlzIGlzIG1hbmFnZWFibGUgYnlcbiAgLy8gdGhlIGNhbGxlciwgc28gaXQgaXMgYXNzdW1lZCB0byBiZSBzYWZlLiAgVGh1cywgYSBjYWxsIHRvIHdyaXRlKCkgbWF5LCBpbiB0aGUgZXh0cmVtZVxuICAvLyBlZGdlIGNhc2UsIHJlc3VsdCBpbiBjcmVhdGluZyBhdCBtb3N0IG9uZSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBzdHJpbmcgcGFzc2VkIGluLlxuICAvLyBTZXQgdG8gSW5maW5pdHkgdG8gaGF2ZSB1bmxpbWl0ZWQgYnVmZmVycy5cbiAgc2F4Lk1BWF9CVUZGRVJfTEVOR1RIID0gNjQgKiAxMDI0XG5cbiAgdmFyIGJ1ZmZlcnMgPSBbXG4gICAgJ2NvbW1lbnQnLCAnc2dtbERlY2wnLCAndGV4dE5vZGUnLCAndGFnTmFtZScsICdkb2N0eXBlJyxcbiAgICAncHJvY0luc3ROYW1lJywgJ3Byb2NJbnN0Qm9keScsICdlbnRpdHknLCAnYXR0cmliTmFtZScsXG4gICAgJ2F0dHJpYlZhbHVlJywgJ2NkYXRhJywgJ3NjcmlwdCdcbiAgXVxuXG4gIHNheC5FVkVOVFMgPSBbXG4gICAgJ3RleHQnLFxuICAgICdwcm9jZXNzaW5naW5zdHJ1Y3Rpb24nLFxuICAgICdzZ21sZGVjbGFyYXRpb24nLFxuICAgICdkb2N0eXBlJyxcbiAgICAnY29tbWVudCcsXG4gICAgJ29wZW50YWdzdGFydCcsXG4gICAgJ2F0dHJpYnV0ZScsXG4gICAgJ29wZW50YWcnLFxuICAgICdjbG9zZXRhZycsXG4gICAgJ29wZW5jZGF0YScsXG4gICAgJ2NkYXRhJyxcbiAgICAnY2xvc2VjZGF0YScsXG4gICAgJ2Vycm9yJyxcbiAgICAnZW5kJyxcbiAgICAncmVhZHknLFxuICAgICdzY3JpcHQnLFxuICAgICdvcGVubmFtZXNwYWNlJyxcbiAgICAnY2xvc2VuYW1lc3BhY2UnXG4gIF1cblxuICBmdW5jdGlvbiBTQVhQYXJzZXIgKHN0cmljdCwgb3B0KSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNBWFBhcnNlcikpIHtcbiAgICAgIHJldHVybiBuZXcgU0FYUGFyc2VyKHN0cmljdCwgb3B0KVxuICAgIH1cblxuICAgIHZhciBwYXJzZXIgPSB0aGlzXG4gICAgY2xlYXJCdWZmZXJzKHBhcnNlcilcbiAgICBwYXJzZXIucSA9IHBhcnNlci5jID0gJydcbiAgICBwYXJzZXIuYnVmZmVyQ2hlY2tQb3NpdGlvbiA9IHNheC5NQVhfQlVGRkVSX0xFTkdUSFxuICAgIHBhcnNlci5vcHQgPSBvcHQgfHwge31cbiAgICBwYXJzZXIub3B0Lmxvd2VyY2FzZSA9IHBhcnNlci5vcHQubG93ZXJjYXNlIHx8IHBhcnNlci5vcHQubG93ZXJjYXNldGFnc1xuICAgIHBhcnNlci5sb29zZUNhc2UgPSBwYXJzZXIub3B0Lmxvd2VyY2FzZSA/ICd0b0xvd2VyQ2FzZScgOiAndG9VcHBlckNhc2UnXG4gICAgcGFyc2VyLnRhZ3MgPSBbXVxuICAgIHBhcnNlci5jbG9zZWQgPSBwYXJzZXIuY2xvc2VkUm9vdCA9IHBhcnNlci5zYXdSb290ID0gZmFsc2VcbiAgICBwYXJzZXIudGFnID0gcGFyc2VyLmVycm9yID0gbnVsbFxuICAgIHBhcnNlci5zdHJpY3QgPSAhIXN0cmljdFxuICAgIHBhcnNlci5ub3NjcmlwdCA9ICEhKHN0cmljdCB8fCBwYXJzZXIub3B0Lm5vc2NyaXB0KVxuICAgIHBhcnNlci5zdGF0ZSA9IFMuQkVHSU5cbiAgICBwYXJzZXIuc3RyaWN0RW50aXRpZXMgPSBwYXJzZXIub3B0LnN0cmljdEVudGl0aWVzXG4gICAgcGFyc2VyLkVOVElUSUVTID0gcGFyc2VyLnN0cmljdEVudGl0aWVzID8gT2JqZWN0LmNyZWF0ZShzYXguWE1MX0VOVElUSUVTKSA6IE9iamVjdC5jcmVhdGUoc2F4LkVOVElUSUVTKVxuICAgIHBhcnNlci5hdHRyaWJMaXN0ID0gW11cblxuICAgIC8vIG5hbWVzcGFjZXMgZm9ybSBhIHByb3RvdHlwZSBjaGFpbi5cbiAgICAvLyBpdCBhbHdheXMgcG9pbnRzIGF0IHRoZSBjdXJyZW50IHRhZyxcbiAgICAvLyB3aGljaCBwcm90b3MgdG8gaXRzIHBhcmVudCB0YWcuXG4gICAgaWYgKHBhcnNlci5vcHQueG1sbnMpIHtcbiAgICAgIHBhcnNlci5ucyA9IE9iamVjdC5jcmVhdGUocm9vdE5TKVxuICAgIH1cblxuICAgIC8vIG1vc3RseSBqdXN0IGZvciBlcnJvciByZXBvcnRpbmdcbiAgICBwYXJzZXIudHJhY2tQb3NpdGlvbiA9IHBhcnNlci5vcHQucG9zaXRpb24gIT09IGZhbHNlXG4gICAgaWYgKHBhcnNlci50cmFja1Bvc2l0aW9uKSB7XG4gICAgICBwYXJzZXIucG9zaXRpb24gPSBwYXJzZXIubGluZSA9IHBhcnNlci5jb2x1bW4gPSAwXG4gICAgfVxuICAgIGVtaXQocGFyc2VyLCAnb25yZWFkeScpXG4gIH1cblxuICBpZiAoIU9iamVjdC5jcmVhdGUpIHtcbiAgICBPYmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgIGZ1bmN0aW9uIEYgKCkge31cbiAgICAgIEYucHJvdG90eXBlID0gb1xuICAgICAgdmFyIG5ld2YgPSBuZXcgRigpXG4gICAgICByZXR1cm4gbmV3ZlxuICAgIH1cbiAgfVxuXG4gIGlmICghT2JqZWN0LmtleXMpIHtcbiAgICBPYmplY3Qua2V5cyA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICB2YXIgYSA9IFtdXG4gICAgICBmb3IgKHZhciBpIGluIG8pIGlmIChvLmhhc093blByb3BlcnR5KGkpKSBhLnB1c2goaSlcbiAgICAgIHJldHVybiBhXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tCdWZmZXJMZW5ndGggKHBhcnNlcikge1xuICAgIHZhciBtYXhBbGxvd2VkID0gTWF0aC5tYXgoc2F4Lk1BWF9CVUZGRVJfTEVOR1RILCAxMClcbiAgICB2YXIgbWF4QWN0dWFsID0gMFxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYnVmZmVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBsZW4gPSBwYXJzZXJbYnVmZmVyc1tpXV0ubGVuZ3RoXG4gICAgICBpZiAobGVuID4gbWF4QWxsb3dlZCkge1xuICAgICAgICAvLyBUZXh0L2NkYXRhIG5vZGVzIGNhbiBnZXQgYmlnLCBhbmQgc2luY2UgdGhleSdyZSBidWZmZXJlZCxcbiAgICAgICAgLy8gd2UgY2FuIGdldCBoZXJlIHVuZGVyIG5vcm1hbCBjb25kaXRpb25zLlxuICAgICAgICAvLyBBdm9pZCBpc3N1ZXMgYnkgZW1pdHRpbmcgdGhlIHRleHQgbm9kZSBub3csXG4gICAgICAgIC8vIHNvIGF0IGxlYXN0IGl0IHdvbid0IGdldCBhbnkgYmlnZ2VyLlxuICAgICAgICBzd2l0Y2ggKGJ1ZmZlcnNbaV0pIHtcbiAgICAgICAgICBjYXNlICd0ZXh0Tm9kZSc6XG4gICAgICAgICAgICBjbG9zZVRleHQocGFyc2VyKVxuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgIGNhc2UgJ2NkYXRhJzpcbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uY2RhdGEnLCBwYXJzZXIuY2RhdGEpXG4gICAgICAgICAgICBwYXJzZXIuY2RhdGEgPSAnJ1xuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgIGNhc2UgJ3NjcmlwdCc6XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbnNjcmlwdCcsIHBhcnNlci5zY3JpcHQpXG4gICAgICAgICAgICBwYXJzZXIuc2NyaXB0ID0gJydcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZXJyb3IocGFyc2VyLCAnTWF4IGJ1ZmZlciBsZW5ndGggZXhjZWVkZWQ6ICcgKyBidWZmZXJzW2ldKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtYXhBY3R1YWwgPSBNYXRoLm1heChtYXhBY3R1YWwsIGxlbilcbiAgICB9XG4gICAgLy8gc2NoZWR1bGUgdGhlIG5leHQgY2hlY2sgZm9yIHRoZSBlYXJsaWVzdCBwb3NzaWJsZSBidWZmZXIgb3ZlcnJ1bi5cbiAgICB2YXIgbSA9IHNheC5NQVhfQlVGRkVSX0xFTkdUSCAtIG1heEFjdHVhbFxuICAgIHBhcnNlci5idWZmZXJDaGVja1Bvc2l0aW9uID0gbSArIHBhcnNlci5wb3NpdGlvblxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJCdWZmZXJzIChwYXJzZXIpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGJ1ZmZlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBwYXJzZXJbYnVmZmVyc1tpXV0gPSAnJ1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoQnVmZmVycyAocGFyc2VyKSB7XG4gICAgY2xvc2VUZXh0KHBhcnNlcilcbiAgICBpZiAocGFyc2VyLmNkYXRhICE9PSAnJykge1xuICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jZGF0YScsIHBhcnNlci5jZGF0YSlcbiAgICAgIHBhcnNlci5jZGF0YSA9ICcnXG4gICAgfVxuICAgIGlmIChwYXJzZXIuc2NyaXB0ICE9PSAnJykge1xuICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25zY3JpcHQnLCBwYXJzZXIuc2NyaXB0KVxuICAgICAgcGFyc2VyLnNjcmlwdCA9ICcnXG4gICAgfVxuICB9XG5cbiAgU0FYUGFyc2VyLnByb3RvdHlwZSA9IHtcbiAgICBlbmQ6IGZ1bmN0aW9uICgpIHsgZW5kKHRoaXMpIH0sXG4gICAgd3JpdGU6IHdyaXRlLFxuICAgIHJlc3VtZTogZnVuY3Rpb24gKCkgeyB0aGlzLmVycm9yID0gbnVsbDsgcmV0dXJuIHRoaXMgfSxcbiAgICBjbG9zZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy53cml0ZShudWxsKSB9LFxuICAgIGZsdXNoOiBmdW5jdGlvbiAoKSB7IGZsdXNoQnVmZmVycyh0aGlzKSB9XG4gIH1cblxuICB2YXIgU3RyZWFtXG4gIHRyeSB7XG4gICAgU3RyZWFtID0gcmVxdWlyZSgnc3RyZWFtJykuU3RyZWFtXG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgU3RyZWFtID0gZnVuY3Rpb24gKCkge31cbiAgfVxuXG4gIHZhciBzdHJlYW1XcmFwcyA9IHNheC5FVkVOVFMuZmlsdGVyKGZ1bmN0aW9uIChldikge1xuICAgIHJldHVybiBldiAhPT0gJ2Vycm9yJyAmJiBldiAhPT0gJ2VuZCdcbiAgfSlcblxuICBmdW5jdGlvbiBjcmVhdGVTdHJlYW0gKHN0cmljdCwgb3B0KSB7XG4gICAgcmV0dXJuIG5ldyBTQVhTdHJlYW0oc3RyaWN0LCBvcHQpXG4gIH1cblxuICBmdW5jdGlvbiBTQVhTdHJlYW0gKHN0cmljdCwgb3B0KSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNBWFN0cmVhbSkpIHtcbiAgICAgIHJldHVybiBuZXcgU0FYU3RyZWFtKHN0cmljdCwgb3B0KVxuICAgIH1cblxuICAgIFN0cmVhbS5hcHBseSh0aGlzKVxuXG4gICAgdGhpcy5fcGFyc2VyID0gbmV3IFNBWFBhcnNlcihzdHJpY3QsIG9wdClcbiAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZVxuICAgIHRoaXMucmVhZGFibGUgPSB0cnVlXG5cbiAgICB2YXIgbWUgPSB0aGlzXG5cbiAgICB0aGlzLl9wYXJzZXIub25lbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBtZS5lbWl0KCdlbmQnKVxuICAgIH1cblxuICAgIHRoaXMuX3BhcnNlci5vbmVycm9yID0gZnVuY3Rpb24gKGVyKSB7XG4gICAgICBtZS5lbWl0KCdlcnJvcicsIGVyKVxuXG4gICAgICAvLyBpZiBkaWRuJ3QgdGhyb3csIHRoZW4gbWVhbnMgZXJyb3Igd2FzIGhhbmRsZWQuXG4gICAgICAvLyBnbyBhaGVhZCBhbmQgY2xlYXIgZXJyb3IsIHNvIHdlIGNhbiB3cml0ZSBhZ2Fpbi5cbiAgICAgIG1lLl9wYXJzZXIuZXJyb3IgPSBudWxsXG4gICAgfVxuXG4gICAgdGhpcy5fZGVjb2RlciA9IG51bGxcblxuICAgIHN0cmVhbVdyYXBzLmZvckVhY2goZnVuY3Rpb24gKGV2KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobWUsICdvbicgKyBldiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gbWUuX3BhcnNlclsnb24nICsgZXZdXG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgICBpZiAoIWgpIHtcbiAgICAgICAgICAgIG1lLnJlbW92ZUFsbExpc3RlbmVycyhldilcbiAgICAgICAgICAgIG1lLl9wYXJzZXJbJ29uJyArIGV2XSA9IGhcbiAgICAgICAgICAgIHJldHVybiBoXG4gICAgICAgICAgfVxuICAgICAgICAgIG1lLm9uKGV2LCBoKVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBTQVhTdHJlYW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdHJlYW0ucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBTQVhTdHJlYW1cbiAgICB9XG4gIH0pXG5cbiAgU0FYU3RyZWFtLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKHR5cGVvZiBCdWZmZXIgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiBCdWZmZXIuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIEJ1ZmZlci5pc0J1ZmZlcihkYXRhKSkge1xuICAgICAgaWYgKCF0aGlzLl9kZWNvZGVyKSB7XG4gICAgICAgIHZhciBTRCA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyJykuU3RyaW5nRGVjb2RlclxuICAgICAgICB0aGlzLl9kZWNvZGVyID0gbmV3IFNEKCd1dGY4JylcbiAgICAgIH1cbiAgICAgIGRhdGEgPSB0aGlzLl9kZWNvZGVyLndyaXRlKGRhdGEpXG4gICAgfVxuXG4gICAgdGhpcy5fcGFyc2VyLndyaXRlKGRhdGEudG9TdHJpbmcoKSlcbiAgICB0aGlzLmVtaXQoJ2RhdGEnLCBkYXRhKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBTQVhTdHJlYW0ucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChjaHVuaykge1xuICAgIGlmIChjaHVuayAmJiBjaHVuay5sZW5ndGgpIHtcbiAgICAgIHRoaXMud3JpdGUoY2h1bmspXG4gICAgfVxuICAgIHRoaXMuX3BhcnNlci5lbmQoKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBTQVhTdHJlYW0ucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2LCBoYW5kbGVyKSB7XG4gICAgdmFyIG1lID0gdGhpc1xuICAgIGlmICghbWUuX3BhcnNlclsnb24nICsgZXZdICYmIHN0cmVhbVdyYXBzLmluZGV4T2YoZXYpICE9PSAtMSkge1xuICAgICAgbWUuX3BhcnNlclsnb24nICsgZXZdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBbYXJndW1lbnRzWzBdXSA6IEFycmF5LmFwcGx5KG51bGwsIGFyZ3VtZW50cylcbiAgICAgICAgYXJncy5zcGxpY2UoMCwgMCwgZXYpXG4gICAgICAgIG1lLmVtaXQuYXBwbHkobWUsIGFyZ3MpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFN0cmVhbS5wcm90b3R5cGUub24uY2FsbChtZSwgZXYsIGhhbmRsZXIpXG4gIH1cblxuICAvLyB0aGlzIHJlYWxseSBuZWVkcyB0byBiZSByZXBsYWNlZCB3aXRoIGNoYXJhY3RlciBjbGFzc2VzLlxuICAvLyBYTUwgYWxsb3dzIGFsbCBtYW5uZXIgb2YgcmlkaWN1bG91cyBudW1iZXJzIGFuZCBkaWdpdHMuXG4gIHZhciBDREFUQSA9ICdbQ0RBVEFbJ1xuICB2YXIgRE9DVFlQRSA9ICdET0NUWVBFJ1xuICB2YXIgWE1MX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnXG4gIHZhciBYTUxOU19OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy8nXG4gIHZhciByb290TlMgPSB7IHhtbDogWE1MX05BTUVTUEFDRSwgeG1sbnM6IFhNTE5TX05BTUVTUEFDRSB9XG5cbiAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLXhtbC8jTlQtTmFtZVN0YXJ0Q2hhclxuICAvLyBUaGlzIGltcGxlbWVudGF0aW9uIHdvcmtzIG9uIHN0cmluZ3MsIGEgc2luZ2xlIGNoYXJhY3RlciBhdCBhIHRpbWVcbiAgLy8gYXMgc3VjaCwgaXQgY2Fubm90IGV2ZXIgc3VwcG9ydCBhc3RyYWwtcGxhbmUgY2hhcmFjdGVycyAoMTAwMDAtRUZGRkYpXG4gIC8vIHdpdGhvdXQgYSBzaWduaWZpY2FudCBicmVha2luZyBjaGFuZ2UgdG8gZWl0aGVyIHRoaXMgIHBhcnNlciwgb3IgdGhlXG4gIC8vIEphdmFTY3JpcHQgbGFuZ3VhZ2UuICBJbXBsZW1lbnRhdGlvbiBvZiBhbiBlbW9qaS1jYXBhYmxlIHhtbCBwYXJzZXJcbiAgLy8gaXMgbGVmdCBhcyBhbiBleGVyY2lzZSBmb3IgdGhlIHJlYWRlci5cbiAgdmFyIG5hbWVTdGFydCA9IC9bOl9BLVphLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRdL1xuXG4gIHZhciBuYW1lQm9keSA9IC9bOl9BLVphLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRcXHUwMEI3XFx1MDMwMC1cXHUwMzZGXFx1MjAzRi1cXHUyMDQwLlxcZC1dL1xuXG4gIHZhciBlbnRpdHlTdGFydCA9IC9bIzpfQS1aYS16XFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQy1cXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXS9cbiAgdmFyIGVudGl0eUJvZHkgPSAvWyM6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRFxcdTAwQjdcXHUwMzAwLVxcdTAzNkZcXHUyMDNGLVxcdTIwNDAuXFxkLV0vXG5cbiAgZnVuY3Rpb24gaXNXaGl0ZXNwYWNlIChjKSB7XG4gICAgcmV0dXJuIGMgPT09ICcgJyB8fCBjID09PSAnXFxuJyB8fCBjID09PSAnXFxyJyB8fCBjID09PSAnXFx0J1xuICB9XG5cbiAgZnVuY3Rpb24gaXNRdW90ZSAoYykge1xuICAgIHJldHVybiBjID09PSAnXCInIHx8IGMgPT09ICdcXCcnXG4gIH1cblxuICBmdW5jdGlvbiBpc0F0dHJpYkVuZCAoYykge1xuICAgIHJldHVybiBjID09PSAnPicgfHwgaXNXaGl0ZXNwYWNlKGMpXG4gIH1cblxuICBmdW5jdGlvbiBpc01hdGNoIChyZWdleCwgYykge1xuICAgIHJldHVybiByZWdleC50ZXN0KGMpXG4gIH1cblxuICBmdW5jdGlvbiBub3RNYXRjaCAocmVnZXgsIGMpIHtcbiAgICByZXR1cm4gIWlzTWF0Y2gocmVnZXgsIGMpXG4gIH1cblxuICB2YXIgUyA9IDBcbiAgc2F4LlNUQVRFID0ge1xuICAgIEJFR0lOOiBTKyssIC8vIGxlYWRpbmcgYnl0ZSBvcmRlciBtYXJrIG9yIHdoaXRlc3BhY2VcbiAgICBCRUdJTl9XSElURVNQQUNFOiBTKyssIC8vIGxlYWRpbmcgd2hpdGVzcGFjZVxuICAgIFRFWFQ6IFMrKywgLy8gZ2VuZXJhbCBzdHVmZlxuICAgIFRFWFRfRU5USVRZOiBTKyssIC8vICZhbXAgYW5kIHN1Y2guXG4gICAgT1BFTl9XQUtBOiBTKyssIC8vIDxcbiAgICBTR01MX0RFQ0w6IFMrKywgLy8gPCFCTEFSR1xuICAgIFNHTUxfREVDTF9RVU9URUQ6IFMrKywgLy8gPCFCTEFSRyBmb28gXCJiYXJcbiAgICBET0NUWVBFOiBTKyssIC8vIDwhRE9DVFlQRVxuICAgIERPQ1RZUEVfUVVPVEVEOiBTKyssIC8vIDwhRE9DVFlQRSBcIi8vYmxhaFxuICAgIERPQ1RZUEVfRFREOiBTKyssIC8vIDwhRE9DVFlQRSBcIi8vYmxhaFwiIFsgLi4uXG4gICAgRE9DVFlQRV9EVERfUVVPVEVEOiBTKyssIC8vIDwhRE9DVFlQRSBcIi8vYmxhaFwiIFsgXCJmb29cbiAgICBDT01NRU5UX1NUQVJUSU5HOiBTKyssIC8vIDwhLVxuICAgIENPTU1FTlQ6IFMrKywgLy8gPCEtLVxuICAgIENPTU1FTlRfRU5ESU5HOiBTKyssIC8vIDwhLS0gYmxhaCAtXG4gICAgQ09NTUVOVF9FTkRFRDogUysrLCAvLyA8IS0tIGJsYWggLS1cbiAgICBDREFUQTogUysrLCAvLyA8IVtDREFUQVsgc29tZXRoaW5nXG4gICAgQ0RBVEFfRU5ESU5HOiBTKyssIC8vIF1cbiAgICBDREFUQV9FTkRJTkdfMjogUysrLCAvLyBdXVxuICAgIFBST0NfSU5TVDogUysrLCAvLyA8P2hpXG4gICAgUFJPQ19JTlNUX0JPRFk6IFMrKywgLy8gPD9oaSB0aGVyZVxuICAgIFBST0NfSU5TVF9FTkRJTkc6IFMrKywgLy8gPD9oaSBcInRoZXJlXCIgP1xuICAgIE9QRU5fVEFHOiBTKyssIC8vIDxzdHJvbmdcbiAgICBPUEVOX1RBR19TTEFTSDogUysrLCAvLyA8c3Ryb25nIC9cbiAgICBBVFRSSUI6IFMrKywgLy8gPGFcbiAgICBBVFRSSUJfTkFNRTogUysrLCAvLyA8YSBmb29cbiAgICBBVFRSSUJfTkFNRV9TQVdfV0hJVEU6IFMrKywgLy8gPGEgZm9vIF9cbiAgICBBVFRSSUJfVkFMVUU6IFMrKywgLy8gPGEgZm9vPVxuICAgIEFUVFJJQl9WQUxVRV9RVU9URUQ6IFMrKywgLy8gPGEgZm9vPVwiYmFyXG4gICAgQVRUUklCX1ZBTFVFX0NMT1NFRDogUysrLCAvLyA8YSBmb289XCJiYXJcIlxuICAgIEFUVFJJQl9WQUxVRV9VTlFVT1RFRDogUysrLCAvLyA8YSBmb289YmFyXG4gICAgQVRUUklCX1ZBTFVFX0VOVElUWV9ROiBTKyssIC8vIDxmb28gYmFyPVwiJnF1b3Q7XCJcbiAgICBBVFRSSUJfVkFMVUVfRU5USVRZX1U6IFMrKywgLy8gPGZvbyBiYXI9JnF1b3RcbiAgICBDTE9TRV9UQUc6IFMrKywgLy8gPC9hXG4gICAgQ0xPU0VfVEFHX1NBV19XSElURTogUysrLCAvLyA8L2EgICA+XG4gICAgU0NSSVBUOiBTKyssIC8vIDxzY3JpcHQ+IC4uLlxuICAgIFNDUklQVF9FTkRJTkc6IFMrKyAvLyA8c2NyaXB0PiAuLi4gPFxuICB9XG5cbiAgc2F4LlhNTF9FTlRJVElFUyA9IHtcbiAgICAnYW1wJzogJyYnLFxuICAgICdndCc6ICc+JyxcbiAgICAnbHQnOiAnPCcsXG4gICAgJ3F1b3QnOiAnXCInLFxuICAgICdhcG9zJzogXCInXCJcbiAgfVxuXG4gIHNheC5FTlRJVElFUyA9IHtcbiAgICAnYW1wJzogJyYnLFxuICAgICdndCc6ICc+JyxcbiAgICAnbHQnOiAnPCcsXG4gICAgJ3F1b3QnOiAnXCInLFxuICAgICdhcG9zJzogXCInXCIsXG4gICAgJ0FFbGlnJzogMTk4LFxuICAgICdBYWN1dGUnOiAxOTMsXG4gICAgJ0FjaXJjJzogMTk0LFxuICAgICdBZ3JhdmUnOiAxOTIsXG4gICAgJ0FyaW5nJzogMTk3LFxuICAgICdBdGlsZGUnOiAxOTUsXG4gICAgJ0F1bWwnOiAxOTYsXG4gICAgJ0NjZWRpbCc6IDE5OSxcbiAgICAnRVRIJzogMjA4LFxuICAgICdFYWN1dGUnOiAyMDEsXG4gICAgJ0VjaXJjJzogMjAyLFxuICAgICdFZ3JhdmUnOiAyMDAsXG4gICAgJ0V1bWwnOiAyMDMsXG4gICAgJ0lhY3V0ZSc6IDIwNSxcbiAgICAnSWNpcmMnOiAyMDYsXG4gICAgJ0lncmF2ZSc6IDIwNCxcbiAgICAnSXVtbCc6IDIwNyxcbiAgICAnTnRpbGRlJzogMjA5LFxuICAgICdPYWN1dGUnOiAyMTEsXG4gICAgJ09jaXJjJzogMjEyLFxuICAgICdPZ3JhdmUnOiAyMTAsXG4gICAgJ09zbGFzaCc6IDIxNixcbiAgICAnT3RpbGRlJzogMjEzLFxuICAgICdPdW1sJzogMjE0LFxuICAgICdUSE9STic6IDIyMixcbiAgICAnVWFjdXRlJzogMjE4LFxuICAgICdVY2lyYyc6IDIxOSxcbiAgICAnVWdyYXZlJzogMjE3LFxuICAgICdVdW1sJzogMjIwLFxuICAgICdZYWN1dGUnOiAyMjEsXG4gICAgJ2FhY3V0ZSc6IDIyNSxcbiAgICAnYWNpcmMnOiAyMjYsXG4gICAgJ2FlbGlnJzogMjMwLFxuICAgICdhZ3JhdmUnOiAyMjQsXG4gICAgJ2FyaW5nJzogMjI5LFxuICAgICdhdGlsZGUnOiAyMjcsXG4gICAgJ2F1bWwnOiAyMjgsXG4gICAgJ2NjZWRpbCc6IDIzMSxcbiAgICAnZWFjdXRlJzogMjMzLFxuICAgICdlY2lyYyc6IDIzNCxcbiAgICAnZWdyYXZlJzogMjMyLFxuICAgICdldGgnOiAyNDAsXG4gICAgJ2V1bWwnOiAyMzUsXG4gICAgJ2lhY3V0ZSc6IDIzNyxcbiAgICAnaWNpcmMnOiAyMzgsXG4gICAgJ2lncmF2ZSc6IDIzNixcbiAgICAnaXVtbCc6IDIzOSxcbiAgICAnbnRpbGRlJzogMjQxLFxuICAgICdvYWN1dGUnOiAyNDMsXG4gICAgJ29jaXJjJzogMjQ0LFxuICAgICdvZ3JhdmUnOiAyNDIsXG4gICAgJ29zbGFzaCc6IDI0OCxcbiAgICAnb3RpbGRlJzogMjQ1LFxuICAgICdvdW1sJzogMjQ2LFxuICAgICdzemxpZyc6IDIyMyxcbiAgICAndGhvcm4nOiAyNTQsXG4gICAgJ3VhY3V0ZSc6IDI1MCxcbiAgICAndWNpcmMnOiAyNTEsXG4gICAgJ3VncmF2ZSc6IDI0OSxcbiAgICAndXVtbCc6IDI1MixcbiAgICAneWFjdXRlJzogMjUzLFxuICAgICd5dW1sJzogMjU1LFxuICAgICdjb3B5JzogMTY5LFxuICAgICdyZWcnOiAxNzQsXG4gICAgJ25ic3AnOiAxNjAsXG4gICAgJ2lleGNsJzogMTYxLFxuICAgICdjZW50JzogMTYyLFxuICAgICdwb3VuZCc6IDE2MyxcbiAgICAnY3VycmVuJzogMTY0LFxuICAgICd5ZW4nOiAxNjUsXG4gICAgJ2JydmJhcic6IDE2NixcbiAgICAnc2VjdCc6IDE2NyxcbiAgICAndW1sJzogMTY4LFxuICAgICdvcmRmJzogMTcwLFxuICAgICdsYXF1byc6IDE3MSxcbiAgICAnbm90JzogMTcyLFxuICAgICdzaHknOiAxNzMsXG4gICAgJ21hY3InOiAxNzUsXG4gICAgJ2RlZyc6IDE3NixcbiAgICAncGx1c21uJzogMTc3LFxuICAgICdzdXAxJzogMTg1LFxuICAgICdzdXAyJzogMTc4LFxuICAgICdzdXAzJzogMTc5LFxuICAgICdhY3V0ZSc6IDE4MCxcbiAgICAnbWljcm8nOiAxODEsXG4gICAgJ3BhcmEnOiAxODIsXG4gICAgJ21pZGRvdCc6IDE4MyxcbiAgICAnY2VkaWwnOiAxODQsXG4gICAgJ29yZG0nOiAxODYsXG4gICAgJ3JhcXVvJzogMTg3LFxuICAgICdmcmFjMTQnOiAxODgsXG4gICAgJ2ZyYWMxMic6IDE4OSxcbiAgICAnZnJhYzM0JzogMTkwLFxuICAgICdpcXVlc3QnOiAxOTEsXG4gICAgJ3RpbWVzJzogMjE1LFxuICAgICdkaXZpZGUnOiAyNDcsXG4gICAgJ09FbGlnJzogMzM4LFxuICAgICdvZWxpZyc6IDMzOSxcbiAgICAnU2Nhcm9uJzogMzUyLFxuICAgICdzY2Fyb24nOiAzNTMsXG4gICAgJ1l1bWwnOiAzNzYsXG4gICAgJ2Zub2YnOiA0MDIsXG4gICAgJ2NpcmMnOiA3MTAsXG4gICAgJ3RpbGRlJzogNzMyLFxuICAgICdBbHBoYSc6IDkxMyxcbiAgICAnQmV0YSc6IDkxNCxcbiAgICAnR2FtbWEnOiA5MTUsXG4gICAgJ0RlbHRhJzogOTE2LFxuICAgICdFcHNpbG9uJzogOTE3LFxuICAgICdaZXRhJzogOTE4LFxuICAgICdFdGEnOiA5MTksXG4gICAgJ1RoZXRhJzogOTIwLFxuICAgICdJb3RhJzogOTIxLFxuICAgICdLYXBwYSc6IDkyMixcbiAgICAnTGFtYmRhJzogOTIzLFxuICAgICdNdSc6IDkyNCxcbiAgICAnTnUnOiA5MjUsXG4gICAgJ1hpJzogOTI2LFxuICAgICdPbWljcm9uJzogOTI3LFxuICAgICdQaSc6IDkyOCxcbiAgICAnUmhvJzogOTI5LFxuICAgICdTaWdtYSc6IDkzMSxcbiAgICAnVGF1JzogOTMyLFxuICAgICdVcHNpbG9uJzogOTMzLFxuICAgICdQaGknOiA5MzQsXG4gICAgJ0NoaSc6IDkzNSxcbiAgICAnUHNpJzogOTM2LFxuICAgICdPbWVnYSc6IDkzNyxcbiAgICAnYWxwaGEnOiA5NDUsXG4gICAgJ2JldGEnOiA5NDYsXG4gICAgJ2dhbW1hJzogOTQ3LFxuICAgICdkZWx0YSc6IDk0OCxcbiAgICAnZXBzaWxvbic6IDk0OSxcbiAgICAnemV0YSc6IDk1MCxcbiAgICAnZXRhJzogOTUxLFxuICAgICd0aGV0YSc6IDk1MixcbiAgICAnaW90YSc6IDk1MyxcbiAgICAna2FwcGEnOiA5NTQsXG4gICAgJ2xhbWJkYSc6IDk1NSxcbiAgICAnbXUnOiA5NTYsXG4gICAgJ251JzogOTU3LFxuICAgICd4aSc6IDk1OCxcbiAgICAnb21pY3Jvbic6IDk1OSxcbiAgICAncGknOiA5NjAsXG4gICAgJ3Jobyc6IDk2MSxcbiAgICAnc2lnbWFmJzogOTYyLFxuICAgICdzaWdtYSc6IDk2MyxcbiAgICAndGF1JzogOTY0LFxuICAgICd1cHNpbG9uJzogOTY1LFxuICAgICdwaGknOiA5NjYsXG4gICAgJ2NoaSc6IDk2NyxcbiAgICAncHNpJzogOTY4LFxuICAgICdvbWVnYSc6IDk2OSxcbiAgICAndGhldGFzeW0nOiA5NzcsXG4gICAgJ3Vwc2loJzogOTc4LFxuICAgICdwaXYnOiA5ODIsXG4gICAgJ2Vuc3AnOiA4MTk0LFxuICAgICdlbXNwJzogODE5NSxcbiAgICAndGhpbnNwJzogODIwMSxcbiAgICAnenduaic6IDgyMDQsXG4gICAgJ3p3aic6IDgyMDUsXG4gICAgJ2xybSc6IDgyMDYsXG4gICAgJ3JsbSc6IDgyMDcsXG4gICAgJ25kYXNoJzogODIxMSxcbiAgICAnbWRhc2gnOiA4MjEyLFxuICAgICdsc3F1byc6IDgyMTYsXG4gICAgJ3JzcXVvJzogODIxNyxcbiAgICAnc2JxdW8nOiA4MjE4LFxuICAgICdsZHF1byc6IDgyMjAsXG4gICAgJ3JkcXVvJzogODIyMSxcbiAgICAnYmRxdW8nOiA4MjIyLFxuICAgICdkYWdnZXInOiA4MjI0LFxuICAgICdEYWdnZXInOiA4MjI1LFxuICAgICdidWxsJzogODIyNixcbiAgICAnaGVsbGlwJzogODIzMCxcbiAgICAncGVybWlsJzogODI0MCxcbiAgICAncHJpbWUnOiA4MjQyLFxuICAgICdQcmltZSc6IDgyNDMsXG4gICAgJ2xzYXF1byc6IDgyNDksXG4gICAgJ3JzYXF1byc6IDgyNTAsXG4gICAgJ29saW5lJzogODI1NCxcbiAgICAnZnJhc2wnOiA4MjYwLFxuICAgICdldXJvJzogODM2NCxcbiAgICAnaW1hZ2UnOiA4NDY1LFxuICAgICd3ZWllcnAnOiA4NDcyLFxuICAgICdyZWFsJzogODQ3NixcbiAgICAndHJhZGUnOiA4NDgyLFxuICAgICdhbGVmc3ltJzogODUwMSxcbiAgICAnbGFycic6IDg1OTIsXG4gICAgJ3VhcnInOiA4NTkzLFxuICAgICdyYXJyJzogODU5NCxcbiAgICAnZGFycic6IDg1OTUsXG4gICAgJ2hhcnInOiA4NTk2LFxuICAgICdjcmFycic6IDg2MjksXG4gICAgJ2xBcnInOiA4NjU2LFxuICAgICd1QXJyJzogODY1NyxcbiAgICAnckFycic6IDg2NTgsXG4gICAgJ2RBcnInOiA4NjU5LFxuICAgICdoQXJyJzogODY2MCxcbiAgICAnZm9yYWxsJzogODcwNCxcbiAgICAncGFydCc6IDg3MDYsXG4gICAgJ2V4aXN0JzogODcwNyxcbiAgICAnZW1wdHknOiA4NzA5LFxuICAgICduYWJsYSc6IDg3MTEsXG4gICAgJ2lzaW4nOiA4NzEyLFxuICAgICdub3Rpbic6IDg3MTMsXG4gICAgJ25pJzogODcxNSxcbiAgICAncHJvZCc6IDg3MTksXG4gICAgJ3N1bSc6IDg3MjEsXG4gICAgJ21pbnVzJzogODcyMixcbiAgICAnbG93YXN0JzogODcyNyxcbiAgICAncmFkaWMnOiA4NzMwLFxuICAgICdwcm9wJzogODczMyxcbiAgICAnaW5maW4nOiA4NzM0LFxuICAgICdhbmcnOiA4NzM2LFxuICAgICdhbmQnOiA4NzQzLFxuICAgICdvcic6IDg3NDQsXG4gICAgJ2NhcCc6IDg3NDUsXG4gICAgJ2N1cCc6IDg3NDYsXG4gICAgJ2ludCc6IDg3NDcsXG4gICAgJ3RoZXJlNCc6IDg3NTYsXG4gICAgJ3NpbSc6IDg3NjQsXG4gICAgJ2NvbmcnOiA4NzczLFxuICAgICdhc3ltcCc6IDg3NzYsXG4gICAgJ25lJzogODgwMCxcbiAgICAnZXF1aXYnOiA4ODAxLFxuICAgICdsZSc6IDg4MDQsXG4gICAgJ2dlJzogODgwNSxcbiAgICAnc3ViJzogODgzNCxcbiAgICAnc3VwJzogODgzNSxcbiAgICAnbnN1Yic6IDg4MzYsXG4gICAgJ3N1YmUnOiA4ODM4LFxuICAgICdzdXBlJzogODgzOSxcbiAgICAnb3BsdXMnOiA4ODUzLFxuICAgICdvdGltZXMnOiA4ODU1LFxuICAgICdwZXJwJzogODg2OSxcbiAgICAnc2RvdCc6IDg5MDEsXG4gICAgJ2xjZWlsJzogODk2OCxcbiAgICAncmNlaWwnOiA4OTY5LFxuICAgICdsZmxvb3InOiA4OTcwLFxuICAgICdyZmxvb3InOiA4OTcxLFxuICAgICdsYW5nJzogOTAwMSxcbiAgICAncmFuZyc6IDkwMDIsXG4gICAgJ2xveic6IDk2NzQsXG4gICAgJ3NwYWRlcyc6IDk4MjQsXG4gICAgJ2NsdWJzJzogOTgyNyxcbiAgICAnaGVhcnRzJzogOTgyOSxcbiAgICAnZGlhbXMnOiA5ODMwXG4gIH1cblxuICBPYmplY3Qua2V5cyhzYXguRU5USVRJRVMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBlID0gc2F4LkVOVElUSUVTW2tleV1cbiAgICB2YXIgcyA9IHR5cGVvZiBlID09PSAnbnVtYmVyJyA/IFN0cmluZy5mcm9tQ2hhckNvZGUoZSkgOiBlXG4gICAgc2F4LkVOVElUSUVTW2tleV0gPSBzXG4gIH0pXG5cbiAgZm9yICh2YXIgcyBpbiBzYXguU1RBVEUpIHtcbiAgICBzYXguU1RBVEVbc2F4LlNUQVRFW3NdXSA9IHNcbiAgfVxuXG4gIC8vIHNob3J0aGFuZFxuICBTID0gc2F4LlNUQVRFXG5cbiAgZnVuY3Rpb24gZW1pdCAocGFyc2VyLCBldmVudCwgZGF0YSkge1xuICAgIHBhcnNlcltldmVudF0gJiYgcGFyc2VyW2V2ZW50XShkYXRhKVxuICB9XG5cbiAgZnVuY3Rpb24gZW1pdE5vZGUgKHBhcnNlciwgbm9kZVR5cGUsIGRhdGEpIHtcbiAgICBpZiAocGFyc2VyLnRleHROb2RlKSBjbG9zZVRleHQocGFyc2VyKVxuICAgIGVtaXQocGFyc2VyLCBub2RlVHlwZSwgZGF0YSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlVGV4dCAocGFyc2VyKSB7XG4gICAgcGFyc2VyLnRleHROb2RlID0gdGV4dG9wdHMocGFyc2VyLm9wdCwgcGFyc2VyLnRleHROb2RlKVxuICAgIGlmIChwYXJzZXIudGV4dE5vZGUpIGVtaXQocGFyc2VyLCAnb250ZXh0JywgcGFyc2VyLnRleHROb2RlKVxuICAgIHBhcnNlci50ZXh0Tm9kZSA9ICcnXG4gIH1cblxuICBmdW5jdGlvbiB0ZXh0b3B0cyAob3B0LCB0ZXh0KSB7XG4gICAgaWYgKG9wdC50cmltKSB0ZXh0ID0gdGV4dC50cmltKClcbiAgICBpZiAob3B0Lm5vcm1hbGl6ZSkgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxzKy9nLCAnICcpXG4gICAgcmV0dXJuIHRleHRcbiAgfVxuXG4gIGZ1bmN0aW9uIGVycm9yIChwYXJzZXIsIGVyKSB7XG4gICAgY2xvc2VUZXh0KHBhcnNlcilcbiAgICBpZiAocGFyc2VyLnRyYWNrUG9zaXRpb24pIHtcbiAgICAgIGVyICs9ICdcXG5MaW5lOiAnICsgcGFyc2VyLmxpbmUgK1xuICAgICAgICAnXFxuQ29sdW1uOiAnICsgcGFyc2VyLmNvbHVtbiArXG4gICAgICAgICdcXG5DaGFyOiAnICsgcGFyc2VyLmNcbiAgICB9XG4gICAgZXIgPSBuZXcgRXJyb3IoZXIpXG4gICAgcGFyc2VyLmVycm9yID0gZXJcbiAgICBlbWl0KHBhcnNlciwgJ29uZXJyb3InLCBlcilcbiAgICByZXR1cm4gcGFyc2VyXG4gIH1cblxuICBmdW5jdGlvbiBlbmQgKHBhcnNlcikge1xuICAgIGlmIChwYXJzZXIuc2F3Um9vdCAmJiAhcGFyc2VyLmNsb3NlZFJvb3QpIHN0cmljdEZhaWwocGFyc2VyLCAnVW5jbG9zZWQgcm9vdCB0YWcnKVxuICAgIGlmICgocGFyc2VyLnN0YXRlICE9PSBTLkJFR0lOKSAmJlxuICAgICAgKHBhcnNlci5zdGF0ZSAhPT0gUy5CRUdJTl9XSElURVNQQUNFKSAmJlxuICAgICAgKHBhcnNlci5zdGF0ZSAhPT0gUy5URVhUKSkge1xuICAgICAgZXJyb3IocGFyc2VyLCAnVW5leHBlY3RlZCBlbmQnKVxuICAgIH1cbiAgICBjbG9zZVRleHQocGFyc2VyKVxuICAgIHBhcnNlci5jID0gJydcbiAgICBwYXJzZXIuY2xvc2VkID0gdHJ1ZVxuICAgIGVtaXQocGFyc2VyLCAnb25lbmQnKVxuICAgIFNBWFBhcnNlci5jYWxsKHBhcnNlciwgcGFyc2VyLnN0cmljdCwgcGFyc2VyLm9wdClcbiAgICByZXR1cm4gcGFyc2VyXG4gIH1cblxuICBmdW5jdGlvbiBzdHJpY3RGYWlsIChwYXJzZXIsIG1lc3NhZ2UpIHtcbiAgICBpZiAodHlwZW9mIHBhcnNlciAhPT0gJ29iamVjdCcgfHwgIShwYXJzZXIgaW5zdGFuY2VvZiBTQVhQYXJzZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBjYWxsIHRvIHN0cmljdEZhaWwnKVxuICAgIH1cbiAgICBpZiAocGFyc2VyLnN0cmljdCkge1xuICAgICAgZXJyb3IocGFyc2VyLCBtZXNzYWdlKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG5ld1RhZyAocGFyc2VyKSB7XG4gICAgaWYgKCFwYXJzZXIuc3RyaWN0KSBwYXJzZXIudGFnTmFtZSA9IHBhcnNlci50YWdOYW1lW3BhcnNlci5sb29zZUNhc2VdKClcbiAgICB2YXIgcGFyZW50ID0gcGFyc2VyLnRhZ3NbcGFyc2VyLnRhZ3MubGVuZ3RoIC0gMV0gfHwgcGFyc2VyXG4gICAgdmFyIHRhZyA9IHBhcnNlci50YWcgPSB7IG5hbWU6IHBhcnNlci50YWdOYW1lLCBhdHRyaWJ1dGVzOiB7fSB9XG5cbiAgICAvLyB3aWxsIGJlIG92ZXJyaWRkZW4gaWYgdGFnIGNvbnRhaWxzIGFuIHhtbG5zPVwiZm9vXCIgb3IgeG1sbnM6Zm9vPVwiYmFyXCJcbiAgICBpZiAocGFyc2VyLm9wdC54bWxucykge1xuICAgICAgdGFnLm5zID0gcGFyZW50Lm5zXG4gICAgfVxuICAgIHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDBcbiAgICBlbWl0Tm9kZShwYXJzZXIsICdvbm9wZW50YWdzdGFydCcsIHRhZylcbiAgfVxuXG4gIGZ1bmN0aW9uIHFuYW1lIChuYW1lLCBhdHRyaWJ1dGUpIHtcbiAgICB2YXIgaSA9IG5hbWUuaW5kZXhPZignOicpXG4gICAgdmFyIHF1YWxOYW1lID0gaSA8IDAgPyBbICcnLCBuYW1lIF0gOiBuYW1lLnNwbGl0KCc6JylcbiAgICB2YXIgcHJlZml4ID0gcXVhbE5hbWVbMF1cbiAgICB2YXIgbG9jYWwgPSBxdWFsTmFtZVsxXVxuXG4gICAgLy8gPHggXCJ4bWxuc1wiPVwiaHR0cDovL2Zvb1wiPlxuICAgIGlmIChhdHRyaWJ1dGUgJiYgbmFtZSA9PT0gJ3htbG5zJykge1xuICAgICAgcHJlZml4ID0gJ3htbG5zJ1xuICAgICAgbG9jYWwgPSAnJ1xuICAgIH1cblxuICAgIHJldHVybiB7IHByZWZpeDogcHJlZml4LCBsb2NhbDogbG9jYWwgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXR0cmliIChwYXJzZXIpIHtcbiAgICBpZiAoIXBhcnNlci5zdHJpY3QpIHtcbiAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gcGFyc2VyLmF0dHJpYk5hbWVbcGFyc2VyLmxvb3NlQ2FzZV0oKVxuICAgIH1cblxuICAgIGlmIChwYXJzZXIuYXR0cmliTGlzdC5pbmRleE9mKHBhcnNlci5hdHRyaWJOYW1lKSAhPT0gLTEgfHxcbiAgICAgIHBhcnNlci50YWcuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShwYXJzZXIuYXR0cmliTmFtZSkpIHtcbiAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChwYXJzZXIub3B0LnhtbG5zKSB7XG4gICAgICB2YXIgcW4gPSBxbmFtZShwYXJzZXIuYXR0cmliTmFtZSwgdHJ1ZSlcbiAgICAgIHZhciBwcmVmaXggPSBxbi5wcmVmaXhcbiAgICAgIHZhciBsb2NhbCA9IHFuLmxvY2FsXG5cbiAgICAgIGlmIChwcmVmaXggPT09ICd4bWxucycpIHtcbiAgICAgICAgLy8gbmFtZXNwYWNlIGJpbmRpbmcgYXR0cmlidXRlLiBwdXNoIHRoZSBiaW5kaW5nIGludG8gc2NvcGVcbiAgICAgICAgaWYgKGxvY2FsID09PSAneG1sJyAmJiBwYXJzZXIuYXR0cmliVmFsdWUgIT09IFhNTF9OQU1FU1BBQ0UpIHtcbiAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlcixcbiAgICAgICAgICAgICd4bWw6IHByZWZpeCBtdXN0IGJlIGJvdW5kIHRvICcgKyBYTUxfTkFNRVNQQUNFICsgJ1xcbicgK1xuICAgICAgICAgICAgJ0FjdHVhbDogJyArIHBhcnNlci5hdHRyaWJWYWx1ZSlcbiAgICAgICAgfSBlbHNlIGlmIChsb2NhbCA9PT0gJ3htbG5zJyAmJiBwYXJzZXIuYXR0cmliVmFsdWUgIT09IFhNTE5TX05BTUVTUEFDRSkge1xuICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLFxuICAgICAgICAgICAgJ3htbG5zOiBwcmVmaXggbXVzdCBiZSBib3VuZCB0byAnICsgWE1MTlNfTkFNRVNQQUNFICsgJ1xcbicgK1xuICAgICAgICAgICAgJ0FjdHVhbDogJyArIHBhcnNlci5hdHRyaWJWYWx1ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgdGFnID0gcGFyc2VyLnRhZ1xuICAgICAgICAgIHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXJcbiAgICAgICAgICBpZiAodGFnLm5zID09PSBwYXJlbnQubnMpIHtcbiAgICAgICAgICAgIHRhZy5ucyA9IE9iamVjdC5jcmVhdGUocGFyZW50Lm5zKVxuICAgICAgICAgIH1cbiAgICAgICAgICB0YWcubnNbbG9jYWxdID0gcGFyc2VyLmF0dHJpYlZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gZGVmZXIgb25hdHRyaWJ1dGUgZXZlbnRzIHVudGlsIGFsbCBhdHRyaWJ1dGVzIGhhdmUgYmVlbiBzZWVuXG4gICAgICAvLyBzbyBhbnkgbmV3IGJpbmRpbmdzIGNhbiB0YWtlIGVmZmVjdC4gcHJlc2VydmUgYXR0cmlidXRlIG9yZGVyXG4gICAgICAvLyBzbyBkZWZlcnJlZCBldmVudHMgY2FuIGJlIGVtaXR0ZWQgaW4gZG9jdW1lbnQgb3JkZXJcbiAgICAgIHBhcnNlci5hdHRyaWJMaXN0LnB1c2goW3BhcnNlci5hdHRyaWJOYW1lLCBwYXJzZXIuYXR0cmliVmFsdWVdKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbiBub24teG1sbnMgbW9kZSwgd2UgY2FuIGVtaXQgdGhlIGV2ZW50IHJpZ2h0IGF3YXlcbiAgICAgIHBhcnNlci50YWcuYXR0cmlidXRlc1twYXJzZXIuYXR0cmliTmFtZV0gPSBwYXJzZXIuYXR0cmliVmFsdWVcbiAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uYXR0cmlidXRlJywge1xuICAgICAgICBuYW1lOiBwYXJzZXIuYXR0cmliTmFtZSxcbiAgICAgICAgdmFsdWU6IHBhcnNlci5hdHRyaWJWYWx1ZVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBwYXJzZXIuYXR0cmliTmFtZSA9IHBhcnNlci5hdHRyaWJWYWx1ZSA9ICcnXG4gIH1cblxuICBmdW5jdGlvbiBvcGVuVGFnIChwYXJzZXIsIHNlbGZDbG9zaW5nKSB7XG4gICAgaWYgKHBhcnNlci5vcHQueG1sbnMpIHtcbiAgICAgIC8vIGVtaXQgbmFtZXNwYWNlIGJpbmRpbmcgZXZlbnRzXG4gICAgICB2YXIgdGFnID0gcGFyc2VyLnRhZ1xuXG4gICAgICAvLyBhZGQgbmFtZXNwYWNlIGluZm8gdG8gdGFnXG4gICAgICB2YXIgcW4gPSBxbmFtZShwYXJzZXIudGFnTmFtZSlcbiAgICAgIHRhZy5wcmVmaXggPSBxbi5wcmVmaXhcbiAgICAgIHRhZy5sb2NhbCA9IHFuLmxvY2FsXG4gICAgICB0YWcudXJpID0gdGFnLm5zW3FuLnByZWZpeF0gfHwgJydcblxuICAgICAgaWYgKHRhZy5wcmVmaXggJiYgIXRhZy51cmkpIHtcbiAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdVbmJvdW5kIG5hbWVzcGFjZSBwcmVmaXg6ICcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHBhcnNlci50YWdOYW1lKSlcbiAgICAgICAgdGFnLnVyaSA9IHFuLnByZWZpeFxuICAgICAgfVxuXG4gICAgICB2YXIgcGFyZW50ID0gcGFyc2VyLnRhZ3NbcGFyc2VyLnRhZ3MubGVuZ3RoIC0gMV0gfHwgcGFyc2VyXG4gICAgICBpZiAodGFnLm5zICYmIHBhcmVudC5ucyAhPT0gdGFnLm5zKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHRhZy5ucykuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29ub3Blbm5hbWVzcGFjZScsIHtcbiAgICAgICAgICAgIHByZWZpeDogcCxcbiAgICAgICAgICAgIHVyaTogdGFnLm5zW3BdXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gaGFuZGxlIGRlZmVycmVkIG9uYXR0cmlidXRlIGV2ZW50c1xuICAgICAgLy8gTm90ZTogZG8gbm90IGFwcGx5IGRlZmF1bHQgbnMgdG8gYXR0cmlidXRlczpcbiAgICAgIC8vICAgaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLXhtbC1uYW1lcy8jZGVmYXVsdGluZ1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYXJzZXIuYXR0cmliTGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIG52ID0gcGFyc2VyLmF0dHJpYkxpc3RbaV1cbiAgICAgICAgdmFyIG5hbWUgPSBudlswXVxuICAgICAgICB2YXIgdmFsdWUgPSBudlsxXVxuICAgICAgICB2YXIgcXVhbE5hbWUgPSBxbmFtZShuYW1lLCB0cnVlKVxuICAgICAgICB2YXIgcHJlZml4ID0gcXVhbE5hbWUucHJlZml4XG4gICAgICAgIHZhciBsb2NhbCA9IHF1YWxOYW1lLmxvY2FsXG4gICAgICAgIHZhciB1cmkgPSBwcmVmaXggPT09ICcnID8gJycgOiAodGFnLm5zW3ByZWZpeF0gfHwgJycpXG4gICAgICAgIHZhciBhID0ge1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIHByZWZpeDogcHJlZml4LFxuICAgICAgICAgIGxvY2FsOiBsb2NhbCxcbiAgICAgICAgICB1cmk6IHVyaVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlcmUncyBhbnkgYXR0cmlidXRlcyB3aXRoIGFuIHVuZGVmaW5lZCBuYW1lc3BhY2UsXG4gICAgICAgIC8vIHRoZW4gZmFpbCBvbiB0aGVtIG5vdy5cbiAgICAgICAgaWYgKHByZWZpeCAmJiBwcmVmaXggIT09ICd4bWxucycgJiYgIXVyaSkge1xuICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5ib3VuZCBuYW1lc3BhY2UgcHJlZml4OiAnICtcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByZWZpeCkpXG4gICAgICAgICAgYS51cmkgPSBwcmVmaXhcbiAgICAgICAgfVxuICAgICAgICBwYXJzZXIudGFnLmF0dHJpYnV0ZXNbbmFtZV0gPSBhXG4gICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uYXR0cmlidXRlJywgYSlcbiAgICAgIH1cbiAgICAgIHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDBcbiAgICB9XG5cbiAgICBwYXJzZXIudGFnLmlzU2VsZkNsb3NpbmcgPSAhIXNlbGZDbG9zaW5nXG5cbiAgICAvLyBwcm9jZXNzIHRoZSB0YWdcbiAgICBwYXJzZXIuc2F3Um9vdCA9IHRydWVcbiAgICBwYXJzZXIudGFncy5wdXNoKHBhcnNlci50YWcpXG4gICAgZW1pdE5vZGUocGFyc2VyLCAnb25vcGVudGFnJywgcGFyc2VyLnRhZylcbiAgICBpZiAoIXNlbGZDbG9zaW5nKSB7XG4gICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIDxzY3JpcHQ+IGluIG5vbi1zdHJpY3QgbW9kZS5cbiAgICAgIGlmICghcGFyc2VyLm5vc2NyaXB0ICYmIHBhcnNlci50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzY3JpcHQnKSB7XG4gICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgIH1cbiAgICAgIHBhcnNlci50YWcgPSBudWxsXG4gICAgICBwYXJzZXIudGFnTmFtZSA9ICcnXG4gICAgfVxuICAgIHBhcnNlci5hdHRyaWJOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgICBwYXJzZXIuYXR0cmliTGlzdC5sZW5ndGggPSAwXG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVRhZyAocGFyc2VyKSB7XG4gICAgaWYgKCFwYXJzZXIudGFnTmFtZSkge1xuICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdXZWlyZCBlbXB0eSBjbG9zZSB0YWcuJylcbiAgICAgIHBhcnNlci50ZXh0Tm9kZSArPSAnPC8+J1xuICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAocGFyc2VyLnNjcmlwdCkge1xuICAgICAgaWYgKHBhcnNlci50YWdOYW1lICE9PSAnc2NyaXB0Jykge1xuICAgICAgICBwYXJzZXIuc2NyaXB0ICs9ICc8LycgKyBwYXJzZXIudGFnTmFtZSArICc+J1xuICAgICAgICBwYXJzZXIudGFnTmFtZSA9ICcnXG4gICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25zY3JpcHQnLCBwYXJzZXIuc2NyaXB0KVxuICAgICAgcGFyc2VyLnNjcmlwdCA9ICcnXG4gICAgfVxuXG4gICAgLy8gZmlyc3QgbWFrZSBzdXJlIHRoYXQgdGhlIGNsb3NpbmcgdGFnIGFjdHVhbGx5IGV4aXN0cy5cbiAgICAvLyA8YT48Yj48L2M+PC9iPjwvYT4gd2lsbCBjbG9zZSBldmVyeXRoaW5nLCBvdGhlcndpc2UuXG4gICAgdmFyIHQgPSBwYXJzZXIudGFncy5sZW5ndGhcbiAgICB2YXIgdGFnTmFtZSA9IHBhcnNlci50YWdOYW1lXG4gICAgaWYgKCFwYXJzZXIuc3RyaWN0KSB7XG4gICAgICB0YWdOYW1lID0gdGFnTmFtZVtwYXJzZXIubG9vc2VDYXNlXSgpXG4gICAgfVxuICAgIHZhciBjbG9zZVRvID0gdGFnTmFtZVxuICAgIHdoaWxlICh0LS0pIHtcbiAgICAgIHZhciBjbG9zZSA9IHBhcnNlci50YWdzW3RdXG4gICAgICBpZiAoY2xvc2UubmFtZSAhPT0gY2xvc2VUbykge1xuICAgICAgICAvLyBmYWlsIHRoZSBmaXJzdCB0aW1lIGluIHN0cmljdCBtb2RlXG4gICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5leHBlY3RlZCBjbG9zZSB0YWcnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkaWRuJ3QgZmluZCBpdC4gIHdlIGFscmVhZHkgZmFpbGVkIGZvciBzdHJpY3QsIHNvIGp1c3QgYWJvcnQuXG4gICAgaWYgKHQgPCAwKSB7XG4gICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1VubWF0Y2hlZCBjbG9zaW5nIHRhZzogJyArIHBhcnNlci50YWdOYW1lKVxuICAgICAgcGFyc2VyLnRleHROb2RlICs9ICc8LycgKyBwYXJzZXIudGFnTmFtZSArICc+J1xuICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgcGFyc2VyLnRhZ05hbWUgPSB0YWdOYW1lXG4gICAgdmFyIHMgPSBwYXJzZXIudGFncy5sZW5ndGhcbiAgICB3aGlsZSAocy0tID4gdCkge1xuICAgICAgdmFyIHRhZyA9IHBhcnNlci50YWcgPSBwYXJzZXIudGFncy5wb3AoKVxuICAgICAgcGFyc2VyLnRhZ05hbWUgPSBwYXJzZXIudGFnLm5hbWVcbiAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uY2xvc2V0YWcnLCBwYXJzZXIudGFnTmFtZSlcblxuICAgICAgdmFyIHggPSB7fVxuICAgICAgZm9yICh2YXIgaSBpbiB0YWcubnMpIHtcbiAgICAgICAgeFtpXSA9IHRhZy5uc1tpXVxuICAgICAgfVxuXG4gICAgICB2YXIgcGFyZW50ID0gcGFyc2VyLnRhZ3NbcGFyc2VyLnRhZ3MubGVuZ3RoIC0gMV0gfHwgcGFyc2VyXG4gICAgICBpZiAocGFyc2VyLm9wdC54bWxucyAmJiB0YWcubnMgIT09IHBhcmVudC5ucykge1xuICAgICAgICAvLyByZW1vdmUgbmFtZXNwYWNlIGJpbmRpbmdzIGludHJvZHVjZWQgYnkgdGFnXG4gICAgICAgIE9iamVjdC5rZXlzKHRhZy5ucykuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgICAgICAgIHZhciBuID0gdGFnLm5zW3BdXG4gICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jbG9zZW5hbWVzcGFjZScsIHsgcHJlZml4OiBwLCB1cmk6IG4gfSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHQgPT09IDApIHBhcnNlci5jbG9zZWRSb290ID0gdHJ1ZVxuICAgIHBhcnNlci50YWdOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gcGFyc2VyLmF0dHJpYk5hbWUgPSAnJ1xuICAgIHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDBcbiAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlRW50aXR5IChwYXJzZXIpIHtcbiAgICB2YXIgZW50aXR5ID0gcGFyc2VyLmVudGl0eVxuICAgIHZhciBlbnRpdHlMQyA9IGVudGl0eS50b0xvd2VyQ2FzZSgpXG4gICAgdmFyIG51bVxuICAgIHZhciBudW1TdHIgPSAnJ1xuXG4gICAgaWYgKHBhcnNlci5FTlRJVElFU1tlbnRpdHldKSB7XG4gICAgICByZXR1cm4gcGFyc2VyLkVOVElUSUVTW2VudGl0eV1cbiAgICB9XG4gICAgaWYgKHBhcnNlci5FTlRJVElFU1tlbnRpdHlMQ10pIHtcbiAgICAgIHJldHVybiBwYXJzZXIuRU5USVRJRVNbZW50aXR5TENdXG4gICAgfVxuICAgIGVudGl0eSA9IGVudGl0eUxDXG4gICAgaWYgKGVudGl0eS5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgICAgaWYgKGVudGl0eS5jaGFyQXQoMSkgPT09ICd4Jykge1xuICAgICAgICBlbnRpdHkgPSBlbnRpdHkuc2xpY2UoMilcbiAgICAgICAgbnVtID0gcGFyc2VJbnQoZW50aXR5LCAxNilcbiAgICAgICAgbnVtU3RyID0gbnVtLnRvU3RyaW5nKDE2KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW50aXR5ID0gZW50aXR5LnNsaWNlKDEpXG4gICAgICAgIG51bSA9IHBhcnNlSW50KGVudGl0eSwgMTApXG4gICAgICAgIG51bVN0ciA9IG51bS50b1N0cmluZygxMClcbiAgICAgIH1cbiAgICB9XG4gICAgZW50aXR5ID0gZW50aXR5LnJlcGxhY2UoL14wKy8sICcnKVxuICAgIGlmIChpc05hTihudW0pIHx8IG51bVN0ci50b0xvd2VyQ2FzZSgpICE9PSBlbnRpdHkpIHtcbiAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBjaGFyYWN0ZXIgZW50aXR5JylcbiAgICAgIHJldHVybiAnJicgKyBwYXJzZXIuZW50aXR5ICsgJzsnXG4gICAgfVxuXG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KG51bSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGJlZ2luV2hpdGVTcGFjZSAocGFyc2VyLCBjKSB7XG4gICAgaWYgKGMgPT09ICc8Jykge1xuICAgICAgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1dBS0FcbiAgICAgIHBhcnNlci5zdGFydFRhZ1Bvc2l0aW9uID0gcGFyc2VyLnBvc2l0aW9uXG4gICAgfSBlbHNlIGlmICghaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAvLyBoYXZlIHRvIHByb2Nlc3MgdGhpcyBhcyBhIHRleHQgbm9kZS5cbiAgICAgIC8vIHdlaXJkLCBidXQgaGFwcGVucy5cbiAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnTm9uLXdoaXRlc3BhY2UgYmVmb3JlIGZpcnN0IHRhZy4nKVxuICAgICAgcGFyc2VyLnRleHROb2RlID0gY1xuICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hhckF0IChjaHVuaywgaSkge1xuICAgIHZhciByZXN1bHQgPSAnJ1xuICAgIGlmIChpIDwgY2h1bmsubGVuZ3RoKSB7XG4gICAgICByZXN1bHQgPSBjaHVuay5jaGFyQXQoaSlcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGUgKGNodW5rKSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXNcbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgdGhyb3cgdGhpcy5lcnJvclxuICAgIH1cbiAgICBpZiAocGFyc2VyLmNsb3NlZCkge1xuICAgICAgcmV0dXJuIGVycm9yKHBhcnNlcixcbiAgICAgICAgJ0Nhbm5vdCB3cml0ZSBhZnRlciBjbG9zZS4gQXNzaWduIGFuIG9ucmVhZHkgaGFuZGxlci4nKVxuICAgIH1cbiAgICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBlbmQocGFyc2VyKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGNodW5rID09PSAnb2JqZWN0Jykge1xuICAgICAgY2h1bmsgPSBjaHVuay50b1N0cmluZygpXG4gICAgfVxuICAgIHZhciBpID0gMFxuICAgIHZhciBjID0gJydcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgYyA9IGNoYXJBdChjaHVuaywgaSsrKVxuICAgICAgcGFyc2VyLmMgPSBjXG5cbiAgICAgIGlmICghYykge1xuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyc2VyLnRyYWNrUG9zaXRpb24pIHtcbiAgICAgICAgcGFyc2VyLnBvc2l0aW9uKytcbiAgICAgICAgaWYgKGMgPT09ICdcXG4nKSB7XG4gICAgICAgICAgcGFyc2VyLmxpbmUrK1xuICAgICAgICAgIHBhcnNlci5jb2x1bW4gPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyc2VyLmNvbHVtbisrXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChwYXJzZXIuc3RhdGUpIHtcbiAgICAgICAgY2FzZSBTLkJFR0lOOlxuICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQkVHSU5fV0hJVEVTUEFDRVxuICAgICAgICAgIGlmIChjID09PSAnXFx1RkVGRicpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJlZ2luV2hpdGVTcGFjZShwYXJzZXIsIGMpXG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQkVHSU5fV0hJVEVTUEFDRTpcbiAgICAgICAgICBiZWdpbldoaXRlU3BhY2UocGFyc2VyLCBjKVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlRFWFQ6XG4gICAgICAgICAgaWYgKHBhcnNlci5zYXdSb290ICYmICFwYXJzZXIuY2xvc2VkUm9vdCkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0aSA9IGkgLSAxXG4gICAgICAgICAgICB3aGlsZSAoYyAmJiBjICE9PSAnPCcgJiYgYyAhPT0gJyYnKSB7XG4gICAgICAgICAgICAgIGMgPSBjaGFyQXQoY2h1bmssIGkrKylcbiAgICAgICAgICAgICAgaWYgKGMgJiYgcGFyc2VyLnRyYWNrUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBwYXJzZXIucG9zaXRpb24rK1xuICAgICAgICAgICAgICAgIGlmIChjID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgICAgcGFyc2VyLmxpbmUrK1xuICAgICAgICAgICAgICAgICAgcGFyc2VyLmNvbHVtbiA9IDBcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGFyc2VyLmNvbHVtbisrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIudGV4dE5vZGUgKz0gY2h1bmsuc3Vic3RyaW5nKHN0YXJ0aSwgaSAtIDEpXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjID09PSAnPCcgJiYgIShwYXJzZXIuc2F3Um9vdCAmJiBwYXJzZXIuY2xvc2VkUm9vdCAmJiAhcGFyc2VyLnN0cmljdCkpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9XQUtBXG4gICAgICAgICAgICBwYXJzZXIuc3RhcnRUYWdQb3NpdGlvbiA9IHBhcnNlci5wb3NpdGlvblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWlzV2hpdGVzcGFjZShjKSAmJiAoIXBhcnNlci5zYXdSb290IHx8IHBhcnNlci5jbG9zZWRSb290KSkge1xuICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1RleHQgZGF0YSBvdXRzaWRlIG9mIHJvb3Qgbm9kZS4nKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPT09ICcmJykge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRfRU5USVRZXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYXJzZXIudGV4dE5vZGUgKz0gY1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5TQ1JJUFQ6XG4gICAgICAgICAgLy8gb25seSBub24tc3RyaWN0XG4gICAgICAgICAgaWYgKGMgPT09ICc8Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRfRU5ESU5HXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5zY3JpcHQgKz0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5TQ1JJUFRfRU5ESU5HOlxuICAgICAgICAgIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0xPU0VfVEFHXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5zY3JpcHQgKz0gJzwnICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuT1BFTl9XQUtBOlxuICAgICAgICAgIC8vIGVpdGhlciBhIC8sID8sICEsIG9yIHRleHQgaXMgY29taW5nIG5leHQuXG4gICAgICAgICAgaWYgKGMgPT09ICchJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TR01MX0RFQ0xcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCA9ICcnXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIGl0Li4uXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVTdGFydCwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdcbiAgICAgICAgICAgIHBhcnNlci50YWdOYW1lID0gY1xuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJy8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNMT1NFX1RBR1xuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgPSAnJ1xuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVFxuICAgICAgICAgICAgcGFyc2VyLnByb2NJbnN0TmFtZSA9IHBhcnNlci5wcm9jSW5zdEJvZHkgPSAnJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1VuZW5jb2RlZCA8JylcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIHdhcyBzb21lIHdoaXRlc3BhY2UsIHRoZW4gYWRkIHRoYXQgaW4uXG4gICAgICAgICAgICBpZiAocGFyc2VyLnN0YXJ0VGFnUG9zaXRpb24gKyAxIDwgcGFyc2VyLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgIHZhciBwYWQgPSBwYXJzZXIucG9zaXRpb24gLSBwYXJzZXIuc3RhcnRUYWdQb3NpdGlvblxuICAgICAgICAgICAgICBjID0gbmV3IEFycmF5KHBhZCkuam9pbignICcpICsgY1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VyLnRleHROb2RlICs9ICc8JyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5TR01MX0RFQ0w6XG4gICAgICAgICAgaWYgKChwYXJzZXIuc2dtbERlY2wgKyBjKS50b1VwcGVyQ2FzZSgpID09PSBDREFUQSkge1xuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25vcGVuY2RhdGEnKVxuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DREFUQVxuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsID0gJydcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSA9ICcnXG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJzZXIuc2dtbERlY2wgKyBjID09PSAnLS0nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNPTU1FTlRcbiAgICAgICAgICAgIHBhcnNlci5jb21tZW50ID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCA9ICcnXG4gICAgICAgICAgfSBlbHNlIGlmICgocGFyc2VyLnNnbWxEZWNsICsgYykudG9VcHBlckNhc2UoKSA9PT0gRE9DVFlQRSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFXG4gICAgICAgICAgICBpZiAocGFyc2VyLmRvY3R5cGUgfHwgcGFyc2VyLnNhd1Jvb3QpIHtcbiAgICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsXG4gICAgICAgICAgICAgICAgJ0luYXBwcm9wcmlhdGVseSBsb2NhdGVkIGRvY3R5cGUgZGVjbGFyYXRpb24nKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VyLmRvY3R5cGUgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25zZ21sZGVjbGFyYXRpb24nLCBwYXJzZXIuc2dtbERlY2wpXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNHTUxfREVDTF9RVU9URURcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCArPSBjXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNHTUxfREVDTF9RVU9URUQ6XG4gICAgICAgICAgaWYgKGMgPT09IHBhcnNlci5xKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNHTUxfREVDTFxuICAgICAgICAgICAgcGFyc2VyLnEgPSAnJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgKz0gY1xuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkRPQ1RZUEU6XG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmRvY3R5cGUnLCBwYXJzZXIuZG9jdHlwZSlcbiAgICAgICAgICAgIHBhcnNlci5kb2N0eXBlID0gdHJ1ZSAvLyBqdXN0IHJlbWVtYmVyIHRoYXQgd2Ugc2F3IGl0LlxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuZG9jdHlwZSArPSBjXG4gICAgICAgICAgICBpZiAoYyA9PT0gJ1snKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRV9EVERcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNRdW90ZShjKSkge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfUVVPVEVEXG4gICAgICAgICAgICAgIHBhcnNlci5xID0gY1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5ET0NUWVBFX1FVT1RFRDpcbiAgICAgICAgICBwYXJzZXIuZG9jdHlwZSArPSBjXG4gICAgICAgICAgaWYgKGMgPT09IHBhcnNlci5xKSB7XG4gICAgICAgICAgICBwYXJzZXIucSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuRE9DVFlQRV9EVEQ6XG4gICAgICAgICAgcGFyc2VyLmRvY3R5cGUgKz0gY1xuICAgICAgICAgIGlmIChjID09PSAnXScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNRdW90ZShjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFX0RURF9RVU9URURcbiAgICAgICAgICAgIHBhcnNlci5xID0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5ET0NUWVBFX0RURF9RVU9URUQ6XG4gICAgICAgICAgcGFyc2VyLmRvY3R5cGUgKz0gY1xuICAgICAgICAgIGlmIChjID09PSBwYXJzZXIucSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFX0RURFxuICAgICAgICAgICAgcGFyc2VyLnEgPSAnJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5DT01NRU5UOlxuICAgICAgICAgIGlmIChjID09PSAnLScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVF9FTkRJTkdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgKz0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5DT01NRU5UX0VORElORzpcbiAgICAgICAgICBpZiAoYyA9PT0gJy0nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNPTU1FTlRfRU5ERURcbiAgICAgICAgICAgIHBhcnNlci5jb21tZW50ID0gdGV4dG9wdHMocGFyc2VyLm9wdCwgcGFyc2VyLmNvbW1lbnQpXG4gICAgICAgICAgICBpZiAocGFyc2VyLmNvbW1lbnQpIHtcbiAgICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jb21tZW50JywgcGFyc2VyLmNvbW1lbnQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIuY29tbWVudCA9ICcnXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5jb21tZW50ICs9ICctJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5DT01NRU5UX0VOREVEOlxuICAgICAgICAgIGlmIChjICE9PSAnPicpIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnTWFsZm9ybWVkIGNvbW1lbnQnKVxuICAgICAgICAgICAgLy8gYWxsb3cgPCEtLSBibGFoIC0tIGJsb28gLS0+IGluIG5vbi1zdHJpY3QgbW9kZSxcbiAgICAgICAgICAgIC8vIHdoaWNoIGlzIGEgY29tbWVudCBvZiBcIiBibGFoIC0tIGJsb28gXCJcbiAgICAgICAgICAgIHBhcnNlci5jb21tZW50ICs9ICctLScgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNPTU1FTlRcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNEQVRBOlxuICAgICAgICAgIGlmIChjID09PSAnXScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFfRU5ESU5HXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNEQVRBX0VORElORzpcbiAgICAgICAgICBpZiAoYyA9PT0gJ10nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNEQVRBX0VORElOR18yXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSArPSAnXScgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNEQVRBXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNEQVRBX0VORElOR18yOlxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIGlmIChwYXJzZXIuY2RhdGEpIHtcbiAgICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jZGF0YScsIHBhcnNlci5jZGF0YSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uY2xvc2VjZGF0YScpXG4gICAgICAgICAgICBwYXJzZXIuY2RhdGEgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnXScpIHtcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSArPSAnXSdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9ICddXScgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNEQVRBXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlBST0NfSU5TVDpcbiAgICAgICAgICBpZiAoYyA9PT0gJz8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVF9FTkRJTkdcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RfQk9EWVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIucHJvY0luc3ROYW1lICs9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuUFJPQ19JTlNUX0JPRFk6XG4gICAgICAgICAgaWYgKCFwYXJzZXIucHJvY0luc3RCb2R5ICYmIGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc/Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RfRU5ESU5HXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5wcm9jSW5zdEJvZHkgKz0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5QUk9DX0lOU1RfRU5ESU5HOlxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29ucHJvY2Vzc2luZ2luc3RydWN0aW9uJywge1xuICAgICAgICAgICAgICBuYW1lOiBwYXJzZXIucHJvY0luc3ROYW1lLFxuICAgICAgICAgICAgICBib2R5OiBwYXJzZXIucHJvY0luc3RCb2R5XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcGFyc2VyLnByb2NJbnN0TmFtZSA9IHBhcnNlci5wcm9jSW5zdEJvZHkgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5wcm9jSW5zdEJvZHkgKz0gJz8nICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RfQk9EWVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5PUEVOX1RBRzpcbiAgICAgICAgICBpZiAoaXNNYXRjaChuYW1lQm9keSwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci50YWdOYW1lICs9IGNcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3VGFnKHBhcnNlcilcbiAgICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICcvJykge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fVEFHX1NMQVNIXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoIWlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBjaGFyYWN0ZXIgaW4gdGFnIG5hbWUnKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLk9QRU5fVEFHX1NMQVNIOlxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyLCB0cnVlKVxuICAgICAgICAgICAgY2xvc2VUYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ZvcndhcmQtc2xhc2ggaW4gb3BlbmluZyB0YWcgbm90IGZvbGxvd2VkIGJ5ID4nKVxuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCOlxuICAgICAgICAgIC8vIGhhdmVuJ3QgcmVhZCB0aGUgYXR0cmlidXRlIG5hbWUgeWV0LlxuICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJy8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fVEFHX1NMQVNIXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVTdGFydCwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gY1xuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX05BTUVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lJylcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX05BTUU6XG4gICAgICAgICAgaWYgKGMgPT09ICc9Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdBdHRyaWJ1dGUgd2l0aG91dCB2YWx1ZScpXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgPSBwYXJzZXIuYXR0cmliTmFtZVxuICAgICAgICAgICAgYXR0cmliKHBhcnNlcilcbiAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9OQU1FX1NBV19XSElURVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNNYXRjaChuYW1lQm9keSwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJOYW1lICs9IGNcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lJylcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX05BTUVfU0FXX1dISVRFOlxuICAgICAgICAgIGlmIChjID09PSAnPScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnQXR0cmlidXRlIHdpdGhvdXQgdmFsdWUnKVxuICAgICAgICAgICAgcGFyc2VyLnRhZy5hdHRyaWJ1dGVzW3BhcnNlci5hdHRyaWJOYW1lXSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25hdHRyaWJ1dGUnLCB7XG4gICAgICAgICAgICAgIG5hbWU6IHBhcnNlci5hdHRyaWJOYW1lLFxuICAgICAgICAgICAgICB2YWx1ZTogJydcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliTmFtZSA9ICcnXG4gICAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVTdGFydCwgYykpIHtcbiAgICAgICAgICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBjXG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX05BTUVcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBhdHRyaWJ1dGUgbmFtZScpXG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRTpcbiAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNRdW90ZShjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnEgPSBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9RVU9URURcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdVbnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUnKVxuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVfVU5RVU9URURcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSA9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX1FVT1RFRDpcbiAgICAgICAgICBpZiAoYyAhPT0gcGFyc2VyLnEpIHtcbiAgICAgICAgICAgIGlmIChjID09PSAnJicpIHtcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVfRU5USVRZX1FcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSArPSBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBhdHRyaWIocGFyc2VyKVxuICAgICAgICAgIHBhcnNlci5xID0gJydcbiAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9DTE9TRURcbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfQ0xPU0VEOlxuICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJy8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fVEFHX1NMQVNIXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVTdGFydCwgYykpIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnTm8gd2hpdGVzcGFjZSBiZXR3ZWVuIGF0dHJpYnV0ZXMnKVxuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBjXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfTkFNRVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgYXR0cmlidXRlIG5hbWUnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfVU5RVU9URUQ6XG4gICAgICAgICAgaWYgKCFpc0F0dHJpYkVuZChjKSkge1xuICAgICAgICAgICAgaWYgKGMgPT09ICcmJykge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfVVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlICs9IGNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGF0dHJpYihwYXJzZXIpXG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNMT1NFX1RBRzpcbiAgICAgICAgICBpZiAoIXBhcnNlci50YWdOYW1lKSB7XG4gICAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5vdE1hdGNoKG5hbWVTdGFydCwgYykpIHtcbiAgICAgICAgICAgICAgaWYgKHBhcnNlci5zY3JpcHQpIHtcbiAgICAgICAgICAgICAgICBwYXJzZXIuc2NyaXB0ICs9ICc8LycgKyBjXG4gICAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgdGFnbmFtZSBpbiBjbG9zaW5nIHRhZy4nKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYXJzZXIudGFnTmFtZSA9IGNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgY2xvc2VUYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNNYXRjaChuYW1lQm9keSwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci50YWdOYW1lICs9IGNcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlci5zY3JpcHQpIHtcbiAgICAgICAgICAgIHBhcnNlci5zY3JpcHQgKz0gJzwvJyArIHBhcnNlci50YWdOYW1lXG4gICAgICAgICAgICBwYXJzZXIudGFnTmFtZSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgdGFnbmFtZSBpbiBjbG9zaW5nIHRhZycpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNMT1NFX1RBR19TQVdfV0hJVEVcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0xPU0VfVEFHX1NBV19XSElURTpcbiAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBjbG9zZVRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBjaGFyYWN0ZXJzIGluIGNsb3NpbmcgdGFnJylcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuVEVYVF9FTlRJVFk6XG4gICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfRU5USVRZX1E6XG4gICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfRU5USVRZX1U6XG4gICAgICAgICAgdmFyIHJldHVyblN0YXRlXG4gICAgICAgICAgdmFyIGJ1ZmZlclxuICAgICAgICAgIHN3aXRjaCAocGFyc2VyLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIFMuVEVYVF9FTlRJVFk6XG4gICAgICAgICAgICAgIHJldHVyblN0YXRlID0gUy5URVhUXG4gICAgICAgICAgICAgIGJ1ZmZlciA9ICd0ZXh0Tm9kZSdcbiAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfUTpcbiAgICAgICAgICAgICAgcmV0dXJuU3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9RVU9URURcbiAgICAgICAgICAgICAgYnVmZmVyID0gJ2F0dHJpYlZhbHVlJ1xuICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX0VOVElUWV9VOlxuICAgICAgICAgICAgICByZXR1cm5TdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1VOUVVPVEVEXG4gICAgICAgICAgICAgIGJ1ZmZlciA9ICdhdHRyaWJWYWx1ZSdcbiAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYyA9PT0gJzsnKSB7XG4gICAgICAgICAgICBwYXJzZXJbYnVmZmVyXSArPSBwYXJzZUVudGl0eShwYXJzZXIpXG4gICAgICAgICAgICBwYXJzZXIuZW50aXR5ID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IHJldHVyblN0YXRlXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKHBhcnNlci5lbnRpdHkubGVuZ3RoID8gZW50aXR5Qm9keSA6IGVudGl0eVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLmVudGl0eSArPSBjXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBjaGFyYWN0ZXIgaW4gZW50aXR5IG5hbWUnKVxuICAgICAgICAgICAgcGFyc2VyW2J1ZmZlcl0gKz0gJyYnICsgcGFyc2VyLmVudGl0eSArIGNcbiAgICAgICAgICAgIHBhcnNlci5lbnRpdHkgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gcmV0dXJuU3RhdGVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBhcnNlciwgJ1Vua25vd24gc3RhdGU6ICcgKyBwYXJzZXIuc3RhdGUpXG4gICAgICB9XG4gICAgfSAvLyB3aGlsZVxuXG4gICAgaWYgKHBhcnNlci5wb3NpdGlvbiA+PSBwYXJzZXIuYnVmZmVyQ2hlY2tQb3NpdGlvbikge1xuICAgICAgY2hlY2tCdWZmZXJMZW5ndGgocGFyc2VyKVxuICAgIH1cbiAgICByZXR1cm4gcGFyc2VyXG4gIH1cblxuICAvKiEgaHR0cDovL210aHMuYmUvZnJvbWNvZGVwb2ludCB2MC4xLjAgYnkgQG1hdGhpYXMgKi9cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKCFTdHJpbmcuZnJvbUNvZGVQb2ludCkge1xuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZVxuICAgICAgdmFyIGZsb29yID0gTWF0aC5mbG9vclxuICAgICAgdmFyIGZyb21Db2RlUG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBNQVhfU0laRSA9IDB4NDAwMFxuICAgICAgICB2YXIgY29kZVVuaXRzID0gW11cbiAgICAgICAgdmFyIGhpZ2hTdXJyb2dhdGVcbiAgICAgICAgdmFyIGxvd1N1cnJvZ2F0ZVxuICAgICAgICB2YXIgaW5kZXggPSAtMVxuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiAnJ1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSAnJ1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBjb2RlUG9pbnQgPSBOdW1iZXIoYXJndW1lbnRzW2luZGV4XSlcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNGaW5pdGUoY29kZVBvaW50KSB8fCAvLyBgTmFOYCwgYCtJbmZpbml0eWAsIG9yIGAtSW5maW5pdHlgXG4gICAgICAgICAgICBjb2RlUG9pbnQgPCAwIHx8IC8vIG5vdCBhIHZhbGlkIFVuaWNvZGUgY29kZSBwb2ludFxuICAgICAgICAgICAgY29kZVBvaW50ID4gMHgxMEZGRkYgfHwgLy8gbm90IGEgdmFsaWQgVW5pY29kZSBjb2RlIHBvaW50XG4gICAgICAgICAgICBmbG9vcihjb2RlUG9pbnQpICE9PSBjb2RlUG9pbnQgLy8gbm90IGFuIGludGVnZXJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRocm93IFJhbmdlRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludDogJyArIGNvZGVQb2ludClcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweEZGRkYpIHsgLy8gQk1QIGNvZGUgcG9pbnRcbiAgICAgICAgICAgIGNvZGVVbml0cy5wdXNoKGNvZGVQb2ludClcbiAgICAgICAgICB9IGVsc2UgeyAvLyBBc3RyYWwgY29kZSBwb2ludDsgc3BsaXQgaW4gc3Vycm9nYXRlIGhhbHZlc1xuICAgICAgICAgICAgLy8gaHR0cDovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZyNzdXJyb2dhdGUtZm9ybXVsYWVcbiAgICAgICAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICAgICAgICBoaWdoU3Vycm9nYXRlID0gKGNvZGVQb2ludCA+PiAxMCkgKyAweEQ4MDBcbiAgICAgICAgICAgIGxvd1N1cnJvZ2F0ZSA9IChjb2RlUG9pbnQgJSAweDQwMCkgKyAweERDMDBcbiAgICAgICAgICAgIGNvZGVVbml0cy5wdXNoKGhpZ2hTdXJyb2dhdGUsIGxvd1N1cnJvZ2F0ZSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGluZGV4ICsgMSA9PT0gbGVuZ3RoIHx8IGNvZGVVbml0cy5sZW5ndGggPiBNQVhfU0laRSkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZS5hcHBseShudWxsLCBjb2RlVW5pdHMpXG4gICAgICAgICAgICBjb2RlVW5pdHMubGVuZ3RoID0gMFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLCAnZnJvbUNvZGVQb2ludCcsIHtcbiAgICAgICAgICB2YWx1ZTogZnJvbUNvZGVQb2ludCxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFN0cmluZy5mcm9tQ29kZVBvaW50ID0gZnJvbUNvZGVQb2ludFxuICAgICAgfVxuICAgIH0oKSlcbiAgfVxufSkodHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnID8gdGhpcy5zYXggPSB7fSA6IGV4cG9ydHMpXG4iLCIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKFxuICAgICAgdWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKVxuICAgICkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiIsImV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5tb2R1bGUuZXhwb3J0cyA9IFN0cmVhbTtcblxudmFyIEVFID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuaW5oZXJpdHMoU3RyZWFtLCBFRSk7XG5TdHJlYW0uUmVhZGFibGUgPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vcmVhZGFibGUuanMnKTtcblN0cmVhbS5Xcml0YWJsZSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS93cml0YWJsZS5qcycpO1xuU3RyZWFtLkR1cGxleCA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9kdXBsZXguanMnKTtcblN0cmVhbS5UcmFuc2Zvcm0gPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vdHJhbnNmb3JtLmpzJyk7XG5TdHJlYW0uUGFzc1Rocm91Z2ggPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vcGFzc3Rocm91Z2guanMnKTtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC40LnhcblN0cmVhbS5TdHJlYW0gPSBTdHJlYW07XG5cblxuXG4vLyBvbGQtc3R5bGUgc3RyZWFtcy4gIE5vdGUgdGhhdCB0aGUgcGlwZSBtZXRob2QgKHRoZSBvbmx5IHJlbGV2YW50XG4vLyBwYXJ0IG9mIHRoaXMgY2xhc3MpIGlzIG92ZXJyaWRkZW4gaW4gdGhlIFJlYWRhYmxlIGNsYXNzLlxuXG5mdW5jdGlvbiBTdHJlYW0oKSB7XG4gIEVFLmNhbGwodGhpcyk7XG59XG5cblN0cmVhbS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uKGRlc3QsIG9wdGlvbnMpIHtcbiAgdmFyIHNvdXJjZSA9IHRoaXM7XG5cbiAgZnVuY3Rpb24gb25kYXRhKGNodW5rKSB7XG4gICAgaWYgKGRlc3Qud3JpdGFibGUpIHtcbiAgICAgIGlmIChmYWxzZSA9PT0gZGVzdC53cml0ZShjaHVuaykgJiYgc291cmNlLnBhdXNlKSB7XG4gICAgICAgIHNvdXJjZS5wYXVzZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNvdXJjZS5vbignZGF0YScsIG9uZGF0YSk7XG5cbiAgZnVuY3Rpb24gb25kcmFpbigpIHtcbiAgICBpZiAoc291cmNlLnJlYWRhYmxlICYmIHNvdXJjZS5yZXN1bWUpIHtcbiAgICAgIHNvdXJjZS5yZXN1bWUoKTtcbiAgICB9XG4gIH1cblxuICBkZXN0Lm9uKCdkcmFpbicsIG9uZHJhaW4pO1xuXG4gIC8vIElmIHRoZSAnZW5kJyBvcHRpb24gaXMgbm90IHN1cHBsaWVkLCBkZXN0LmVuZCgpIHdpbGwgYmUgY2FsbGVkIHdoZW5cbiAgLy8gc291cmNlIGdldHMgdGhlICdlbmQnIG9yICdjbG9zZScgZXZlbnRzLiAgT25seSBkZXN0LmVuZCgpIG9uY2UuXG4gIGlmICghZGVzdC5faXNTdGRpbyAmJiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5lbmQgIT09IGZhbHNlKSkge1xuICAgIHNvdXJjZS5vbignZW5kJywgb25lbmQpO1xuICAgIHNvdXJjZS5vbignY2xvc2UnLCBvbmNsb3NlKTtcbiAgfVxuXG4gIHZhciBkaWRPbkVuZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBvbmVuZCgpIHtcbiAgICBpZiAoZGlkT25FbmQpIHJldHVybjtcbiAgICBkaWRPbkVuZCA9IHRydWU7XG5cbiAgICBkZXN0LmVuZCgpO1xuICB9XG5cblxuICBmdW5jdGlvbiBvbmNsb3NlKCkge1xuICAgIGlmIChkaWRPbkVuZCkgcmV0dXJuO1xuICAgIGRpZE9uRW5kID0gdHJ1ZTtcblxuICAgIGlmICh0eXBlb2YgZGVzdC5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSBkZXN0LmRlc3Ryb3koKTtcbiAgfVxuXG4gIC8vIGRvbid0IGxlYXZlIGRhbmdsaW5nIHBpcGVzIHdoZW4gdGhlcmUgYXJlIGVycm9ycy5cbiAgZnVuY3Rpb24gb25lcnJvcihlcikge1xuICAgIGNsZWFudXAoKTtcbiAgICBpZiAoRUUubGlzdGVuZXJDb3VudCh0aGlzLCAnZXJyb3InKSA9PT0gMCkge1xuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCBzdHJlYW0gZXJyb3IgaW4gcGlwZS5cbiAgICB9XG4gIH1cblxuICBzb3VyY2Uub24oJ2Vycm9yJywgb25lcnJvcik7XG4gIGRlc3Qub24oJ2Vycm9yJywgb25lcnJvcik7XG5cbiAgLy8gcmVtb3ZlIGFsbCB0aGUgZXZlbnQgbGlzdGVuZXJzIHRoYXQgd2VyZSBhZGRlZC5cbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBvbmRhdGEpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2RyYWluJywgb25kcmFpbik7XG5cbiAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9uZW5kKTtcbiAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25jbG9zZSk7XG5cbiAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcblxuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZW5kJywgY2xlYW51cCk7XG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIGNsZWFudXApO1xuXG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBjbGVhbnVwKTtcbiAgfVxuXG4gIHNvdXJjZS5vbignZW5kJywgY2xlYW51cCk7XG4gIHNvdXJjZS5vbignY2xvc2UnLCBjbGVhbnVwKTtcblxuICBkZXN0Lm9uKCdjbG9zZScsIGNsZWFudXApO1xuXG4gIGRlc3QuZW1pdCgncGlwZScsIHNvdXJjZSk7XG5cbiAgLy8gQWxsb3cgZm9yIHVuaXgtbGlrZSB1c2FnZTogQS5waXBlKEIpLnBpcGUoQylcbiAgcmV0dXJuIGRlc3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnc2FmZS1idWZmZXInKS5CdWZmZXI7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcblxuZnVuY3Rpb24gY29weUJ1ZmZlcihzcmMsIHRhcmdldCwgb2Zmc2V0KSB7XG4gIHNyYy5jb3B5KHRhcmdldCwgb2Zmc2V0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJ1ZmZlckxpc3QoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJ1ZmZlckxpc3QpO1xuXG4gICAgdGhpcy5oZWFkID0gbnVsbDtcbiAgICB0aGlzLnRhaWwgPSBudWxsO1xuICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgfVxuXG4gIEJ1ZmZlckxpc3QucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoKHYpIHtcbiAgICB2YXIgZW50cnkgPSB7IGRhdGE6IHYsIG5leHQ6IG51bGwgfTtcbiAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB0aGlzLnRhaWwubmV4dCA9IGVudHJ5O2Vsc2UgdGhpcy5oZWFkID0gZW50cnk7XG4gICAgdGhpcy50YWlsID0gZW50cnk7XG4gICAgKyt0aGlzLmxlbmd0aDtcbiAgfTtcblxuICBCdWZmZXJMaXN0LnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gdW5zaGlmdCh2KSB7XG4gICAgdmFyIGVudHJ5ID0geyBkYXRhOiB2LCBuZXh0OiB0aGlzLmhlYWQgfTtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHRoaXMudGFpbCA9IGVudHJ5O1xuICAgIHRoaXMuaGVhZCA9IGVudHJ5O1xuICAgICsrdGhpcy5sZW5ndGg7XG4gIH07XG5cbiAgQnVmZmVyTGlzdC5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiBzaGlmdCgpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICB2YXIgcmV0ID0gdGhpcy5oZWFkLmRhdGE7XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAxKSB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBudWxsO2Vsc2UgdGhpcy5oZWFkID0gdGhpcy5oZWFkLm5leHQ7XG4gICAgLS10aGlzLmxlbmd0aDtcbiAgICByZXR1cm4gcmV0O1xuICB9O1xuXG4gIEJ1ZmZlckxpc3QucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG4gIH07XG5cbiAgQnVmZmVyTGlzdC5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uIGpvaW4ocykge1xuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnO1xuICAgIHZhciBwID0gdGhpcy5oZWFkO1xuICAgIHZhciByZXQgPSAnJyArIHAuZGF0YTtcbiAgICB3aGlsZSAocCA9IHAubmV4dCkge1xuICAgICAgcmV0ICs9IHMgKyBwLmRhdGE7XG4gICAgfXJldHVybiByZXQ7XG4gIH07XG5cbiAgQnVmZmVyTGlzdC5wcm90b3R5cGUuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0KG4pIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiBCdWZmZXIuYWxsb2MoMCk7XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAxKSByZXR1cm4gdGhpcy5oZWFkLmRhdGE7XG4gICAgdmFyIHJldCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuID4+PiAwKTtcbiAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKHApIHtcbiAgICAgIGNvcHlCdWZmZXIocC5kYXRhLCByZXQsIGkpO1xuICAgICAgaSArPSBwLmRhdGEubGVuZ3RoO1xuICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcblxuICByZXR1cm4gQnVmZmVyTGlzdDtcbn0oKTtcblxuaWYgKHV0aWwgJiYgdXRpbC5pbnNwZWN0ICYmIHV0aWwuaW5zcGVjdC5jdXN0b20pIHtcbiAgbW9kdWxlLmV4cG9ydHMucHJvdG90eXBlW3V0aWwuaW5zcGVjdC5jdXN0b21dID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvYmogPSB1dGlsLmluc3BlY3QoeyBsZW5ndGg6IHRoaXMubGVuZ3RoIH0pO1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgKyAnICcgKyBvYmo7XG4gIH07XG59IiwidmFyIHNjb3BlID0gKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYpIHx8XG4gICAgICAgICAgICB3aW5kb3c7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbChzY29wZSwgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG4vLyBPbiBzb21lIGV4b3RpYyBlbnZpcm9ubWVudHMsIGl0J3Mgbm90IGNsZWFyIHdoaWNoIG9iamVjdCBgc2V0aW1tZWRpYXRlYCB3YXNcbi8vIGFibGUgdG8gaW5zdGFsbCBvbnRvLiAgU2VhcmNoIGVhY2ggcG9zc2liaWxpdHkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4vLyBgc2V0aW1tZWRpYXRlYCBsaWJyYXJ5LlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuc2V0SW1tZWRpYXRlKTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5jbGVhckltbWVkaWF0ZSk7XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5leHRIYW5kbGUgPSAxOyAvLyBTcGVjIHNheXMgZ3JlYXRlciB0aGFuIHplcm9cbiAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICB2YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblxuICAgIGZ1bmN0aW9uIHNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuICAgICAgLy8gQ2FsbGJhY2sgY2FuIGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIENvcHkgZnVuY3Rpb24gYXJndW1lbnRzXG4gICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIFN0b3JlIGFuZCByZWdpc3RlciB0aGUgdGFza1xuICAgICAgdmFyIHRhc2sgPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgYXJnczogYXJncyB9O1xuICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG4gICAgICByZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKTtcbiAgICAgIHJldHVybiBuZXh0SGFuZGxlKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuKHRhc2spIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3M7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgICAgICAvLyBGcm9tIHRoZSBzcGVjOiBcIldhaXQgdW50aWwgYW55IGludm9jYXRpb25zIG9mIHRoaXMgYWxnb3JpdGhtIHN0YXJ0ZWQgYmVmb3JlIHRoaXMgb25lIGhhdmUgY29tcGxldGVkLlwiXG4gICAgICAgIC8vIFNvIGlmIHdlJ3JlIGN1cnJlbnRseSBydW5uaW5nIGEgdGFzaywgd2UnbGwgbmVlZCB0byBkZWxheSB0aGlzIGludm9jYXRpb24uXG4gICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcbiAgICAgICAgICAgIC8vIERlbGF5IGJ5IGRvaW5nIGEgc2V0VGltZW91dC4gc2V0SW1tZWRpYXRlIHdhcyB0cmllZCBpbnN0ZWFkLCBidXQgaW4gRmlyZWZveCA3IGl0IGdlbmVyYXRlZCBhXG4gICAgICAgICAgICAvLyBcInRvbyBtdWNoIHJlY3Vyc2lvblwiIGVycm9yLlxuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcnVuSWZQcmVzZW50KGhhbmRsZSk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblVzZVBvc3RNZXNzYWdlKCkge1xuICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG4gICAgICAgIC8vIHdoZXJlIGBnbG9iYWwucG9zdE1lc3NhZ2VgIG1lYW5zIHNvbWV0aGluZyBjb21wbGV0ZWx5IGRpZmZlcmVudCBhbmQgY2FuJ3QgYmUgdXNlZCBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgICBpZiAoZ2xvYmFsLnBvc3RNZXNzYWdlICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9sZE9uTWVzc2FnZSA9IGdsb2JhbC5vbm1lc3NhZ2U7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLCBcIipcIik7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gb2xkT25NZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgLy8gSW5zdGFsbHMgYW4gZXZlbnQgaGFuZGxlciBvbiBgZ2xvYmFsYCBmb3IgdGhlIGBtZXNzYWdlYCBldmVudDogc2VlXG4gICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuICAgICAgICAvLyAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL2NvbW1zLmh0bWwjY3Jvc3NEb2N1bWVudE1lc3NhZ2VzXG5cbiAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcbiAgICAgICAgdmFyIG9uR2xvYmFsTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBnbG9iYWwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXggKyBoYW5kbGUsIFwiKlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cbiAgICB2YXIgYXR0YWNoVG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7XG4gICAgYXR0YWNoVG8gPSBhdHRhY2hUbyAmJiBhdHRhY2hUby5zZXRUaW1lb3V0ID8gYXR0YWNoVG8gOiBnbG9iYWw7XG5cbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IGUuZy4gYnJvd3NlcmlmeSBlbnZpcm9ubWVudHMuXG4gICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIikge1xuICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG4gICAgICAgIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNhblVzZVBvc3RNZXNzYWdlKCkpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1JRTEwIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgICAgLy8gRm9yIHdlYiB3b3JrZXJzLCB3aGVyZSBzdXBwb3J0ZWRcbiAgICAgICAgaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZG9jICYmIFwib25yZWFkeXN0YXRlY2hhbmdlXCIgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpIHtcbiAgICAgICAgLy8gRm9yIElFIDbigJM4XG4gICAgICAgIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuICAgIGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG59KHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gdHlwZW9mIGdsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiBnbG9iYWwgOiBzZWxmKSk7XG4iLCJcbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBkZXByZWNhdGU7XG5cbi8qKlxuICogTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbiAqIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS5ub0RlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS50aHJvd0RlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGRlcHJlY2F0ZWQgZnVuY3Rpb25zXG4gKiB3aWxsIHRocm93IGFuIEVycm9yIHdoZW4gaW52b2tlZC5cbiAqXG4gKiBJZiBgbG9jYWxTdG9yYWdlLnRyYWNlRGVwcmVjYXRpb24gPSB0cnVlYCBpcyBzZXQsIHRoZW4gZGVwcmVjYXRlZCBmdW5jdGlvbnNcbiAqIHdpbGwgaW52b2tlIGBjb25zb2xlLnRyYWNlKClgIGluc3RlYWQgb2YgYGNvbnNvbGUuZXJyb3IoKWAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSB0aGUgZnVuY3Rpb24gdG8gZGVwcmVjYXRlXG4gKiBAcGFyYW0ge1N0cmluZ30gbXNnIC0gdGhlIHN0cmluZyB0byBwcmludCB0byB0aGUgY29uc29sZSB3aGVuIGBmbmAgaXMgaW52b2tlZFxuICogQHJldHVybnMge0Z1bmN0aW9ufSBhIG5ldyBcImRlcHJlY2F0ZWRcIiB2ZXJzaW9uIG9mIGBmbmBcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZGVwcmVjYXRlIChmbiwgbXNnKSB7XG4gIGlmIChjb25maWcoJ25vRGVwcmVjYXRpb24nKSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKGNvbmZpZygndGhyb3dEZXByZWNhdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChjb25maWcoJ3RyYWNlRGVwcmVjYXRpb24nKSkge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4obXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGBsb2NhbFN0b3JhZ2VgIGZvciBib29sZWFuIHZhbHVlcyBmb3IgdGhlIGdpdmVuIGBuYW1lYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb25maWcgKG5hbWUpIHtcbiAgLy8gYWNjZXNzaW5nIGdsb2JhbC5sb2NhbFN0b3JhZ2UgY2FuIHRyaWdnZXIgYSBET01FeGNlcHRpb24gaW4gc2FuZGJveGVkIGlmcmFtZXNcbiAgdHJ5IHtcbiAgICBpZiAoIWdsb2JhbC5sb2NhbFN0b3JhZ2UpIHJldHVybiBmYWxzZTtcbiAgfSBjYXRjaCAoXykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdmFsID0gZ2xvYmFsLmxvY2FsU3RvcmFnZVtuYW1lXTtcbiAgaWYgKG51bGwgPT0gdmFsKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBTdHJpbmcodmFsKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gYSBwYXNzdGhyb3VnaCBzdHJlYW0uXG4vLyBiYXNpY2FsbHkganVzdCB0aGUgbW9zdCBtaW5pbWFsIHNvcnQgb2YgVHJhbnNmb3JtIHN0cmVhbS5cbi8vIEV2ZXJ5IHdyaXR0ZW4gY2h1bmsgZ2V0cyBvdXRwdXQgYXMtaXMuXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQYXNzVGhyb3VnaDtcblxudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJy4vX3N0cmVhbV90cmFuc2Zvcm0nKTtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciB1dGlsID0gcmVxdWlyZSgnY29yZS11dGlsLWlzJyk7XG51dGlsLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG51dGlsLmluaGVyaXRzKFBhc3NUaHJvdWdoLCBUcmFuc2Zvcm0pO1xuXG5mdW5jdGlvbiBQYXNzVGhyb3VnaChvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQYXNzVGhyb3VnaCkpIHJldHVybiBuZXcgUGFzc1Rocm91Z2gob3B0aW9ucyk7XG5cbiAgVHJhbnNmb3JtLmNhbGwodGhpcywgb3B0aW9ucyk7XG59XG5cblBhc3NUaHJvdWdoLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobnVsbCwgY2h1bmspO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fd3JpdGFibGUuanMnKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV9kdXBsZXguanMnKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9yZWFkYWJsZScpLlRyYW5zZm9ybVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3JlYWRhYmxlJykuUGFzc1Rocm91Z2hcbiIsInZhciBoZWxwZXIgPSByZXF1aXJlKCcuL29wdGlvbnMtaGVscGVyJyk7XHJcbnZhciB4bWwyanMgPSByZXF1aXJlKCcuL3htbDJqcycpO1xyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVPcHRpb25zICh1c2VyT3B0aW9ucykge1xyXG4gIHZhciBvcHRpb25zID0gaGVscGVyLmNvcHlPcHRpb25zKHVzZXJPcHRpb25zKTtcclxuICBoZWxwZXIuZW5zdXJlU3BhY2VzRXhpc3RzKG9wdGlvbnMpO1xyXG4gIHJldHVybiBvcHRpb25zO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHhtbCwgdXNlck9wdGlvbnMpIHtcclxuICB2YXIgb3B0aW9ucywganMsIGpzb24sIHBhcmVudEtleTtcclxuICBvcHRpb25zID0gdmFsaWRhdGVPcHRpb25zKHVzZXJPcHRpb25zKTtcclxuICBqcyA9IHhtbDJqcyh4bWwsIG9wdGlvbnMpO1xyXG4gIHBhcmVudEtleSA9ICdjb21wYWN0JyBpbiBvcHRpb25zICYmIG9wdGlvbnMuY29tcGFjdCA/ICdfcGFyZW50JyA6ICdwYXJlbnQnO1xyXG4gIC8vIHBhcmVudEtleSA9IHB0aW9ucy5jb21wYWN0ID8gJ19wYXJlbnQnIDogJ3BhcmVudCc7IC8vIGNvbnNpZGVyIHRoaXNcclxuICBpZiAoJ2FkZFBhcmVudCcgaW4gb3B0aW9ucyAmJiBvcHRpb25zLmFkZFBhcmVudCkge1xyXG4gICAganNvbiA9IEpTT04uc3RyaW5naWZ5KGpzLCBmdW5jdGlvbiAoaywgdikgeyByZXR1cm4gayA9PT0gcGFyZW50S2V5PyAnXycgOiB2OyB9LCBvcHRpb25zLnNwYWNlcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGpzb24gPSBKU09OLnN0cmluZ2lmeShqcywgbnVsbCwgb3B0aW9ucy5zcGFjZXMpO1xyXG4gIH1cclxuICByZXR1cm4ganNvbi5yZXBsYWNlKC9cXHUyMDI4L2csICdcXFxcdTIwMjgnKS5yZXBsYWNlKC9cXHUyMDI5L2csICdcXFxcdTIwMjknKTtcclxufTtcclxuIiwidmFyIGpzMnhtbCA9IHJlcXVpcmUoJy4vanMyeG1sLmpzJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChqc29uLCBvcHRpb25zKSB7XHJcbiAgaWYgKGpzb24gaW5zdGFuY2VvZiBCdWZmZXIpIHtcclxuICAgIGpzb24gPSBqc29uLnRvU3RyaW5nKCk7XHJcbiAgfVxyXG4gIHZhciBqcyA9IG51bGw7XHJcbiAgaWYgKHR5cGVvZiAoanNvbikgPT09ICdzdHJpbmcnKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBqcyA9IEpTT04ucGFyc2UoanNvbik7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIEpTT04gc3RydWN0dXJlIGlzIGludmFsaWQnKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAganMgPSBqc29uO1xyXG4gIH1cclxuICByZXR1cm4ganMyeG1sKGpzLCBvcHRpb25zKTtcclxufTtcclxuIiwiaW1wb3J0IHsgRGF0YUxpc3RJdGVtIH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmtlciBleHRlbmRzIEwuTWFya2VyIHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbiAgcHJpdmF0ZSBfX2RhdGE6IERhdGFMaXN0SXRlbVxuICBjb25zdHJ1Y3RvcihsYXRsbmc6IEwuTGF0TG5nRXhwcmVzc2lvbiwgb3B0aW9ucz86IEwuTWFya2VyT3B0aW9ucykge1xuICAgIHN1cGVyKGxhdGxuZywgb3B0aW9ucylcbiAgfVxuICBwdWJsaWMgc2V0RGF0YShkYXRhOiBEYXRhTGlzdEl0ZW0pIHtcbiAgICB0aGlzLl9fZGF0YSA9IGRhdGFcbiAgfVxuICBwdWJsaWMgZ2V0RGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fX2RhdGFcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2xvbmVEZWVwIH0gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0ICogYXMgQ29sb3IgZnJvbSAnY29sb3InXG5cbmZ1bmN0aW9uIGxpZ2h0ZW4oaGV4Q29sb3I6IHN0cmluZykge1xuICByZXR1cm4gQ29sb3IoaGV4Q29sb3IpXG4gICAgLmxpZ2h0ZW4oMC41KVxuICAgIC5oZXgoKVxufVxuZnVuY3Rpb24gZGFya2VuKGhleENvbG9yOiBzdHJpbmcpIHtcbiAgcmV0dXJuIENvbG9yKGhleENvbG9yKVxuICAgIC5kYXJrZW4oMC4zKVxuICAgIC5oZXgoKVxufVxuXG5mdW5jdGlvbiBvcHRpb25zTWVyZ2UoLi4udGFyZ2V0czogYW55W10pOiBvYmplY3Qge1xuICBpZiAodGFyZ2V0cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4ge31cbiAgfVxuICBpZiAodGFyZ2V0cy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gdGFyZ2V0c1swXVxuICB9XG4gIGNvbnN0IG1lcmdlZCA9IGNsb25lRGVlcCh0YXJnZXRzWzBdKVxuICBjb25zdCB0YXJnZXQgPSBjbG9uZURlZXAodGFyZ2V0c1sxXSlcbiAgZm9yIChjb25zdCBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgaWYgKGtleSBpbiBtZXJnZWQpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobWVyZ2VkW2tleV0pID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICBtZXJnZWRba2V5XSA9IG9wdGlvbnNNZXJnZShtZXJnZWRba2V5XSwgdGFyZ2V0W2tleV0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXJnZWRba2V5XSA9IHRhcmdldFtrZXldXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lcmdlZFtrZXldID0gdGFyZ2V0W2tleV1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnNNZXJnZShtZXJnZWQsIC4uLnRhcmdldHMuc2xpY2UoMikpXG59XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmc6IGFueSkge1xuICByZXR1cm4gbnVsbCA9PT0gYXJnXG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZzogYW55KSB7XG4gIHJldHVybiB1bmRlZmluZWQgPT09IGFyZ1xufVxuXG5mdW5jdGlvbiBpc0VtcHR5U3RyKGFyZzogYW55KSB7XG4gIHJldHVybiAnJyA9PT0gYXJnXG59XG5cbmZ1bmN0aW9uIGlzTm90aGluZyhhcmc6IGFueSkge1xuICByZXR1cm4gaXNOdWxsKGFyZykgfHwgaXNVbmRlZmluZWQoYXJnKSB8fCBpc0VtcHR5U3RyKGFyZylcbn1cblxuZXhwb3J0IHtcbiAgbGlnaHRlbixcbiAgZGFya2VuLFxuICBvcHRpb25zTWVyZ2UsXG4gIGlzTnVsbCxcbiAgaXNVbmRlZmluZWQsXG4gIGlzRW1wdHlTdHIsXG4gIGlzTm90aGluZyxcbn1cbiIsImltcG9ydCB7IGxpZ2h0ZW4sIG9wdGlvbnNNZXJnZSB9IGZyb20gJy4uL3V0aWxzL2luZGV4J1xuaW1wb3J0IHsgRGF0YUxpc3RJdGVtLCBDaGFubmVsRnVuYywgSUxheWVyIH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMnXG5pbXBvcnQgTWFya2VyIGZyb20gJy4vTWFya2VyJ1xuXG4vKiog5riy5p+T5qC35byPIOaVo+eCuXzng63lipvlm74gKi9cbnR5cGUgTWFya2Vyc0xheWVyUmVuZGVyVHlwZSA9ICdwb2ludCcgfCAnaGVhdCcgfCAnY2x1c3RlcicgfCAnYnViYmxlJ1xuXG4vKiog5riy5p+T6aKc6Imy5qC35byPIOWNleiJsnzliIbmrrV85YiG57G7ICovXG50eXBlIE1hcmtlcnNMYXllclJlbmRlclBvaW50Q29sb3JUeXBlID0gJ3NpbmdsZScgfCAnc2VnbWVudGVkJyB8ICdjbGFzc2lmaWVkJ1xuXG4vKiog5pWj54K55Zu+5qCH57G75Z6LIGljb25mb250fHN2Z3xpbWFnZSAqL1xudHlwZSBNYXJrZXJzTGF5ZXJJY29uVHlwZSA9ICdmb250X2NsYXNzJyB8ICd1bmljb2RlJyB8ICdzeW1ib2wnIHwgJ2ltYWdlJ1xuXG50eXBlIE1hcmtlcnNMYXllclJlbmRlckNsdXN0ZXJDb2xvclR5cGUgPSAnc2luZ2xlJyB8ICdzbWFydCdcblxuaW50ZXJmYWNlIEljb25SZW5kZXJGdW5jT3B0aW9uIHtcbiAgaWNvblNpemU6IFtudW1iZXIsIG51bWJlcl1cbiAgaWNvbkNvbG9yOiBzdHJpbmdcbn1cbnR5cGUgSWNvblJlbmRlckZ1bmMgPSAoXG4gIGRhdGE6IERhdGFMaXN0SXRlbSxcbiAgcGFyYW1zOiBJY29uUmVuZGVyRnVuY09wdGlvblxuKSA9PiBzdHJpbmdcblxuZXhwb3J0IGludGVyZmFjZSBNYXJrZXJzTGF5ZXJPcHRpb25zIHtcbiAgcmVuZGVyVHlwZTogTWFya2Vyc0xheWVyUmVuZGVyVHlwZVxuICByZW5kZXJQb2ludENvbG9yVHlwZT86IE1hcmtlcnNMYXllclJlbmRlclBvaW50Q29sb3JUeXBlXG4gIGljb25UeXBlPzogTWFya2Vyc0xheWVySWNvblR5cGVcblxuICBjb2xvcj86IHN0cmluZ1xuICBpY29uSW1hZ2VVcmw/OiBzdHJpbmdcbiAgaWNvblNpemU/OiBbbnVtYmVyLCBudW1iZXJdXG4gIGljb25DbGFzcz86IHN0cmluZ1xuICBpY29uVW5pY29kZT86IHN0cmluZ1xuICBpY29uU3ltYm9sPzogc3RyaW5nXG4gIGljb25Db2xvcj86IHN0cmluZ1xuICBpY29uQW5jaG9yPzogW251bWJlciwgbnVtYmVyXVxuICBpY29uUmVuZGVyZXI/OiBJY29uUmVuZGVyRnVuY1xuXG4gIGJ1YmJsZUNvbG9yQXR0cj86IHN0cmluZ1xuICBidWJibGVTaXplQXR0cj86IHN0cmluZ1xuICBidWJibGVTdHJva2VXaWR0aD86IG51bWJlclxuICBidWJibGVTdHJva2VDb2xvcj86IHN0cmluZ1xuICBidWJibGVDb2xvcnM/OiBzdHJpbmdbXVxuICBidWJibGVTaXplcz86IG51bWJlcltdXG4gIGJ1YmJsZVN0cm9rZU9wYWNpdHk/OiBudW1iZXJcbiAgYnViYmxlRmlsbE9wYWNpdHk/OiBudW1iZXJcblxuICAvLyDmmK/lkKbogZrlkIjvvIzkvJjlhYjnuqfpq5jkuo4gcmVuZGVyVHlwZSA9PSBwb2ludFxuICBpc0NsdXN0ZXI/OiBib29sZWFuXG4gIHJlbmRlckNsdXN0ZXJDb2xvclR5cGU/OiBNYXJrZXJzTGF5ZXJSZW5kZXJDbHVzdGVyQ29sb3JUeXBlXG5cbiAgLyoqIOaYr+WQpuWxleekuiBwb3B1cCAqL1xuICBwb3B1cD86IGJvb2xlYW5cbiAgLyoqIOaYr+WQpuWxleekuiB0b29sdGlwICovXG4gIHRvb2x0aXA/OiBib29sZWFuXG4gIC8qKiBwb3B1cCDlsZXnpLrlrZfmrrUgKi9cbiAgcG9wdXBBdHRyPzogc3RyaW5nIHwgeyBsYWJlbDogc3RyaW5nOyB2YWx1ZTogYW55IH1cbiAgLyoqIHRvb2x0aXAg5bGV56S65a2X5q61ICovXG4gIHRvb2x0aXBBdHRyPzogc3RyaW5nXG5cbiAgb3BhY2l0eT86IG51bWJlclxuXG4gIC8qKiDliIbmrrXmuLLmn5Pnu5/orqHlrZfmrrUgKi9cbiAgc2VnbWVudGVkQXR0cj86IHN0cmluZ1xuICBzZWdtZW50ZWRDb2xvcnM/OiBzdHJpbmdbXVxuXG4gIC8qKiDliIbnsbvlnovmuLLmn5Pnu5/orqHlrZfmrrUgKi9cbiAgY2xhc3NpZmllZEF0dHI/OiBzdHJpbmdcbiAgY2xhc3NpZmllZENvbG9ycz86IHN0cmluZ1tdXG5cbiAgaGVhdE9wdGlvbnM/OiBNYXJrZXJzSGVhdExheWVyT3B0aW9uc1xuICBjbHVzdGVyT3B0aW9ucz86IEwuTWFya2Vyc0NsdXN0ZXJPcHRpb25zXG59XG5cbi8qKiDovazljJbkuLrng63lipvlm77nmoQgb3B0aW9ucyAqL1xuZXhwb3J0IGludGVyZmFjZSBNYXJrZXJzSGVhdExheWVyT3B0aW9ucyBleHRlbmRzIEwuSGVhdExheWVyT3B0aW9ucyB7XG4gIGRpbWVuc2lvbkF0dHI/OiBzdHJpbmdcbn1cblxuY29uc3QgREVGQVVMVF9DT0xPUiA9ICcjMzM4OEZGJ1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFya2Vyc0xheWVyIGltcGxlbWVudHMgSUxheWVyIHtcbiAgcHVibGljIG1hcDogTC5NYXBcbiAgcHVibGljIGRhdGFMaXN0OiBEYXRhTGlzdEl0ZW1bXVxuICBwdWJsaWMgb3B0aW9uczogTWFya2Vyc0xheWVyT3B0aW9uc1xuICBwdWJsaWMgY2hhbm5lbEZ1bmM6IENoYW5uZWxGdW5jXG5cbiAgcHVibGljIHR5cGU6IHN0cmluZ1xuXG4gIHByb3RlY3RlZCBtYXJrZXJzOiBNYXJrZXJbXVxuXG4gIHByb3RlY3RlZCBmb2N1c2VkTWFya2VyOiBNYXJrZXJcbiAgcHJvdGVjdGVkIGhvdmVyZWRNYXJrZXI6IE1hcmtlclxuICAvKiog6ZyA6KaB5bGV56S655qE5pS+5aSn55qE5Zu+5qCHICovXG4gIHByb3RlY3RlZCBmb2N1c2VkRGlzcGxheU1hcmtlcjogTWFya2VyXG4gIHByb3RlY3RlZCBtYXJrZXJMYXllcjogTC5DYW52YXNJY29uTGF5ZXJcblxuICBwcm90ZWN0ZWQgdmlzaWJsZTogYm9vbGVhblxuICBwcm90ZWN0ZWQgbGF5ZXI6XG4gICAgfCBMLkNhbnZhc0ljb25MYXllclxuICAgIHwgTC5IZWF0TGF5ZXJcbiAgICB8IEwuTWFya2Vyc0NsdXN0ZXJcbiAgICB8IEwuTGF5ZXJHcm91cFxuICBwcm90ZWN0ZWQgZGVmYXVsdE9wdGlvbnM6IE1hcmtlcnNMYXllck9wdGlvbnNcbiAgLyoqIOiusOW9leafkOS4qiBwcm9wIOWvueW6lOeahOa4suafk+minOiJsiAqL1xuICBwcm90ZWN0ZWQgY2xhc3NpZmllZENvbG9yTWFwOiB7IFtwcm9wOiBzdHJpbmddOiBzdHJpbmcgfVxuICBwcml2YXRlIGhlYXRMYXllcjogTC5IZWF0TGF5ZXJcbiAgcHJpdmF0ZSBjbHVzdGVyTGF5ZXI6IEwuTWFya2Vyc0NsdXN0ZXJcbiAgcHJpdmF0ZSBidWJibGVMYXllcjogTC5MYXllckdyb3VwXG5cbiAgcHJpdmF0ZSBzZWdtZW50ZWRNaW46IG51bWJlclxuICBwcml2YXRlIHNlZ21lbnRlZFN0ZXA6IG51bWJlclxuICBwcml2YXRlIHNlZ21lbnRlZFJlZnM6IEFycmF5PHtcbiAgICByYW5nZTogW251bWJlciwgbnVtYmVyXVxuICAgIGNvbG9yOiBzdHJpbmdcbiAgfT5cbiAgcHJpdmF0ZSBidWJibGVkU2l6ZU1pbjogbnVtYmVyXG4gIHByaXZhdGUgYnViYmxlZFNpemVTdGVwOiBudW1iZXJcbiAgcHJpdmF0ZSBidWJibGVkQ29sb3JNYXA6IHsgW3Byb3A6IHN0cmluZ106IHN0cmluZyB9XG4gIHByaXZhdGUgYnViYmxlZENvbG9yUmVmczogQXJyYXk8e1xuICAgIGF0dHI6IHN0cmluZ1xuICAgIGNvbG9yOiBzdHJpbmdcbiAgICBudW1zOiBudW1iZXJcbiAgfT5cbiAgcHJpdmF0ZSBidWJibGVkU2l6ZVJlZnM6IEFycmF5PHtcbiAgICBzaXplOiBudW1iZXJcbiAgICByYW5nZTogW251bWJlciwgbnVtYmVyXVxuICB9PlxuICAvKiog5YiG57G75riy5p+T6aKc6Imy5Y+C54WnKOaPkOS+m+e7meiwg+eUqOiAheS9v+eUqCkgKi9cbiAgcHJpdmF0ZSBjbGFzc2lmaWVkQ29sb3JSZWZzOiBBcnJheTx7XG4gICAgYXR0cjogc3RyaW5nXG4gICAgY29sb3I6IHN0cmluZ1xuICAgIG51bXM6IG51bWJlclxuICB9PlxuICBjb25zdHJ1Y3RvcihcbiAgICBtYXA6IEwuTWFwLFxuICAgIGRhdGFMaXN0OiBEYXRhTGlzdEl0ZW1bXSxcbiAgICBvcHRpb25zOiBNYXJrZXJzTGF5ZXJPcHRpb25zLFxuICAgIGNoYW5uZWxGdW5jOiBDaGFubmVsRnVuY1xuICApIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YUxpc3QpIHx8IGRhdGFMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBkYXRhTGlzdCDlv4XpobvmmK/pnZ7nqbrmlbDnu4RgKVxuICAgIH1cbiAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgcmVuZGVyVHlwZTogJ3BvaW50JyxcbiAgICAgIHJlbmRlclBvaW50Q29sb3JUeXBlOiAnc2luZ2xlJyxcbiAgICAgIGljb25UeXBlOiAndW5pY29kZScsXG4gICAgICBpY29uU2l6ZTogWzIwLCAyMF0sXG4gICAgICBpY29uQ2xhc3M6ICdpY29uZm9udCcsXG4gICAgICBpY29uQ29sb3I6IERFRkFVTFRfQ09MT1IsXG4gICAgICBjb2xvcjogREVGQVVMVF9DT0xPUixcbiAgICAgIGljb25BbmNob3I6IFsxMCwgMjBdLFxuICAgICAgcG9wdXA6IHRydWUsXG4gICAgICB0b29sdGlwOiB0cnVlLFxuICAgICAgcG9wdXBBdHRyOiB7IGxhYmVsOiAn5ZCN56ewJywgdmFsdWU6ICduYW1lJyB9LFxuICAgICAgdG9vbHRpcEF0dHI6ICduYW1lJyxcbiAgICAgIHNlZ21lbnRlZENvbG9yczogW0RFRkFVTFRfQ09MT1JdLFxuICAgICAgY2xhc3NpZmllZENvbG9yczogW0RFRkFVTFRfQ09MT1JdLFxuICAgICAgaXNDbHVzdGVyOiBmYWxzZSxcbiAgICAgIHJlbmRlckNsdXN0ZXJDb2xvclR5cGU6ICdzbWFydCcsXG4gICAgICBidWJibGVTdHJva2VXaWR0aDogMSxcbiAgICAgIGJ1YmJsZUNvbG9yczogW0RFRkFVTFRfQ09MT1JdLFxuICAgICAgYnViYmxlU3Ryb2tlT3BhY2l0eTogMC4yLFxuICAgICAgYnViYmxlRmlsbE9wYWNpdHk6IDAuNSxcbiAgICAgIGJ1YmJsZVNpemVzOiBbMTBdLFxuICAgICAgaGVhdE9wdGlvbnM6IHtcbiAgICAgICAgbWF4OiAxLFxuICAgICAgICBtaW5PcGFjaXR5OiAwLjUsXG4gICAgICB9LFxuICAgIH1cbiAgICB0aGlzLnR5cGUgPSAnbWFya2VyJ1xuICAgIHRoaXMubWFwID0gbWFwXG4gICAgdGhpcy5kYXRhTGlzdCA9IGRhdGFMaXN0XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICAgIHRoaXMuY2hhbm5lbEZ1bmMgPSBjaGFubmVsRnVuY1xuXG4gICAgdGhpcy52aXNpYmxlID0gdHJ1ZVxuICAgIHRoaXMubGF5ZXIgPSBudWxsXG4gICAgdGhpcy5mb2N1c2VkTWFya2VyID0gbnVsbFxuICAgIHRoaXMuaG92ZXJlZE1hcmtlciA9IG51bGxcbiAgICB0aGlzLmZvY3VzZWREaXNwbGF5TWFya2VyID0gbnVsbFxuICAgIHRoaXMubWFya2VycyA9IFtdXG4gICAgdGhpcy5tYXJrZXJMYXllciA9IG51bGxcbiAgICB0aGlzLmhlYXRMYXllciA9IG51bGxcbiAgICB0aGlzLmNsdXN0ZXJMYXllciA9IG51bGxcbiAgICB0aGlzLmJ1YmJsZUxheWVyID0gbnVsbFxuXG4gICAgdGhpcy5zZWdtZW50ZWRNaW4gPSBJbmZpbml0eVxuICAgIHRoaXMuc2VnbWVudGVkU3RlcCA9IDFcbiAgICB0aGlzLmJ1YmJsZWRTaXplTWluID0gSW5maW5pdHlcbiAgICB0aGlzLmJ1YmJsZWRTaXplU3RlcCA9IDFcbiAgICB0aGlzLmNsYXNzaWZpZWRDb2xvck1hcCA9IHt9XG4gICAgdGhpcy5idWJibGVkQ29sb3JNYXAgPSB7fVxuICAgIHRoaXMuaW5pdE9wdGlvbnMob3B0aW9ucylcbiAgICB0aGlzLmluaXRFdmVudHMoKVxuICB9XG4gIHB1YmxpYyBkcmF3KG9wdGlvbnM/OiBNYXJrZXJzTGF5ZXJPcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpXG4gICAgdGhpcy5pbml0TWFya2VycygpXG4gICAgdGhpcy5pbml0RXZlbnRzKClcbiAgICByZXR1cm4gdGhpcy5yZWRyYXcoKVxuICB9XG4gIC8qKiDnu5jliLblm77lsYIgKi9cbiAgcHVibGljIHJlZHJhdygpIHtcbiAgICBpZiAodGhpcy5sYXllcikge1xuICAgICAgdGhpcy5sYXllci5yZW1vdmUoKVxuICAgIH1cblxuICAgIC8vIOS8mOWFiOWIpOaWrSBpc0NsdXN0ZXJcbiAgICBpZiAodGhpcy5vcHRpb25zLmlzQ2x1c3RlciAmJiB0aGlzLm9wdGlvbnMucmVuZGVyVHlwZSA9PT0gJ3BvaW50Jykge1xuICAgICAgdGhpcy5sYXllciA9IHRoaXMuY29uZmlnQ2x1c3RlckxheWVyKClcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoICh0aGlzLm9wdGlvbnMucmVuZGVyVHlwZSkge1xuICAgICAgICBjYXNlICdwb2ludCc6IHtcbiAgICAgICAgICB0aGlzLmxheWVyID0gdGhpcy5jb25maWdNYXJrZXJMYXllcigpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdjbHVzdGVyJzoge1xuICAgICAgICAgIHRoaXMubGF5ZXIgPSB0aGlzLmNvbmZpZ0NsdXN0ZXJMYXllcigpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdoZWF0Jzoge1xuICAgICAgICAgIHRoaXMubGF5ZXIgPSB0aGlzLmNvbmZpZ0hlYXRMYXllcigpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdidWJibGUnOiB7XG4gICAgICAgICAgdGhpcy5sYXllciA9IHRoaXMuY29uZmlnQnViYmxlTGF5ZXIoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcmVuZGVyVHlwZSDkuI3mlK/mjIFcIiR7dGhpcy5vcHRpb25zLnJlbmRlclR5cGV9XCJgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubWFwLmFkZExheWVyKHRoaXMubGF5ZXIpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICAvKiog6K6+572uIGRhdGEgKi9cbiAgcHVibGljIHNldERhdGEoZGF0YTogRGF0YUxpc3RJdGVtW10pIHtcbiAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YVxuICB9XG4gIC8qKiDorr7nva7phY3nva7lj4LmlbAgKi9cbiAgcHVibGljIHNldE9wdGlvbnMob3B0aW9uczogTWFya2Vyc0xheWVyT3B0aW9ucywgcmVkcmF3ID0gZmFsc2UpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zTWVyZ2UodGhpcy5vcHRpb25zLCBvcHRpb25zKSBhcyBNYXJrZXJzTGF5ZXJPcHRpb25zXG4gICAgaWYgKHJlZHJhdykge1xuICAgICAgdGhpcy5yZWRyYXcoKVxuICAgIH1cbiAgfVxuICAvKiog6I635Y+W5b2T5YmNIG9wdGlvbnMgKi9cbiAgcHVibGljIGdldE9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uc1xuICB9XG4gIC8qKiDnvKnmlL7oh7PljIXlkKvmiYDmnInovrnnlYwgKi9cbiAgcHVibGljIGZpdEJvdW5kcygpIHtcbiAgICB0aGlzLm1hcC5maXRCb3VuZHModGhpcy5nZXRCb3VuZHMoKSwgeyBwYWRkaW5nOiBbMjAsIDIwXSB9KVxuICB9XG4gIC8qKiDojrflj5bovrnnlYwgKi9cbiAgcHVibGljIGdldEJvdW5kcygpOiBMLkxhdExuZ0JvdW5kc0V4cHJlc3Npb24ge1xuICAgIGlmICh0aGlzLm1hcmtlcnMubGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcC5nZXRCb3VuZHMoKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tYXJrZXJzLm1hcChcbiAgICAgIChtYXJrZXIpID0+XG4gICAgICAgIFttYXJrZXIuZ2V0TGF0TG5nKCkubGF0LCBtYXJrZXIuZ2V0TGF0TG5nKCkubG5nXSBhcyBbbnVtYmVyLCBudW1iZXJdXG4gICAgKVxuICB9XG4gIC8qKiDplIDmr4Hlm77lsYIgKi9cbiAgcHVibGljIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMubGF5ZXIpIHtcbiAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKHRoaXMubGF5ZXIpXG4gICAgfVxuICAgIGlmICh0aGlzLmZvY3VzZWREaXNwbGF5TWFya2VyKSB7XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmZvY3VzZWREaXNwbGF5TWFya2VyKVxuICAgIH1cbiAgICB0aGlzLm1hcC5vZmYoJ3pvb21zdGFydCcsIHRoaXMuX3pvb21TdGFydENiLCB0aGlzKVxuICAgIHRoaXMubWFwLm9mZignem9vbWVuZCcsIHRoaXMuX3pvb21FbmRDYiwgdGhpcylcbiAgfVxuICAvKiog5piv5ZCm5pi+56S6ICovXG4gIHB1YmxpYyB0b2dnbGVWaXNpYmxlKHZpc2libGU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLnZpc2libGUgPSB2aXNpYmxlXG4gICAgaWYgKCF0aGlzLmxheWVyKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHZpc2libGUpIHtcbiAgICAgIHRoaXMubWFwLmFkZExheWVyKHRoaXMubGF5ZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmZvY3VzZWREaXNwbGF5TWFya2VyKSB7XG4gICAgICAgIHRoaXMuZm9jdXNlZERpc3BsYXlNYXJrZXIucmVtb3ZlKClcbiAgICAgIH1cbiAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKHRoaXMubGF5ZXIpXG4gICAgfVxuICB9XG4gIC8qKiDmm7TmjaLpopzoibIgKi9cbiAgcHVibGljIGNoYW5nZUNvbG9yKGNvbG9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLm9wdGlvbnMuY29sb3IgPSBjb2xvclxuICAgIHRoaXMub3B0aW9ucy5pY29uQ29sb3IgPSBjb2xvclxuICAgIHRoaXMucmVkcmF3KClcbiAgfVxuICAvKiog5pu05o2iIGljb24gKi9cbiAgcHVibGljIGNoYW5nZUljb24oaWNvblVuaWNvZGU6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy5pY29uVW5pY29kZSA9IGljb25Vbmljb2RlXG4gICAgdGhpcy5yZWRyYXcoKVxuICB9XG4gIC8qKiDogZrnhKbmn5DkuKogbWFya2VyICovXG4gIHB1YmxpYyBwaXRjaChpZDogc3RyaW5nKSB7XG4gICAgdGhpcy5tYXJrZXJzLmZvckVhY2goKG1hcmtlcikgPT4ge1xuICAgICAgaWYgKG1hcmtlci5nZXREYXRhKCkuaWQgPT09IGlkKSB7XG4gICAgICAgIHRoaXMubWFya2VyQ2xpY2tIYW5kbGVyKG1hcmtlciwgdHJ1ZSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICAvKiog6I635Y+W5YiG5q616aKc6Imy6K+05piOICovXG4gIHB1YmxpYyBnZXRTZWdtZW50ZWRDb2xvclJlZnMoKSB7XG4gICAgaWYgKFxuICAgICAgIU51bWJlci5pc0Zpbml0ZSh0aGlzLnNlZ21lbnRlZE1pbikgfHxcbiAgICAgICFOdW1iZXIuaXNGaW5pdGUodGhpcy5zZWdtZW50ZWRTdGVwKVxuICAgICkge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIHRoaXMuc2VnbWVudGVkUmVmcyA9IFtdXG4gICAgY29uc3Qgc2l6ZU51bXMgPSB0aGlzLm9wdGlvbnMuc2VnbWVudGVkQ29sb3JzLmxlbmd0aFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZU51bXM7IGkrKykge1xuICAgICAgY29uc3QgcmFuZ2VTdGFydCA9IHRoaXMuc2VnbWVudGVkTWluICsgaSAqIHRoaXMuc2VnbWVudGVkU3RlcFxuICAgICAgY29uc3QgcmFuZ2VFbmQgPSByYW5nZVN0YXJ0ICsgdGhpcy5zZWdtZW50ZWRTdGVwXG4gICAgICB0aGlzLnNlZ21lbnRlZFJlZnMucHVzaCh7XG4gICAgICAgIHJhbmdlOiBbcmFuZ2VTdGFydCwgcmFuZ2VFbmRdLFxuICAgICAgICBjb2xvcjogdGhpcy5vcHRpb25zLnNlZ21lbnRlZENvbG9yc1tpXSxcbiAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlZ21lbnRlZFJlZnNcbiAgfVxuICAvKiog6I635Y+W5YiG57G76aKc6Imy6K+05piOICovXG4gIHB1YmxpYyBnZXRDbGFzc2lmaWVkQ29sb3JSZWZzKCkge1xuICAgIHJldHVybiB0aGlzLmNsYXNzaWZpZWRDb2xvclJlZnNcbiAgfVxuICAvKiog6I635Y+W5rCU5rOh6aKc6Imy5Zu+5L6L6K+05piOICovXG4gIHB1YmxpYyBnZXRCdWJibGVkQ29sb3JSZWZzKCkge1xuICAgIHJldHVybiB0aGlzLmJ1YmJsZWRDb2xvclJlZnNcbiAgfVxuICAvKiog6I635Y+W5rCU5rOh5aSn5bCP5Zu+5L6L6K+05piOICovXG4gIHB1YmxpYyBnZXRCdWJibGVkU2l6ZVJlZnMoKSB7XG4gICAgdGhpcy5idWJibGVkU2l6ZVJlZnMgPSBbXVxuICAgIGNvbnN0IHNpemVOdW1zID0gdGhpcy5vcHRpb25zLmJ1YmJsZVNpemVzLmxlbmd0aFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZU51bXM7IGkrKykge1xuICAgICAgY29uc3QgcmFuZ2VTdGFydCA9IHRoaXMuYnViYmxlZFNpemVNaW4gKyBpICogdGhpcy5idWJibGVkU2l6ZVN0ZXBcbiAgICAgIGNvbnN0IHJhbmdlRW5kID0gcmFuZ2VTdGFydCArIHRoaXMuYnViYmxlZFNpemVTdGVwXG4gICAgICB0aGlzLmJ1YmJsZWRTaXplUmVmcy5wdXNoKHtcbiAgICAgICAgcmFuZ2U6IFtyYW5nZVN0YXJ0LCByYW5nZUVuZF0sXG4gICAgICAgIHNpemU6IHRoaXMub3B0aW9ucy5idWJibGVTaXplc1tpXSxcbiAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiB0aGlzLmJ1YmJsZWRTaXplUmVmc1xuICB9XG4gIHByb3RlY3RlZCBfem9vbVN0YXJ0Q2IoKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodGhpcy50eXBlID09PSAnbWFya2VyJykge1xuICAgICAgc3dpdGNoICh0aGlzLm9wdGlvbnMucmVuZGVyVHlwZSkge1xuICAgICAgICBjYXNlICdwb2ludCc6IHtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlzQ2x1c3Rlcikge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLm1hcmtlckxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLm1hcmtlckxheWVyKVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2J1YmJsZSc6IHtcbiAgICAgICAgICBpZiAodGhpcy5idWJibGVMYXllcikge1xuICAgICAgICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIodGhpcy5idWJibGVMYXllcilcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gJ21hcmtlckJ1ZmZlcicpIHtcbiAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKHRoaXMubWFya2VyTGF5ZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgfVxuICBwcm90ZWN0ZWQgX3pvb21FbmRDYigpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0aGlzLnR5cGUgPT09ICdtYXJrZXInKSB7XG4gICAgICBzd2l0Y2ggKHRoaXMub3B0aW9ucy5yZW5kZXJUeXBlKSB7XG4gICAgICAgIGNhc2UgJ3BvaW50Jzoge1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNDbHVzdGVyKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMubWFya2VyTGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMubWFwLmFkZExheWVyKHRoaXMubWFya2VyTGF5ZXIpXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnYnViYmxlJzoge1xuICAgICAgICAgIGlmICh0aGlzLmJ1YmJsZUxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmJ1YmJsZUxheWVyKVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAnbWFya2VyQnVmZmVyJykge1xuICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5tYXJrZXJMYXllcilcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICB9XG4gIC8qKiDphY3nva7mlaPngrnlm74gKi9cbiAgcHJvdGVjdGVkIGNvbmZpZ01hcmtlckxheWVyKCkge1xuICAgIGlmICh0aGlzLm1hcmtlckxheWVyKSB7XG4gICAgICB0aGlzLm1hcmtlckxheWVyLnJlbW92ZSgpXG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLm1hcmtlckxheWVyKVxuICAgIH1cbiAgICBjb25zdCBjYW52YXNJY29uTGF5ZXIgPSBMLmNhbnZhc0ljb25MYXllcih7fSkuYWRkVG8odGhpcy5tYXApXG4gICAgLy8g5re75Yqg54K55Ye75LqL5Lu2XG4gICAgY2FudmFzSWNvbkxheWVyLmFkZE9uQ2xpY2tMaXN0ZW5lcigoXywgW3sgZGF0YTogbWFya2VyIH1dKSA9PiB7XG4gICAgICB0aGlzLm1hcmtlckNsaWNrSGFuZGxlcihtYXJrZXIgYXMgTWFya2VyKVxuICAgIH0pXG4gICAgLy8g5re75Yqg5Y+z6ZSu5LqL5Lu2XG4gICAgY2FudmFzSWNvbkxheWVyLmFkZE9uQ29udGV4dG1lbnVMaXN0ZW5lcigoZXZlbnQsIFt7IGRhdGE6IG1hcmtlciB9XSkgPT4ge1xuICAgICAgdGhpcy5jaGFubmVsRnVuYygnY29udGV4dG1lbnUnLCB7XG4gICAgICAgIGV2ZW50LFxuICAgICAgICB0YXJnZXQ6IG1hcmtlcixcbiAgICAgIH0pXG4gICAgfSlcbiAgICAvLyDmt7vliqAgaG92ZXIg5LqL5Lu2XG4gICAgaWYgKHRoaXMub3B0aW9ucy50b29sdGlwKSB7XG4gICAgICBjYW52YXNJY29uTGF5ZXIuYWRkT25Ib3Zlckxpc3RlbmVyKChfLCBbeyBkYXRhOiBtYXJrZXIgfV0pID0+IHtcbiAgICAgICAgLy8g5LmL5YmN5pyJIGhvdmVyIOeahOWFs+mXrSB0b29sdGlwXG4gICAgICAgIGlmICh0aGlzLmhvdmVyZWRNYXJrZXIpIHtcbiAgICAgICAgICB0aGlzLmhvdmVyZWRNYXJrZXIuY2xvc2VUb29sdGlwKClcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvdmVyZWRNYXJrZXIgPSBtYXJrZXIgYXMgTWFya2VyXG5cbiAgICAgICAgaWYgKHRoaXMuaG92ZXJlZE1hcmtlci5nZXRUb29sdGlwKCkpIHtcbiAgICAgICAgICAvLyDlpoLmnpzlt7Lnu4/orr7nva4gdG9vbHRpcCDnm7TmjqXlsZXnpLogdG9vbHRpcFxuICAgICAgICAgIHRoaXMuaG92ZXJlZE1hcmtlci5vcGVuVG9vbHRpcCgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8g5ZCm5YiZ57uR5a6aIHRvb2x0aXAg5bm25bGV56S6XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50b29sdGlwQXR0cikge1xuICAgICAgICAgICAgdGhpcy5ob3ZlcmVkTWFya2VyLmJpbmRUb29sdGlwKFxuICAgICAgICAgICAgICAnJyArIHRoaXMuaG92ZXJlZE1hcmtlci5nZXREYXRhKClbdGhpcy5vcHRpb25zLnRvb2x0aXBBdHRyXVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgdGhpcy5tYXJrZXJMYXllciA9IGNhbnZhc0ljb25MYXllclxuICAgIHRoaXMubWFya2VyTGF5ZXIuYWRkTWFya2Vycyh0aGlzLm1hcmtlcnMpXG5cbiAgICAvLyDop6PlhrPliJ3mrKHmuLLmn5PkuI3lh7rlm77moIfpl67pophcbiAgICB0aGlzLm1hcC5wYW5Ubyh0aGlzLm1hcC5nZXRDZW50ZXIoKSlcbiAgICByZXR1cm4gdGhpcy5tYXJrZXJMYXllclxuICB9XG4gIC8qKiDojrflj5YgdG9vbHRpcCDlhoXlrrkgKi9cbiAgcHJvdGVjdGVkIGdldFRvb2xUaXBDb250ZW50KGRhdGE6IERhdGFMaXN0SXRlbSkge1xuICAgIHJldHVybiAnJyArIGRhdGFbdGhpcy5vcHRpb25zLnRvb2x0aXBBdHRyXVxuICB9XG4gIC8qKiDliJ3lp4vljJbphY3nva7lj4LmlbAgKi9cbiAgcHJvdGVjdGVkIGluaXRPcHRpb25zKG9wdGlvbnM6IE1hcmtlcnNMYXllck9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zTWVyZ2UoXG4gICAgICB0aGlzLmRlZmF1bHRPcHRpb25zLFxuICAgICAgdGhpcy5vcHRpb25zLFxuICAgICAgb3B0aW9uc1xuICAgICkgYXMgTWFya2Vyc0xheWVyT3B0aW9uc1xuICAgIHRoaXMub3B0aW9ucy5jb2xvciA9IHRoaXMub3B0aW9ucy5jb2xvciB8fCB0aGlzLm9wdGlvbnMuaWNvbkNvbG9yXG4gIH1cbiAgLyoqIOWIneWni+WMliBNYXJrZXIgKi9cbiAgcHJvdGVjdGVkIGluaXRNYXJrZXJzKCkge1xuICAgIC8vIOe8k+WtmCBzZWdtZW50IOebuOWFs+aVsOaNrlxuICAgIHRoaXMuY2FjaGVTZWdtZW50UGFyYW1zKClcbiAgICB0aGlzLmNhY2hlQ2xhc3NpZnlQYXJhbXMoKVxuICAgIHRoaXMuY2FjaGVCdWJibGVQYXJhbXMoKVxuICAgIHRoaXMubWFya2VycyA9IFtdXG4gICAgdGhpcy5kYXRhTGlzdC5mb3JFYWNoKChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBsYXllciA9IEwuZ2VvSlNPTihkYXRhLmdlb21ldHJ5KS5nZXRMYXllcnMoKVswXSBhcyBMLk1hcmtlclxuXG4gICAgICBjb25zdCBtYXJrZXIgPSBuZXcgTWFya2VyKFxuICAgICAgICBbbGF5ZXIuZ2V0TGF0TG5nKCkubGF0LCBsYXllci5nZXRMYXRMbmcoKS5sbmddLFxuICAgICAgICB7XG4gICAgICAgICAgaWNvbjogdGhpcy5nZXRNYXJrZXJJY29uKGRhdGEpLFxuICAgICAgICB9XG4gICAgICApXG5cbiAgICAgIC8vIOWwhuebuOWFs+WAvOe7keWumuWIsCBtYXJrZXLkuIpcbiAgICAgIG1hcmtlci5zZXREYXRhKGRhdGEpXG4gICAgICB0aGlzLm1hcmtlcnMucHVzaChtYXJrZXIpXG4gICAgfSlcbiAgfVxuICAvKiog5Yid5aeL5YyW5LqL5Lu2ICovXG4gIHByb3RlY3RlZCBpbml0RXZlbnRzKCkge1xuICAgIHRoaXMubWFwLm9uKCd6b29tc3RhcnQnLCB0aGlzLl96b29tU3RhcnRDYiwgdGhpcylcbiAgICB0aGlzLm1hcC5vbignem9vbWVuZCcsIHRoaXMuX3pvb21FbmRDYiwgdGhpcylcbiAgfVxuICAvKiog6I635Y+W5YiG57G76aKc6ImyICovXG4gIHByb3RlY3RlZCBnZXRDbGFzc2lmeU1hcmtlckNvbG9yKGRhdGE6IERhdGFMaXN0SXRlbSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY2xhc3NpZmllZENvbG9yTWFwW2RhdGFbdGhpcy5vcHRpb25zLmNsYXNzaWZpZWRBdHRyXV1cbiAgfVxuICAvKiog6I635Y+W5YiG5q616aKc6ImyICovXG4gIHByb3RlY3RlZCBnZXRTZWdtZW50ZWRNYXJrZXJDb2xvcihkYXRhOiBEYXRhTGlzdEl0ZW0pOiBzdHJpbmcge1xuICAgIGNvbnN0IHZhbCA9IGRhdGFbdGhpcy5vcHRpb25zLnNlZ21lbnRlZEF0dHJdXG4gICAgY29uc3QgY29sb3IgPSB0aGlzLm9wdGlvbnMuc2VnbWVudGVkQ29sb3JzW1xuICAgICAgcGFyc2VJbnQoJycgKyAodmFsIC0gdGhpcy5zZWdtZW50ZWRNaW4pIC8gdGhpcy5zZWdtZW50ZWRTdGVwLCAxMClcbiAgICBdXG4gICAgcmV0dXJuIGNvbG9yXG4gIH1cbiAgLy8g5aSE55CGIG1hcmtlciDngrnlh7vkuovku7ZcbiAgcHJpdmF0ZSBtYXJrZXJDbGlja0hhbmRsZXIobWFya2VyOiBNYXJrZXIsIGZpdEJvdW5kcz86IGJvb2xlYW4pIHtcbiAgICB0aGlzLmZvY3VzZWRNYXJrZXIgPSBtYXJrZXJcbiAgICBpZiAodGhpcy5vcHRpb25zLnBvcHVwKSB7XG4gICAgICAvLyDliKDpmaTliY3kuIDkuKrmlL7lpKflm77moIdcbiAgICAgIGlmICh0aGlzLmZvY3VzZWREaXNwbGF5TWFya2VyKSB7XG4gICAgICAgIHRoaXMuZm9jdXNlZERpc3BsYXlNYXJrZXIucmVtb3ZlRnJvbSh0aGlzLm1hcClcbiAgICAgIH1cbiAgICAgIC8vIOeUn+aIkOW9k+WJjeaUvuWkp+Wbvuagh1xuICAgICAgdGhpcy5mb2N1c2VkRGlzcGxheU1hcmtlciA9IG5ldyBNYXJrZXIobWFya2VyLmdldExhdExuZygpLCB7XG4gICAgICAgIGljb246IHRoaXMuZ2V0TGFyZ2VyTWFya2VySWNvbihtYXJrZXIuZ2V0RGF0YSgpKSxcbiAgICAgIH0pXG4gICAgICB0aGlzLmZvY3VzZWREaXNwbGF5TWFya2VyLmFkZFRvKHRoaXMubWFwKVxuICAgICAgLy8g5re75Yqg5pS+5aSn5Zu+5qCH55qEIHBvcHVwXG4gICAgICB0aGlzLmZvY3VzZWREaXNwbGF5TWFya2VyXG4gICAgICAgIC5iaW5kUG9wdXAodGhpcy5nZXRQb3B1cENvbnRlbnQobWFya2VyLmdldERhdGEoKSkpXG4gICAgICAgIC5vcGVuUG9wdXAoKVxuICAgICAgdGhpcy5mb2N1c2VkRGlzcGxheU1hcmtlci5vbigncG9wdXBjbG9zZScsICgpID0+IHtcbiAgICAgICAgdGhpcy5mb2N1c2VkRGlzcGxheU1hcmtlci5yZW1vdmUoKVxuICAgICAgfSlcbiAgICB9XG4gICAgbWFya2VyLmNsb3NlVG9vbHRpcCgpXG5cbiAgICB0aGlzLm1hcC5wYW5Ubyh0aGlzLmZvY3VzZWRNYXJrZXIuZ2V0TGF0TG5nKCkpXG4gICAgaWYgKGZpdEJvdW5kcykge1xuICAgICAgdGhpcy5tYXAuZml0Qm91bmRzKG1hcmtlci5nZXRMYXRMbmcoKS50b0JvdW5kcygxMCkpXG4gICAgfVxuICAgIHRoaXMuY2hhbm5lbEZ1bmMoJ29uLWNsaWNrLW1hcmtlcicsIG1hcmtlcilcbiAgfVxuICAvKiog6YWN572u6IGa5ZCI5Zu+5bGCICovXG4gIHByaXZhdGUgY29uZmlnQ2x1c3RlckxheWVyKCkge1xuICAgIC8vIOWxleekuuiBmuWQiOWbvuWxglxuICAgIGlmICh0aGlzLmNsdXN0ZXJMYXllcikge1xuICAgICAgdGhpcy5jbHVzdGVyTGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gICAgdGhpcy5jbHVzdGVyTGF5ZXIgPSBMLm1hcmtlckNsdXN0ZXJHcm91cCh7XG4gICAgICBpY29uQ3JlYXRlRnVuY3Rpb246IHRoaXMuaWNvbkNyZWF0ZUZ1bmN0aW9uLmJpbmQodGhpcyksXG4gICAgfSlcbiAgICB0aGlzLmNsdXN0ZXJMYXllci5hZGRMYXllcnMoXG4gICAgICB0aGlzLm1hcmtlcnMubWFwKChtKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hcmtlciA9IG5ldyBNYXJrZXIobS5nZXRMYXRMbmcoKSwge1xuICAgICAgICAgIGljb246IHRoaXMuZ2V0TWFya2VySWNvbihtLmdldERhdGEoKSksXG4gICAgICAgIH0pXG4gICAgICAgIG1hcmtlci5zZXREYXRhKG0uZ2V0RGF0YSgpKVxuICAgICAgICBtYXJrZXIuYmluZFRvb2x0aXAoJycgKyBtYXJrZXIuZ2V0RGF0YSgpW3RoaXMub3B0aW9ucy50b29sdGlwQXR0cl0pXG4gICAgICAgIG1hcmtlci5iaW5kUG9wdXAodGhpcy5nZXRQb3B1cENvbnRlbnQobWFya2VyLmdldERhdGEoKSkpXG4gICAgICAgIG1hcmtlci5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5tYXJrZXJDbGlja0hhbmRsZXIobWFya2VyKVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gbWFya2VyXG4gICAgICB9KVxuICAgIClcbiAgICByZXR1cm4gdGhpcy5jbHVzdGVyTGF5ZXJcbiAgfVxuXG4gIC8qKiDmuLLmn5PkuLrng63lipvlm74gKi9cbiAgcHJpdmF0ZSBjb25maWdIZWF0TGF5ZXIoKSB7XG4gICAgaWYgKHRoaXMuaGVhdExheWVyKSB7XG4gICAgICB0aGlzLmhlYXRMYXllci5yZW1vdmUoKVxuICAgIH1cbiAgICBjb25zdCBhbHRzOiBudW1iZXJbXSA9IFtdXG4gICAgdGhpcy5tYXJrZXJzLmZvckVhY2goKG1hcmtlcikgPT4ge1xuICAgICAgY29uc3QgbGF0TG5nID0gbWFya2VyLmdldExhdExuZygpXG4gICAgICBjb25zdCBkaW1lbnNpb25BdHRyID1cbiAgICAgICAgdGhpcy5vcHRpb25zLmhlYXRPcHRpb25zICYmIHRoaXMub3B0aW9ucy5oZWF0T3B0aW9ucy5kaW1lbnNpb25BdHRyXG4gICAgICBsZXQgYWx0ID1cbiAgICAgICAgKGRpbWVuc2lvbkF0dHIgJiYgbWFya2VyLmdldERhdGEoKVtkaW1lbnNpb25BdHRyXSkgfHxcbiAgICAgICAgdGhpcy5vcHRpb25zLmhlYXRPcHRpb25zLm1heFxuICAgICAgaWYgKHR5cGVvZiBhbHQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIGFsdCA9IHRoaXMub3B0aW9ucy5oZWF0T3B0aW9ucy5tYXhcbiAgICAgIH1cbiAgICAgIGFsdHMucHVzaChhbHQpXG4gICAgICBtYXJrZXIuc2V0TGF0TG5nKEwubGF0TG5nKGxhdExuZy5sYXQsIGxhdExuZy5sbmcsIGFsdCkpXG4gICAgfSlcbiAgICB0aGlzLmhlYXRMYXllciA9IEwuaGVhdExheWVyKFxuICAgICAgdGhpcy5tYXJrZXJzLm1hcCgoaXQsIGluZGV4KSA9PiBbXG4gICAgICAgIGl0LmdldExhdExuZygpLmxhdCxcbiAgICAgICAgaXQuZ2V0TGF0TG5nKCkubG5nLFxuICAgICAgICBhbHRzW2luZGV4XSxcbiAgICAgIF0pLFxuICAgICAgb3B0aW9uc01lcmdlKHsgbWluT3BhY2l0eTogMC41IH0sIHRoaXMub3B0aW9ucy5oZWF0T3B0aW9ucylcbiAgICApXG4gICAgcmV0dXJuIHRoaXMuaGVhdExheWVyXG4gIH1cblxuICAvKiog5riy5p+T5Li65rCU5rOh5Zu+ICovXG4gIHByaXZhdGUgY29uZmlnQnViYmxlTGF5ZXIoKSB7XG4gICAgaWYgKHRoaXMuYnViYmxlTGF5ZXIpIHtcbiAgICAgIHRoaXMuYnViYmxlTGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gICAgdGhpcy5idWJibGVMYXllciA9IEwubGF5ZXJHcm91cCgpXG4gICAgdGhpcy5tYXJrZXJzLmZvckVhY2goKG1hcmtlcikgPT4ge1xuICAgICAgY29uc3QgcmFkaXVzID0gdGhpcy5nZXRCdWJibGVkTWFya2VyU2l6ZShtYXJrZXIuZ2V0RGF0YSgpKVxuICAgICAgY29uc3QgZmlsbENvbG9yID0gdGhpcy5nZXRCdWJibGVkTWFya2VyQ29sb3IobWFya2VyLmdldERhdGEoKSlcbiAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5vcHRpb25zLmJ1YmJsZVN0cm9rZUNvbG9yIHx8IGxpZ2h0ZW4oZmlsbENvbG9yKVxuICAgICAgY29uc3Qgd2VpZ2h0ID0gdGhpcy5vcHRpb25zLmJ1YmJsZVN0cm9rZVdpZHRoXG4gICAgICBjb25zdCBvcGFjaXR5ID0gdGhpcy5vcHRpb25zLmJ1YmJsZVN0cm9rZU9wYWNpdHlcbiAgICAgIGNvbnN0IGZpbGxPcGFjaXR5ID0gdGhpcy5vcHRpb25zLmJ1YmJsZUZpbGxPcGFjaXR5XG4gICAgICBjb25zdCBidWJibGUgPSBMLmNpcmNsZU1hcmtlcihtYXJrZXIuZ2V0TGF0TG5nKCksIHtcbiAgICAgICAgcmFkaXVzLFxuICAgICAgICBjb2xvcixcbiAgICAgICAgZmlsbENvbG9yLFxuICAgICAgICB3ZWlnaHQsXG4gICAgICAgIG9wYWNpdHksXG4gICAgICAgIGZpbGxPcGFjaXR5LFxuICAgICAgfSlcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucG9wdXApIHtcbiAgICAgICAgYnViYmxlLmJpbmRQb3B1cCh0aGlzLmdldFBvcHVwQ29udGVudChtYXJrZXIuZ2V0RGF0YSgpKSlcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbHRpcCkge1xuICAgICAgICBidWJibGUuYmluZFRvb2x0aXAodGhpcy5nZXRUb29sVGlwQ29udGVudChtYXJrZXIuZ2V0RGF0YSgpKSlcbiAgICAgIH1cbiAgICAgIHRoaXMuYnViYmxlTGF5ZXIuYWRkTGF5ZXIoYnViYmxlKVxuICAgIH0pXG4gICAgcmV0dXJuIHRoaXMuYnViYmxlTGF5ZXJcbiAgfVxuXG4gIC8qKiDojrflj5blm77moIfmlL7lpKflkI4gaWNvbiAqL1xuICBwcml2YXRlIGdldExhcmdlck1hcmtlckljb24oZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldE1hcmtlckljb24oZGF0YSwgdHJ1ZSlcbiAgfVxuXG4gIC8qKiDojrflj5blm77moIcgaWNvbiAqL1xuICBwcml2YXRlIGdldE1hcmtlckljb24oZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldE1hcmtlckljb24oZGF0YSwgZmFsc2UpXG4gIH1cblxuICAvKiog6I635Y+W5b2T5YmNIG1hcmtlciDpnIDopoHlsZXnpLrnmoQgaWNvblxuICAgKiBAcGFyYW0gZGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTGFyZ2VyIOaYr+WQpuaUvuWkp1xuICAgKi9cbiAgcHJpdmF0ZSBfZ2V0TWFya2VySWNvbihcbiAgICBkYXRhOiBEYXRhTGlzdEl0ZW0sXG4gICAgaXNMYXJnZXI6IGJvb2xlYW5cbiAgKTogTC5JY29uIHwgTC5EaXZJY29uIHtcbiAgICBjb25zdCBpY29uU2l6ZSA9IHRoaXMub3B0aW9ucy5pY29uU2l6ZVxuICAgIGNvbnN0IGljb25BbmNob3IgPSB0aGlzLm9wdGlvbnMuaWNvbkFuY2hvclxuICAgIGNvbnN0IGxhcmdlckljb25TaXplID0gW2ljb25TaXplWzBdICogMS41LCBpY29uU2l6ZVsxXSAqIDEuNV0gYXMgW1xuICAgICAgbnVtYmVyLFxuICAgICAgbnVtYmVyXG4gICAgXVxuICAgIGNvbnN0IGxhcmdlckljb25BbmNob3IgPSBbaWNvbkFuY2hvclswXSAqIDEuNSwgaWNvbkFuY2hvclsxXSAqIDEuNV0gYXMgW1xuICAgICAgbnVtYmVyLFxuICAgICAgbnVtYmVyXG4gICAgXVxuXG4gICAgY29uc3QgaWNvbkNvbG9yID0gdGhpcy5vcHRpb25zLmNvbG9yIHx8IHRoaXMub3B0aW9ucy5pY29uQ29sb3JcblxuICAgIHN3aXRjaCAodGhpcy5vcHRpb25zLmljb25UeXBlKSB7XG4gICAgICBjYXNlICdpbWFnZSc6IHtcbiAgICAgICAgLy8gcmV0dXJuIEwuaWNvbih7XG4gICAgICAgIC8vICAgaWNvblVybDogdGhpcy5vcHRpb25zLmljb25JbWFnZVVybCxcbiAgICAgICAgLy8gICBpY29uU2l6ZTogaXNMYXJnZXIgPyBsYXJnZXJJY29uU2l6ZSA6IGljb25TaXplLFxuICAgICAgICAvLyAgIGljb25BbmNob3IsXG4gICAgICAgIC8vIH0pXG4gICAgICB9XG4gICAgICBjYXNlICdmb250X2NsYXNzJzpcbiAgICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgICBjYXNlICd1bmljb2RlJzoge1xuICAgICAgICByZXR1cm4gTC5kaXZJY29uKHtcbiAgICAgICAgICBodG1sOiB0aGlzLmdldEN1c3RvbUljb25IVE1MKGRhdGEsIHtcbiAgICAgICAgICAgIGljb25TaXplOiBpc0xhcmdlciA/IGxhcmdlckljb25TaXplIDogaWNvblNpemUsXG4gICAgICAgICAgICBpY29uQ29sb3IsXG4gICAgICAgICAgfSksXG4gICAgICAgICAgY2xhc3NOYW1lOiBpc0xhcmdlciA/ICdsYXJnZS1kaXYtaWNvbi1tYXJrZXInIDogJycsXG4gICAgICAgICAgaWNvblNpemU6IGlzTGFyZ2VyID8gbGFyZ2VySWNvblNpemUgOiBpY29uU2l6ZSxcbiAgICAgICAgICBpY29uQW5jaG9yOiBpc0xhcmdlciA/IGxhcmdlckljb25BbmNob3IgOiBpY29uQW5jaG9yLFxuICAgICAgICAgIHRvb2x0aXBBbmNob3I6IGlzTGFyZ2VyXG4gICAgICAgICAgICA/IFswLCAtbGFyZ2VySWNvbkFuY2hvclsxXSAvIDJdXG4gICAgICAgICAgICA6IFswLCAtaWNvbkFuY2hvclsxXSAvIDJdLFxuICAgICAgICAgIHBvcHVwQW5jaG9yOiBpc0xhcmdlclxuICAgICAgICAgICAgPyBbMCwgLWxhcmdlckljb25BbmNob3JbMV0gLyAyXVxuICAgICAgICAgICAgOiBbMCwgLWljb25BbmNob3JbMV0gLyAyXSxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZW5kZXJUeXBlIOS4jeiDveS4uiAke3RoaXMub3B0aW9ucy5pY29uVHlwZX1gKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKiog6I635Y+WaWNvbiBodG1sICovXG4gIHByaXZhdGUgZ2V0Q3VzdG9tSWNvbkhUTUwoXG4gICAgZGF0YTogRGF0YUxpc3RJdGVtLFxuICAgIG9wdGlvbnM/OiBJY29uUmVuZGVyRnVuY09wdGlvblxuICApOiBzdHJpbmcge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaWNvblJlbmRlcmVyKSB7XG4gICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKVxuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pY29uUmVuZGVyZXIoZGF0YSwgb3B0aW9ucylcbiAgICB9XG4gICAgbGV0IGNvbG9yID0gdGhpcy5vcHRpb25zLmNvbG9yIHx8IHRoaXMub3B0aW9ucy5pY29uQ29sb3JcbiAgICBzd2l0Y2ggKHRoaXMub3B0aW9ucy5yZW5kZXJQb2ludENvbG9yVHlwZSkge1xuICAgICAgY2FzZSAnc2luZ2xlJzoge1xuICAgICAgICBjb2xvciA9IHRoaXMub3B0aW9ucy5jb2xvciB8fCB0aGlzLm9wdGlvbnMuaWNvbkNvbG9yXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICdjbGFzc2lmaWVkJzoge1xuICAgICAgICBjb2xvciA9IHRoaXMuZ2V0Q2xhc3NpZnlNYXJrZXJDb2xvcihkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnc2VnbWVudGVkJzoge1xuICAgICAgICBjb2xvciA9IHRoaXMuZ2V0U2VnbWVudGVkTWFya2VyQ29sb3IoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGByZW5kZXJQb2ludENvbG9yVHlwZSDkuI3mlK/mjIFcIiR7dGhpcy5vcHRpb25zLnJlbmRlclBvaW50Q29sb3JUeXBlfVwiYFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy5vcHRpb25zLmljb25UeXBlKSB7XG4gICAgICAvLyDkvb/nlKggY2xhc3NcbiAgICAgIGNhc2UgJ2ZvbnRfY2xhc3MnOiB7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgPGkgY2xhc3M9XCIke3RoaXMub3B0aW9ucy5pY29uQ2xhc3N9XCJcbiAgICAgICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgICAgIGNvbG9yOiAke2NvbG9yfTtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAke29wdGlvbnMuaWNvblNpemVbMF19cHg7XG4gICAgICAgICAgICBcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgYFxuICAgICAgfVxuICAgICAgLy8g5L2/55SoIHN2Z1xuICAgICAgY2FzZSAnc3ltYm9sJzoge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uLXN5bWJvbFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPVwiJHt0aGlzLm9wdGlvbnMuaWNvblN5bWJvbH1cIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICBgXG4gICAgICB9XG4gICAgICAvLyDkvb/nlKggdW5pY29kZVxuICAgICAgY2FzZSAndW5pY29kZSc6IHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICA8aVxuICAgICAgICAgICAgY2xhc3M9XCIke3RoaXMub3B0aW9ucy5pY29uQ2xhc3N9XCJcbiAgICAgICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgICAgIGNvbG9yOiAke2NvbG9yfTtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAke29wdGlvbnMuaWNvblNpemVbMF19cHg7XG4gICAgICAgICAgICBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgJHt0aGlzLm9wdGlvbnMuaWNvblVuaWNvZGV9XG4gICAgICAgICAgPC9pPlxuICAgICAgICBgXG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKiDnvJPlrZjliIbnsbvnm7jlhbPlj4LmlbAgKi9cbiAgcHJpdmF0ZSBjYWNoZUNsYXNzaWZ5UGFyYW1zKCkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmNsYXNzaWZpZWRBdHRyKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB0bXA6IHsgW3Byb3A6IHN0cmluZ106IFtzdHJpbmcsIG51bWJlcl0gfSA9IHt9XG4gICAgY29uc3QgcHJvcCA9IHRoaXMub3B0aW9ucy5jbGFzc2lmaWVkQXR0clxuICAgIHRoaXMuZGF0YUxpc3QuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGFbcHJvcF0gaW4gdG1wKSB7XG4gICAgICAgIHRtcFtkYXRhW3Byb3BdXSA9IFtkYXRhW3Byb3BdLCB0bXBbZGF0YVtwcm9wXV1bMV0gKyAxXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG1wW2RhdGFbcHJvcF1dID0gW2RhdGFbcHJvcF0sIDFdXG4gICAgICB9XG4gICAgfSlcbiAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKHRtcClcbiAgICB2YWx1ZXMuc29ydCgoYSwgYikgPT4gYlsxXSAtIGFbMV0pXG4gICAgdGhpcy5jbGFzc2lmaWVkQ29sb3JSZWZzID0gW11cbiAgICBsZXQgb3RoZXJOdW1zID0gMFxuICAgIHZhbHVlcy5mb3JFYWNoKChbYXR0ciwgbnVtc10sIGluZGV4KSA9PiB7XG4gICAgICBsZXQgY29sb3IgPSBERUZBVUxUX0NPTE9SXG4gICAgICBpZiAoaW5kZXggPCB0aGlzLm9wdGlvbnMuY2xhc3NpZmllZENvbG9ycy5sZW5ndGgpIHtcbiAgICAgICAgY29sb3IgPSB0aGlzLm9wdGlvbnMuY2xhc3NpZmllZENvbG9yc1tpbmRleF1cbiAgICAgIH1cbiAgICAgIHRoaXMuY2xhc3NpZmllZENvbG9yTWFwW2F0dHJdID0gY29sb3JcblxuICAgICAgaWYgKGluZGV4IDwgdGhpcy5vcHRpb25zLmNsYXNzaWZpZWRDb2xvcnMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuY2xhc3NpZmllZENvbG9yUmVmcy5wdXNoKHtcbiAgICAgICAgICBhdHRyLFxuICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgIG51bXMsXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdGhlck51bXMgKz0gbnVtc1xuICAgICAgfVxuICAgIH0pXG4gICAgaWYgKG90aGVyTnVtcyA+IDApIHtcbiAgICAgIHRoaXMuY2xhc3NpZmllZENvbG9yUmVmcy5wdXNoKHtcbiAgICAgICAgYXR0cjogJ+WFtuWugycsXG4gICAgICAgIGNvbG9yOiBERUZBVUxUX0NPTE9SLFxuICAgICAgICBudW1zOiBvdGhlck51bXMsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuICAvKiog57yT5a2Y5rCU5rOh55u45YWz5Y+C5pWwICovXG4gIHByaXZhdGUgY2FjaGVCdWJibGVQYXJhbXMoKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYnViYmxlU2l6ZUF0dHIpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBidWJibGVkU2l6ZXNMZW5ndGggPSB0aGlzLm9wdGlvbnMuYnViYmxlU2l6ZXMubGVuZ3RoXG4gICAgbGV0IG1heFNpemVWYWwgPSAtSW5maW5pdHlcbiAgICBsZXQgbWluU2l6ZVZhbCA9IEluZmluaXR5XG4gICAgZm9yIChjb25zdCBkYXRhIG9mIHRoaXMuZGF0YUxpc3QpIHtcbiAgICAgIGNvbnN0IHNpemVWYWwgPSBkYXRhW3RoaXMub3B0aW9ucy5idWJibGVTaXplQXR0cl1cbiAgICAgIGlmIChzaXplVmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWF4U2l6ZVZhbCA9IE1hdGgubWF4KG1heFNpemVWYWwsIHNpemVWYWwpXG4gICAgICAgIG1pblNpemVWYWwgPSBNYXRoLm1pbihtaW5TaXplVmFsLCBzaXplVmFsKVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzaXplU3RlcCA9IChtYXhTaXplVmFsIC0gbWluU2l6ZVZhbCArIDEpIC8gYnViYmxlZFNpemVzTGVuZ3RoXG4gICAgdGhpcy5idWJibGVkU2l6ZU1pbiA9IG1pblNpemVWYWxcbiAgICB0aGlzLmJ1YmJsZWRTaXplU3RlcCA9IHNpemVTdGVwXG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5idWJibGVDb2xvckF0dHIpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHRtcDogeyBbcHJvcDogc3RyaW5nXTogW3N0cmluZywgbnVtYmVyXSB9ID0ge31cbiAgICBjb25zdCBwcm9wID0gdGhpcy5vcHRpb25zLmJ1YmJsZUNvbG9yQXR0clxuICAgIHRoaXMuZGF0YUxpc3QuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGFbcHJvcF0gaW4gdG1wKSB7XG4gICAgICAgIHRtcFtkYXRhW3Byb3BdXSA9IFtkYXRhW3Byb3BdLCB0bXBbZGF0YVtwcm9wXV1bMV0gKyAxXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG1wW2RhdGFbcHJvcF1dID0gW2RhdGFbcHJvcF0sIDFdXG4gICAgICB9XG4gICAgfSlcbiAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKHRtcClcbiAgICB2YWx1ZXMuc29ydCgoYSwgYikgPT4gYlsxXSAtIGFbMV0pXG4gICAgdGhpcy5idWJibGVkQ29sb3JSZWZzID0gW11cbiAgICBsZXQgb3RoZXJOdW1zID0gMFxuICAgIHZhbHVlcy5mb3JFYWNoKChbYXR0ciwgbnVtc10sIGluZGV4KSA9PiB7XG4gICAgICBsZXQgY29sb3IgPSBERUZBVUxUX0NPTE9SXG4gICAgICBpZiAoaW5kZXggPCB0aGlzLm9wdGlvbnMuYnViYmxlQ29sb3JzLmxlbmd0aCkge1xuICAgICAgICBjb2xvciA9IHRoaXMub3B0aW9ucy5idWJibGVDb2xvcnNbaW5kZXhdXG4gICAgICAgIHRoaXMuYnViYmxlZENvbG9yUmVmcy5wdXNoKHtcbiAgICAgICAgICBhdHRyLFxuICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgIG51bXMsXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdGhlck51bXMgKz0gbnVtc1xuICAgICAgfVxuICAgICAgdGhpcy5idWJibGVkQ29sb3JNYXBbYXR0cl0gPSBjb2xvclxuICAgIH0pXG4gICAgaWYgKHRoaXMub3B0aW9ucy5idWJibGVDb2xvcnMubGVuZ3RoIDwgdmFsdWVzLmxlbmd0aCkge1xuICAgICAgdGhpcy5idWJibGVkQ29sb3JSZWZzLnB1c2goe1xuICAgICAgICBhdHRyOiAn5YW25LuWJyxcbiAgICAgICAgY29sb3I6IERFRkFVTFRfQ09MT1IsXG4gICAgICAgIG51bXM6IG90aGVyTnVtcyxcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIC8qKiDnvJPlrZjliIbmrrXnm7jlhbPlj4LmlbAgKi9cbiAgcHJpdmF0ZSBjYWNoZVNlZ21lbnRQYXJhbXMoKSB7XG4gICAgY29uc3Qgc2VnbWVudGVkTGVuZ3RoID0gdGhpcy5vcHRpb25zLnNlZ21lbnRlZENvbG9ycy5sZW5ndGhcbiAgICBsZXQgbWF4VmFsID0gLUluZmluaXR5XG4gICAgbGV0IG1pblZhbCA9IEluZmluaXR5XG4gICAgZm9yIChjb25zdCBkYXRhIG9mIHRoaXMuZGF0YUxpc3QpIHtcbiAgICAgIGNvbnN0IHZhbCA9IGRhdGFbdGhpcy5vcHRpb25zLnNlZ21lbnRlZEF0dHJdXG4gICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWF4VmFsID0gTWF0aC5tYXgobWF4VmFsLCB2YWwpXG4gICAgICAgIG1pblZhbCA9IE1hdGgubWluKG1pblZhbCwgdmFsKVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzdGVwID0gTWF0aC5jZWlsKChtYXhWYWwgLSBtaW5WYWwgKyAxKSAvIHNlZ21lbnRlZExlbmd0aClcbiAgICB0aGlzLnNlZ21lbnRlZE1pbiA9IG1pblZhbFxuICAgIHRoaXMuc2VnbWVudGVkU3RlcCA9IHN0ZXBcbiAgfVxuICAvKiog6I635Y+W5rCU5rOh5aSn5bCPICovXG4gIHByaXZhdGUgZ2V0QnViYmxlZE1hcmtlclNpemUoZGF0YTogRGF0YUxpc3RJdGVtKTogbnVtYmVyIHtcbiAgICBjb25zdCB2YWwgPSBkYXRhW3RoaXMub3B0aW9ucy5idWJibGVTaXplQXR0cl1cbiAgICBjb25zdCBzaXplID0gdGhpcy5vcHRpb25zLmJ1YmJsZVNpemVzW1xuICAgICAgcGFyc2VJbnQoJycgKyAodmFsIC0gdGhpcy5idWJibGVkU2l6ZU1pbikgLyB0aGlzLmJ1YmJsZWRTaXplU3RlcCwgMTApXG4gICAgXVxuICAgIHJldHVybiBzaXplXG4gIH1cbiAgLyoqIOiOt+WPluawlOazoeminOiJsiAqL1xuICBwcml2YXRlIGdldEJ1YmJsZWRNYXJrZXJDb2xvcihkYXRhOiBEYXRhTGlzdEl0ZW0pOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmJ1YmJsZWRDb2xvck1hcFtkYXRhW3RoaXMub3B0aW9ucy5idWJibGVDb2xvckF0dHJdXVxuICB9XG4gIC8qKiDojrflj5YgcG9wdXAg5YaF5a65ICovXG4gIHByaXZhdGUgZ2V0UG9wdXBDb250ZW50KGRhdGE6IERhdGFMaXN0SXRlbSkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLnBvcHVwQXR0cikge1xuICAgICAgcmV0dXJuICcnXG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnBvcHVwQXR0ciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBgJHt0aGlzLm9wdGlvbnMucG9wdXBBdHRyfTogJHtkYXRhW3RoaXMub3B0aW9ucy5wb3B1cEF0dHJdfWBcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMucG9wdXBBdHRyID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGAke3RoaXMub3B0aW9ucy5wb3B1cEF0dHIubGFiZWx9OiAke1xuICAgICAgICBkYXRhW3RoaXMub3B0aW9ucy5wb3B1cEF0dHIudmFsdWVdXG4gICAgICB9YFxuICAgIH1cbiAgfVxuICAvKiog5Yib5bu6IGNsdXN0ZXIgaWNvbiAqL1xuICBwcml2YXRlIGljb25DcmVhdGVGdW5jdGlvbihjbHVzdGVyOiBMLk1hcmtlcnNDbHVzdGVyKSB7XG4gICAgY29uc3QgY29sb3JzID0gWycjNzU3NDcyJywgJyM1MDkzRTInLCAnI0NCNzk4NycsICcjRkM3NjNCJ11cbiAgICBjb25zdCBsZW5ndGggPSB0aGlzLmRhdGFMaXN0Lmxlbmd0aFxuICAgIGNvbnN0IHN0ZXAgPSBsZW5ndGggLyBjb2xvcnMubGVuZ3RoXG4gICAgY29uc3Qgc2NhbGVTdGVwID0gKDEgLSAwLjc1KSAvIGNvbG9ycy5sZW5ndGhcbiAgICBsZXQgY29sb3IgPSB0aGlzLm9wdGlvbnMuY29sb3IgfHwgdGhpcy5vcHRpb25zLmljb25Db2xvclxuICAgIGxldCBzY2FsZSA9IDFcbiAgICBpZiAodGhpcy5vcHRpb25zLnJlbmRlckNsdXN0ZXJDb2xvclR5cGUgPT09ICdzbWFydCcpIHtcbiAgICAgIGNvbG9yID0gY29sb3JzW01hdGguZmxvb3IoKGNsdXN0ZXIuZ2V0Q2hpbGRDb3VudCgpIC0gMSkgLyBzdGVwKV1cbiAgICAgIHNjYWxlID1cbiAgICAgICAgKE1hdGguZmxvb3IoKGNsdXN0ZXIuZ2V0Q2hpbGRDb3VudCgpIC0gMSkgLyBzdGVwKSArIDEpICogc2NhbGVTdGVwICtcbiAgICAgICAgMC43NVxuICAgIH1cbiAgICByZXR1cm4gTC5kaXZJY29uKHtcbiAgICAgIGh0bWw6IGBcbiAgICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICB3aWR0aDogNTBweDtcbiAgICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZTNkKCR7c2NhbGV9LCAke3NjYWxlfSwgMSlcbiAgICAgICAgXCJcbiAgICAgICAgPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9XCJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7bGlnaHRlbihjb2xvcil9O1xuICAgICAgICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICAgICAgICBvcGFjaXR5OiAwLjc7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgXCI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9XCJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7Y29sb3J9O1xuICAgICAgICAgICAgb3BhY2l0eTogMC44O1xuICAgICAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgICAgICBtYXJnaW46IDlweDtcbiAgICAgICAgICBcIj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT1cIlxuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6IDlweDtcbiAgICAgICAgICAgIGxlZnQ6IDlweDtcbiAgICAgICAgICAgIHdpZHRoOiAzMnB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICR7Y2x1c3Rlci5nZXRDaGlsZENvdW50KCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgIDwvZGl2PlxuICAgICAgYCxcbiAgICAgIGljb25TaXplOiBbNDAsIDQwXSxcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhTGlzdEl0ZW0sIENoYW5uZWxGdW5jIH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMnXG5pbXBvcnQgTWFya2Vyc0xheWVyLCB7IE1hcmtlcnNMYXllck9wdGlvbnMgfSBmcm9tICcuL01hcmtlcnNMYXllcidcbmltcG9ydCB7IG9wdGlvbnNNZXJnZSB9IGZyb20gJy4uL3V0aWxzL2luZGV4J1xuaW50ZXJmYWNlIE1hcmtlcnNCdWZmZXJMYXllck9wdGlvbnMgZXh0ZW5kcyBNYXJrZXJzTGF5ZXJPcHRpb25zIHtcbiAgYnVmZmVyVG9vbHRpcEF0dHI6IHN0cmluZ1xuICBidWZmZXJPcHRpb25zOiBMLkNpcmNsZU1hcmtlck9wdGlvbnNcbn1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmtlcnNCdWZmZXJMYXllciBleHRlbmRzIE1hcmtlcnNMYXllciB7XG4gIHB1YmxpYyBvcHRpb25zOiBNYXJrZXJzQnVmZmVyTGF5ZXJPcHRpb25zXG4gIHByaXZhdGUgYnVmZmVyTGF5ZXI6IEwuTGF5ZXJHcm91cFxuICBjb25zdHJ1Y3RvcihcbiAgICBtYXA6IEwuTWFwLFxuICAgIGRhdGFMaXN0OiBEYXRhTGlzdEl0ZW1bXSxcbiAgICBvcHRpb25zOiBNYXJrZXJzQnVmZmVyTGF5ZXJPcHRpb25zLFxuICAgIGNoYW5uZWxGdW5jOiBDaGFubmVsRnVuY1xuICApIHtcbiAgICBzdXBlcihtYXAsIGRhdGFMaXN0LCBvcHRpb25zLCBjaGFubmVsRnVuYylcbiAgICB0aGlzLnR5cGUgPSAnbWFya2VyQnVmZmVyJ1xuICAgIGNvbnN0IGRlZmF1bHRCdWZmZXJPcHRpb25zOiBMLkNpcmNsZU1hcmtlck9wdGlvbnMgPSB7XG4gICAgICByYWRpdXM6IDEwMDAsXG4gICAgICBzdHJva2U6IHRydWUsXG4gICAgICB3ZWlnaHQ6IDEsXG4gICAgfVxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNNZXJnZShcbiAgICAgIHRoaXMub3B0aW9ucyxcbiAgICAgIHsgYnVmZmVyT3B0aW9uczogZGVmYXVsdEJ1ZmZlck9wdGlvbnMgfSxcbiAgICAgIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob3B0aW9ucykpXG4gICAgKSBhcyBNYXJrZXJzQnVmZmVyTGF5ZXJPcHRpb25zXG4gIH1cblxuICBwdWJsaWMgZHJhdyhvcHRpb25zPzogTWFya2Vyc0J1ZmZlckxheWVyT3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNNZXJnZShcbiAgICAgIHRoaXMub3B0aW9ucyxcbiAgICAgIG9wdGlvbnNcbiAgICApIGFzIE1hcmtlcnNCdWZmZXJMYXllck9wdGlvbnNcbiAgICB0aGlzLm9wdGlvbnMuYnVmZmVyT3B0aW9ucy5jb2xvciA9XG4gICAgICB0aGlzLm9wdGlvbnMuY29sb3IgfHwgdGhpcy5vcHRpb25zLmljb25Db2xvclxuICAgIHRoaXMuaW5pdE1hcmtlcnMoKVxuICAgIHJldHVybiB0aGlzLnJlZHJhdygpXG4gIH1cblxuICBwdWJsaWMgcmVkcmF3KCkge1xuICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMubWFya2VyTGF5ZXIpIHtcbiAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKHRoaXMubWFya2VyTGF5ZXIpXG4gICAgfVxuICAgIGlmICh0aGlzLmJ1ZmZlckxheWVyKSB7XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmJ1ZmZlckxheWVyKVxuICAgIH1cbiAgICB0aGlzLm1hcmtlckxheWVyID0gdGhpcy5jb25maWdNYXJrZXJMYXllcigpXG4gICAgdGhpcy5idWZmZXJMYXllciA9IHRoaXMuY29uZmlnQnVmZmVyTGF5ZXIoKVxuXG4gICAgdGhpcy5sYXllciA9IEwubGF5ZXJHcm91cCgpXG4gICAgdGhpcy5sYXllci5hZGRMYXllcih0aGlzLm1hcmtlckxheWVyKVxuICAgIHRoaXMubGF5ZXIuYWRkTGF5ZXIodGhpcy5idWZmZXJMYXllcilcblxuICAgIHRoaXMubWFwLmFkZExheWVyKHRoaXMubGF5ZXIpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb3VuZHMoKTogTC5MYXRMbmdCb3VuZHNFeHByZXNzaW9uIHtcbiAgICBpZiAodGhpcy5tYXJrZXJzLmxlbmd0aCA8PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0Qm91bmRzKClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubWFya2Vycy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICAgIHJldHVybiBwcmV2LmV4dGVuZChcbiAgICAgICAgY3Vyci5nZXRMYXRMbmcoKS50b0JvdW5kcyh0aGlzLm9wdGlvbnMuYnVmZmVyT3B0aW9ucy5yYWRpdXMpXG4gICAgICApXG4gICAgfSwgdGhpcy5tYXJrZXJzWzBdLmdldExhdExuZygpLnRvQm91bmRzKHRoaXMub3B0aW9ucy5idWZmZXJPcHRpb25zLnJhZGl1cykpXG4gIH1cblxuICBwcml2YXRlIGNvbmZpZ0J1ZmZlckxheWVyKCkge1xuICAgIGNvbnN0IGdyb3VwTGF5ZXIgPSBMLmxheWVyR3JvdXAoKVxuICAgIHRoaXMubWFya2Vycy5mb3JFYWNoKChtYXJrZXIpID0+IHtcbiAgICAgIGNvbnN0IGNpcmNsZUxheWVyID0gTC5jaXJjbGUoXG4gICAgICAgIG1hcmtlci5nZXRMYXRMbmcoKSxcbiAgICAgICAgb3B0aW9uc01lcmdlKHRoaXMub3B0aW9ucy5idWZmZXJPcHRpb25zLCB7XG4gICAgICAgICAgY29sb3I6XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMucmVuZGVyUG9pbnRDb2xvclR5cGUgPT09ICdzZWdtZW50ZWQnXG4gICAgICAgICAgICAgID8gdGhpcy5nZXRTZWdtZW50ZWRNYXJrZXJDb2xvcihtYXJrZXIuZ2V0RGF0YSgpKVxuICAgICAgICAgICAgICA6IHRoaXMub3B0aW9ucy5idWZmZXJPcHRpb25zLmNvbG9yLFxuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5idWZmZXJUb29sdGlwQXR0cikge1xuICAgICAgICBjaXJjbGVMYXllci5iaW5kVG9vbHRpcChcbiAgICAgICAgICAnJyArIG1hcmtlci5nZXREYXRhKClbdGhpcy5vcHRpb25zLmJ1ZmZlclRvb2x0aXBBdHRyXVxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0aGlzLm9wdGlvbnMucG9wdXBBdHRyKSB7XG4gICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIGNpcmNsZUxheWVyLmJpbmRUb29sdGlwKFxuICAgICAgICAgICAgICAnJyArIG1hcmtlci5nZXREYXRhKClbdGhpcy5vcHRpb25zLnBvcHVwQXR0cl1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgIGNpcmNsZUxheWVyLmJpbmRUb29sdGlwKFxuICAgICAgICAgICAgICAnJyArIG1hcmtlci5nZXREYXRhKClbdGhpcy5vcHRpb25zLnBvcHVwQXR0ci52YWx1ZV1cbiAgICAgICAgICAgIClcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZ3JvdXBMYXllci5hZGRMYXllcihjaXJjbGVMYXllcilcbiAgICB9KVxuICAgIHJldHVybiBncm91cExheWVyXG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFMaXN0SXRlbSB9IGZyb20gJy4uL2RlZmluaXRpb25zJ1xuXG5leHBvcnQgdHlwZSBQb2x5bGluZUxhdExuZ0V4cHJlc3Npb24gPVxuICB8IEwuTGF0TG5nRXhwcmVzc2lvbltdXG4gIHwgTC5MYXRMbmdFeHByZXNzaW9uW11bXVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9seWxpbmUgZXh0ZW5kcyBMLlBvbHlsaW5lIHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbiAgcHJpdmF0ZSBfX2RhdGE6IERhdGFMaXN0SXRlbVxuICBjb25zdHJ1Y3RvcihsYXRsbmdzOiBQb2x5bGluZUxhdExuZ0V4cHJlc3Npb24sIG9wdGlvbnM/OiBMLlBvbHlsaW5lT3B0aW9ucykge1xuICAgIHN1cGVyKGxhdGxuZ3MsIG9wdGlvbnMpXG4gIH1cbiAgcHVibGljIHNldERhdGEoZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgdGhpcy5fX2RhdGEgPSBkYXRhXG4gIH1cbiAgcHVibGljIGdldERhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19kYXRhXG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFMaXN0SXRlbSwgQ2hhbm5lbEZ1bmMsIElMYXllciB9IGZyb20gJy4uL2RlZmluaXRpb25zJ1xuaW1wb3J0IFBvbHlsaW5lLCB7IFBvbHlsaW5lTGF0TG5nRXhwcmVzc2lvbiB9IGZyb20gJy4vUG9seWxpbmUnXG5pbXBvcnQgeyBkYXJrZW4sIGxpZ2h0ZW4sIG9wdGlvbnNNZXJnZSB9IGZyb20gJy4uL3V0aWxzL2luZGV4J1xuXG4vKiog5riy5p+T6aKc6Imy5qC35byPIOWNleiJsnzliIbmrrUgKi9cbnR5cGUgUG9seWxpbmVMYXllclJlbmRlckNvbG9yVHlwZSA9ICdzaW5nbGUnIHwgJ3NlZ21lbnRlZCcgfCAnY2xhc3NpZmllZCdcbnR5cGUgQ29sb3JNb2RlID0gJ2RhcmtlbicgfCAnbGlnaHRlbicgfCAnbm9ybWFsJ1xuaW50ZXJmYWNlIFBvbHlsaW5lTGF5ZXJPcHRpb25zIGV4dGVuZHMgTC5Qb2x5bGluZU9wdGlvbnMge1xuICByZW5kZXJQb2x5bGluZUNvbG9yVHlwZTogUG9seWxpbmVMYXllclJlbmRlckNvbG9yVHlwZVxuXG4gIC8qKiBwb3B1cCDlsZXnpLrlrZfmrrUgKi9cbiAgcG9wdXBBdHRyPzogc3RyaW5nIHwgeyBsYWJlbDogc3RyaW5nOyB2YWx1ZTogYW55IH1cbiAgLyoqIHRvb2x0aXAg5bGV56S65a2X5q61ICovXG4gIHRvb2x0aXBBdHRyPzogc3RyaW5nXG5cbiAgb3BhY2l0eT86IG51bWJlclxuXG4gIC8qKiDliIbmrrXmuLLmn5Pnu5/orqHlrZfmrrUgKi9cbiAgc2VnbWVudGVkQXR0cj86IHN0cmluZ1xuICBzZWdtZW50ZWRDb2xvcnM/OiBzdHJpbmdbXVxuXG4gIC8qKiDliIbnsbvlnovmuLLmn5Pnu5/orqHlrZfmrrUgKi9cbiAgY2xhc3NpZmllZEF0dHI/OiBzdHJpbmdcbiAgY2xhc3NpZmllZENvbG9ycz86IHN0cmluZ1tdXG59XG5cbmNvbnN0IERFRkFVTFRfQ09MT1JTID0gJyMzMzg4RkYnXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2x5bGluZXNMYXllciBpbXBsZW1lbnRzIElMYXllciB7XG4gIHB1YmxpYyB0eXBlOiBzdHJpbmdcblxuICBwcm90ZWN0ZWQgdmlzaWJsZTogYm9vbGVhblxuICBwcm90ZWN0ZWQgbGF5ZXI6IEwuTGF5ZXJHcm91cFxuXG4gIHByb3RlY3RlZCBtYXA6IEwuTWFwXG4gIHByb3RlY3RlZCBkYXRhTGlzdDogRGF0YUxpc3RJdGVtW11cbiAgcHJvdGVjdGVkIG9wdGlvbnM6IFBvbHlsaW5lTGF5ZXJPcHRpb25zXG4gIHByb3RlY3RlZCBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgcHJvdGVjdGVkIHBvbHlsaW5lczogUG9seWxpbmVbXVxuICBwcm90ZWN0ZWQgc2VnbWVudGVkTWluOiBudW1iZXJcbiAgcHJvdGVjdGVkIHNlZ21lbnRlZFN0ZXA6IG51bWJlclxuICBwcm90ZWN0ZWQgZm9jdXNlZFBvbHlsaW5lOiBQb2x5bGluZVxuICBwcm90ZWN0ZWQgZm9jdXNlZERpc3BsYXlQb2x5bGluZTogUG9seWxpbmVcbiAgcHJvdGVjdGVkIHBvbHlsaW5lTGF5ZXI6IEwuTGF5ZXJHcm91cFxuICBwcml2YXRlIHNlZ21lbnRlZFJlZnM6IEFycmF5PHtcbiAgICByYW5nZTogW251bWJlciwgbnVtYmVyXVxuICAgIGNvbG9yOiBzdHJpbmdcbiAgfT5cbiAgLyoqIOiusOW9leafkOS4qiBwcm9wIOWvueW6lOeahOa4suafk+minOiJsiAqL1xuICBwcml2YXRlIGNsYXNzaWZ5Q29sb3JNYXA6IHsgW3Byb3A6IHN0cmluZ106IHN0cmluZyB9XG4gIC8qKiDliIbnsbvmuLLmn5PpopzoibLlj4Lnhaco5o+Q5L6b57uZ6LCD55So6ICF5L2/55SoKSAqL1xuICBwcml2YXRlIGNsYXNzaWZ5Q29sb3JSZWZzOiBBcnJheTx7XG4gICAgYXR0cjogc3RyaW5nXG4gICAgY29sb3I6IHN0cmluZ1xuICAgIG51bXM6IG51bWJlclxuICB9PlxuICBwcml2YXRlIGRlZmF1bHRPcHRpb25zOiBQb2x5bGluZUxheWVyT3B0aW9uc1xuICBjb25zdHJ1Y3RvcihcbiAgICBtYXA6IEwuTWFwLFxuICAgIGRhdGFMaXN0OiBEYXRhTGlzdEl0ZW1bXSxcbiAgICBvcHRpb25zOiBQb2x5bGluZUxheWVyT3B0aW9ucyxcbiAgICBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGFMaXN0KSB8fCBkYXRhTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgZGF0YUxpc3Qg5b+F6aG75piv6Z2e56m65pWw57uEYClcbiAgICB9XG4gICAgdGhpcy5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIGNvbG9yOiBERUZBVUxUX0NPTE9SUyxcbiAgICAgIHJlbmRlclBvbHlsaW5lQ29sb3JUeXBlOiAnc2luZ2xlJyxcbiAgICAgIHNlZ21lbnRlZENvbG9yczogW0RFRkFVTFRfQ09MT1JTXSxcbiAgICAgIHBvcHVwQXR0cjogeyBsYWJlbDogJ+WQjeensCcsIHZhbHVlOiAnbmFtZScgfSxcbiAgICAgIHRvb2x0aXBBdHRyOiAnbmFtZScsXG4gICAgICBjbGFzc2lmaWVkQ29sb3JzOiBbREVGQVVMVF9DT0xPUlNdLFxuICAgIH1cbiAgICB0aGlzLnR5cGUgPSAncG9seWxpbmUnXG4gICAgdGhpcy5tYXAgPSBtYXBcbiAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YUxpc3RcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zTWVyZ2UoXG4gICAgICB0aGlzLmRlZmF1bHRPcHRpb25zLFxuICAgICAgb3B0aW9uc1xuICAgICkgYXMgUG9seWxpbmVMYXllck9wdGlvbnNcbiAgICB0aGlzLmNoYW5uZWxGdW5jID0gY2hhbm5lbEZ1bmNcblxuICAgIHRoaXMudmlzaWJsZSA9IHRydWVcbiAgICB0aGlzLnBvbHlsaW5lcyA9IFtdXG4gICAgdGhpcy5zZWdtZW50ZWRNaW4gPSBJbmZpbml0eVxuICAgIHRoaXMuc2VnbWVudGVkU3RlcCA9IDFcbiAgICB0aGlzLmNsYXNzaWZ5Q29sb3JNYXAgPSB7fVxuICAgIHRoaXMuZm9jdXNlZFBvbHlsaW5lID0gbnVsbFxuICAgIHRoaXMuZm9jdXNlZERpc3BsYXlQb2x5bGluZSA9IG51bGxcbiAgfVxuICBwdWJsaWMgZHJhdyhvcHRpb25zPzogUG9seWxpbmVMYXllck9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMuaW5pdE9wdGlvbnMob3B0aW9ucylcbiAgICB0aGlzLmluaXRQb2x5bGluZXMoKVxuICAgIHJldHVybiB0aGlzLnJlZHJhdygpXG4gIH1cbiAgcHVibGljIHJlZHJhdygpIHtcbiAgICBpZiAodGhpcy5sYXllcikge1xuICAgICAgdGhpcy5sYXllci5yZW1vdmUoKVxuICAgIH1cbiAgICB0aGlzLmxheWVyID0gdGhpcy5jb25maWdQb2x5bGluZUxheWVyKClcbiAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmxheWVyKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgcHVibGljIGdldE9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uc1xuICB9XG4gIHB1YmxpYyBmaXRCb3VuZHMoKSB7XG4gICAgdGhpcy5tYXAuZml0Qm91bmRzKHRoaXMuZ2V0Qm91bmRzKCksIHsgcGFkZGluZzogWzIwLCAyMF0gfSlcbiAgfVxuICBwdWJsaWMgZ2V0Qm91bmRzKCk6IEwuTGF0TG5nQm91bmRzRXhwcmVzc2lvbiB7XG4gICAgaWYgKHRoaXMucG9seWxpbmVzLmxlbmd0aCA8PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0Qm91bmRzKClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucG9seWxpbmVzLnJlZHVjZShcbiAgICAgIChwcmV2LCBjdXJyKSA9PiBwcmV2LmV4dGVuZChjdXJyLmdldEJvdW5kcygpKSxcbiAgICAgIEwubGF0TG5nQm91bmRzKFxuICAgICAgICB0aGlzLnBvbHlsaW5lc1swXS5nZXRCb3VuZHMoKS5nZXROb3J0aEVhc3QoKSxcbiAgICAgICAgdGhpcy5wb2x5bGluZXNbMF0uZ2V0Qm91bmRzKCkuZ2V0U291dGhXZXN0KClcbiAgICAgIClcbiAgICApXG4gIH1cbiAgcHVibGljIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMubGF5ZXIpIHtcbiAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKHRoaXMubGF5ZXIpXG4gICAgfVxuICB9XG4gIHB1YmxpYyB0b2dnbGVWaXNpYmxlKHZpc2libGU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLnZpc2libGUgPSB2aXNpYmxlXG4gICAgaWYgKCF0aGlzLmxheWVyKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHZpc2libGUpIHtcbiAgICAgIHRoaXMubWFwLmFkZExheWVyKHRoaXMubGF5ZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmZvY3VzZWREaXNwbGF5UG9seWxpbmUpIHtcbiAgICAgICAgdGhpcy5mb2N1c2VkRGlzcGxheVBvbHlsaW5lLnJlbW92ZSgpXG4gICAgICB9XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmxheWVyKVxuICAgIH1cbiAgfVxuICBwdWJsaWMgY2hhbmdlQ29sb3IoY29sb3I6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy5maWxsQ29sb3IgPSBjb2xvclxuICAgIHRoaXMucmVkcmF3KClcbiAgfVxuICBwdWJsaWMgcGl0Y2goaWQ6IHN0cmluZykge1xuICAgIHRoaXMucG9seWxpbmVzLmZvckVhY2goKHBvbHlsaW5lKSA9PiB7XG4gICAgICBpZiAocG9seWxpbmUuZ2V0RGF0YSgpLmlkID09PSBpZCkge1xuICAgICAgICB0aGlzLnBvbHlsaW5lQ2xpY2tIYW5kbGVyKHBvbHlsaW5lLCB0cnVlKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIHB1YmxpYyBnZXRDbGFzc2lmaWVkQ29sb3JSZWZzKCkge1xuICAgIHJldHVybiB0aGlzLmNsYXNzaWZ5Q29sb3JSZWZzXG4gIH1cbiAgLyoqIOiOt+WPluWIhuauteminOiJsuivtOaYjiAqL1xuICBwdWJsaWMgZ2V0U2VnbWVudGVkQ29sb3JSZWZzKCkge1xuICAgIGlmIChcbiAgICAgICFOdW1iZXIuaXNGaW5pdGUodGhpcy5zZWdtZW50ZWRNaW4pIHx8XG4gICAgICAhTnVtYmVyLmlzRmluaXRlKHRoaXMuc2VnbWVudGVkU3RlcClcbiAgICApIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICB0aGlzLnNlZ21lbnRlZFJlZnMgPSBbXVxuICAgIGNvbnN0IHNpemVOdW1zID0gdGhpcy5vcHRpb25zLnNlZ21lbnRlZENvbG9ycy5sZW5ndGhcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemVOdW1zOyBpKyspIHtcbiAgICAgIGNvbnN0IHJhbmdlU3RhcnQgPSB0aGlzLnNlZ21lbnRlZE1pbiArIGkgKiB0aGlzLnNlZ21lbnRlZFN0ZXBcbiAgICAgIGNvbnN0IHJhbmdlRW5kID0gcmFuZ2VTdGFydCArIHRoaXMuc2VnbWVudGVkU3RlcFxuICAgICAgdGhpcy5zZWdtZW50ZWRSZWZzLnB1c2goe1xuICAgICAgICByYW5nZTogW3JhbmdlU3RhcnQsIHJhbmdlRW5kXSxcbiAgICAgICAgY29sb3I6IHRoaXMub3B0aW9ucy5zZWdtZW50ZWRDb2xvcnNbaV0sXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZWdtZW50ZWRSZWZzXG4gIH1cbiAgcHJvdGVjdGVkIGluaXRPcHRpb25zKG9wdGlvbnM6IFBvbHlsaW5lTGF5ZXJPcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc01lcmdlKFxuICAgICAgdGhpcy5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIHRoaXMub3B0aW9ucyxcbiAgICAgIG9wdGlvbnNcbiAgICApIGFzIFBvbHlsaW5lTGF5ZXJPcHRpb25zXG4gIH1cbiAgcHJvdGVjdGVkIGluaXRQb2x5bGluZXMoKSB7XG4gICAgLy8g57yT5a2YIHNlZ21lbnQg55u45YWz5pWw5o2uXG4gICAgdGhpcy5jYWNoZVNlZ21lbnRQYXJhbXMoKVxuICAgIHRoaXMuY2FjaGVDbGFzc2lmeVBhcmFtcygpXG5cbiAgICB0aGlzLnBvbHlsaW5lcyA9IHRoaXMuZGF0YUxpc3QubWFwKChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBsYXllciA9IEwuZ2VvSlNPTihkYXRhLmdlb21ldHJ5KS5nZXRMYXllcnMoKVswXVxuICAgICAgY29uc3QgcG9seWxpbmUgPSBuZXcgUG9seWxpbmUoXG4gICAgICAgIChsYXllciBhcyBMLlBvbHlsaW5lKS5nZXRMYXRMbmdzKCkgYXMgUG9seWxpbmVMYXRMbmdFeHByZXNzaW9uXG4gICAgICApXG4gICAgICAvLyDlsIbnm7jlhbPlgLznu5HlrprliLAgbWFya2Vy5LiKXG4gICAgICBwb2x5bGluZS5zZXREYXRhKGRhdGEpXG5cbiAgICAgIHJldHVybiBwb2x5bGluZVxuICAgIH0pXG4gIH1cbiAgcHJvdGVjdGVkIGdldFNlZ21lbnRlZFBvbHlsaW5lQ29sb3IoZGF0YTogRGF0YUxpc3RJdGVtKTogc3RyaW5nIHtcbiAgICBjb25zdCB2YWwgPSBkYXRhW3RoaXMub3B0aW9ucy5zZWdtZW50ZWRBdHRyXVxuICAgIGNvbnN0IGNvbG9yID0gdGhpcy5vcHRpb25zLnNlZ21lbnRlZENvbG9yc1tcbiAgICAgIHBhcnNlSW50KCcnICsgKHZhbCAtIHRoaXMuc2VnbWVudGVkTWluKSAvIHRoaXMuc2VnbWVudGVkU3RlcCwgMTApXG4gICAgXVxuICAgIHJldHVybiBjb2xvclxuICB9XG4gIHByb3RlY3RlZCBwb2x5bGluZUNsaWNrSGFuZGxlcihwb2x5bGluZTogUG9seWxpbmUsIGZpdEJvdW5kcz86IGJvb2xlYW4pIHtcbiAgICB0aGlzLmZvY3VzZWRQb2x5bGluZSA9IHBvbHlsaW5lXG4gICAgLy8g5Yig6Zmk5YmN5LiA5LiqIGZvY3VzXG4gICAgaWYgKHRoaXMuZm9jdXNlZERpc3BsYXlQb2x5bGluZSkge1xuICAgICAgdGhpcy5mb2N1c2VkRGlzcGxheVBvbHlsaW5lLnJlbW92ZSgpXG4gICAgfVxuICAgIC8vIOeUn+aIkOW9k+WJjSBmb2N1c1xuICAgIHRoaXMuZm9jdXNlZERpc3BsYXlQb2x5bGluZSA9IG5ldyBQb2x5bGluZShcbiAgICAgIHBvbHlsaW5lLmdldExhdExuZ3MoKSBhcyBQb2x5bGluZUxhdExuZ0V4cHJlc3Npb24sXG4gICAgICB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmdldENvbG9yKHBvbHlsaW5lLmdldERhdGEoKSksXG4gICAgICAgIGZpbGxDb2xvcjogdGhpcy5nZXRDb2xvcihwb2x5bGluZS5nZXREYXRhKCksICdub3JtYWwnKSxcbiAgICAgIH1cbiAgICApXG4gICAgdGhpcy5mb2N1c2VkRGlzcGxheVBvbHlsaW5lLmFkZFRvKHRoaXMubWFwKVxuXG4gICAgdGhpcy5mb2N1c2VkRGlzcGxheVBvbHlsaW5lXG4gICAgICAuYmluZFBvcHVwKHRoaXMuZ2V0UG9wdXBDb250ZW50KHBvbHlsaW5lLmdldERhdGEoKSkpXG4gICAgICAub3BlblBvcHVwKClcblxuICAgIHRoaXMuZm9jdXNlZERpc3BsYXlQb2x5bGluZS5vbigncG9wdXBjbG9zZScsICgpID0+IHtcbiAgICAgIHRoaXMuZm9jdXNlZERpc3BsYXlQb2x5bGluZS5yZW1vdmUoKVxuICAgIH0pXG5cbiAgICBwb2x5bGluZS5jbG9zZVRvb2x0aXAoKVxuXG4gICAgdGhpcy5tYXAucGFuVG8odGhpcy5mb2N1c2VkRGlzcGxheVBvbHlsaW5lLmdldENlbnRlcigpKVxuICAgIGlmIChmaXRCb3VuZHMpIHtcbiAgICAgIHRoaXMubWFwLmZpdEJvdW5kcyhwb2x5bGluZS5nZXRCb3VuZHMoKSlcbiAgICB9XG4gICAgdGhpcy5jaGFubmVsRnVuYygnb24tY2xpY2stcG9seWxpbmUnLCBwb2x5bGluZSlcbiAgfVxuICBwcm90ZWN0ZWQgZ2V0VG9vbFRpcENvbnRlbnQoZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgcmV0dXJuICcnICsgZGF0YVt0aGlzLm9wdGlvbnMudG9vbHRpcEF0dHJdXG4gIH1cbiAgcHJvdGVjdGVkIGdldFBvcHVwQ29udGVudChkYXRhOiBEYXRhTGlzdEl0ZW0pIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5wb3B1cEF0dHIpIHtcbiAgICAgIHJldHVybiAnJ1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5wb3B1cEF0dHIgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5vcHRpb25zLnBvcHVwQXR0cn06ICR7ZGF0YVt0aGlzLm9wdGlvbnMucG9wdXBBdHRyXX1gXG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnBvcHVwQXR0ciA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBgJHt0aGlzLm9wdGlvbnMucG9wdXBBdHRyLmxhYmVsfTogJHtcbiAgICAgICAgZGF0YVt0aGlzLm9wdGlvbnMucG9wdXBBdHRyLnZhbHVlXVxuICAgICAgfWBcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBjb25maWdQb2x5bGluZUxheWVyKCkge1xuICAgIHRoaXMucG9seWxpbmVMYXllciA9IEwubGF5ZXJHcm91cCgpXG4gICAgdGhpcy5wb2x5bGluZXMuZm9yRWFjaCgocG9seWxpbmUpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnM6IEwuUG9seWxpbmVPcHRpb25zID0gb3B0aW9uc01lcmdlKHt9LCB0aGlzLm9wdGlvbnMsIHtcbiAgICAgICAgY29sb3I6IHRoaXMuZ2V0Q29sb3IocG9seWxpbmUuZ2V0RGF0YSgpKSxcbiAgICAgIH0pXG4gICAgICBjb25zdCBuZXdQb2x5bGluZSA9IG5ldyBQb2x5bGluZShcbiAgICAgICAgcG9seWxpbmUuZ2V0TGF0TG5ncygpIGFzIFBvbHlsaW5lTGF0TG5nRXhwcmVzc2lvbixcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKVxuICAgICAgbmV3UG9seWxpbmUub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnBvbHlsaW5lQ2xpY2tIYW5kbGVyKHBvbHlsaW5lKVxuICAgICAgfSlcbiAgICAgIG5ld1BvbHlsaW5lLm9uKCdjb250ZXh0bWVudScsIChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLmNoYW5uZWxGdW5jKCdjb250ZXh0bWVudScsIHtcbiAgICAgICAgICBldmVudCxcbiAgICAgICAgICB0YXJnZXQ6IG5ld1BvbHlsaW5lLFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICAgIG5ld1BvbHlsaW5lLnNldERhdGEocG9seWxpbmUuZ2V0RGF0YSgpKVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy50b29sdGlwQXR0cikge1xuICAgICAgICBuZXdQb2x5bGluZS5iaW5kVG9vbHRpcCh0aGlzLmdldFRvb2xUaXBDb250ZW50KG5ld1BvbHlsaW5lLmdldERhdGEoKSkpXG4gICAgICB9XG4gICAgICB0aGlzLnBvbHlsaW5lTGF5ZXIuYWRkTGF5ZXIobmV3UG9seWxpbmUpXG4gICAgfSlcbiAgICByZXR1cm4gdGhpcy5wb2x5bGluZUxheWVyXG4gIH1cbiAgcHJpdmF0ZSBjYWNoZUNsYXNzaWZ5UGFyYW1zKCkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmNsYXNzaWZpZWRBdHRyKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB0bXA6IHsgW3Byb3A6IHN0cmluZ106IFtzdHJpbmcsIG51bWJlcl0gfSA9IHt9XG4gICAgY29uc3QgcHJvcCA9IHRoaXMub3B0aW9ucy5jbGFzc2lmaWVkQXR0clxuICAgIHRoaXMuZGF0YUxpc3QuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGFbcHJvcF0gaW4gdG1wKSB7XG4gICAgICAgIHRtcFtkYXRhW3Byb3BdXSA9IFtkYXRhW3Byb3BdLCB0bXBbZGF0YVtwcm9wXV1bMV0gKyAxXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG1wW2RhdGFbcHJvcF1dID0gW2RhdGFbcHJvcF0sIDFdXG4gICAgICB9XG4gICAgfSlcbiAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKHRtcClcbiAgICB2YWx1ZXMuc29ydCgoYSwgYikgPT4gYlsxXSAtIGFbMV0pXG4gICAgdGhpcy5jbGFzc2lmeUNvbG9yUmVmcyA9IFtdXG4gICAgbGV0IG90aGVyTnVtcyA9IDBcbiAgICB2YWx1ZXMuZm9yRWFjaCgoW2F0dHIsIG51bXNdLCBpbmRleCkgPT4ge1xuICAgICAgbGV0IGNvbG9yID0gREVGQVVMVF9DT0xPUlNcbiAgICAgIGlmIChpbmRleCA8IHRoaXMub3B0aW9ucy5jbGFzc2lmaWVkQ29sb3JzLmxlbmd0aCkge1xuICAgICAgICBjb2xvciA9IHRoaXMub3B0aW9ucy5jbGFzc2lmaWVkQ29sb3JzW2luZGV4XVxuICAgICAgICB0aGlzLmNsYXNzaWZ5Q29sb3JSZWZzLnB1c2goe1xuICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgY29sb3IsXG4gICAgICAgICAgbnVtcyxcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG90aGVyTnVtcyArPSBudW1zXG4gICAgICB9XG4gICAgICB0aGlzLmNsYXNzaWZ5Q29sb3JNYXBbYXR0cl0gPSBjb2xvclxuICAgIH0pXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jbGFzc2lmaWVkQ29sb3JzLmxlbmd0aCA8IHZhbHVlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY2xhc3NpZnlDb2xvclJlZnMucHVzaCh7XG4gICAgICAgIGF0dHI6ICflhbbku5YnLFxuICAgICAgICBjb2xvcjogREVGQVVMVF9DT0xPUlMsXG4gICAgICAgIG51bXM6IG90aGVyTnVtcyxcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIHByaXZhdGUgZ2V0Q2xhc3NpZnlQb2x5bGluZUNvbG9yKGRhdGE6IERhdGFMaXN0SXRlbSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY2xhc3NpZnlDb2xvck1hcFtkYXRhW3RoaXMub3B0aW9ucy5jbGFzc2lmaWVkQXR0cl1dXG4gIH1cbiAgcHJpdmF0ZSBjYWNoZVNlZ21lbnRQYXJhbXMoKSB7XG4gICAgY29uc3Qgc2VnbWVudGVkTGVuZ3RoID0gdGhpcy5vcHRpb25zLnNlZ21lbnRlZENvbG9ycy5sZW5ndGhcbiAgICBsZXQgbWF4VmFsID0gLUluZmluaXR5XG4gICAgbGV0IG1pblZhbCA9IEluZmluaXR5XG4gICAgZm9yIChjb25zdCBkYXRhIG9mIHRoaXMuZGF0YUxpc3QpIHtcbiAgICAgIGNvbnN0IHZhbCA9IGRhdGFbdGhpcy5vcHRpb25zLnNlZ21lbnRlZEF0dHJdXG4gICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWF4VmFsID0gTWF0aC5tYXgobWF4VmFsLCB2YWwpXG4gICAgICAgIG1pblZhbCA9IE1hdGgubWluKG1pblZhbCwgdmFsKVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzdGVwID0gTWF0aC5jZWlsKChtYXhWYWwgLSBtaW5WYWwgKyAxKSAvIHNlZ21lbnRlZExlbmd0aClcbiAgICB0aGlzLnNlZ21lbnRlZE1pbiA9IG1pblZhbFxuICAgIHRoaXMuc2VnbWVudGVkU3RlcCA9IHN0ZXBcbiAgfVxuICBwcml2YXRlIGdldENvbG9yKGRhdGE6IERhdGFMaXN0SXRlbSwgbW9kZT86IENvbG9yTW9kZSkge1xuICAgIGxldCBjb2xvciA9IHRoaXMub3B0aW9ucy5jb2xvclxuICAgIGlmICh0aGlzLm9wdGlvbnMucmVuZGVyUG9seWxpbmVDb2xvclR5cGUgPT09ICdzZWdtZW50ZWQnKSB7XG4gICAgICBjb2xvciA9IHRoaXMuZ2V0U2VnbWVudGVkUG9seWxpbmVDb2xvcihkYXRhKVxuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLnJlbmRlclBvbHlsaW5lQ29sb3JUeXBlID09PSAnY2xhc3NpZmllZCcpIHtcbiAgICAgIGNvbG9yID0gdGhpcy5nZXRDbGFzc2lmeVBvbHlsaW5lQ29sb3IoZGF0YSlcbiAgICB9XG4gICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICBjYXNlICdkYXJrZW4nOlxuICAgICAgICByZXR1cm4gZGFya2VuKGNvbG9yKVxuICAgICAgY2FzZSAnbGlnaHRlbic6XG4gICAgICAgIHJldHVybiBsaWdodGVuKGNvbG9yKVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGNvbG9yXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhTGlzdEl0ZW0sIENoYW5uZWxGdW5jIH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMnXG5pbXBvcnQgUG9seWxpbmVzTGF5ZXIgZnJvbSAnLi9Qb2x5bGluZXNMYXllcidcblxuLyoqIOa4suafk+minOiJsuagt+W8jyDljZXoibJ85YiG5q61ICovXG50eXBlIFBvbHlsaW5lTGF5ZXJSZW5kZXJDb2xvclR5cGUgPSAnc2luZ2xlJyB8ICdzZWdtZW50ZWQnXG5pbnRlcmZhY2UgUG9seWxpbmVCdWZmZXJMYXllck9wdGlvbnMgZXh0ZW5kcyBMLkNvcnJpZG9yT3B0aW9ucyB7XG4gIHJlbmRlclBvbHlsaW5lQ29sb3JUeXBlOiBQb2x5bGluZUxheWVyUmVuZGVyQ29sb3JUeXBlXG5cbiAgLyoqIHBvcHVwIOWxleekuuWtl+autSAqL1xuICBwb3B1cEF0dHI/OiBzdHJpbmdcbiAgLyoqIHRvb2x0aXAg5bGV56S65a2X5q61ICovXG4gIHRvb2x0aXBBdHRyPzogc3RyaW5nXG5cbiAgb3BhY2l0eT86IG51bWJlclxuXG4gIC8qKiDliIbmrrXmuLLmn5Pnu5/orqHlrZfmrrUgKi9cbiAgc2VnbWVudGVkQXR0cj86IHN0cmluZ1xuICBzZWdtZW50ZWRDb2xvcnM/OiBzdHJpbmdbXVxufVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9seWxpbmVzQnVmZmVyTGF5ZXIgZXh0ZW5kcyBQb2x5bGluZXNMYXllciB7XG4gIHB1YmxpYyB0eXBlOiBzdHJpbmdcbiAgcHJvdGVjdGVkIG9wdGlvbnM6IFBvbHlsaW5lQnVmZmVyTGF5ZXJPcHRpb25zXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1hcDogTC5NYXAsXG4gICAgZGF0YUxpc3Q6IERhdGFMaXN0SXRlbVtdLFxuICAgIG9wdGlvbnM6IFBvbHlsaW5lQnVmZmVyTGF5ZXJPcHRpb25zLFxuICAgIGNoYW5uZWxGdW5jOiBDaGFubmVsRnVuY1xuICApIHtcbiAgICBzdXBlcihtYXAsIGRhdGFMaXN0LCBvcHRpb25zLCBjaGFubmVsRnVuYylcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9uczogUG9seWxpbmVCdWZmZXJMYXllck9wdGlvbnMgPSB7XG4gICAgICByZW5kZXJQb2x5bGluZUNvbG9yVHlwZTogJ3NpbmdsZScsXG4gICAgICBzZWdtZW50ZWRDb2xvcnM6IFsnIzMzODhGRiddLFxuICAgICAgY29ycmlkb3I6IDEwMCxcbiAgICAgIGNvbG9yOiAnIzMzODhGRicsXG4gICAgICBvcGFjaXR5OiAwLjUsXG4gICAgfVxuICAgIHRoaXMudHlwZSA9ICdwb2x5bGluZUJ1ZmZlcidcbiAgICB0aGlzLm1hcCA9IG1hcFxuICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhTGlzdFxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLmNoYW5uZWxGdW5jID0gY2hhbm5lbEZ1bmNcblxuICAgIHRoaXMudmlzaWJsZSA9IHRydWVcbiAgICB0aGlzLnBvbHlsaW5lcyA9IFtdXG4gICAgdGhpcy5zZWdtZW50ZWRNaW4gPSBJbmZpbml0eVxuICAgIHRoaXMuc2VnbWVudGVkU3RlcCA9IDFcbiAgICAvLyB0aGlzLmZvY3VzZWRQb2x5bGluZSA9IG51bGxcblxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKVxuICB9XG4gIHB1YmxpYyBkcmF3KG9wdGlvbnM/OiBQb2x5bGluZUJ1ZmZlckxheWVyT3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKVxuICAgIHRoaXMuaW5pdFBvbHlsaW5lcygpXG4gICAgcmV0dXJuIHRoaXMucmVkcmF3KClcbiAgfVxuICBwdWJsaWMgcmVkcmF3KCkge1xuICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMubGF5ZXIpIHtcbiAgICAgIHRoaXMubGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gICAgdGhpcy5sYXllciA9IHRoaXMuY29uZmlnUG9seWxpbmVCdWZmZXJMYXllcigpXG4gICAgdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllcilcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIHB1YmxpYyBmaXRCb3VuZHMoKSB7XG4gICAgdGhpcy5tYXAuZml0Qm91bmRzKHRoaXMuZ2V0Qm91bmRzKCkpXG4gIH1cbiAgcHVibGljIGdldEJvdW5kcygpOiBMLkxhdExuZ0JvdW5kc0V4cHJlc3Npb24ge1xuICAgIGlmICh0aGlzLnBvbHlsaW5lcy5sZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwLmdldEJvdW5kcygpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBvbHlsaW5lcy5yZWR1Y2UoXG4gICAgICAocHJldiwgY3VycikgPT4gcHJldi5leHRlbmQoY3Vyci5nZXRCb3VuZHMoKSksXG4gICAgICB0aGlzLnBvbHlsaW5lc1swXS5nZXRCb3VuZHMoKVxuICAgIClcbiAgfVxuICBwdWJsaWMgY2hhbmdlQ29sb3IoY29sb3I6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy5jb2xvciA9IGNvbG9yXG4gICAgdGhpcy5yZWRyYXcoKVxuICB9XG4gIHByaXZhdGUgY29uZmlnUG9seWxpbmVCdWZmZXJMYXllcigpIHtcbiAgICB0aGlzLnBvbHlsaW5lTGF5ZXIgPSBMLmxheWVyR3JvdXAoKVxuICAgIHRoaXMucG9seWxpbmVzLmZvckVhY2goKHBvbHlsaW5lKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zOiBQb2x5bGluZUJ1ZmZlckxheWVyT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICB0aGlzLm9wdGlvbnMsXG4gICAgICAgIHtcbiAgICAgICAgICBjb2xvcjpcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5yZW5kZXJQb2x5bGluZUNvbG9yVHlwZSA9PT0gJ3NpbmdsZSdcbiAgICAgICAgICAgICAgPyB0aGlzLm9wdGlvbnMuY29sb3JcbiAgICAgICAgICAgICAgOiB0aGlzLmdldFNlZ21lbnRlZFBvbHlsaW5lQ29sb3IocG9seWxpbmUuZ2V0RGF0YSgpKSxcbiAgICAgICAgfVxuICAgICAgKVxuXG4gICAgICBjb25zdCBwb2x5bGluZUJ1ZmZlciA9IEwuY29ycmlkb3IoXG4gICAgICAgIChwb2x5bGluZS5nZXRMYXRMbmdzKCkgYXMgTC5MYXRMbmdbXSkubWFwKChsYXRMbmcpID0+XG4gICAgICAgICAgTC5sYXRMbmcoW2xhdExuZy5sYXQsIGxhdExuZy5sbmddKVxuICAgICAgICApLFxuICAgICAgICBvcHRpb25zXG4gICAgICApXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRvb2x0aXBBdHRyKSB7XG4gICAgICAgIHBvbHlsaW5lQnVmZmVyLmJpbmRUb29sdGlwKHRoaXMuZ2V0VG9vbFRpcENvbnRlbnQocG9seWxpbmUuZ2V0RGF0YSgpKSlcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucG9wdXBBdHRyKSB7XG4gICAgICAgIHBvbHlsaW5lQnVmZmVyLmJpbmRQb3B1cCh0aGlzLmdldFBvcHVwQ29udGVudChwb2x5bGluZS5nZXREYXRhKCkpKVxuICAgICAgfVxuICAgICAgdGhpcy5wb2x5bGluZUxheWVyLmFkZExheWVyKHBvbHlsaW5lQnVmZmVyKVxuICAgIH0pXG4gICAgcmV0dXJuIHRoaXMucG9seWxpbmVMYXllclxuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhTGlzdEl0ZW0gfSBmcm9tICcuLi9kZWZpbml0aW9ucydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9seWdvbiBleHRlbmRzIEwuUG9seWdvbiB7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lXG4gIHByaXZhdGUgX19kYXRhOiBEYXRhTGlzdEl0ZW1cbiAgY29uc3RydWN0b3IoXG4gICAgbGF0bG5nczpcbiAgICAgIHwgTC5MYXRMbmdFeHByZXNzaW9uW11cbiAgICAgIHwgTC5MYXRMbmdFeHByZXNzaW9uW11bXVxuICAgICAgfCBMLkxhdExuZ0V4cHJlc3Npb25bXVtdW10sXG4gICAgb3B0aW9ucz86IEwuUG9seWxpbmVPcHRpb25zXG4gICkge1xuICAgIHN1cGVyKGxhdGxuZ3MsIG9wdGlvbnMpXG4gIH1cbiAgcHVibGljIHNldERhdGEoZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgdGhpcy5fX2RhdGEgPSBkYXRhXG4gIH1cbiAgcHVibGljIGdldERhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19kYXRhXG4gIH1cbn1cbiIsImltcG9ydCB7IGxpZ2h0ZW4sIGRhcmtlbiwgb3B0aW9uc01lcmdlIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnXG5pbXBvcnQgeyBEYXRhTGlzdEl0ZW0sIENoYW5uZWxGdW5jLCBJTGF5ZXIgfSBmcm9tICcuLi9kZWZpbml0aW9ucydcbmltcG9ydCBQb2x5Z29uIGZyb20gJy4vUG9seWdvbidcblxuLyoqIOa4suafk+minOiJsuagt+W8jyDljZXoibJ85YiG5q61ICovXG50eXBlIFBvbHlnb25MYXllclJlbmRlckNvbG9yVHlwZSA9ICdzaW5nbGUnIHwgJ3NlZ21lbnRlZCcgfCAnY2xhc3NpZmllZCdcbnR5cGUgQ29sb3JNb2RlID0gJ2RhcmtlbicgfCAnbGlnaHRlbicgfCAnbm9ybWFsJ1xuXG5jb25zdCBERUZBVUxUX0NPTE9SID0gJyM3MkFGREYnXG5leHBvcnQgaW50ZXJmYWNlIFBvbHlnb25MYXllck9wdGlvbnMgZXh0ZW5kcyBMLlBvbHlsaW5lT3B0aW9ucyB7XG4gIHJlbmRlclBvbHlnb25Db2xvclR5cGU6IFBvbHlnb25MYXllclJlbmRlckNvbG9yVHlwZVxuXG4gIC8qKiBwb3B1cCDlsZXnpLrlrZfmrrUgKi9cbiAgcG9wdXBBdHRyPzogc3RyaW5nIHwgeyBsYWJlbDogc3RyaW5nOyB2YWx1ZTogYW55IH1cbiAgLyoqIHRvb2x0aXAg5bGV56S65a2X5q61ICovXG4gIHRvb2x0aXBBdHRyPzogc3RyaW5nXG5cbiAgb3BhY2l0eT86IG51bWJlclxuXG4gIC8qKiDliIbmrrXmuLLmn5Pnu5/orqHlrZfmrrUgKi9cbiAgc2VnbWVudGVkQXR0cj86IHN0cmluZ1xuICBzZWdtZW50ZWRDb2xvcnM/OiBzdHJpbmdbXVxuXG4gIC8qKiDliIbnsbvlnovmuLLmn5Pnu5/orqHlrZfmrrUgKi9cbiAgY2xhc3NpZmllZEF0dHI/OiBzdHJpbmdcbiAgY2xhc3NpZmllZENvbG9ycz86IHN0cmluZ1tdXG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2x5Z29uc0xheWVyIGltcGxlbWVudHMgSUxheWVyIHtcbiAgcHVibGljIHR5cGU6IHN0cmluZ1xuXG4gIHByb3RlY3RlZCB2aXNpYmxlOiBib29sZWFuXG4gIHByb3RlY3RlZCBsYXllcjogTC5MYXllckdyb3VwXG5cbiAgcHJvdGVjdGVkIG1hcDogTC5NYXBcbiAgcHJvdGVjdGVkIGRhdGFMaXN0OiBEYXRhTGlzdEl0ZW1bXVxuICBwcm90ZWN0ZWQgb3B0aW9uczogUG9seWdvbkxheWVyT3B0aW9uc1xuICBwcm90ZWN0ZWQgY2hhbm5lbEZ1bmM6IENoYW5uZWxGdW5jXG4gIHByb3RlY3RlZCBzZWdtZW50ZWRNaW46IG51bWJlclxuICBwcm90ZWN0ZWQgc2VnbWVudGVkU3RlcDogbnVtYmVyXG4gIHByb3RlY3RlZCBwb2x5Z29uczogUG9seWdvbltdXG4gIHByb3RlY3RlZCBmb2N1c2VkUG9seWdvbjogUG9seWdvblxuICBwcm90ZWN0ZWQgZm9jdXNlZERpc3BsYXlQb2x5Z29uOiBQb2x5Z29uXG4gIHByb3RlY3RlZCBwb2x5Z29uTGF5ZXI6IEwuTGF5ZXJHcm91cFxuXG4gIHByaXZhdGUgc2VnbWVudGVkUmVmczogQXJyYXk8e1xuICAgIHJhbmdlOiBbbnVtYmVyLCBudW1iZXJdXG4gICAgY29sb3I6IHN0cmluZ1xuICB9PlxuICAvKiog6K6w5b2V5p+Q5LiqIHByb3Ag5a+55bqU55qE5riy5p+T6aKc6ImyICovXG4gIHByaXZhdGUgY2xhc3NpZnlDb2xvck1hcDogeyBbcHJvcDogc3RyaW5nXTogc3RyaW5nIH1cbiAgLyoqIOWIhuexu+a4suafk+minOiJsuWPgueFpyjmj5Dkvpvnu5nosIPnlKjogIXkvb/nlKgpICovXG4gIHByaXZhdGUgY2xhc3NpZnlDb2xvclJlZnM6IEFycmF5PHtcbiAgICBhdHRyOiBzdHJpbmdcbiAgICBjb2xvcjogc3RyaW5nXG4gICAgbnVtczogbnVtYmVyXG4gIH0+XG4gIHByaXZhdGUgZGVmYXVsdE9wdGlvbnM6IFBvbHlnb25MYXllck9wdGlvbnNcbiAgY29uc3RydWN0b3IoXG4gICAgbWFwOiBMLk1hcCxcbiAgICBkYXRhTGlzdDogRGF0YUxpc3RJdGVtW10sXG4gICAgb3B0aW9uczogUG9seWdvbkxheWVyT3B0aW9ucyxcbiAgICBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGFMaXN0KSB8fCBkYXRhTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgZGF0YUxpc3Qg5b+F6aG75piv6Z2e56m65pWw57uEYClcbiAgICB9XG5cbiAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgcG9wdXBBdHRyOiB7IGxhYmVsOiAn5ZCN56ewJywgdmFsdWU6ICduYW1lJyB9LFxuICAgICAgdG9vbHRpcEF0dHI6ICduYW1lJyxcbiAgICAgIGNvbG9yOiBERUZBVUxUX0NPTE9SLFxuICAgICAgZmlsbDogdHJ1ZSxcbiAgICAgIGZpbGxDb2xvcjogREVGQVVMVF9DT0xPUixcbiAgICAgIHdlaWdodDogMSxcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICBmaWxsT3BhY2l0eTogMC40LFxuICAgICAgcmVuZGVyUG9seWdvbkNvbG9yVHlwZTogJ3NpbmdsZScsXG4gICAgICBzZWdtZW50ZWRDb2xvcnM6IFtERUZBVUxUX0NPTE9SXSxcbiAgICAgIGNsYXNzaWZpZWRDb2xvcnM6IFtERUZBVUxUX0NPTE9SXSxcbiAgICB9XG4gICAgdGhpcy50eXBlID0gJ3BvbHlnb24nXG4gICAgdGhpcy5tYXAgPSBtYXBcbiAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YUxpc3RcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zTWVyZ2UoXG4gICAgICB0aGlzLmRlZmF1bHRPcHRpb25zLFxuICAgICAgb3B0aW9uc1xuICAgICkgYXMgUG9seWdvbkxheWVyT3B0aW9uc1xuICAgIHRoaXMuY2hhbm5lbEZ1bmMgPSBjaGFubmVsRnVuY1xuXG4gICAgdGhpcy52aXNpYmxlID0gdHJ1ZVxuICAgIHRoaXMucG9seWdvbnMgPSBbXVxuICAgIHRoaXMuc2VnbWVudGVkTWluID0gSW5maW5pdHlcbiAgICB0aGlzLnNlZ21lbnRlZFN0ZXAgPSAxXG4gICAgdGhpcy5jbGFzc2lmeUNvbG9yTWFwID0ge31cbiAgICB0aGlzLmZvY3VzZWRQb2x5Z29uID0gbnVsbFxuICAgIHRoaXMuZm9jdXNlZERpc3BsYXlQb2x5Z29uID0gbnVsbFxuICB9XG4gIHB1YmxpYyBkcmF3KG9wdGlvbnM/OiBQb2x5Z29uTGF5ZXJPcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpXG4gICAgdGhpcy5pbml0UG9seWdvbnMoKVxuICAgIHRoaXMuaW5pdEV2ZW50KClcbiAgICByZXR1cm4gdGhpcy5yZWRyYXcoKVxuICB9XG4gIHB1YmxpYyByZWRyYXcoKSB7XG4gICAgaWYgKHRoaXMubGF5ZXIpIHtcbiAgICAgIHRoaXMubGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gICAgdGhpcy5sYXllciA9IHRoaXMuY29uZmlnUG9seWdvbkxheWVyKClcbiAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmxheWVyKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgcHVibGljIGdldE9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uc1xuICB9XG4gIHB1YmxpYyBmaXRCb3VuZHMoKSB7XG4gICAgdGhpcy5tYXAuZml0Qm91bmRzKHRoaXMuZ2V0Qm91bmRzKCksIHsgcGFkZGluZzogWzIwLCAyMF0gfSlcbiAgfVxuICBwdWJsaWMgZ2V0Qm91bmRzKCk6IEwuTGF0TG5nQm91bmRzRXhwcmVzc2lvbiB7XG4gICAgaWYgKHRoaXMucG9seWdvbnMubGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcC5nZXRCb3VuZHMoKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wb2x5Z29ucy5yZWR1Y2UoXG4gICAgICAocHJldiwgY3VycikgPT4gcHJldi5leHRlbmQoY3Vyci5nZXRCb3VuZHMoKSksXG4gICAgICBMLmxhdExuZ0JvdW5kcyhcbiAgICAgICAgdGhpcy5wb2x5Z29uc1swXS5nZXRCb3VuZHMoKS5nZXROb3J0aEVhc3QoKSxcbiAgICAgICAgdGhpcy5wb2x5Z29uc1swXS5nZXRCb3VuZHMoKS5nZXRTb3V0aFdlc3QoKVxuICAgICAgKVxuICAgIClcbiAgfVxuICBwdWJsaWMgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5sYXllcikge1xuICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIodGhpcy5sYXllcilcbiAgICB9XG4gICAgaWYgKHRoaXMuZm9jdXNlZERpc3BsYXlQb2x5Z29uKSB7XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmZvY3VzZWREaXNwbGF5UG9seWdvbilcbiAgICB9XG4gIH1cbiAgcHVibGljIHRvZ2dsZVZpc2libGUodmlzaWJsZTogYm9vbGVhbikge1xuICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGVcbiAgICBpZiAoIXRoaXMubGF5ZXIpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodmlzaWJsZSkge1xuICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllcilcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuZm9jdXNlZERpc3BsYXlQb2x5Z29uKSB7XG4gICAgICAgIHRoaXMuZm9jdXNlZERpc3BsYXlQb2x5Z29uLnJlbW92ZSgpXG4gICAgICB9XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmxheWVyKVxuICAgIH1cbiAgfVxuICBwdWJsaWMgY2hhbmdlQ29sb3IoY29sb3I6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy5maWxsQ29sb3IgPSBjb2xvclxuICAgIHRoaXMucmVkcmF3KClcbiAgfVxuICBwdWJsaWMgcGl0Y2goaWQ6IHN0cmluZykge1xuICAgIHRoaXMucG9seWdvbnMuZm9yRWFjaCgocG9seWdvbikgPT4ge1xuICAgICAgaWYgKHBvbHlnb24uZ2V0RGF0YSgpLmlkID09PSBpZCkge1xuICAgICAgICB0aGlzLnBvbHlnb25DbGlja0hhbmRsZXIocG9seWdvbiwgdHJ1ZSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICAvKiog6I635Y+W5YiG5q616aKc6Imy6K+05piOICovXG4gIHB1YmxpYyBnZXRTZWdtZW50ZWRDb2xvclJlZnMoKSB7XG4gICAgaWYgKFxuICAgICAgIU51bWJlci5pc0Zpbml0ZSh0aGlzLnNlZ21lbnRlZE1pbikgfHxcbiAgICAgICFOdW1iZXIuaXNGaW5pdGUodGhpcy5zZWdtZW50ZWRTdGVwKVxuICAgICkge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIHRoaXMuc2VnbWVudGVkUmVmcyA9IFtdXG4gICAgY29uc3Qgc2l6ZU51bXMgPSB0aGlzLm9wdGlvbnMuc2VnbWVudGVkQ29sb3JzLmxlbmd0aFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZU51bXM7IGkrKykge1xuICAgICAgY29uc3QgcmFuZ2VTdGFydCA9IHRoaXMuc2VnbWVudGVkTWluICsgaSAqIHRoaXMuc2VnbWVudGVkU3RlcFxuICAgICAgY29uc3QgcmFuZ2VFbmQgPSByYW5nZVN0YXJ0ICsgdGhpcy5zZWdtZW50ZWRTdGVwXG4gICAgICB0aGlzLnNlZ21lbnRlZFJlZnMucHVzaCh7XG4gICAgICAgIHJhbmdlOiBbcmFuZ2VTdGFydCwgcmFuZ2VFbmRdLFxuICAgICAgICBjb2xvcjogdGhpcy5vcHRpb25zLnNlZ21lbnRlZENvbG9yc1tpXSxcbiAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlZ21lbnRlZFJlZnNcbiAgfVxuICBwdWJsaWMgZ2V0Q2xhc3NpZmllZENvbG9yUmVmcygpIHtcbiAgICByZXR1cm4gdGhpcy5jbGFzc2lmeUNvbG9yUmVmc1xuICB9XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1lbXB0eVxuICBwcm90ZWN0ZWQgaW5pdEV2ZW50KCkge31cbiAgcHJvdGVjdGVkIGdldFRvb2xUaXBDb250ZW50KGRhdGE6IERhdGFMaXN0SXRlbSkge1xuICAgIHJldHVybiAnJyArIGRhdGFbdGhpcy5vcHRpb25zLnRvb2x0aXBBdHRyXVxuICB9XG4gIHByb3RlY3RlZCBnZXRQb3B1cENvbnRlbnQoZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMucG9wdXBBdHRyKSB7XG4gICAgICByZXR1cm4gJydcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMucG9wdXBBdHRyID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGAke3RoaXMub3B0aW9ucy5wb3B1cEF0dHJ9OiAke2RhdGFbdGhpcy5vcHRpb25zLnBvcHVwQXR0cl19YFxuICAgIH1cbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5wb3B1cEF0dHIgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5vcHRpb25zLnBvcHVwQXR0ci5sYWJlbH06ICR7XG4gICAgICAgIGRhdGFbdGhpcy5vcHRpb25zLnBvcHVwQXR0ci52YWx1ZV1cbiAgICAgIH1gXG4gICAgfVxuICB9XG4gIHByb3RlY3RlZCBjYWNoZUNsYXNzaWZ5UGFyYW1zKCkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmNsYXNzaWZpZWRBdHRyKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB0bXA6IHsgW3Byb3A6IHN0cmluZ106IFtzdHJpbmcsIG51bWJlcl0gfSA9IHt9XG4gICAgY29uc3QgcHJvcCA9IHRoaXMub3B0aW9ucy5jbGFzc2lmaWVkQXR0clxuICAgIHRoaXMuZGF0YUxpc3QuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGFbcHJvcF0gaW4gdG1wKSB7XG4gICAgICAgIHRtcFtkYXRhW3Byb3BdXSA9IFtkYXRhW3Byb3BdLCB0bXBbZGF0YVtwcm9wXV1bMV0gKyAxXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG1wW2RhdGFbcHJvcF1dID0gW2RhdGFbcHJvcF0sIDFdXG4gICAgICB9XG4gICAgfSlcbiAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKHRtcClcbiAgICB2YWx1ZXMuc29ydCgoYSwgYikgPT4gYlsxXSAtIGFbMV0pXG4gICAgdGhpcy5jbGFzc2lmeUNvbG9yUmVmcyA9IFtdXG4gICAgbGV0IG90aGVyTnVtcyA9IDBcbiAgICB2YWx1ZXMuZm9yRWFjaCgoW2F0dHIsIG51bXNdLCBpbmRleCkgPT4ge1xuICAgICAgbGV0IGNvbG9yID0gREVGQVVMVF9DT0xPUlxuICAgICAgaWYgKGluZGV4IDwgdGhpcy5vcHRpb25zLmNsYXNzaWZpZWRDb2xvcnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbG9yID0gdGhpcy5vcHRpb25zLmNsYXNzaWZpZWRDb2xvcnNbaW5kZXhdXG4gICAgICAgIHRoaXMuY2xhc3NpZnlDb2xvclJlZnMucHVzaCh7XG4gICAgICAgICAgYXR0cixcbiAgICAgICAgICBjb2xvcixcbiAgICAgICAgICBudW1zLFxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3RoZXJOdW1zICs9IG51bXNcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xhc3NpZnlDb2xvck1hcFthdHRyXSA9IGNvbG9yXG4gICAgfSlcbiAgICB0aGlzLmNsYXNzaWZ5Q29sb3JSZWZzLnB1c2goe1xuICAgICAgYXR0cjogJ+WFtuS7licsXG4gICAgICBjb2xvcjogREVGQVVMVF9DT0xPUixcbiAgICAgIG51bXM6IG90aGVyTnVtcyxcbiAgICB9KVxuICB9XG4gIHByb3RlY3RlZCBnZXRDbGFzc2lmeVBvbHlnb25Db2xvcihkYXRhOiBEYXRhTGlzdEl0ZW0pOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNsYXNzaWZ5Q29sb3JNYXBbZGF0YVt0aGlzLm9wdGlvbnMuY2xhc3NpZmllZEF0dHJdXVxuICB9XG4gIHByb3RlY3RlZCBjYWNoZVNlZ21lbnRQYXJhbXMoKSB7XG4gICAgY29uc3Qgc2VnbWVudGVkTGVuZ3RoID0gdGhpcy5vcHRpb25zLnNlZ21lbnRlZENvbG9ycy5sZW5ndGhcbiAgICBsZXQgbWF4VmFsID0gLUluZmluaXR5XG4gICAgbGV0IG1pblZhbCA9IEluZmluaXR5XG4gICAgZm9yIChjb25zdCBkYXRhIG9mIHRoaXMuZGF0YUxpc3QpIHtcbiAgICAgIGNvbnN0IHZhbCA9IGRhdGFbdGhpcy5vcHRpb25zLnNlZ21lbnRlZEF0dHJdXG4gICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWF4VmFsID0gTWF0aC5tYXgobWF4VmFsLCB2YWwpXG4gICAgICAgIG1pblZhbCA9IE1hdGgubWluKG1pblZhbCwgdmFsKVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzdGVwID0gTWF0aC5jZWlsKChtYXhWYWwgLSBtaW5WYWwgKyAxKSAvIHNlZ21lbnRlZExlbmd0aClcbiAgICB0aGlzLnNlZ21lbnRlZE1pbiA9IG1pblZhbFxuICAgIHRoaXMuc2VnbWVudGVkU3RlcCA9IHN0ZXBcbiAgfVxuICBwcm90ZWN0ZWQgZ2V0U2VnbWVudGVkUG9seWdvbkNvbG9yKGRhdGE6IERhdGFMaXN0SXRlbSk6IHN0cmluZyB7XG4gICAgY29uc3QgdmFsID0gZGF0YVt0aGlzLm9wdGlvbnMuc2VnbWVudGVkQXR0cl1cbiAgICBjb25zdCBjb2xvciA9IHRoaXMub3B0aW9ucy5zZWdtZW50ZWRDb2xvcnNbXG4gICAgICBwYXJzZUludCgnJyArICh2YWwgLSB0aGlzLnNlZ21lbnRlZE1pbikgLyB0aGlzLnNlZ21lbnRlZFN0ZXAsIDEwKVxuICAgIF1cbiAgICByZXR1cm4gY29sb3JcbiAgfVxuICBwcm90ZWN0ZWQgcG9seWdvbkNsaWNrSGFuZGxlcihwb2x5Z29uOiBQb2x5Z29uLCBmaXRCb3VuZHM/OiBib29sZWFuKSB7XG4gICAgdGhpcy5mb2N1c2VkUG9seWdvbiA9IHBvbHlnb25cbiAgICAvLyDliKDpmaTliY3kuIDkuKogZm9jdXNcbiAgICBpZiAodGhpcy5mb2N1c2VkRGlzcGxheVBvbHlnb24pIHtcbiAgICAgIHRoaXMuZm9jdXNlZERpc3BsYXlQb2x5Z29uLnJlbW92ZSgpXG4gICAgfVxuICAgIC8vIOeUn+aIkOW9k+WJjSBmb2N1c1xuICAgIHRoaXMuZm9jdXNlZERpc3BsYXlQb2x5Z29uID0gbmV3IFBvbHlnb24ocG9seWdvbi5nZXRMYXRMbmdzKCksIHtcbiAgICAgIGNvbG9yOiB0aGlzLmdldENvbG9yKHBvbHlnb24uZ2V0RGF0YSgpLCAnZGFya2VuJyksXG4gICAgICBmaWxsQ29sb3I6IHRoaXMuZ2V0Q29sb3IocG9seWdvbi5nZXREYXRhKCkpLFxuICAgIH0pXG4gICAgdGhpcy5mb2N1c2VkRGlzcGxheVBvbHlnb24uYWRkVG8odGhpcy5tYXApXG5cbiAgICB0aGlzLmZvY3VzZWREaXNwbGF5UG9seWdvblxuICAgICAgLmJpbmRQb3B1cCh0aGlzLmdldFBvcHVwQ29udGVudChwb2x5Z29uLmdldERhdGEoKSkpXG4gICAgICAub3BlblBvcHVwKClcblxuICAgIHRoaXMuZm9jdXNlZERpc3BsYXlQb2x5Z29uLm9uKCdwb3B1cGNsb3NlJywgKCkgPT4ge1xuICAgICAgdGhpcy5mb2N1c2VkRGlzcGxheVBvbHlnb24ucmVtb3ZlKClcbiAgICB9KVxuICAgIHBvbHlnb24uY2xvc2VUb29sdGlwKClcblxuICAgIHRoaXMubWFwLnBhblRvKHRoaXMuZm9jdXNlZERpc3BsYXlQb2x5Z29uLmdldENlbnRlcigpKVxuICAgIGlmIChmaXRCb3VuZHMpIHtcbiAgICAgIHRoaXMubWFwLmZpdEJvdW5kcyhwb2x5Z29uLmdldEJvdW5kcygpKVxuICAgIH1cbiAgICB0aGlzLmNoYW5uZWxGdW5jKCdvbi1jbGljay1wb2x5Z29uJywgcG9seWdvbilcbiAgfVxuICBwcm90ZWN0ZWQgaW5pdE9wdGlvbnMob3B0aW9uczogUG9seWdvbkxheWVyT3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNNZXJnZShcbiAgICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMsXG4gICAgICB0aGlzLm9wdGlvbnMsXG4gICAgICBvcHRpb25zXG4gICAgKSBhcyBQb2x5Z29uTGF5ZXJPcHRpb25zXG4gIH1cbiAgcHJvdGVjdGVkIGluaXRQb2x5Z29ucygpIHtcbiAgICAvLyDnvJPlrZggc2VnbWVudCDnm7jlhbPmlbDmja5cbiAgICB0aGlzLmNhY2hlU2VnbWVudFBhcmFtcygpXG4gICAgdGhpcy5jYWNoZUNsYXNzaWZ5UGFyYW1zKClcbiAgICB0aGlzLnBvbHlnb25zID0gW11cbiAgICB0aGlzLmRhdGFMaXN0LmZvckVhY2goKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IGxheWVyID0gTC5nZW9KU09OKGRhdGEuZ2VvbWV0cnkpLmdldExheWVycygpWzBdXG4gICAgICBjb25zdCBwb2x5Z29uID0gbmV3IFBvbHlnb24oKGxheWVyIGFzIEwuUG9seWdvbikuZ2V0TGF0TG5ncygpKVxuXG4gICAgICBwb2x5Z29uLnNldERhdGEoZGF0YSlcbiAgICAgIHRoaXMucG9seWdvbnMucHVzaChwb2x5Z29uKVxuICAgIH0pXG4gIH1cbiAgcHJpdmF0ZSBjb25maWdQb2x5Z29uTGF5ZXIoKSB7XG4gICAgdGhpcy5wb2x5Z29uTGF5ZXIgPSBMLmxheWVyR3JvdXAoKVxuICAgIHRoaXMucG9seWdvbnMgPSB0aGlzLnBvbHlnb25zLm1hcCgocG9seWdvbikgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uczogTC5Qb2x5bGluZU9wdGlvbnMgPSBvcHRpb25zTWVyZ2Uoe30sIHRoaXMub3B0aW9ucywge1xuICAgICAgICBjb2xvcjogdGhpcy5nZXRDb2xvcihwb2x5Z29uLmdldERhdGEoKSwgJ2RhcmtlbicpLFxuICAgICAgICBmaWxsQ29sb3I6IHRoaXMuZ2V0Q29sb3IocG9seWdvbi5nZXREYXRhKCkpLFxuICAgICAgfSlcbiAgICAgIC8vIOmHjeaWsOW6lOeUqCBvcHRpb25zXG4gICAgICBjb25zdCBuZXdQb2x5Z29uID0gbmV3IFBvbHlnb24ocG9seWdvbi5nZXRMYXRMbmdzKCksIG9wdGlvbnMpXG4gICAgICBuZXdQb2x5Z29uLnNldERhdGEocG9seWdvbi5nZXREYXRhKCkpXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRvb2x0aXBBdHRyKSB7XG4gICAgICAgIG5ld1BvbHlnb24uYmluZFRvb2x0aXAodGhpcy5nZXRUb29sVGlwQ29udGVudChuZXdQb2x5Z29uLmdldERhdGEoKSkpXG4gICAgICB9XG4gICAgICBuZXdQb2x5Z29uLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5wb2x5Z29uQ2xpY2tIYW5kbGVyKHBvbHlnb24pXG4gICAgICB9KVxuICAgICAgbmV3UG9seWdvbi5vbignY29udGV4dG1lbnUnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy5jaGFubmVsRnVuYygnY29udGV4dG1lbnUnLCB7XG4gICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgdGFyZ2V0OiBuZXdQb2x5Z29uLFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICAgIHJldHVybiBuZXdQb2x5Z29uXG4gICAgfSlcbiAgICB0aGlzLnBvbHlnb25zLmZvckVhY2goKHBvbHlnb24pID0+IHtcbiAgICAgIHRoaXMucG9seWdvbkxheWVyLmFkZExheWVyKHBvbHlnb24pXG4gICAgfSlcbiAgICByZXR1cm4gdGhpcy5wb2x5Z29uTGF5ZXJcbiAgfVxuICBwcml2YXRlIGdldENvbG9yKGRhdGE6IERhdGFMaXN0SXRlbSwgbW9kZT86IENvbG9yTW9kZSkge1xuICAgIGxldCBjb2xvciA9IHRoaXMub3B0aW9ucy5jb2xvclxuICAgIGlmICh0aGlzLm9wdGlvbnMucmVuZGVyUG9seWdvbkNvbG9yVHlwZSA9PT0gJ3NlZ21lbnRlZCcpIHtcbiAgICAgIGNvbG9yID0gdGhpcy5nZXRTZWdtZW50ZWRQb2x5Z29uQ29sb3IoZGF0YSlcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZW5kZXJQb2x5Z29uQ29sb3JUeXBlID09PSAnY2xhc3NpZmllZCcpIHtcbiAgICAgIGNvbG9yID0gdGhpcy5nZXRDbGFzc2lmeVBvbHlnb25Db2xvcihkYXRhKVxuICAgIH1cbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgIGNhc2UgJ2Rhcmtlbic6XG4gICAgICAgIHJldHVybiBkYXJrZW4oY29sb3IpXG4gICAgICBjYXNlICdsaWdodGVuJzpcbiAgICAgICAgcmV0dXJuIGxpZ2h0ZW4oY29sb3IpXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gY29sb3JcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBQb2x5Z29uIGZyb20gJy4vUG9seWdvbidcbmltcG9ydCBQb2x5Z29uc0xheWVyLCB7IFBvbHlnb25MYXllck9wdGlvbnMgfSBmcm9tICcuL1BvbHlnb25zTGF5ZXInXG5pbXBvcnQgeyBEYXRhTGlzdEl0ZW0sIENoYW5uZWxGdW5jIH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWRzTGF5ZXIgZXh0ZW5kcyBQb2x5Z29uc0xheWVyIHtcbiAgcHJpdmF0ZSBwcm9wTWF4TGVuZ3RoOiBudW1iZXJcbiAgY29uc3RydWN0b3IoXG4gICAgbWFwOiBMLk1hcCxcbiAgICBkYXRhTGlzdDogRGF0YUxpc3RJdGVtW10sXG4gICAgb3B0aW9uczogUG9seWdvbkxheWVyT3B0aW9ucyxcbiAgICBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgKSB7XG4gICAgc3VwZXIobWFwLCBkYXRhTGlzdCwgb3B0aW9ucywgY2hhbm5lbEZ1bmMpXG4gICAgdGhpcy5wcm9wTWF4TGVuZ3RoID0gLTFcbiAgfVxuICBwdWJsaWMgcmVkcmF3KCkge1xuICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMubGF5ZXIpIHtcbiAgICAgIHRoaXMubGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gICAgdGhpcy5sYXllciA9IHRoaXMuY29uZmlnR3JpZExheWVyKClcbiAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmxheWVyKVxuICAgIC8vIHRvb2x0aXAg5pyJ5Y+v6IO96ZyA6KaB55u05o6l5bGV56S677yM6ZyA6KaB5ZyoIHBvbHlnb24g5re75Yqg5Yiw5Zyw5Zu+5LiK5LmL5ZCO5omN5Y+v5Lul77yM5omA5Lul6ZyA6KaB5bu26L+f6K6+572uXG4gICAgdGhpcy5jb25maWdUb29sdGlwKClcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuem9vbUhhbmRsZXIoKVxuICAgIH0sIDIwMClcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIHB1YmxpYyB0b2dnbGVUb29sdGlwKHZpc2libGU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLnBvbHlnb25zLmZvckVhY2goKHBvbHlnb24pID0+IHtcbiAgICAgIGlmIChwb2x5Z29uLmdldFRvb2x0aXAoKSkge1xuICAgICAgICBwb2x5Z29uLmdldFRvb2x0aXAoKS5zZXRPcGFjaXR5KHZpc2libGUgPyAxIDogMClcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIHByb3RlY3RlZCBpbml0RXZlbnQoKSB7XG4gICAgdGhpcy5tYXAub24oJ3pvb20nLCB0aGlzLnpvb21IYW5kbGVyLmJpbmQodGhpcykpXG4gIH1cbiAgcHJpdmF0ZSBjb25maWdUb29sdGlwKCkge1xuICAgIHRoaXMucHJvcE1heExlbmd0aCA9IHRoaXMuZ2V0UHJvcE1heExlbmd0aCgpXG4gICAgaWYgKHRoaXMub3B0aW9ucy50b29sdGlwQXR0cikge1xuICAgICAgdGhpcy5wb2x5Z29ucy5mb3JFYWNoKChwb2x5Z29uKSA9PiB7XG4gICAgICAgIHBvbHlnb24uYmluZFRvb2x0aXAodGhpcy5nZXRUb29sVGlwQ29udGVudChwb2x5Z29uLmdldERhdGEoKSksIHtcbiAgICAgICAgICBwZXJtYW5lbnQ6IHRydWUsXG4gICAgICAgICAgZGlyZWN0aW9uOiAnY2VudGVyJyxcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIHByaXZhdGUgY29uZmlnR3JpZExheWVyKCkge1xuICAgIHRoaXMucG9seWdvbkxheWVyID0gTC5sYXllckdyb3VwKClcbiAgICB0aGlzLnBvbHlnb25zID0gdGhpcy5wb2x5Z29ucy5tYXAoKHBvbHlnb24pID0+IHtcbiAgICAgIGxldCBjb2xvciA9IHRoaXMub3B0aW9ucy5jb2xvclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW5kZXJQb2x5Z29uQ29sb3JUeXBlID09PSAnc2VnbWVudGVkJykge1xuICAgICAgICBjb2xvciA9IHRoaXMuZ2V0U2VnbWVudGVkUG9seWdvbkNvbG9yKHBvbHlnb24uZ2V0RGF0YSgpKVxuICAgICAgfVxuICAgICAgY29uc3Qgb3B0aW9uczogTC5Qb2x5bGluZU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMsIHtcbiAgICAgICAgY29sb3IsXG4gICAgICB9KVxuICAgICAgLy8g6YeN5paw5bqU55SoIG9wdGlvbnNcbiAgICAgIGNvbnN0IG5ld1BvbHlnb24gPSBuZXcgUG9seWdvbihwb2x5Z29uLmdldExhdExuZ3MoKSwgb3B0aW9ucylcbiAgICAgIG5ld1BvbHlnb24uc2V0RGF0YShwb2x5Z29uLmdldERhdGEoKSlcbiAgICAgIG5ld1BvbHlnb24ub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAvLyB0aGlzLnBvbHlnb25DbGlja0hhbmRsZXIocG9seWdvbilcbiAgICAgIH0pXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBvcHVwQXR0cikge1xuICAgICAgICBuZXdQb2x5Z29uLmJpbmRQb3B1cCh0aGlzLmdldFBvcHVwQ29udGVudChuZXdQb2x5Z29uLmdldERhdGEoKSkpXG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3UG9seWdvblxuICAgIH0pXG4gICAgdGhpcy5wb2x5Z29ucy5mb3JFYWNoKChwb2x5Z29uKSA9PiB7XG4gICAgICB0aGlzLnBvbHlnb25MYXllci5hZGRMYXllcihwb2x5Z29uKVxuICAgIH0pXG4gICAgcmV0dXJuIHRoaXMucG9seWdvbkxheWVyXG4gIH1cbiAgcHJpdmF0ZSB6b29tSGFuZGxlcigpIHtcbiAgICBjb25zdCBwb2x5Z29uID0gdGhpcy5wb2x5Z29uc1swXVxuICAgIGlmICghcG9seWdvbikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMudG9nZ2xlVG9vbHRpcChcbiAgICAgIHRoaXMuZ2V0UmVjdGFuZ2xlV2lkdGgocG9seWdvbikgPlxuICAgICAgICB0aGlzLmdldFRvb2x0aXBNYXhXaWR0aCh0aGlzLnByb3BNYXhMZW5ndGgpXG4gICAgKVxuICB9XG4gIHByaXZhdGUgZ2V0UmVjdGFuZ2xlV2lkdGgocG9seWdvbjogUG9seWdvbikge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLm1hcC5sYXRMbmdUb0xheWVyUG9pbnQocG9seWdvbi5nZXRCb3VuZHMoKS5nZXROb3J0aEVhc3QoKSkueCAtXG4gICAgICB0aGlzLm1hcC5sYXRMbmdUb0xheWVyUG9pbnQocG9seWdvbi5nZXRCb3VuZHMoKS5nZXRTb3V0aFdlc3QoKSkueFxuICAgIClcbiAgfVxuICBwcml2YXRlIGdldFRvb2x0aXBNYXhXaWR0aCh0ZXh0TGVuZ3RoOiBudW1iZXIpIHtcbiAgICByZXR1cm4gdGV4dExlbmd0aCAqIDEyICsgMTRcbiAgfVxuICBwcml2YXRlIGdldFByb3BNYXhMZW5ndGgoKSB7XG4gICAgY29uc3QgcHJvcCA9XG4gICAgICB0eXBlb2YgdGhpcy5vcHRpb25zLnBvcHVwQXR0ciA9PT0gJ3N0cmluZydcbiAgICAgICAgPyB0aGlzLm9wdGlvbnMucG9wdXBBdHRyXG4gICAgICAgIDogdGhpcy5vcHRpb25zLnBvcHVwQXR0ci52YWx1ZVxuICAgIHJldHVybiB0aGlzLnBvbHlnb25zXG4gICAgICAubWFwKChwb2x5Z29uKSA9PiBgJHtwb2x5Z29uLmdldERhdGEoKVtwcm9wXX1gLmxlbmd0aClcbiAgICAgIC5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHByZXYsIGN1cnIpXG4gICAgICB9LCAwKVxuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhTGlzdEl0ZW0sIENoYW5uZWxGdW5jIH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMnXG5pbXBvcnQgTWFya2Vyc0xheWVyLCB7XG4gIE1hcmtlcnNMYXllck9wdGlvbnMsXG4gIE1hcmtlcnNIZWF0TGF5ZXJPcHRpb25zLFxufSBmcm9tICcuLi9tYXJrZXIvTWFya2Vyc0xheWVyJ1xuXG5pbnRlcmZhY2UgRHluYW1pY0hlYXRMYXllck9wdGlvbnMgZXh0ZW5kcyBNYXJrZXJzSGVhdExheWVyT3B0aW9ucyB7XG4gIC8qKiDmmK/lkKblvqrnjq/mkq3mlL4gKi9cbiAgbG9vcDogYm9vbGVhblxuICAvKiog5piv5ZCm6Ieq5Yqo5pKt5pS+ICovXG4gIGF1dG86IGJvb2xlYW5cbiAgLyoqIOmXtOmalOaXtumXtCAqL1xuICBpbnRlcnZhbDogbnVtYmVyXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIER5bmFtaWNIZWF0TGF5ZXIge1xuICAvKiog5b2T5YmN5pKt5pS+5Yiw56ys5Yeg5q2lICovXG4gIHByaXZhdGUgY3VycmVudFN0ZXA6IG51bWJlclxuXG4gIHByaXZhdGUgbWFwOiBMLk1hcFxuICBwcml2YXRlIGR5bmFtaWNEYXRhTGlzdDogRGF0YUxpc3RJdGVtW11bXVxuICBwcml2YXRlIG9wdGlvbnM6IER5bmFtaWNIZWF0TGF5ZXJPcHRpb25zXG4gIHByaXZhdGUgY2hhbm5lbEZ1bmM6IENoYW5uZWxGdW5jXG4gIHByaXZhdGUgbGF5ZXI6IE1hcmtlcnNMYXllclxuICBwcml2YXRlIGlzUGF1c2U6IGJvb2xlYW5cbiAgY29uc3RydWN0b3IoXG4gICAgbWFwOiBMLk1hcCxcbiAgICBkeW5hbWljRGF0YUxpc3Q6IERhdGFMaXN0SXRlbVtdW10sXG4gICAgb3B0aW9uczogRHluYW1pY0hlYXRMYXllck9wdGlvbnMsXG4gICAgY2hhbm5lbEZ1bmM6IENoYW5uZWxGdW5jXG4gICkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkeW5hbWljRGF0YUxpc3QpIHx8IGR5bmFtaWNEYXRhTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgZGF0YUxpc3Qg5b+F6aG75piv6Z2e56m65pWw57uEYClcbiAgICB9XG4gICAgdGhpcy5tYXAgPSBtYXBcbiAgICB0aGlzLmR5bmFtaWNEYXRhTGlzdCA9IGR5bmFtaWNEYXRhTGlzdFxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLmNoYW5uZWxGdW5jID0gY2hhbm5lbEZ1bmNcbiAgICB0aGlzLmN1cnJlbnRTdGVwID0gMFxuICAgIHRoaXMuaXNQYXVzZSA9IHRydWVcbiAgfVxuICBwdWJsaWMgcmVzdGFydCgpIHtcbiAgICB0aGlzLmlzUGF1c2UgPSBmYWxzZVxuICAgIHRoaXMuY3VycmVudFN0ZXAgPSAwXG4gICAgdGhpcy5nb3RvU3RlcCh0aGlzLmN1cnJlbnRTdGVwKVxuICAgIHRoaXMuc3RhcnQoKVxuICB9XG4gIHB1YmxpYyBzdGFydCgpIHtcbiAgICB0aGlzLmlzUGF1c2UgPSBmYWxzZVxuICAgIGlmICghdGhpcy5vcHRpb25zLmF1dG8pIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzUGF1c2UpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvKiog5pKt5pS+5a6M5q+VICovXG4gICAgICBpZiAodGhpcy5jdXJyZW50U3RlcCA+PSB0aGlzLmR5bmFtaWNEYXRhTGlzdC5sZW5ndGggLSAxKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmxvb3ApIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc3RhcnQoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcCsrXG4gICAgICAgIHRoaXMuZ290b1N0ZXAodGhpcy5jdXJyZW50U3RlcClcbiAgICAgICAgdGhpcy5zdGFydCgpXG4gICAgICB9XG4gICAgfSwgdGhpcy5vcHRpb25zLmludGVydmFsKVxuICB9XG4gIHB1YmxpYyBwYXVzZSgpIHtcbiAgICB0aGlzLmlzUGF1c2UgPSB0cnVlXG4gIH1cbiAgcHVibGljIHByZXYoKSB7XG4gICAgdGhpcy5jdXJyZW50U3RlcC0tXG4gICAgdGhpcy5jdXJyZW50U3RlcCA9XG4gICAgICAodGhpcy5jdXJyZW50U3RlcCArIHRoaXMuZHluYW1pY0RhdGFMaXN0Lmxlbmd0aCkgJVxuICAgICAgdGhpcy5keW5hbWljRGF0YUxpc3QubGVuZ3RoXG4gICAgdGhpcy5nb3RvU3RlcCh0aGlzLmN1cnJlbnRTdGVwKVxuICB9XG4gIHB1YmxpYyBuZXh0KCkge1xuICAgIHRoaXMuY3VycmVudFN0ZXArK1xuICAgIHRoaXMuY3VycmVudFN0ZXAgPSB0aGlzLmN1cnJlbnRTdGVwICUgdGhpcy5keW5hbWljRGF0YUxpc3QubGVuZ3RoXG4gICAgdGhpcy5nb3RvU3RlcCh0aGlzLmN1cnJlbnRTdGVwKVxuICB9XG4gIHB1YmxpYyBnb3RvU3RlcChzdGVwOiBudW1iZXIpIHtcbiAgICBpZiAoc3RlcCA8IDAgfHwgc3RlcCA+PSB0aGlzLmR5bmFtaWNEYXRhTGlzdC5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgZ290b1N0ZXAoJHtzdGVwfSk6IHN0ZXAgaXMgb3V0IG9mIGluZGV4IGApXG4gICAgfVxuICAgIHRoaXMubGF5ZXIuc2V0RGF0YSh0aGlzLmR5bmFtaWNEYXRhTGlzdFtzdGVwXSlcbiAgICB0aGlzLmxheWVyLmRyYXcoKVxuICB9XG4gIHB1YmxpYyBkcmF3KG9wdGlvbnM/OiBEeW5hbWljSGVhdExheWVyT3B0aW9ucykge1xuICAgIHRoaXMuaW5pdE9wdGlvbnMob3B0aW9ucylcbiAgICB0aGlzLmluaXRMYXllcigpXG4gICAgdGhpcy5sYXllci5kcmF3KClcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIHB1YmxpYyBmaXRCb3VuZHMoKSB7XG4gICAgdGhpcy5sYXllci5maXRCb3VuZHMoKVxuICB9XG4gIHByaXZhdGUgaW5pdE9wdGlvbnMob3B0aW9ucz86IER5bmFtaWNIZWF0TGF5ZXJPcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgIGF1dG86IGZhbHNlLFxuICAgICAgICBpbnRlcnZhbDogMTAwMCxcbiAgICAgIH0sXG4gICAgICB0aGlzLm9wdGlvbnMsXG4gICAgICBvcHRpb25zXG4gICAgKVxuICB9XG4gIHByaXZhdGUgaW5pdExheWVyKCkge1xuICAgIGNvbnN0IG1hcmtlcnNMYXllck9wdGlvbnM6IE1hcmtlcnNMYXllck9wdGlvbnMgPSB7XG4gICAgICByZW5kZXJUeXBlOiAnaGVhdCcsXG4gICAgICBoZWF0T3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgIH1cbiAgICB0aGlzLmxheWVyID0gbmV3IE1hcmtlcnNMYXllcihcbiAgICAgIHRoaXMubWFwLFxuICAgICAgdGhpcy5keW5hbWljRGF0YUxpc3RbMF0sXG4gICAgICBtYXJrZXJzTGF5ZXJPcHRpb25zLFxuICAgICAgdGhpcy5jaGFubmVsRnVuY1xuICAgIClcbiAgICByZXR1cm4gdGhpcy5sYXllclxuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhTGlzdEl0ZW0sIENoYW5uZWxGdW5jLCBHZXREYXRhQnlMYXRMbmcgfSBmcm9tICcuLi9kZWZpbml0aW9ucydcbmltcG9ydCB7IG9wdGlvbnNNZXJnZSB9IGZyb20gJy4uL3V0aWxzL2luZGV4J1xuXG4vKipcbiAqIOiOt+WPliBHZW9TZXJ2ZXIg5Y+C5pWwXG4gKi9cbnR5cGUgR2V0V21zQ29uZmlncyA9IChcbiAgb3B0aW9uczogV21zVGlsZU9wdGlvbnNcbikgPT4gUHJvbWlzZTx7IHdtc1VSTDogc3RyaW5nOyBsYXllcnM6IHN0cmluZzsgc3R5bGVzOiBzdHJpbmcgfT5cblxuaW50ZXJmYWNlIFdtc1RpbGVPcHRpb25zIGV4dGVuZHMgTC5XTVNPcHRpb25zIHtcbiAgd21zVVJMPzogc3RyaW5nXG4gIGxheWVycz86IHN0cmluZ1xuICBzdHlsZT86IHN0cmluZ1xuXG4gIGdldERhdGFCeUxhdExuZz86IEdldERhdGFCeUxhdExuZ1xuICBnZXRXbXNDb25maWdzPzogR2V0V21zQ29uZmlnc1xuICBwb3B1cEF0dHI/OiBzdHJpbmcgfCB7IGxhYmVsOiBzdHJpbmc7IHZhbHVlOiBhbnkgfVxuXG4gIFtwcm9wOiBzdHJpbmddOiBhbnlcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV21zVGlsZSB7XG4gIHB1YmxpYyB0eXBlOiBzdHJpbmdcbiAgcHJpdmF0ZSBtYXA6IEwuTWFwXG4gIHByaXZhdGUgZGF0YUxpc3Q6IERhdGFMaXN0SXRlbVtdXG4gIHByaXZhdGUgb3B0aW9uczogV21zVGlsZU9wdGlvbnNcbiAgcHJpdmF0ZSBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgcHJpdmF0ZSBsYXllcjogTC5UaWxlTGF5ZXJcbiAgcHJpdmF0ZSB2aXNpYmxlOiBib29sZWFuXG4gIHByaXZhdGUgcG9wdXA6IEwuUG9wdXBcbiAgY29uc3RydWN0b3IoXG4gICAgbWFwOiBMLk1hcCxcbiAgICBkYXRhTGlzdDogRGF0YUxpc3RJdGVtW10sXG4gICAgb3B0aW9uczogV21zVGlsZU9wdGlvbnMgPSB7fSxcbiAgICBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgKSB7XG4gICAgdGhpcy50eXBlID0gJ3dtc1RpbGUnXG4gICAgdGhpcy52aXNpYmxlID0gdHJ1ZVxuICAgIHRoaXMubWFwID0gbWFwXG4gICAgdGhpcy5kYXRhTGlzdCA9IGRhdGFMaXN0XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICAgIHRoaXMuY2hhbm5lbEZ1bmMgPSBjaGFubmVsRnVuY1xuICAgIHRoaXMubGF5ZXIgPSBudWxsXG4gICAgdGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKVxuICAgIHRoaXMuaW5pdEV2ZW50cygpXG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZHJhdyhvcHRpb25zPzogV21zVGlsZU9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHRoaXMubGF5ZXIpIHtcbiAgICAgIHRoaXMubGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gICAgaWYgKHRoaXMucG9wdXApIHtcbiAgICAgIHRoaXMucG9wdXAucmVtb3ZlKClcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuaW5pdE9wdGlvbnMob3B0aW9ucylcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5nZXRXbXNDb25maWdzKSB7XG4gICAgICBjb25zdCB7IHdtc1VSTCwgbGF5ZXJzLCBzdHlsZXMgfSA9IGF3YWl0IHRoaXMub3B0aW9ucy5nZXRXbXNDb25maWdzKFxuICAgICAgICB0aGlzLm9wdGlvbnNcbiAgICAgIClcbiAgICAgIHRoaXMuaW5pdE9wdGlvbnMoeyB3bXNVUkwsIGxheWVycywgc3R5bGVzIH0pXG4gICAgfVxuICAgIHRoaXMubGF5ZXIgPSB0aGlzLmdldExheWVyKClcbiAgICBpZiAodGhpcy5sYXllcikge1xuICAgICAgdGhpcy5sYXllci5hZGRUbyh0aGlzLm1hcClcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5sYXllcikge1xuICAgICAgdGhpcy5sYXllci5yZW1vdmUoKVxuICAgIH1cbiAgICB0aGlzLm1hcC5vZmYoJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIsIHRoaXMpXG4gIH1cblxuICBwdWJsaWMgZ2V0T3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zXG4gIH1cblxuICBwdWJsaWMgcGl0Y2goaWQ6IHN0cmluZykge1xuICAgIHRoaXMuZGF0YUxpc3QuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEuaWQgPT09IGlkKSB7XG4gICAgICAgIGNvbnN0IHBvbHlnb24gPSBMLmdlb0pTT04oZGF0YS5nZW9tZXRyeSkuZ2V0TGF5ZXJzKClbMF0gYXMgTC5Qb2x5Z29uXG4gICAgICAgIHRoaXMuc2hvd1BvcHVwKGRhdGEsIHBvbHlnb24uZ2V0Q2VudGVyKCkpXG4gICAgICAgIHRoaXMubWFwLmZpdEJvdW5kcyhwb2x5Z29uLmdldEJvdW5kcygpKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBwdWJsaWMgdG9nZ2xlVmlzaWJsZSh2aXNpYmxlOiBib29sZWFuKSB7XG4gICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZVxuICAgIGlmICghdGhpcy5sYXllcikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmxheWVyKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5wb3B1cCkge1xuICAgICAgICB0aGlzLnBvcHVwLmNsb3NlUG9wdXAoKVxuICAgICAgfVxuICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIodGhpcy5sYXllcilcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZml0Qm91bmRzKCkge1xuICAgIHRoaXMubWFwLmZpdEJvdW5kcyh0aGlzLmdldEJvdW5kcygpLCB7XG4gICAgICBwYWRkaW5nOiBbMjAsIDIwXSxcbiAgICB9KVxuICB9XG5cbiAgcHVibGljIGdldEJvdW5kcygpIHtcbiAgICBpZiAodGhpcy5kYXRhTGlzdC5sZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwLmdldEJvdW5kcygpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRhdGFMaXN0LnJlZHVjZShcbiAgICAgIChwcmV2LCBjdXJyKSA9PlxuICAgICAgICBwcmV2LmV4dGVuZChcbiAgICAgICAgICAoTC5nZW9KU09OKGN1cnIuZ2VvbWV0cnkpLmdldExheWVycygpWzBdIGFzIEwuUG9seWdvbikuZ2V0Qm91bmRzKClcbiAgICAgICAgKSxcbiAgICAgIEwubGF0TG5nQm91bmRzKFxuICAgICAgICAoTC5nZW9KU09OKHRoaXMuZGF0YUxpc3RbMF0uZ2VvbWV0cnkpLmdldExheWVycygpWzBdIGFzIEwuUG9seWdvbilcbiAgICAgICAgICAuZ2V0Qm91bmRzKClcbiAgICAgICAgICAuZ2V0Tm9ydGhFYXN0KCksXG4gICAgICAgIChMLmdlb0pTT04odGhpcy5kYXRhTGlzdFswXS5nZW9tZXRyeSkuZ2V0TGF5ZXJzKClbMF0gYXMgTC5Qb2x5Z29uKVxuICAgICAgICAgIC5nZXRCb3VuZHMoKVxuICAgICAgICAgIC5nZXRTb3V0aFdlc3QoKVxuICAgICAgKVxuICAgIClcbiAgfVxuXG4gIHByaXZhdGUgaW5pdEV2ZW50cygpIHtcbiAgICB0aGlzLm1hcC5vbignY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlciwgdGhpcylcbiAgfVxuXG4gIHByaXZhdGUgaW5pdE9wdGlvbnMob3B0aW9uczogV21zVGlsZU9wdGlvbnMpIHtcbiAgICBjb25zdCBnZXREYXRhQnlMYXRMbmcgPVxuICAgICAgb3B0aW9ucy5nZXREYXRhQnlMYXRMbmcgfHwgdGhpcy5vcHRpb25zLmdldERhdGFCeUxhdExuZ1xuICAgIGNvbnN0IGdldFdtc0NvbmZpZ3MgPSBvcHRpb25zLmdldFdtc0NvbmZpZ3MgfHwgdGhpcy5vcHRpb25zLmdldFdtc0NvbmZpZ3NcblxuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zOiBXbXNUaWxlT3B0aW9ucyA9IHtcbiAgICAgIGZvcm1hdDogJ2ltYWdlL3BuZycsXG4gICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICAgIGNyczogTC5DUlMuRVBTRzQzMjYsXG4gICAgfVxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNNZXJnZShcbiAgICAgIHRoaXMub3B0aW9ucyxcbiAgICAgIGRlZmF1bHRPcHRpb25zLFxuICAgICAgb3B0aW9uc1xuICAgICkgYXMgV21zVGlsZU9wdGlvbnNcbiAgICB0aGlzLm9wdGlvbnMuZ2V0RGF0YUJ5TGF0TG5nID0gZ2V0RGF0YUJ5TGF0TG5nXG4gICAgdGhpcy5vcHRpb25zLmdldFdtc0NvbmZpZ3MgPSBnZXRXbXNDb25maWdzXG4gIH1cblxuICBwcml2YXRlIGdldExheWVyKCkge1xuICAgIGNvbnN0IHsgd21zVVJMLCBsYXllcnMsIHN0eWxlcyB9ID0gdGhpcy5vcHRpb25zXG4gICAgaWYgKHdtc1VSTCkge1xuICAgICAgcmV0dXJuIEwudGlsZUxheWVyLndtcyh3bXNVUkwsIHtcbiAgICAgICAgbGF5ZXJzLFxuICAgICAgICBzdHlsZXMsXG4gICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxuICAgICAgICBmb3JtYXQ6ICdpbWFnZS9wbmcnLFxuICAgICAgICBjcnM6IEwuQ1JTLkVQU0c0MzI2LFxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBhc3luYyBjbGlja0hhbmRsZXIoZXZlbnQ6IEwuTGVhZmxldE1vdXNlRXZlbnQpIHtcbiAgICB0aGlzLmNoYW5uZWxGdW5jKCdjbGljaycsIGV2ZW50KVxuICAgIGlmICghdGhpcy5vcHRpb25zLmdldERhdGFCeUxhdExuZykge1xuICAgICAgLy8gY29uc29sZS53YXJuKCdvcHRpb25zLmdldERhdGFCeUxhdExuZyBpcyBub3QgZGVmaW5lZCcpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgbGF0bG5nID0gW2V2ZW50LmxhdGxuZy5sYXQsIGV2ZW50LmxhdGxuZy5sbmddXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMub3B0aW9ucy5nZXREYXRhQnlMYXRMbmcobGF0bG5nKVxuICAgIGlmIChkYXRhKSB7XG4gICAgICB0aGlzLnNob3dQb3B1cChkYXRhLCBldmVudC5sYXRsbmcpXG4gICAgfVxuICB9XG4gIHByaXZhdGUgc2hvd1BvcHVwKGRhdGE6IERhdGFMaXN0SXRlbSwgbGF0bG5nOiBMLkxhdExuZykge1xuICAgIGNvbnN0IHBvcHVwQ29udGVudCA9IHRoaXMuZ2V0UG9wdXBDb250ZW50KGRhdGEpXG4gICAgLy8g5pyJ5Lqb5pWw5o2u5rKh5pyJ6K+l5a2X5q6177yM5YiZ5LiN5pi+56S6IHBvcHVwXG4gICAgaWYgKCFwb3B1cENvbnRlbnQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLnBvcHVwID0gTC5wb3B1cCgpXG4gICAgICAuc2V0TGF0TG5nKGxhdGxuZylcbiAgICAgIC5zZXRDb250ZW50KHBvcHVwQ29udGVudClcbiAgICAgIC5vcGVuT24odGhpcy5tYXApXG4gIH1cbiAgcHJpdmF0ZSBnZXRQb3B1cENvbnRlbnQoZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMucG9wdXBBdHRyKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5wb3B1cEF0dHIgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAoIWRhdGFbdGhpcy5vcHRpb25zLnBvcHVwQXR0cl0pIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICAgIHJldHVybiBgJHt0aGlzLm9wdGlvbnMucG9wdXBBdHRyfTogJHtkYXRhW3RoaXMub3B0aW9ucy5wb3B1cEF0dHJdfWBcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMucG9wdXBBdHRyID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKCFkYXRhW3RoaXMub3B0aW9ucy5wb3B1cEF0dHIudmFsdWVdKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgICByZXR1cm4gYCR7dGhpcy5vcHRpb25zLnBvcHVwQXR0ci5sYWJlbH06ICR7XG4gICAgICAgIGRhdGFbdGhpcy5vcHRpb25zLnBvcHVwQXR0ci52YWx1ZV1cbiAgICAgIH1gXG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIFN0eWxlc0NvbmZpZyB7XG4gIHN0cm9rZTogc3RyaW5nXG4gIHN0cm9rZVdpZHRoOiBudW1iZXJcbiAgZmlsbDogc3RyaW5nXG4gIGZpbGxPcGFjaXR5OiBudW1iZXJcbiAgZm9udEZhbWlseTogc3RyaW5nXG4gIGZvbnRTdHlsZTogc3RyaW5nXG4gIGZvbnRTaXplOiBudW1iZXJcbiAgZm9udFdlaWdodDogbnVtYmVyXG4gIHBvcHVwUHJvcDogc3RyaW5nXG4gIHNlZ21lbnRlZFByb3A6IHN0cmluZ1xuICBzZWdtZW50ZWRDb2xvcnM6IHN0cmluZ1tdXG4gIGNsYXNzaWZpZWRQcm9wOiBzdHJpbmdcbiAgY2xhc3NpZmllZENvbG9yczogc3RyaW5nW11cbiAgcmFuZ2VTaXplOiB7XG4gICAgW3Byb3A6IHN0cmluZ106IFtudW1iZXIsIG51bWJlcl1cbiAgfVxuICByYW5nZVByb3A6IHtcbiAgICBbcHJvcDogc3RyaW5nXTogc3RyaW5nW11cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0eWxlcyB7XG4gIF9kZWNsYXJhdGlvbjoge1xuICAgIF9hdHRyaWJ1dGVzOiB7XG4gICAgICB2ZXJzaW9uOiBzdHJpbmdcbiAgICAgIGVuY29kaW5nOiBzdHJpbmdcbiAgICB9XG4gIH1cbiAgU3R5bGVkTGF5ZXJEZXNjcmlwdG9yOiBTdHlsZWRMYXllckRlc2NyaXB0b3Jcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU3R5bGVzIHtcbiAgLyoqIOiOt+WPluaPj+i/sCBTTEQg55qEIFhNTCAqL1xuICB0b1hNTFN0cigpOiBzdHJpbmdcbiAgLyoqIOiOt+WPliBzdHlsZSDphY3nva4gKi9cbiAgZ2V0U3R5bGVzQ29uZmlnKCk6IFN0eWxlc0NvbmZpZ1xuICAvKiog6I635Y+WIGxheWVyIG5hbWUgKi9cbiAgZ2V0TGF5ZXJzKCk6IHN0cmluZ1xufVxuXG5leHBvcnQgY29uc3QgWE1MQmFzZURlY2xhcmF0aW9uOiBTdHlsZXNbJ19kZWNsYXJhdGlvbiddID0ge1xuICBfYXR0cmlidXRlczoge1xuICAgIHZlcnNpb246ICcxLjAnLFxuICAgIGVuY29kaW5nOiAndXRmLTgnLFxuICB9LFxufVxuXG5leHBvcnQgY29uc3QgU3R5bGVkTGF5ZXJEZXNjcmlwdG9yQmFzZUF0dHJpYnV0ZXM6IFN0eWxlZExheWVyRGVzY3JpcHRvclsnX2F0dHJpYnV0ZXMnXSA9IHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm9iamVjdC1saXRlcmFsLWtleS1xdW90ZXNcbiAgdmVyc2lvbjogJzEuMC4wJyxcbiAgJ3hzaTpzY2hlbWFMb2NhdGlvbic6ICdodHRwOi8vd3d3Lm9wZW5naXMubmV0L3NsZCBTdHlsZWRMYXllckRlc2NyaXB0b3IueHNkJyxcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm9iamVjdC1saXRlcmFsLWtleS1xdW90ZXNcbiAgeG1sbnM6ICdodHRwOi8vd3d3Lm9wZW5naXMubmV0L3NsZCcsXG4gICd4bWxuczpvZ2MnOiAnaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2MnLFxuICAneG1sbnM6eGxpbmsnOiAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsXG4gICd4bWxuczp4c2knOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1bGVJdGVtIHtcbiAgTmFtZT86IHN0cmluZ1xuICBUaXRsZT86IHN0cmluZ1xuICBGaWx0ZXI/OiBGaWx0ZXJcbiAgTWluU2NhbGVEZW5vbWluYXRvcj86IGFueVxuICBNYXhTY2FsZURlbm9taW5hdG9yPzogYW55XG4gIFBvaW50U3ltYm9saXplcj86IFBvaW50U3ltYm9saXplclxuICBMaW5lU3ltYm9saXplcj86IExpbmVTeW1ib2xpemVyXG4gIFBvbHlnb25TeW1ib2xpemVyPzogUG9seWdvblN5bWJvbGl6ZXJcbiAgVGV4dFN5bWJvbGl6ZXI/OiBUZXh0U3ltYm9saXplclxuICBSYXN0ZXJTeW1ib2xpemVyPzogUmFzdGVyU3ltYm9saXplclxufVxuXG5leHBvcnQgdHlwZSBSYW5nZUNvbG9yUmVmcyA9IFJhbmdlQ29sb3JSZWZbXVxuZXhwb3J0IHR5cGUgUmFuZ2VTaXplUmVmcyA9IFJhbmdlU2l6ZVJlZltdXG5leHBvcnQgdHlwZSBQcm9wQ29sb3JSZWZzID0gUHJvcENvbG9yUmVmW11cbmV4cG9ydCB0eXBlIFByb3BTaXplUmVmcyA9IFByb3BTaXplUmVmW11cblxuZXhwb3J0IGludGVyZmFjZSBSYW5nZUNvbG9yUmVmIHtcbiAgcmFuZ2U6IFtudW1iZXIsIG51bWJlcl1cbiAgY29sb3I6IHN0cmluZ1xufVxuZXhwb3J0IGludGVyZmFjZSBSYW5nZVNpemVSZWYge1xuICByYW5nZTogW251bWJlciwgbnVtYmVyXVxuICBzaXplOiBudW1iZXJcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcENvbG9yUmVmIHtcbiAgcHJvcDogc3RyaW5nXG4gIGNvbG9yOiBzdHJpbmdcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcFNpemVSZWYge1xuICBwcm9wOiBzdHJpbmdcbiAgc2l6ZTogbnVtYmVyXG59XG5cbmV4cG9ydCB0eXBlIExpbmVTeW1ib2xpemVyID0gTGluZVN5bWJvbGl6ZXJJdGVtW11cblxuZXhwb3J0IGludGVyZmFjZSBMaW5lU3ltYm9saXplckl0ZW0ge1xuICBHZW9tZXRyeT86IEdlb21ldHJ5XG4gIFN0cm9rZTogU3Ryb2tlXG4gIFBlcnBlbmRpY3VsYXJPZmZzZXQ/OiBQZXJwZW5kaWN1bGFyT2Zmc2V0XG59XG5cbmludGVyZmFjZSBHZW9tZXRyeSB7XG4gIEZ1bmN0aW9uOiBGdW5jdGlvbnNcbn1cblxuaW50ZXJmYWNlIFBlcnBlbmRpY3VsYXJPZmZzZXQge31cblxuZXhwb3J0IHR5cGUgVGV4dFN5bWJvbGl6ZXIgPSBUZXh0U3ltYm9saXplckl0ZW1bXVxuXG5pbnRlcmZhY2UgVGV4dFN5bWJvbGl6ZXJJdGVtIHtcbiAgR2VvbWV0cnk/OiBHZW9tZXRyeVxuICBMYWJlbD86IExhYmVsXG4gIEZvbnQ/OiBGb250XG4gIExhYmVsUGxhY2VtZW50PzogTGFiZWxQbGFjZW1lbnRcbiAgSGFsbz86IEhhbG9cbiAgRmlsbD86IEZpbGxcbiAgR3JhcGhpYz86IEdyYXBoaWNcbiAgUHJpb3JpdHk/OiBQcmlvcml0eVxuICBWZW5kb3JPcHRpb24/OiBWZW5kb3JPcHRpb25cbn1cblxuaW50ZXJmYWNlIFByaW9yaXR5IHt9XG5cbnR5cGUgVmVuZG9yT3B0aW9uID0gVmVuZG9yT3B0aW9uSXRlbVtdXG5cbmludGVyZmFjZSBWZW5kb3JPcHRpb25JdGVtIHt9XG5cbmludGVyZmFjZSBIYWxvIHtcbiAgUmFkaXVzPzogbnVtYmVyXG4gIEZpbGw/OiBGaWxsXG59XG5cbmludGVyZmFjZSBGb250IHtcbiAgQ3NzUGFyYW1ldGVyOiBBcnJheTx7XG4gICAgX2F0dHJpYnV0ZXM6IHtcbiAgICAgIG5hbWU6ICdmb250LWZhbWlseScgfCAnZm9udC1zaXplJyB8ICdmb250LXN0eWxlJyB8ICdmb250LXdlaWdodCdcbiAgICB9XG4gICAgX3RleHQ6IGFueVxuICB9PlxufVxuXG5leHBvcnQgdHlwZSBSYXN0ZXJTeW1ib2xpemVyID0gUmFzdGVyU3ltYm9saXplckl0ZW1cblxuZXhwb3J0IGludGVyZmFjZSBSYXN0ZXJTeW1ib2xpemVySXRlbSB7XG4gIENvbG9yTWFwOiBDb2xvck1hcFxuICBPcGFjaXR5PzogbnVtYmVyXG4gIENvbnRyYXN0RW5oYW5jZW1lbnQ/OiBDb250cmFzdEVuaGFuY2VtZW50XG59XG5cbmludGVyZmFjZSBDb250cmFzdEVuaGFuY2VtZW50IHtcbiAgTm9ybWFsaXplPzogYW55XG4gIEdhbW1hVmFsdWU/OiBUZXh0XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sb3JNYXAge1xuICBDb2xvck1hcEVudHJ5OiBDb2xvck1hcEVudHJ5XG59XG5cbmV4cG9ydCB0eXBlIENvbG9yTWFwRW50cnkgPSBDb2xvck1hcEVudHJ5SXRlbVtdXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sb3JNYXBFbnRyeUl0ZW0ge1xuICBfYXR0cmlidXRlczoge1xuICAgIGNvbG9yOiBzdHJpbmdcbiAgICBxdWFudGl0eTogbnVtYmVyXG4gICAgb3BhY2l0eT86IG51bWJlclxuICB9XG59XG5cbmV4cG9ydCB0eXBlIFJ1bGUgPSBSdWxlSXRlbVtdXG5cbmludGVyZmFjZSBTdHlsZWRMYXllckRlc2NyaXB0b3Ige1xuICBfYXR0cmlidXRlczoge1xuICAgIHZlcnNpb246IHN0cmluZ1xuICAgICd4c2k6c2NoZW1hTG9jYXRpb24nOiBzdHJpbmdcbiAgICB4bWxuczogc3RyaW5nXG4gICAgJ3htbG5zOm9nYyc6IHN0cmluZ1xuICAgICd4bWxuczp4bGluayc6IHN0cmluZ1xuICAgICd4bWxuczp4c2knOiBzdHJpbmdcbiAgfVxuICBOYW1lZExheWVyPzogTmFtZWRMYXllclxuICBVc2VyTGF5ZXI/OiBVc2VyTGF5ZXJcbn1cblxuaW50ZXJmYWNlIE5hbWVkTGF5ZXIge1xuICBOYW1lOiBUZXh0XG4gIERlc2NyaXB0aW9uPzogVGV4dFxuICBVc2VyU3R5bGU/OiBVc2VyU3R5bGVcbiAgTmFtZWRTdHlsZT86IGFueVxufVxuXG50eXBlIFVzZXJMYXllciA9IFVzZXJMYXllckl0ZW1bXVxuXG5pbnRlcmZhY2UgVXNlckxheWVySXRlbSB7XG4gIE5hbWU6IFRleHRcbiAgRGVzY3JpcHRpb24/OiBUZXh0XG4gIElubGluZUZlYXR1cmU/OiBJbmxpbmVGZWF0dXJlXG59XG5cbmludGVyZmFjZSBJbmxpbmVGZWF0dXJlIHt9XG5cbmludGVyZmFjZSBUZXh0IHtcbiAgX3RleHQ6IGFueVxufVxuXG5leHBvcnQgdHlwZSBVc2VyU3R5bGUgPSBVc2VyU3R5bGVJdGVtW11cblxuZXhwb3J0IGludGVyZmFjZSBVc2VyU3R5bGVJdGVtIHtcbiAgTmFtZT86IFRleHRcbiAgVGl0bGU/OiBUZXh0XG4gIEFic3RyYWN0PzogVGV4dFxuICBJc0RlZmF1bHQ/OiAxIHwgMFxuICBGZWF0dXJlVHlwZVN0eWxlOiBGZWF0dXJlVHlwZVN0eWxlXG59XG5cbnR5cGUgRmVhdHVyZVR5cGVTdHlsZSA9IEZlYXR1cmVUeXBlU3R5bGVJdGVtW11cblxuZXhwb3J0IGludGVyZmFjZSBGZWF0dXJlVHlwZVN0eWxlSXRlbSB7XG4gIFRyYW5zZm9ybWF0aW9uPzogVHJhbnNmb3JtYXRpb25cbiAgTmFtZT86IFRleHRcbiAgVGl0bGU/OiBUZXh0XG4gIEFic3RyYWN0PzogVGV4dFxuICBGZWF0dXJlVHlwZU5hbWU/OiBUZXh0XG4gIFJ1bGU/OiBSdWxlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNmb3JtYXRpb24ge1xuICBGdW5jdGlvbjogRnVuY3Rpb25zXG59XG5cbmV4cG9ydCB0eXBlIEZ1bmN0aW9ucyA9IEZ1bmN0aW9uSXRlbVtdXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uSXRlbSB7XG4gIF9hdHRyaWJ1dGVzPzoge1xuICAgIG5hbWU6ICd2ZWM6SGVhdG1hcCcgfCAncGFyYW1ldGVyJyB8ICdlbnYnIHwgJ2NlbnRyb2lkJyB8ICdsYWJlbFBvaW50J1xuICB9XG4gIFByb3BlcnR5TmFtZT86IFRleHRcbiAgRnVuY3Rpb24/OiBGdW5jdGlvbnNcbiAgTGl0ZXJhbD86IFRleHQgfCBUZXh0W11cbn1cblxuZXhwb3J0IHR5cGUgRmlsdGVyID0gRmlsdGVySXRlbVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbHRlckl0ZW0ge1xuICBBbmQ/OiBGaWx0ZXJJdGVtIHwgRmlsdGVySXRlbVtdXG4gIE9yPzogRmlsdGVyXG4gIE5vdD86IEZpbHRlclxuICBQcm9wZXJ0eUlzTGlrZT86IEZpbHRlclByb3BlcnR5XG4gIFByb3BlcnR5SXNMZXNzVGhhbj86IEZpbHRlclByb3BlcnR5XG4gIFByb3BlcnR5SXNFcXVhbFRvPzogRmlsdGVyUHJvcGVydHlcbiAgUHJvcGVydHlJc05vdEVxdWFsVG8/OiBGaWx0ZXJQcm9wZXJ0eVxuICBQcm9wZXJ0eUlzR3JlYXRlclRoYW4/OiBGaWx0ZXJQcm9wZXJ0eVxuICBQcm9wZXJ0eUlzTGVzc1RoYW5PckVxdWFsVG8/OiBGaWx0ZXJQcm9wZXJ0eVxuICBQcm9wZXJ0eUlzR3JlYXRlclRoYW5PckVxdWFsVG8/OiBGaWx0ZXJQcm9wZXJ0eVxufVxuXG50eXBlIEZpbHRlclByb3BlcnR5ID0gRmlsdGVyUHJvcGVydHlJdGVtIHwgRmlsdGVyUHJvcGVydHlJdGVtW11cblxuaW50ZXJmYWNlIEZpbHRlclByb3BlcnR5SXRlbSB7XG4gIEZ1bmN0aW9uPzoge1xuICAgIF9hdHRyaWJ1dGVzOiB7XG4gICAgICBuYW1lOiBzdHJpbmdcbiAgICB9XG4gICAgUHJvcGVydHlOYW1lOiBUZXh0XG4gIH1cbiAgUHJvcGVydHlOYW1lPzogVGV4dFxuICBMaXRlcmFsPzogVGV4dFxufVxuXG5leHBvcnQgdHlwZSBQb2x5Z29uU3ltYm9saXplciA9IFBvbHlnb25TeW1ib2xpemVySXRlbVtdXG5leHBvcnQgaW50ZXJmYWNlIFBvbHlnb25TeW1ib2xpemVySXRlbSB7XG4gIEdlb21ldHJ5PzogR2VvbWV0cnlcbiAgRmlsbD86IEZpbGxcbiAgU3Ryb2tlPzogU3Ryb2tlXG59XG5cbmV4cG9ydCB0eXBlIFBvaW50U3ltYm9saXplciA9IFBvaW50U3ltYm9saXplckl0ZW1bXVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50U3ltYm9saXplckl0ZW0ge1xuICBHZW9tZXRyeT86IEdlb21ldHJ5XG4gIEdyYXBoaWM6IEdyYXBoaWNcbn1cblxuaW50ZXJmYWNlIExhYmVsIHtcbiAgUHJvcGVydHlOYW1lOiBUZXh0XG59XG5cbmludGVyZmFjZSBMYWJlbFBsYWNlbWVudCB7XG4gIFBvaW50UGxhY2VtZW50PzogUG9pbnRQbGFjZW1lbnRcbiAgTGluZVBsYWNlbWVudD86IExpbmVQbGFjZW1lbnRcbn1cblxuaW50ZXJmYWNlIExpbmVQbGFjZW1lbnQge1xuICBQZXJwZW5kaWN1bGFyT2Zmc2V0OiBQZXJwZW5kaWN1bGFyT2Zmc2V0XG59XG5cbmludGVyZmFjZSBQb2ludFBsYWNlbWVudCB7XG4gIEFuY2hvclBvaW50PzogQW5jaG9yUG9pbnRcbiAgRGlzcGxhY2VtZW50PzogRGlzcGxhY2VtZW50XG4gIFJvdGF0aW9uPzogUm90YXRpb25cbn1cblxuaW50ZXJmYWNlIEFuY2hvclBvaW50IHtcbiAgQW5jaG9yUG9pbnRYPzogVGV4dFxuICBBbmNob3JQb2ludFk/OiBUZXh0XG59XG5cbmludGVyZmFjZSBEaXNwbGFjZW1lbnQge1xuICBEaXNwbGFjZW1lbnRYPzogVGV4dFxuICBEaXNwbGFjZW1lbnRZPzogVGV4dFxufVxuXG5pbnRlcmZhY2UgR3JhcGhpYyB7XG4gIEV4dGVybmFsR3JhcGhpYz86IEV4dGVybmFsR3JhcGhpY1xuICBNYXJrPzogTWFya1xuICBPcGFjaXR5PzogbnVtYmVyXG4gIFNpemU/OiBTaXplXG4gIFJvdGF0aW9uPzogUm90YXRpb25cbn1cblxuaW50ZXJmYWNlIEV4dGVybmFsR3JhcGhpYyB7XG4gIE9ubGluZVJlc291cmNlOiBPbmxpbmVSZXNvdXJjZVxuICBGb3JtYXQ6IEZvcm1hdFxufVxuXG5pbnRlcmZhY2UgT25saW5lUmVzb3VyY2Uge1xuICBfYXR0cmlidXRlczoge1xuICAgICd4bGluazp0eXBlJz86ICdzaW1wbGUnXG4gICAgJ3hsaW5rOmhyZWYnPzogc3RyaW5nXG4gIH1cbn1cblxuaW50ZXJmYWNlIEZvcm1hdCB7XG4gIF90ZXh0OiAnaW1hZ2UvcG5nJyB8ICdpbWFnZS9qcGVnJyB8ICdpbWFnZS9naWYnIHwgJ2ltYWdlL3N2Zydcbn1cblxuaW50ZXJmYWNlIE1hcmsge1xuICBXZWxsS25vd25OYW1lOiBXZWxsS25vd25OYW1lXG4gIEZpbGw/OiBGaWxsXG4gIFN0cm9rZT86IFN0cm9rZVxufVxuXG5pbnRlcmZhY2UgV2VsbEtub3duTmFtZSB7XG4gIF90ZXh0OiBXZWxsS25vd25OYW1lSXRlbVxufVxuXG5leHBvcnQgdHlwZSBXZWxsS25vd25OYW1lSXRlbSA9XG4gIHwgJ3NxdWFyZSdcbiAgfCAndHJpYW5nbGUnXG4gIHwgJ2NpcmNsZSdcbiAgfCAnc3RhcidcbiAgfCAnY3Jvc3MnXG4gIHwgJ3gnXG5cbmludGVyZmFjZSBGaWxsIHtcbiAgR3JhcGhpY0ZpbGw/OiBHcmFwaGljRmlsbFxuICBDc3NQYXJhbWV0ZXI/OiBDc3NQYXJhbWV0ZXJcbn1cblxuZXhwb3J0IHR5cGUgQ3NzUGFyYW1ldGVyID0gQ3NzUGFyYW1ldGVySXRlbVtdXG5leHBvcnQgdHlwZSBDc3NQYXJhbWV0ZXJJdGVtTmFtZSA9XG4gIHwgJ3N0cm9rZSdcbiAgfCAnc3Ryb2tlLXdpZHRoJ1xuICB8ICdzdHJva2Utb3BhY2l0eSdcbiAgfCAnc3Ryb2tlLWxpbmVqb2luJ1xuICB8ICdzdHJva2UtbGluZWNhcCdcbiAgfCAnc3Ryb2tlLWRhc2hhcnJheSdcbiAgfCAnc3Ryb2tlLWRhc2hvZmZzZXQnXG4gIHwgJ2ZpbGwnXG4gIHwgJ2ZpbGwtb3BhY2l0eSdcbiAgfCAnZm9udC1mYW1pbHknXG4gIHwgJ2ZvbnQtc3R5bGUnXG4gIHwgJ2ZvbnQtc2l6ZSdcbiAgfCAnZm9udC13ZWlnaHQnXG5leHBvcnQgaW50ZXJmYWNlIENzc1BhcmFtZXRlckl0ZW0ge1xuICBfYXR0cmlidXRlczoge1xuICAgIG5hbWU6IENzc1BhcmFtZXRlckl0ZW1OYW1lXG4gIH1cbiAgX3RleHQ6IGFueVxufVxuXG5pbnRlcmZhY2UgU3Ryb2tlIHtcbiAgR3JhcGhpY0ZpbGw/OiBHcmFwaGljRmlsbFxuICBHcmFwaGljU3Ryb2tlPzogR3JhcGhpY1N0cm9rZVxuICBDc3NQYXJhbWV0ZXI/OiBDc3NQYXJhbWV0ZXJcbn1cblxuaW50ZXJmYWNlIEdyYXBoaWNGaWxsIHt9XG5cbmludGVyZmFjZSBHcmFwaGljU3Ryb2tlIHt9XG5cbmludGVyZmFjZSBTaXplIHtcbiAgX3RleHQ6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgUm90YXRpb24ge1xuICBfdGV4dDogbnVtYmVyXG59XG4iLCJpbXBvcnQgKiBhcyBjb252ZXJ0IGZyb20gJ3htbC1qcydcbmltcG9ydCB7XG4gIFN0eWxlc0NvbmZpZyxcbiAgSVN0eWxlcyxcbiAgU3R5bGVzLFxuICBSdWxlLFxuICBVc2VyU3R5bGUsXG4gIENzc1BhcmFtZXRlcixcbiAgQ3NzUGFyYW1ldGVySXRlbSxcbiAgQ3NzUGFyYW1ldGVySXRlbU5hbWUsXG4gIFhNTEJhc2VEZWNsYXJhdGlvbixcbiAgU3R5bGVkTGF5ZXJEZXNjcmlwdG9yQmFzZUF0dHJpYnV0ZXMsXG4gIFJhbmdlQ29sb3JSZWYsXG4gIFJhbmdlQ29sb3JSZWZzLFxuICBSYW5nZVNpemVSZWZzLFxuICBSYW5nZVNpemVSZWYsXG4gIFByb3BDb2xvclJlZnMsXG4gIFByb3BDb2xvclJlZixcbiAgUHJvcFNpemVSZWZzLFxuICBQcm9wU2l6ZVJlZixcbiAgRmlsdGVyLFxuICBUcmFuc2Zvcm1hdGlvbixcbiAgRmVhdHVyZVR5cGVTdHlsZUl0ZW0sXG59IGZyb20gJy4vZGVmJ1xuaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICcuLi91dGlscydcblxuY29uc3QgT1RIRVJTX0RFRkFVTFRfUFJPUCA9ICdfX290aGVyc19fPT4nXG5jb25zdCBPVEhFUlNfREVGQVVMVF9DT0xPUiA9ICcjMzM4OGZmJ1xuY29uc3QgT1RIRVJTX0RFRkFVTFRfU0laRSA9IDEwXG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTTERTdHlsZXMgaW1wbGVtZW50cyBJU3R5bGVzIHtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGxheWVyTmFtZTogc3RyaW5nLCBwcm90ZWN0ZWQgc3R5bGVzQ2ZnOiBTdHlsZXNDb25maWcpIHt9XG4gIHB1YmxpYyB0b1hNTFN0cigpOiBzdHJpbmcge1xuICAgIHJldHVybiBjb252ZXJ0LmpzMnhtbCh0aGlzLmdldFNMRFN0eWxlcyh0aGlzLmxheWVyTmFtZSwgdGhpcy5zdHlsZXNDZmcpLCB7XG4gICAgICBjb21wYWN0OiB0cnVlLFxuICAgICAgc3BhY2VzOiAnXFx0JyxcbiAgICAgIGVsZW1lbnROYW1lRm46IChuYW1lKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBbXG4gICAgICAgICAgICAnRmlsdGVyJyxcbiAgICAgICAgICAgICdBbmQnLFxuICAgICAgICAgICAgJ09yJyxcbiAgICAgICAgICAgICdOb3QnLFxuICAgICAgICAgICAgJ1Byb3BlcnR5TmFtZScsXG4gICAgICAgICAgICAnTGl0ZXJhbCcsXG4gICAgICAgICAgICAnRnVuY3Rpb24nLFxuICAgICAgICAgICAgJ1Byb3BlcnR5SXNMaWtlJyxcbiAgICAgICAgICAgICdQcm9wZXJ0eUlzTGVzc1RoYW4nLFxuICAgICAgICAgICAgJ1Byb3BlcnR5SXNFcXVhbFRvJyxcbiAgICAgICAgICAgICdQcm9wZXJ0eUlzTm90RXF1YWxUbycsXG4gICAgICAgICAgICAnUHJvcGVydHlJc0dyZWF0ZXJUaGFuJyxcbiAgICAgICAgICAgICdQcm9wZXJ0eUlzTGVzc1RoYW5PckVxdWFsVG8nLFxuICAgICAgICAgICAgJ1Byb3BlcnR5SXNHcmVhdGVyVGhhbk9yRXF1YWxUbycsXG4gICAgICAgICAgXS5pbmNsdWRlcyhuYW1lKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gYG9nYzoke25hbWV9YFxuICAgICAgICB9IGVsc2UgaWYgKFsnSGVhdG1hcCddLmluY2x1ZGVzKG5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGB2ZWM6JHtuYW1lfWBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbmFtZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pXG4gIH1cbiAgcHVibGljIGdldFN0eWxlc0NvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZXNDZmdcbiAgfVxuICBwdWJsaWMgZ2V0TGF5ZXJzKCkge1xuICAgIHJldHVybiB0aGlzLmxheWVyTmFtZVxuICB9XG4gIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRSdWxlKHN0eWxlc0NmZzogU3R5bGVzQ29uZmlnKTogUnVsZVxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0VHJhbnNmb3JtYXRpb24oXG4gICAgc3R5bGVzQ2ZnOiBTdHlsZXNDb25maWdcbiAgKTogVHJhbnNmb3JtYXRpb24gfCBudWxsXG4gIHByb3RlY3RlZCBnZXRVc2VyU3R5bGVzKHN0eWxlc0NmZzogU3R5bGVzQ29uZmlnKTogVXNlclN0eWxlIHtcbiAgICBjb25zdCBmZWF0dXJlVHlwZVN0eWxlSXRlbTogRmVhdHVyZVR5cGVTdHlsZUl0ZW0gPSB7fVxuICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gdGhpcy5nZXRUcmFuc2Zvcm1hdGlvbihzdHlsZXNDZmcpXG4gICAgZmVhdHVyZVR5cGVTdHlsZUl0ZW0uUnVsZSA9IHRoaXMuZ2V0UnVsZShzdHlsZXNDZmcpXG4gICAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICBmZWF0dXJlVHlwZVN0eWxlSXRlbS5UcmFuc2Zvcm1hdGlvbiA9IHRyYW5zZm9ybWF0aW9uXG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIEZlYXR1cmVUeXBlU3R5bGU6IFtmZWF0dXJlVHlwZVN0eWxlSXRlbV0sXG4gICAgICB9LFxuICAgIF1cbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRTTERTdHlsZXMobGF5ZXJOYW1lOiBzdHJpbmcsIHN0eWxlc0NmZzogU3R5bGVzQ29uZmlnKTogU3R5bGVzIHtcbiAgICByZXR1cm4ge1xuICAgICAgX2RlY2xhcmF0aW9uOiBYTUxCYXNlRGVjbGFyYXRpb24sXG4gICAgICBTdHlsZWRMYXllckRlc2NyaXB0b3I6IHtcbiAgICAgICAgX2F0dHJpYnV0ZXM6IFN0eWxlZExheWVyRGVzY3JpcHRvckJhc2VBdHRyaWJ1dGVzLFxuICAgICAgICBOYW1lZExheWVyOiB7XG4gICAgICAgICAgTmFtZToge1xuICAgICAgICAgICAgX3RleHQ6IGxheWVyTmFtZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIFVzZXJTdHlsZTogdGhpcy5nZXRVc2VyU3R5bGVzKHN0eWxlc0NmZyksXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRGaWxsQ3NzUGFyYW1ldGVycyhwYXJhbXM6IG9iamVjdCk6IENzc1BhcmFtZXRlciB7XG4gICAgY29uc3Qgc2xhc2hLZXlzID0gWydmaWxsJywgJ2ZpbGwtb3BhY2l0eSddIGFzIENzc1BhcmFtZXRlckl0ZW1OYW1lW11cbiAgICByZXR1cm4gdGhpcy5nZXRDc3NQYXJhbWV0ZXJJdGVtcyhzbGFzaEtleXMsIHBhcmFtcylcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRGb250Q3NzUGFyYW1ldGVycyhzdHlsZXNDZmc6IFN0eWxlc0NvbmZpZyk6IENzc1BhcmFtZXRlciB7XG4gICAgY29uc3Qgc2xhc2hLZXlzID0gW1xuICAgICAgJ2ZvbnQtZmFtaWx5JyxcbiAgICAgICdmb250LXNpemUnLFxuICAgICAgJ2ZvbnQtc3R5bGUnLFxuICAgICAgJ2ZvbnQtd2VpZ2h0JyxcbiAgICBdIGFzIENzc1BhcmFtZXRlckl0ZW1OYW1lW11cbiAgICByZXR1cm4gdGhpcy5nZXRDc3NQYXJhbWV0ZXJJdGVtcyhzbGFzaEtleXMsIHN0eWxlc0NmZylcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRTdHJva2VDc3NQYXJhbWV0ZXJzKHN0eWxlc0NmZzogU3R5bGVzQ29uZmlnKTogQ3NzUGFyYW1ldGVyIHtcbiAgICBjb25zdCBzbGFzaEtleXMgPSBbXG4gICAgICAnc3Ryb2tlJyxcbiAgICAgICdzdHJva2Utb3BhY2l0eScsXG4gICAgICAnc3Ryb2tlLXdpZHRoJyxcbiAgICAgICdzdHJva2UtZGFzaGFycmF5JyxcbiAgICAgICdzdHJva2UtZGFzaG9mZnNldCcsXG4gICAgICAnc3Ryb2tlLWxpbmVjYXAnLFxuICAgICAgJ3N0cm9rZS1saW5lam9pbicsXG4gICAgXSBhcyBDc3NQYXJhbWV0ZXJJdGVtTmFtZVtdXG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3NzUGFyYW1ldGVySXRlbXMoc2xhc2hLZXlzLCBzdHlsZXNDZmcpXG4gIH1cblxuICBwcm90ZWN0ZWQgc2xkRXJyb3IobXNnOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IEVycm9yKGBbc2xkXSAke21zZ31gKVxuICB9XG5cbiAgcHJvdGVjdGVkIGdldFJhbmdlQ29sb3JSZWZzKFxuICAgIHJhbmdlOiBbbnVtYmVyLCBudW1iZXJdLFxuICAgIGNvbG9yczogc3RyaW5nW11cbiAgKTogUmFuZ2VDb2xvclJlZnMge1xuICAgIGNvbnN0IG1pblZhbCA9IHJhbmdlWzBdXG4gICAgY29uc3QgbWF4VmFsID0gcmFuZ2VbMV1cbiAgICBjb25zdCBzdGVwcyA9IGNvbG9ycy5sZW5ndGhcbiAgICBjb25zdCBzdGVwID0gKG1heFZhbCAtIG1pblZhbCkgLyBzdGVwc1xuICAgIHJldHVybiBjb2xvcnMubWFwKChjb2xvciwgaW5kZXgpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJhbmdlOiBbbWluVmFsICsgc3RlcCAqIGluZGV4LCBtaW5WYWwgKyBzdGVwICogKGluZGV4ICsgMSldLFxuICAgICAgICBjb2xvcixcbiAgICAgIH0gYXMgUmFuZ2VDb2xvclJlZlxuICAgIH0pXG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0UmFuZ2VTaXplUmVmcyhcbiAgICByYW5nZTogW251bWJlciwgbnVtYmVyXSxcbiAgICBzaXplczogbnVtYmVyW11cbiAgKTogUmFuZ2VTaXplUmVmcyB7XG4gICAgY29uc3QgbWluVmFsID0gcmFuZ2VbMF1cbiAgICBjb25zdCBtYXhWYWwgPSByYW5nZVsxXVxuICAgIGNvbnN0IHN0ZXBzID0gc2l6ZXMubGVuZ3RoXG4gICAgY29uc3Qgc3RlcCA9IChtYXhWYWwgLSBtaW5WYWwpIC8gc3RlcHNcbiAgICByZXR1cm4gc2l6ZXMubWFwKChzaXplLCBpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmFuZ2U6IFttaW5WYWwgKyBzdGVwICogaW5kZXgsIG1pblZhbCArIHN0ZXAgKiAoaW5kZXggKyAxKV0sXG4gICAgICAgIHNpemUsXG4gICAgICB9IGFzIFJhbmdlU2l6ZVJlZlxuICAgIH0pXG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0UHJvcENvbG9yUmVmcyhwcm9wczogc3RyaW5nW10sIGNvbG9yczogc3RyaW5nW10pOiBQcm9wQ29sb3JSZWZzIHtcbiAgICBjb25zdCByZWZzID0gcHJvcHNcbiAgICAgIC5zbGljZSgwLCBNYXRoLm1pbihwcm9wcy5sZW5ndGgsIGNvbG9ycy5sZW5ndGgpKVxuICAgICAgLm1hcCgocHJvcCwgaW5kZXgpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwcm9wLFxuICAgICAgICAgIGNvbG9yOiBjb2xvcnNbaW5kZXhdLFxuICAgICAgICB9IGFzIFByb3BDb2xvclJlZlxuICAgICAgfSlcbiAgICBpZiAocHJvcHMubGVuZ3RoID4gY29sb3JzLmxlbmd0aCkge1xuICAgICAgcmVmcy5wdXNoKHtcbiAgICAgICAgcHJvcDogdGhpcy5zdHJpbmdpZnlPdGhlclByb3BzKHByb3BzLnNsaWNlKDAsIGNvbG9ycy5sZW5ndGgpKSxcbiAgICAgICAgY29sb3I6IE9USEVSU19ERUZBVUxUX0NPTE9SLFxuICAgICAgfSBhcyBQcm9wQ29sb3JSZWYpXG4gICAgfVxuICAgIHJldHVybiByZWZzXG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0UHJvcFNpemVSZWZzKHByb3BzOiBzdHJpbmdbXSwgc2l6ZXM6IG51bWJlcltdKTogUHJvcFNpemVSZWZzIHtcbiAgICBjb25zdCByZWZzID0gcHJvcHNcbiAgICAgIC5zbGljZSgwLCBNYXRoLm1pbihwcm9wcy5sZW5ndGgsIHNpemVzLmxlbmd0aCkpXG4gICAgICAubWFwKChwcm9wLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHByb3AsXG4gICAgICAgICAgc2l6ZTogc2l6ZXNbaW5kZXhdLFxuICAgICAgICB9IGFzIFByb3BTaXplUmVmXG4gICAgICB9KVxuICAgIGlmIChwcm9wcy5sZW5ndGggPiBzaXplcy5sZW5ndGgpIHtcbiAgICAgIHJlZnMucHVzaCh7XG4gICAgICAgIHByb3A6IHRoaXMuc3RyaW5naWZ5T3RoZXJQcm9wcyhwcm9wcy5zbGljZSgwLCBzaXplcy5sZW5ndGgpKSxcbiAgICAgICAgc2l6ZTogT1RIRVJTX0RFRkFVTFRfU0laRSxcbiAgICAgIH0gYXMgUHJvcFNpemVSZWYpXG4gICAgfVxuICAgIHJldHVybiByZWZzXG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0UmFuZ2VGaWx0ZXIocHJvcDogc3RyaW5nLCByYW5nZTogW251bWJlciwgbnVtYmVyXSk6IEZpbHRlciB7XG4gICAgcmV0dXJuIHtcbiAgICAgIEFuZDoge1xuICAgICAgICBQcm9wZXJ0eUlzR3JlYXRlclRoYW5PckVxdWFsVG86IHtcbiAgICAgICAgICBQcm9wZXJ0eU5hbWU6IHtcbiAgICAgICAgICAgIF90ZXh0OiBwcm9wLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgTGl0ZXJhbDoge1xuICAgICAgICAgICAgX3RleHQ6IHJhbmdlWzBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFByb3BlcnR5SXNMZXNzVGhhbjoge1xuICAgICAgICAgIFByb3BlcnR5TmFtZToge1xuICAgICAgICAgICAgX3RleHQ6IHByb3AsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBMaXRlcmFsOiB7XG4gICAgICAgICAgICBfdGV4dDogcmFuZ2VbMV0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGdldFR5cGVGaWx0ZXIocHJvcDogc3RyaW5nLCB2YWx1ZTogYW55KTogRmlsdGVyIHtcbiAgICBpZiAodGhpcy5pc090aGVyUHJvcFJlZih2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5wYXJzZU90aGVyUHJvcHModmFsdWUpXG4gICAgICByZXR1cm4gdGhpcy5nZXRUeXBlTm90SW5GaWx0ZXIocHJvcCwgcHJvcHMpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFByb3BlcnR5SXNFcXVhbFRvOiB7XG4gICAgICAgICAgUHJvcGVydHlOYW1lOiB7XG4gICAgICAgICAgICBfdGV4dDogcHJvcCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIExpdGVyYWw6IHtcbiAgICAgICAgICAgIF90ZXh0OiB2YWx1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0VHlwZU5vdEluRmlsdGVyKHByb3A6IHN0cmluZywgdmFsdWVzOiBhbnlbXSk6IEZpbHRlciB7XG4gICAgcmV0dXJuIHtcbiAgICAgIEFuZDoge1xuICAgICAgICBQcm9wZXJ0eUlzTm90RXF1YWxUbzogdmFsdWVzLm1hcCgodmFsdWUpID0+ICh7XG4gICAgICAgICAgUHJvcGVydHlOYW1lOiB7XG4gICAgICAgICAgICBfdGV4dDogcHJvcCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIExpdGVyYWw6IHtcbiAgICAgICAgICAgIF90ZXh0OiB2YWx1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSksXG4gICAgICB9LFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaXNPdGhlclByb3BSZWYocHJvcDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHByb3Auc3RhcnRzV2l0aChPVEhFUlNfREVGQVVMVF9QUk9QKVxuICB9XG5cbiAgcHJpdmF0ZSBzdHJpbmdpZnlPdGhlclByb3BzKHByb3BzOiBzdHJpbmdbXSkge1xuICAgIHJldHVybiBgJHtPVEhFUlNfREVGQVVMVF9QUk9QfSR7SlNPTi5zdHJpbmdpZnkocHJvcHMpfWBcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VPdGhlclByb3BzKHByb3A6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBpZiAodGhpcy5pc090aGVyUHJvcFJlZihwcm9wKSkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UocHJvcC5zbGljZShPVEhFUlNfREVGQVVMVF9QUk9QLmxlbmd0aCkpIGFzIHN0cmluZ1tdXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgfVxuXG4gIC8qKiBnZXQgdmFsdWFibGUgY29uZmlnICovXG4gIHByaXZhdGUgZ2V0Q3NzUGFyYW1ldGVySXRlbXMoXG4gICAga2V5czogQ3NzUGFyYW1ldGVySXRlbU5hbWVbXSxcbiAgICBwYXJhbXM6IGFueVxuICApOiBDc3NQYXJhbWV0ZXIge1xuICAgIHJldHVybiBrZXlzXG4gICAgICAubWFwKHRoaXMuc2xhc2gyQ2FtZWwpIC8vIHRyYW5zZm9ybSB0byBjYW1lbCBzdHlsZSBrZXlcbiAgICAgIC5tYXAoKGtleSwgaW5kZXgpID0+IFtrZXlzW2luZGV4XSwgcGFyYW1zW2tleV1dKSAvLyB0cmFuc2Zvcm0gdG8gW3NsYXNoIHN0eWxlIGtleSwgdmFsdWVdXG4gICAgICAuZmlsdGVyKChbXywgdmFsXSkgPT4gIWlzVW5kZWZpbmVkKHZhbCkpIC8vIHJlbW92ZSB1bmRlZmluZWQgdmFsdWUgcGFpclxuICAgICAgLm1hcCgoW2tleSwgdmFsXSkgPT4gdGhpcy5nZXRDc3NQYXJhbWV0ZXJJdGVtKGtleSwgdmFsKSlcbiAgfVxuXG4gIC8qKiBnZXQgc3BlY2lmaWVkIGtleS92YWx1ZSBDc3NQYXJhbWV0ZXJJdGVtICovXG4gIHByaXZhdGUgZ2V0Q3NzUGFyYW1ldGVySXRlbShcbiAgICBrZXk6IENzc1BhcmFtZXRlckl0ZW1OYW1lLFxuICAgIHZhbHVlOiBhbnlcbiAgKTogQ3NzUGFyYW1ldGVySXRlbSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9hdHRyaWJ1dGVzOiB7XG4gICAgICAgIG5hbWU6IGtleSxcbiAgICAgIH0sXG4gICAgICBfdGV4dDogdmFsdWUsXG4gICAgfVxuICB9XG5cbiAgLyoqIHRyYW5zZm9ybSBzbGFzaCB2YXIgdG8gY2FtZWwgc3R5bGUgKi9cbiAgcHJpdmF0ZSBzbGFzaDJDYW1lbCh2OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHZJdGVtczogc3RyaW5nW10gPSBbXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHZbaV0gPT09ICctJykge1xuICAgICAgICBpICs9IDFcbiAgICAgICAgaWYgKGkgPCB2Lmxlbmd0aCkge1xuICAgICAgICAgIHZJdGVtcy5wdXNoKHZbaV0udG9VcHBlckNhc2UoKSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdkl0ZW1zLnB1c2godltpXSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZJdGVtcy5qb2luKCcnKVxuICB9XG59XG4iLCJpbXBvcnQge1xuICBTdHlsZXNDb25maWcsXG4gIFJ1bGUsXG4gIFJhc3RlclN5bWJvbGl6ZXJJdGVtLFxuICBDb2xvck1hcEVudHJ5SXRlbSxcbiAgVHJhbnNmb3JtYXRpb24sXG4gIEZ1bmN0aW9ucyxcbiAgRnVuY3Rpb25JdGVtLFxufSBmcm9tICcuL2RlZidcbmltcG9ydCB7IFNMRFN0eWxlcyB9IGZyb20gJy4vU0xEU3R5bGVzJ1xuaW1wb3J0IHsgaXNOb3RoaW5nIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmFzdGVyU3R5bGVzQ29uZmlnIGV4dGVuZHMgU3R5bGVzQ29uZmlnIHtcbiAgZ3JhZGllbnQ6IENvbG9yTWFwW11cbiAgd2VpZ2h0QXR0cjogc3RyaW5nXG4gIHJhZGl1czogbnVtYmVyXG4gIHBpeGVsc1BlckNlbGw6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgQ29sb3JNYXAge1xuICBjb2xvcjogc3RyaW5nXG4gIHF1YW50aXR5OiBudW1iZXJcbiAgb3BhY2l0eT86IG51bWJlclxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYXN0ZXJTdHlsZXMgZXh0ZW5kcyBTTERTdHlsZXMge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgbGF5ZXJOYW1lOiBzdHJpbmcsXG4gICAgcHJvdGVjdGVkIHN0eWxlc0NmZzogUmFzdGVyU3R5bGVzQ29uZmlnXG4gICkge1xuICAgIHN1cGVyKGxheWVyTmFtZSwgc3R5bGVzQ2ZnKVxuICB9XG4gIHByb3RlY3RlZCBnZXRSdWxlKHN0eWxlc0NmZzogUmFzdGVyU3R5bGVzQ29uZmlnKTogUnVsZSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVuZGVyUnVsZShzdHlsZXNDZmcpXG4gIH1cbiAgcHJvdGVjdGVkIGdldFRyYW5zZm9ybWF0aW9uKFxuICAgIHN0eWxlc0NmZzogUmFzdGVyU3R5bGVzQ29uZmlnXG4gICk6IFRyYW5zZm9ybWF0aW9uIHwgbnVsbCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIEZ1bmN0aW9uOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBfYXR0cmlidXRlczoge1xuICAgICAgICAgICAgbmFtZTogJ3ZlYzpIZWF0bWFwJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIEZ1bmN0aW9uOiBbXG4gICAgICAgICAgICB0aGlzLmdldFBhcmFtZXRlckZ1bmN0aW9uKCdkYXRhJyksXG4gICAgICAgICAgICB0aGlzLmdldFBhcmFtZXRlckZ1bmN0aW9uKCd3ZWlnaHRBdHRyJywgc3R5bGVzQ2ZnLndlaWdodEF0dHIpLFxuICAgICAgICAgICAgdGhpcy5nZXRQYXJhbWV0ZXJGdW5jdGlvbigncmFkaXVzUGl4ZWxzJywgbnVsbCwgW1xuICAgICAgICAgICAgICB0aGlzLmdldEVudkZ1bmN0aW9uKCdyYWRpdXMnLCBzdHlsZXNDZmcucmFkaXVzKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgdGhpcy5nZXRQYXJhbWV0ZXJGdW5jdGlvbigncGl4ZWxzUGVyQ2VsbCcsIHN0eWxlc0NmZy5waXhlbHNQZXJDZWxsKSxcbiAgICAgICAgICAgIHRoaXMuZ2V0UGFyYW1ldGVyRnVuY3Rpb24oJ291dHB1dEJCT1gnLCBudWxsLCBbXG4gICAgICAgICAgICAgIHRoaXMuZ2V0RW52RnVuY3Rpb24oJ3dtc19iYm94JyksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIHRoaXMuZ2V0UGFyYW1ldGVyRnVuY3Rpb24oJ291dHB1dFdpZHRoJywgbnVsbCwgW1xuICAgICAgICAgICAgICB0aGlzLmdldEVudkZ1bmN0aW9uKCd3bXNfd2lkdGgnKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgdGhpcy5nZXRQYXJhbWV0ZXJGdW5jdGlvbignb3V0cHV0SGVpZ2h0JywgbnVsbCwgW1xuICAgICAgICAgICAgICB0aGlzLmdldEVudkZ1bmN0aW9uKCd3bXNfaGVpZ2h0JyksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBnZXRQYXJhbWV0ZXJGdW5jdGlvbihcbiAgICBrZXk6IHN0cmluZyxcbiAgICB2YWx1ZT86IGFueSxcbiAgICBmdW5jdGlvbnM/OiBGdW5jdGlvbnNcbiAgKTogRnVuY3Rpb25JdGVtIHtcbiAgICBjb25zdCBmdW5jdGlvbkl0ZW06IEZ1bmN0aW9uSXRlbSA9IHsgX2F0dHJpYnV0ZXM6IHsgbmFtZTogJ3BhcmFtZXRlcicgfSB9XG4gICAgZnVuY3Rpb25JdGVtLkxpdGVyYWwgPSBbXG4gICAgICB7XG4gICAgICAgIF90ZXh0OiBrZXksXG4gICAgICB9LFxuICAgIF1cblxuICAgIGlmICghaXNOb3RoaW5nKHZhbHVlKSkge1xuICAgICAgZnVuY3Rpb25JdGVtLkxpdGVyYWwucHVzaCh7XG4gICAgICAgIF90ZXh0OiB2YWx1ZSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKCFpc05vdGhpbmcoZnVuY3Rpb25zKSkge1xuICAgICAgZnVuY3Rpb25JdGVtLkZ1bmN0aW9uID0gZnVuY3Rpb25zXG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbkl0ZW1cbiAgfVxuICBwcml2YXRlIGdldEVudkZ1bmN0aW9uKGtleTogc3RyaW5nLCB2YWx1ZT86IGFueSk6IEZ1bmN0aW9uSXRlbSB7XG4gICAgaWYgKGlzTm90aGluZyh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIF9hdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgbmFtZTogJ2VudicsXG4gICAgICAgIH0sXG4gICAgICAgIExpdGVyYWw6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBfdGV4dDoga2V5LFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIF9hdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgbmFtZTogJ2VudicsXG4gICAgICAgIH0sXG4gICAgICAgIExpdGVyYWw6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBfdGV4dDoga2V5LFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgX3RleHQ6IHZhbHVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHByaXZhdGUgZ2V0UmVuZGVyUnVsZShzdHlsZXNDZmc6IFJhc3RlclN0eWxlc0NvbmZpZyk6IFJ1bGUge1xuICAgIGlmIChpc05vdGhpbmcoc3R5bGVzQ2ZnLmdyYWRpZW50KSkge1xuICAgICAgdGhyb3cgdGhpcy5zbGRFcnJvcihcbiAgICAgICAgYGludmFsaWQgUG9pbnRTdHlsZXNDb25maWcuZ3JhZGllbnQ6ICR7c3R5bGVzQ2ZnLmdyYWRpZW50fWBcbiAgICAgIClcbiAgICB9XG4gICAgY29uc3QgZ3JhZGllbnQgPSBzdHlsZXNDZmcuZ3JhZGllbnRcbiAgICBjb25zdCBjb2xvck1hcHMgPSBncmFkaWVudFxuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIFJhc3RlclN5bWJvbGl6ZXI6IHRoaXMuZ2V0UmFzdGVyU3ltYm9saXplckl0ZW0oY29sb3JNYXBzKSxcbiAgICAgIH0sXG4gICAgXVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRSYXN0ZXJTeW1ib2xpemVySXRlbShjb2xvck1hcHM6IENvbG9yTWFwW10pOiBSYXN0ZXJTeW1ib2xpemVySXRlbSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIENvbG9yTWFwOiB7XG4gICAgICAgIENvbG9yTWFwRW50cnk6IGNvbG9yTWFwcy5tYXAodGhpcy5nZXRDb2xvck1hcEVudHJ5SXRlbSksXG4gICAgICB9LFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q29sb3JNYXBFbnRyeUl0ZW0oY29sb3JNYXA6IENvbG9yTWFwKTogQ29sb3JNYXBFbnRyeUl0ZW0ge1xuICAgIHJldHVybiB7XG4gICAgICBfYXR0cmlidXRlczogY29sb3JNYXAsXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge1xuICBSdWxlLFxuICBSdWxlSXRlbSxcbiAgUG9pbnRTeW1ib2xpemVySXRlbSxcbiAgUHJvcENvbG9yUmVmcyxcbiAgUHJvcFNpemVSZWZzLFxuICBSYW5nZVNpemVSZWZzLFxuICBSYW5nZUNvbG9yUmVmcyxcbiAgV2VsbEtub3duTmFtZUl0ZW0sXG4gIFRyYW5zZm9ybWF0aW9uLFxufSBmcm9tICcuL2RlZidcbmltcG9ydCB7IGlzTm90aGluZyB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IFJhc3RlclN0eWxlcywgeyBSYXN0ZXJTdHlsZXNDb25maWcgfSBmcm9tICcuL1Jhc3RlclN0eWxlcydcblxuY29uc3QgREVGQVVMVF9CVUJCTEVfRklMTF9PUEFDSVRZID0gMC42XG5leHBvcnQgaW50ZXJmYWNlIFBvaW50U3R5bGVzQ29uZmlnIGV4dGVuZHMgUmFzdGVyU3R5bGVzQ29uZmlnIHtcbiAgcmVuZGVyVHlwZTpcbiAgICB8ICdzaW5nbGUnXG4gICAgfCAnc2VnbWVudGVkJ1xuICAgIHwgJ2NsYXNzaWZpZWQnXG4gICAgfCAnY2x1c3RlcidcbiAgICB8ICdoZWF0J1xuICAgIHwgJ2J1YmJsZSdcbiAgaWNvblVybDogc3RyaW5nXG4gIGljb25TaXplOiBudW1iZXJcbiAgYnViYmxlQ29sb3JQcm9wOiBzdHJpbmdcbiAgYnViYmxlQ29sb3JUeXBlOiAncHJvcCcgfCAncmFuZ2UnXG4gIGJ1YmJsZUNvbG9yczogc3RyaW5nW11cbiAgYnViYmxlU2l6ZVByb3A6IHN0cmluZ1xuICBidWJibGVTaXplVHlwZTogJ3Byb3AnIHwgJ3JhbmdlJ1xuICBidWJibGVTaXplczogbnVtYmVyW11cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9pbnRTdHlsZXMgZXh0ZW5kcyBSYXN0ZXJTdHlsZXMge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgbGF5ZXJOYW1lOiBzdHJpbmcsXG4gICAgcHJvdGVjdGVkIHN0eWxlc0NmZzogUG9pbnRTdHlsZXNDb25maWdcbiAgKSB7XG4gICAgc3VwZXIobGF5ZXJOYW1lLCBzdHlsZXNDZmcpXG4gIH1cbiAgcHJvdGVjdGVkIGdldFJ1bGUoc3R5bGVzQ2ZnOiBQb2ludFN0eWxlc0NvbmZpZyk6IFJ1bGUge1xuICAgIHN3aXRjaCAoc3R5bGVzQ2ZnLnJlbmRlclR5cGUpIHtcbiAgICAgIGNhc2UgJ3NpbmdsZSc6IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2luZ2xlUmVuZGVyUnVsZShzdHlsZXNDZmcpXG4gICAgICB9XG4gICAgICBjYXNlICdzZWdtZW50ZWQnOiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlZ21lbnRlZFJlbmRlclJ1bGUoc3R5bGVzQ2ZnKVxuICAgICAgfVxuICAgICAgY2FzZSAnY2xhc3NpZmllZCc6IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xhc3NpZmllZFJlbmRlclJ1bGUoc3R5bGVzQ2ZnKVxuICAgICAgfVxuICAgICAgY2FzZSAnaGVhdCc6IHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldFJ1bGUoc3R5bGVzQ2ZnKVxuICAgICAgfVxuICAgICAgY2FzZSAnYnViYmxlJzoge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCdWJibGVSZW5kZXJSdWxlKHN0eWxlc0NmZylcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NsdXN0ZXInOiB7XG4gICAgICAgIC8vIFRPRE9cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcHJvdGVjdGVkIGdldFRyYW5zZm9ybWF0aW9uKFxuICAgIHN0eWxlc0NmZzogUG9pbnRTdHlsZXNDb25maWdcbiAgKTogVHJhbnNmb3JtYXRpb24gfCBudWxsIHtcbiAgICBpZiAoc3R5bGVzQ2ZnLnJlbmRlclR5cGUgPT09ICdoZWF0Jykge1xuICAgICAgcmV0dXJuIHN1cGVyLmdldFRyYW5zZm9ybWF0aW9uKHN0eWxlc0NmZylcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBnZXRTaW5nbGVSZW5kZXJSdWxlKHN0eWxlc0NmZzogUG9pbnRTdHlsZXNDb25maWcpOiBSdWxlIHtcbiAgICBpZiAoaXNOb3RoaW5nKHN0eWxlc0NmZy5maWxsKSkge1xuICAgICAgdGhyb3cgdGhpcy5zbGRFcnJvcihgaW52YWxpZCBQb2ludFN0eWxlc0NvbmZpZy5maWxsOiAke3N0eWxlc0NmZy5maWxsfWApXG4gICAgfVxuICAgIGlmIChpc05vdGhpbmcoc3R5bGVzQ2ZnLmljb25TaXplKSkge1xuICAgICAgdGhyb3cgdGhpcy5zbGRFcnJvcihcbiAgICAgICAgYGludmFsaWQgUG9pbnRTdHlsZXNDb25maWcuaWNvblNpemU6ICR7c3R5bGVzQ2ZnLmljb25TaXplfWBcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgUG9pbnRTeW1ib2xpemVyOiBbXG4gICAgICAgICAgdGhpcy5nZXRQb2ludFN5bWJvbGl6ZXJJdGVtVXNpbmdPbmxpbmVSZXNvdXJjZShcbiAgICAgICAgICAgIHN0eWxlc0NmZy5pY29uVXJsLFxuICAgICAgICAgICAgc3R5bGVzQ2ZnLmZpbGwsXG4gICAgICAgICAgICBzdHlsZXNDZmcuaWNvblNpemVcbiAgICAgICAgICApLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdXG4gIH1cblxuICBwcml2YXRlIGdldFNlZ21lbnRlZFJlbmRlclJ1bGUoc3R5bGVzQ2ZnOiBQb2ludFN0eWxlc0NvbmZpZyk6IFJ1bGUge1xuICAgIGlmIChpc05vdGhpbmcoc3R5bGVzQ2ZnLnJhbmdlU2l6ZSkpIHtcbiAgICAgIHRocm93IHRoaXMuc2xkRXJyb3IoXG4gICAgICAgIGBpbnZhbGlkIFBvaW50U3R5bGVzQ29uZmlnLnJhbmdlU2l6ZTogJHtzdHlsZXNDZmcucmFuZ2VTaXplfWBcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKGlzTm90aGluZyhzdHlsZXNDZmcuc2VnbWVudGVkUHJvcCkpIHtcbiAgICAgIHRocm93IHRoaXMuc2xkRXJyb3IoXG4gICAgICAgIGBpbnZhbGlkIFBvaW50U3R5bGVzQ29uZmlnLnNlZ21lbnRlZFByb3A6ICR7c3R5bGVzQ2ZnLnNlZ21lbnRlZFByb3B9YFxuICAgICAgKVxuICAgIH1cbiAgICBjb25zdCBzaXplUmFuZ2UgPSBzdHlsZXNDZmcucmFuZ2VTaXplW3N0eWxlc0NmZy5zZWdtZW50ZWRQcm9wXVxuICAgIGlmIChpc05vdGhpbmcoc2l6ZVJhbmdlKSkge1xuICAgICAgdGhyb3cgdGhpcy5zbGRFcnJvcihcbiAgICAgICAgYGludmFsaWQgUG9pbnRTdHlsZXNDb25maWcucmFuZ2VTaXplWyR7XG4gICAgICAgICAgc3R5bGVzQ2ZnLnNlZ21lbnRlZFByb3BcbiAgICAgICAgfV06ICR7c2l6ZVJhbmdlfWBcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmFuZ2VDb2xvclJlZnMoc2l6ZVJhbmdlLCBzdHlsZXNDZmcuc2VnbWVudGVkQ29sb3JzKS5tYXAoXG4gICAgICAocmVmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgRmlsdGVyOiB0aGlzLmdldFJhbmdlRmlsdGVyKHN0eWxlc0NmZy5zZWdtZW50ZWRQcm9wLCByZWYucmFuZ2UpLFxuICAgICAgICAgIFBvaW50U3ltYm9saXplcjogW1xuICAgICAgICAgICAgdGhpcy5nZXRQb2ludFN5bWJvbGl6ZXJJdGVtVXNpbmdPbmxpbmVSZXNvdXJjZShcbiAgICAgICAgICAgICAgc3R5bGVzQ2ZnLmljb25VcmwsXG4gICAgICAgICAgICAgIHJlZi5jb2xvcixcbiAgICAgICAgICAgICAgc3R5bGVzQ2ZnLmljb25TaXplXG4gICAgICAgICAgICApLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0gYXMgUnVsZUl0ZW1cbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBwcml2YXRlIGdldENsYXNzaWZpZWRSZW5kZXJSdWxlKHN0eWxlc0NmZzogUG9pbnRTdHlsZXNDb25maWcpOiBSdWxlIHtcbiAgICBpZiAoaXNOb3RoaW5nKHN0eWxlc0NmZy5yYW5nZVByb3ApKSB7XG4gICAgICB0aHJvdyB0aGlzLnNsZEVycm9yKFxuICAgICAgICBgaW52YWxpZCBQb2ludFN0eWxlc0NvbmZpZy5yYW5nZVByb3A6ICR7c3R5bGVzQ2ZnLnJhbmdlUHJvcH1gXG4gICAgICApXG4gICAgfVxuICAgIGlmIChpc05vdGhpbmcoc3R5bGVzQ2ZnLmNsYXNzaWZpZWRQcm9wKSkge1xuICAgICAgdGhyb3cgdGhpcy5zbGRFcnJvcihcbiAgICAgICAgYGludmFsaWQgUG9pbnRTdHlsZXNDb25maWcuY2xhc3NpZmllZFByb3A6ICR7c3R5bGVzQ2ZnLmNsYXNzaWZpZWRQcm9wfWBcbiAgICAgIClcbiAgICB9XG4gICAgY29uc3QgcHJvcFJhbmdlID0gc3R5bGVzQ2ZnLnJhbmdlUHJvcFtzdHlsZXNDZmcuY2xhc3NpZmllZFByb3BdXG4gICAgaWYgKGlzTm90aGluZyhwcm9wUmFuZ2UpKSB7XG4gICAgICB0aHJvdyB0aGlzLnNsZEVycm9yKFxuICAgICAgICBgaW52YWxpZCBQb2ludFN0eWxlc0NvbmZpZy5yYW5nZVByb3BbJHtcbiAgICAgICAgICBzdHlsZXNDZmcuY2xhc3NpZmllZFByb3BcbiAgICAgICAgfV06ICR7cHJvcFJhbmdlfWBcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0UHJvcENvbG9yUmVmcyhwcm9wUmFuZ2UsIHN0eWxlc0NmZy5jbGFzc2lmaWVkQ29sb3JzKS5tYXAoXG4gICAgICAocmVmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgRmlsdGVyOiB0aGlzLmdldFR5cGVGaWx0ZXIoc3R5bGVzQ2ZnLmNsYXNzaWZpZWRQcm9wLCByZWYucHJvcCksXG4gICAgICAgICAgUG9pbnRTeW1ib2xpemVyOiBbXG4gICAgICAgICAgICB0aGlzLmdldFBvaW50U3ltYm9saXplckl0ZW1Vc2luZ09ubGluZVJlc291cmNlKFxuICAgICAgICAgICAgICBzdHlsZXNDZmcuaWNvblVybCxcbiAgICAgICAgICAgICAgcmVmLmNvbG9yLFxuICAgICAgICAgICAgICBzdHlsZXNDZmcuaWNvblNpemVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgXSxcbiAgICAgICAgfSBhcyBSdWxlSXRlbVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHByaXZhdGUgZ2V0QnViYmxlUmVuZGVyUnVsZShzdHlsZXNDZmc6IFBvaW50U3R5bGVzQ29uZmlnKTogUnVsZSB7XG4gICAgaWYgKGlzTm90aGluZyhzdHlsZXNDZmcuYnViYmxlQ29sb3JUeXBlKSkge1xuICAgICAgdGhyb3cgdGhpcy5zbGRFcnJvcihcbiAgICAgICAgYGludmFsaWQgUG9pbnRTdHlsZXNDb25maWcuYnViYmxlQ29sb3JUeXBlOiAke1xuICAgICAgICAgIHN0eWxlc0NmZy5idWJibGVDb2xvclR5cGVcbiAgICAgICAgfWBcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKGlzTm90aGluZyhzdHlsZXNDZmcuYnViYmxlU2l6ZVR5cGUpKSB7XG4gICAgICB0aHJvdyB0aGlzLnNsZEVycm9yKFxuICAgICAgICBgaW52YWxpZCBQb2ludFN0eWxlc0NvbmZpZy5idWJibGVTaXplVHlwZTogJHtzdHlsZXNDZmcuYnViYmxlU2l6ZVR5cGV9YFxuICAgICAgKVxuICAgIH1cbiAgICBpZiAoaXNOb3RoaW5nKHN0eWxlc0NmZy5idWJibGVTaXplUHJvcCkpIHtcbiAgICAgIHRocm93IHRoaXMuc2xkRXJyb3IoXG4gICAgICAgIGBpbnZhbGlkIFBvaW50U3R5bGVzQ29uZmlnLmJ1YmJsZVNpemVQcm9wOiAke3N0eWxlc0NmZy5idWJibGVTaXplUHJvcH1gXG4gICAgICApXG4gICAgfVxuICAgIGlmIChpc05vdGhpbmcoc3R5bGVzQ2ZnLmJ1YmJsZUNvbG9yUHJvcCkpIHtcbiAgICAgIHRocm93IHRoaXMuc2xkRXJyb3IoXG4gICAgICAgIGBpbnZhbGlkIFBvaW50U3R5bGVzQ29uZmlnLmJ1YmJsZUNvbG9yUHJvcDogJHtcbiAgICAgICAgICBzdHlsZXNDZmcuYnViYmxlQ29sb3JQcm9wXG4gICAgICAgIH1gXG4gICAgICApXG4gICAgfVxuICAgIGNvbnN0IGNvbG9yUHJvcFJhbmdlID0gc3R5bGVzQ2ZnLnJhbmdlUHJvcFtzdHlsZXNDZmcuYnViYmxlQ29sb3JQcm9wXVxuICAgIGNvbnN0IHNpemVQcm9wUmFuZ2UgPSBzdHlsZXNDZmcucmFuZ2VQcm9wW3N0eWxlc0NmZy5idWJibGVTaXplUHJvcF1cbiAgICBjb25zdCBjb2xvclNpemVSYW5nZSA9IHN0eWxlc0NmZy5yYW5nZVNpemVbc3R5bGVzQ2ZnLmJ1YmJsZUNvbG9yUHJvcF1cbiAgICBjb25zdCBzaXplU2l6ZVJhbmdlID0gc3R5bGVzQ2ZnLnJhbmdlU2l6ZVtzdHlsZXNDZmcuYnViYmxlU2l6ZVByb3BdXG5cbiAgICBjb25zdCBwcm9wQ29sb3JSZWZzID1cbiAgICAgIChjb2xvclByb3BSYW5nZSAmJlxuICAgICAgICB0aGlzLmdldFByb3BDb2xvclJlZnMoY29sb3JQcm9wUmFuZ2UsIHN0eWxlc0NmZy5idWJibGVDb2xvcnMpKSB8fFxuICAgICAgW11cbiAgICBjb25zdCBwcm9wU2l6ZVJlZnMgPVxuICAgICAgKHNpemVQcm9wUmFuZ2UgJiZcbiAgICAgICAgdGhpcy5nZXRQcm9wU2l6ZVJlZnMoc2l6ZVByb3BSYW5nZSwgc3R5bGVzQ2ZnLmJ1YmJsZVNpemVzKSkgfHxcbiAgICAgIFtdXG4gICAgY29uc3QgcmFuZ2VDb2xvclJlZnMgPVxuICAgICAgKGNvbG9yU2l6ZVJhbmdlICYmXG4gICAgICAgIHRoaXMuZ2V0UmFuZ2VDb2xvclJlZnMoY29sb3JTaXplUmFuZ2UsIHN0eWxlc0NmZy5idWJibGVDb2xvcnMpKSB8fFxuICAgICAgW11cbiAgICBjb25zdCByYW5nZVNpemVSZWZzID1cbiAgICAgIChzaXplU2l6ZVJhbmdlICYmXG4gICAgICAgIHRoaXMuZ2V0UmFuZ2VTaXplUmVmcyhzaXplU2l6ZVJhbmdlLCBzdHlsZXNDZmcuYnViYmxlU2l6ZXMpKSB8fFxuICAgICAgW11cbiAgICBpZiAoXG4gICAgICBzdHlsZXNDZmcuYnViYmxlQ29sb3JUeXBlID09PSAncHJvcCcgJiZcbiAgICAgIHN0eWxlc0NmZy5idWJibGVTaXplVHlwZSA9PT0gJ3Byb3AnXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb2xvclByb3BYU2l6ZVByb3AoXG4gICAgICAgIHN0eWxlc0NmZy5idWJibGVDb2xvclByb3AsXG4gICAgICAgIHByb3BDb2xvclJlZnMsXG4gICAgICAgIHN0eWxlc0NmZy5idWJibGVTaXplUHJvcCxcbiAgICAgICAgcHJvcFNpemVSZWZzXG4gICAgICApXG4gICAgfVxuICAgIGlmIChcbiAgICAgIHN0eWxlc0NmZy5idWJibGVDb2xvclR5cGUgPT09ICdwcm9wJyAmJlxuICAgICAgc3R5bGVzQ2ZnLmJ1YmJsZVNpemVUeXBlID09PSAncmFuZ2UnXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb2xvclByb3BYU2l6ZVJhbmdlKFxuICAgICAgICBzdHlsZXNDZmcuYnViYmxlQ29sb3JQcm9wLFxuICAgICAgICBwcm9wQ29sb3JSZWZzLFxuICAgICAgICBzdHlsZXNDZmcuYnViYmxlU2l6ZVByb3AsXG4gICAgICAgIHJhbmdlU2l6ZVJlZnNcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKFxuICAgICAgc3R5bGVzQ2ZnLmJ1YmJsZUNvbG9yVHlwZSA9PT0gJ3JhbmdlJyAmJlxuICAgICAgc3R5bGVzQ2ZnLmJ1YmJsZVNpemVUeXBlID09PSAncHJvcCdcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbG9yUmFuZ2VYU2l6ZVByb3AoXG4gICAgICAgIHN0eWxlc0NmZy5idWJibGVDb2xvclByb3AsXG4gICAgICAgIHJhbmdlQ29sb3JSZWZzLFxuICAgICAgICBzdHlsZXNDZmcuYnViYmxlU2l6ZVByb3AsXG4gICAgICAgIHByb3BTaXplUmVmc1xuICAgICAgKVxuICAgIH1cbiAgICBpZiAoXG4gICAgICBzdHlsZXNDZmcuYnViYmxlQ29sb3JUeXBlID09PSAncmFuZ2UnICYmXG4gICAgICBzdHlsZXNDZmcuYnViYmxlU2l6ZVR5cGUgPT09ICdyYW5nZSdcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbG9yUmFuZ2VYU2l6ZVJhbmdlKFxuICAgICAgICBzdHlsZXNDZmcuYnViYmxlQ29sb3JQcm9wLFxuICAgICAgICByYW5nZUNvbG9yUmVmcyxcbiAgICAgICAgc3R5bGVzQ2ZnLmJ1YmJsZVNpemVQcm9wLFxuICAgICAgICByYW5nZVNpemVSZWZzXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb2xvclByb3BYU2l6ZVByb3AoXG4gICAgY29sb3JQcm9wTmFtZTogc3RyaW5nLFxuICAgIHByb3BDb2xvclJlZnM6IFByb3BDb2xvclJlZnMsXG4gICAgc2l6ZVByb3BOYW1lOiBzdHJpbmcsXG4gICAgcHJvcFNpemVSZWZzOiBQcm9wU2l6ZVJlZnNcbiAgKTogUnVsZSB7XG4gICAgY29uc3QgcnVsZTogUnVsZSA9IFtdXG4gICAgZm9yIChjb25zdCBwcm9wQ29sb3JSZWYgb2YgcHJvcENvbG9yUmVmcykge1xuICAgICAgZm9yIChjb25zdCBwcm9wU2l6ZVJlZiBvZiBwcm9wU2l6ZVJlZnMpIHtcbiAgICAgICAgcnVsZS5wdXNoKHtcbiAgICAgICAgICBGaWx0ZXI6IHtcbiAgICAgICAgICAgIEFuZDogW1xuICAgICAgICAgICAgICB0aGlzLmdldFR5cGVGaWx0ZXIoY29sb3JQcm9wTmFtZSwgcHJvcENvbG9yUmVmLnByb3ApLFxuICAgICAgICAgICAgICB0aGlzLmdldFR5cGVGaWx0ZXIoc2l6ZVByb3BOYW1lLCBwcm9wU2l6ZVJlZi5wcm9wKSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBQb2ludFN5bWJvbGl6ZXI6IFtcbiAgICAgICAgICAgIHRoaXMuZ2V0UG9pbnRTeW1ib2xpemVySXRlbVVzaW5nTWFyayh7XG4gICAgICAgICAgICAgIG5hbWU6ICdjaXJjbGUnLFxuICAgICAgICAgICAgICBmaWxsOiBwcm9wQ29sb3JSZWYuY29sb3IsXG4gICAgICAgICAgICAgIHNpemU6IHByb3BTaXplUmVmLnNpemUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnVsZVxuICB9XG5cbiAgcHJpdmF0ZSBjb2xvclByb3BYU2l6ZVJhbmdlKFxuICAgIGNvbG9yUHJvcE5hbWU6IHN0cmluZyxcbiAgICBwcm9wQ29sb3JSZWZzOiBQcm9wQ29sb3JSZWZzLFxuICAgIHNpemVQcm9wTmFtZTogc3RyaW5nLFxuICAgIHJhbmdlU2l6ZVJlZnM6IFJhbmdlU2l6ZVJlZnNcbiAgKTogUnVsZSB7XG4gICAgY29uc3QgcnVsZTogUnVsZSA9IFtdXG4gICAgZm9yIChjb25zdCBwcm9wQ29sb3JSZWYgb2YgcHJvcENvbG9yUmVmcykge1xuICAgICAgZm9yIChjb25zdCByYW5nZVNpemVSZWYgb2YgcmFuZ2VTaXplUmVmcykge1xuICAgICAgICBydWxlLnB1c2goe1xuICAgICAgICAgIEZpbHRlcjoge1xuICAgICAgICAgICAgQW5kOiB7XG4gICAgICAgICAgICAgIEFuZDogW1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0VHlwZUZpbHRlcihjb2xvclByb3BOYW1lLCBwcm9wQ29sb3JSZWYucHJvcCksXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRSYW5nZUZpbHRlcihzaXplUHJvcE5hbWUsIHJhbmdlU2l6ZVJlZi5yYW5nZSksXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgUG9pbnRTeW1ib2xpemVyOiBbXG4gICAgICAgICAgICB0aGlzLmdldFBvaW50U3ltYm9saXplckl0ZW1Vc2luZ01hcmsoe1xuICAgICAgICAgICAgICBuYW1lOiAnY2lyY2xlJyxcbiAgICAgICAgICAgICAgZmlsbDogcHJvcENvbG9yUmVmLmNvbG9yLFxuICAgICAgICAgICAgICBzaXplOiByYW5nZVNpemVSZWYuc2l6ZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydWxlXG4gIH1cblxuICBwcml2YXRlIGNvbG9yUmFuZ2VYU2l6ZVByb3AoXG4gICAgY29sb3JQcm9wTmFtZTogc3RyaW5nLFxuICAgIHJhbmdlQ29sb3JSZWZzOiBSYW5nZUNvbG9yUmVmcyxcbiAgICBzaXplUHJvcE5hbWU6IHN0cmluZyxcbiAgICBwcm9wU2l6ZVJlZnM6IFByb3BTaXplUmVmc1xuICApOiBSdWxlIHtcbiAgICBjb25zdCBydWxlOiBSdWxlID0gW11cbiAgICBmb3IgKGNvbnN0IHJhbmdlQ29sb3JSZWYgb2YgcmFuZ2VDb2xvclJlZnMpIHtcbiAgICAgIGZvciAoY29uc3QgcHJvcFNpemVSZWYgb2YgcHJvcFNpemVSZWZzKSB7XG4gICAgICAgIHJ1bGUucHVzaCh7XG4gICAgICAgICAgRmlsdGVyOiB7XG4gICAgICAgICAgICBBbmQ6IFtcbiAgICAgICAgICAgICAgdGhpcy5nZXRSYW5nZUZpbHRlcihjb2xvclByb3BOYW1lLCByYW5nZUNvbG9yUmVmLnJhbmdlKSxcbiAgICAgICAgICAgICAgdGhpcy5nZXRUeXBlRmlsdGVyKHNpemVQcm9wTmFtZSwgcHJvcFNpemVSZWYucHJvcCksXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgUG9pbnRTeW1ib2xpemVyOiBbXG4gICAgICAgICAgICB0aGlzLmdldFBvaW50U3ltYm9saXplckl0ZW1Vc2luZ01hcmsoe1xuICAgICAgICAgICAgICBuYW1lOiAnY2lyY2xlJyxcbiAgICAgICAgICAgICAgZmlsbDogcmFuZ2VDb2xvclJlZi5jb2xvcixcbiAgICAgICAgICAgICAgc2l6ZTogcHJvcFNpemVSZWYuc2l6ZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydWxlXG4gIH1cblxuICBwcml2YXRlIGNvbG9yUmFuZ2VYU2l6ZVJhbmdlKFxuICAgIGNvbG9yUHJvcE5hbWU6IHN0cmluZyxcbiAgICByYW5nZUNvbG9yUmVmczogUmFuZ2VDb2xvclJlZnMsXG4gICAgc2l6ZVByb3BOYW1lOiBzdHJpbmcsXG4gICAgcmFuZ2VTaXplUmVmczogUmFuZ2VTaXplUmVmc1xuICApOiBSdWxlIHtcbiAgICBjb25zdCBydWxlOiBSdWxlID0gW11cbiAgICBmb3IgKGNvbnN0IHJhbmdlQ29sb3JSZWYgb2YgcmFuZ2VDb2xvclJlZnMpIHtcbiAgICAgIGZvciAoY29uc3QgcmFuZ2VTaXplUmVmIG9mIHJhbmdlU2l6ZVJlZnMpIHtcbiAgICAgICAgcnVsZS5wdXNoKHtcbiAgICAgICAgICBGaWx0ZXI6IHtcbiAgICAgICAgICAgIEFuZDogW1xuICAgICAgICAgICAgICB0aGlzLmdldFJhbmdlRmlsdGVyKGNvbG9yUHJvcE5hbWUsIHJhbmdlQ29sb3JSZWYucmFuZ2UpLFxuICAgICAgICAgICAgICB0aGlzLmdldFJhbmdlRmlsdGVyKHNpemVQcm9wTmFtZSwgcmFuZ2VTaXplUmVmLnJhbmdlKSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBQb2ludFN5bWJvbGl6ZXI6IFtcbiAgICAgICAgICAgIHRoaXMuZ2V0UG9pbnRTeW1ib2xpemVySXRlbVVzaW5nTWFyayh7XG4gICAgICAgICAgICAgIG5hbWU6ICdjaXJjbGUnLFxuICAgICAgICAgICAgICBmaWxsOiByYW5nZUNvbG9yUmVmLmNvbG9yLFxuICAgICAgICAgICAgICBzaXplOiByYW5nZVNpemVSZWYuc2l6ZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydWxlXG4gIH1cblxuICBwcml2YXRlIGdldFBvaW50U3ltYm9saXplckl0ZW1Vc2luZ01hcmsocGFyYW1zOiB7XG4gICAgbmFtZTogV2VsbEtub3duTmFtZUl0ZW1cbiAgICBmaWxsOiBzdHJpbmdcbiAgICBmaWxsT3BhY2l0eT86IG51bWJlclxuICAgIHNpemU6IG51bWJlclxuICB9KTogUG9pbnRTeW1ib2xpemVySXRlbSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIEdyYXBoaWM6IHtcbiAgICAgICAgTWFyazoge1xuICAgICAgICAgIFdlbGxLbm93bk5hbWU6IHtcbiAgICAgICAgICAgIF90ZXh0OiBwYXJhbXMubmFtZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIEZpbGw6IHtcbiAgICAgICAgICAgIENzc1BhcmFtZXRlcjogdGhpcy5nZXRGaWxsQ3NzUGFyYW1ldGVycyh7XG4gICAgICAgICAgICAgIGZpbGw6IHBhcmFtcy5maWxsLFxuICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogcGFyYW1zLmZpbGxPcGFjaXR5IHx8IERFRkFVTFRfQlVCQkxFX0ZJTExfT1BBQ0lUWSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFNpemU6IHtcbiAgICAgICAgICBfdGV4dDogcGFyYW1zLnNpemUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0UG9pbnRTeW1ib2xpemVySXRlbVVzaW5nT25saW5lUmVzb3VyY2UoXG4gICAgaWNvblVybDogc3RyaW5nLFxuICAgIGZpbGw6IHN0cmluZyxcbiAgICBzaXplOiBudW1iZXJcbiAgKTogUG9pbnRTeW1ib2xpemVySXRlbSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIEdyYXBoaWM6IHtcbiAgICAgICAgRXh0ZXJuYWxHcmFwaGljOiB7XG4gICAgICAgICAgT25saW5lUmVzb3VyY2U6IHtcbiAgICAgICAgICAgIF9hdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICd4bGluazp0eXBlJzogJ3NpbXBsZScsXG4gICAgICAgICAgICAgICd4bGluazpocmVmJzogYCR7aWNvblVybH0/Y29sb3I9JHtmaWxsLnNsaWNlKDEpfWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgRm9ybWF0OiB7XG4gICAgICAgICAgICBfdGV4dDogJ2ltYWdlL3N2ZycsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgU2l6ZToge1xuICAgICAgICAgIF90ZXh0OiBzaXplLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFNMRFN0eWxlcyB9IGZyb20gJy4vU0xEU3R5bGVzJ1xuaW1wb3J0IHtcbiAgU3R5bGVzQ29uZmlnLFxuICBSdWxlLFxuICBMaW5lU3ltYm9saXplckl0ZW0sXG4gIFJ1bGVJdGVtLFxuICBUcmFuc2Zvcm1hdGlvbixcbn0gZnJvbSAnLi9kZWYnXG5pbXBvcnQgeyBpc05vdGhpbmcgfSBmcm9tICcuLi91dGlscydcblxuZXhwb3J0IGludGVyZmFjZSBMaW5lU3R5bGVzQ29uZmlnIGV4dGVuZHMgU3R5bGVzQ29uZmlnIHtcbiAgcmVuZGVyVHlwZTogJ3NpbmdsZScgfCAnc2VnbWVudGVkJyB8ICdjbGFzc2lmaWVkJ1xufVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGluZVN0eWxlcyBleHRlbmRzIFNMRFN0eWxlcyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBsYXllck5hbWU6IHN0cmluZyxcbiAgICBwcm90ZWN0ZWQgc3R5bGVzQ2ZnOiBMaW5lU3R5bGVzQ29uZmlnXG4gICkge1xuICAgIHN1cGVyKGxheWVyTmFtZSwgc3R5bGVzQ2ZnKVxuICB9XG4gIHByb3RlY3RlZCBnZXRSdWxlKHN0eWxlc0NmZzogTGluZVN0eWxlc0NvbmZpZyk6IFJ1bGUge1xuICAgIHN3aXRjaCAoc3R5bGVzQ2ZnLnJlbmRlclR5cGUpIHtcbiAgICAgIGNhc2UgJ3NpbmdsZSc6IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2luZ2xlUmVuZGVyUnVsZShzdHlsZXNDZmcpXG4gICAgICB9XG4gICAgICBjYXNlICdzZWdtZW50ZWQnOiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlZ21lbnRlZFJlbmRlclJ1bGUoc3R5bGVzQ2ZnKVxuICAgICAgfVxuICAgICAgY2FzZSAnY2xhc3NpZmllZCc6IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xhc3NpZmllZFJlbmRlclJ1bGUoc3R5bGVzQ2ZnKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBwcm90ZWN0ZWQgZ2V0VHJhbnNmb3JtYXRpb24oXzogU3R5bGVzQ29uZmlnKTogVHJhbnNmb3JtYXRpb24gfCBudWxsIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIHByaXZhdGUgZ2V0U2luZ2xlUmVuZGVyUnVsZShzdHlsZXNDZmc6IExpbmVTdHlsZXNDb25maWcpOiBSdWxlIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICBMaW5lU3ltYm9saXplcjogW1xuICAgICAgICAgIHRoaXMuZ2V0TGluZVN5bWJvbGl6ZXJJdGVtKHtcbiAgICAgICAgICAgIHN0cm9rZTogc3R5bGVzQ2ZnLnN0cm9rZSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBzdHlsZXNDZmcuc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgfSksXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2VnbWVudGVkUmVuZGVyUnVsZShzdHlsZXNDZmc6IExpbmVTdHlsZXNDb25maWcpOiBSdWxlIHtcbiAgICBpZiAoaXNOb3RoaW5nKHN0eWxlc0NmZy5yYW5nZVNpemUpKSB7XG4gICAgICB0aHJvdyB0aGlzLnNsZEVycm9yKFxuICAgICAgICBgaW52YWxpZCBQb2ludFN0eWxlc0NvbmZpZy5yYW5nZVNpemU6ICR7c3R5bGVzQ2ZnLnJhbmdlU2l6ZX1gXG4gICAgICApXG4gICAgfVxuICAgIGlmIChpc05vdGhpbmcoc3R5bGVzQ2ZnLnNlZ21lbnRlZFByb3ApKSB7XG4gICAgICB0aHJvdyB0aGlzLnNsZEVycm9yKFxuICAgICAgICBgaW52YWxpZCBQb2ludFN0eWxlc0NvbmZpZy5zZWdtZW50ZWRQcm9wOiAke3N0eWxlc0NmZy5zZWdtZW50ZWRQcm9wfWBcbiAgICAgIClcbiAgICB9XG4gICAgY29uc3Qgc2l6ZVJhbmdlID0gc3R5bGVzQ2ZnLnJhbmdlU2l6ZVtzdHlsZXNDZmcuc2VnbWVudGVkUHJvcF1cbiAgICBpZiAoaXNOb3RoaW5nKHNpemVSYW5nZSkpIHtcbiAgICAgIHRocm93IHRoaXMuc2xkRXJyb3IoXG4gICAgICAgIGBpbnZhbGlkIFBvaW50U3R5bGVzQ29uZmlnLnJhbmdlU2l6ZVske1xuICAgICAgICAgIHN0eWxlc0NmZy5zZWdtZW50ZWRQcm9wXG4gICAgICAgIH1dOiAke3NpemVSYW5nZX1gXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdldFJhbmdlQ29sb3JSZWZzKHNpemVSYW5nZSwgc3R5bGVzQ2ZnLnNlZ21lbnRlZENvbG9ycykubWFwKFxuICAgICAgKHJlZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIEZpbHRlcjogdGhpcy5nZXRSYW5nZUZpbHRlcihzdHlsZXNDZmcuc2VnbWVudGVkUHJvcCwgcmVmLnJhbmdlKSxcbiAgICAgICAgICBMaW5lU3ltYm9saXplcjogW1xuICAgICAgICAgICAgdGhpcy5nZXRMaW5lU3ltYm9saXplckl0ZW0oe1xuICAgICAgICAgICAgICBzdHJva2U6IHJlZi5jb2xvcixcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHN0eWxlc0NmZy5zdHJva2VXaWR0aCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0gYXMgUnVsZUl0ZW1cbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBwcml2YXRlIGdldENsYXNzaWZpZWRSZW5kZXJSdWxlKHN0eWxlc0NmZzogTGluZVN0eWxlc0NvbmZpZyk6IFJ1bGUge1xuICAgIGlmIChpc05vdGhpbmcoc3R5bGVzQ2ZnLnJhbmdlUHJvcCkpIHtcbiAgICAgIHRocm93IHRoaXMuc2xkRXJyb3IoXG4gICAgICAgIGBpbnZhbGlkIFBvaW50U3R5bGVzQ29uZmlnLnJhbmdlUHJvcDogJHtzdHlsZXNDZmcucmFuZ2VQcm9wfWBcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKGlzTm90aGluZyhzdHlsZXNDZmcuY2xhc3NpZmllZFByb3ApKSB7XG4gICAgICB0aHJvdyB0aGlzLnNsZEVycm9yKFxuICAgICAgICBgaW52YWxpZCBQb2ludFN0eWxlc0NvbmZpZy5jbGFzc2lmaWVkUHJvcDogJHtzdHlsZXNDZmcuY2xhc3NpZmllZFByb3B9YFxuICAgICAgKVxuICAgIH1cbiAgICBjb25zdCBwcm9wUmFuZ2UgPSBzdHlsZXNDZmcucmFuZ2VQcm9wW3N0eWxlc0NmZy5jbGFzc2lmaWVkUHJvcF1cbiAgICBpZiAoaXNOb3RoaW5nKHByb3BSYW5nZSkpIHtcbiAgICAgIHRocm93IHRoaXMuc2xkRXJyb3IoXG4gICAgICAgIGBpbnZhbGlkIFBvaW50U3R5bGVzQ29uZmlnLnJhbmdlUHJvcFske1xuICAgICAgICAgIHN0eWxlc0NmZy5jbGFzc2lmaWVkUHJvcFxuICAgICAgICB9XTogJHtwcm9wUmFuZ2V9YFxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5nZXRQcm9wQ29sb3JSZWZzKHByb3BSYW5nZSwgc3R5bGVzQ2ZnLmNsYXNzaWZpZWRDb2xvcnMpLm1hcChcbiAgICAgIChyZWYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBGaWx0ZXI6IHRoaXMuZ2V0VHlwZUZpbHRlcihzdHlsZXNDZmcuY2xhc3NpZmllZFByb3AsIHJlZi5wcm9wKSxcbiAgICAgICAgICBMaW5lU3ltYm9saXplcjogW1xuICAgICAgICAgICAgdGhpcy5nZXRMaW5lU3ltYm9saXplckl0ZW0oe1xuICAgICAgICAgICAgICBzdHJva2U6IHJlZi5jb2xvcixcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHN0eWxlc0NmZy5zdHJva2VXaWR0aCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0gYXMgUnVsZUl0ZW1cbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBwcml2YXRlIGdldExpbmVTeW1ib2xpemVySXRlbShvcHRpb25zOiB7XG4gICAgc3Ryb2tlOiBzdHJpbmdcbiAgICBzdHJva2VXaWR0aDogbnVtYmVyXG4gIH0pOiBMaW5lU3ltYm9saXplckl0ZW0ge1xuICAgIHJldHVybiB7XG4gICAgICBTdHJva2U6IHtcbiAgICAgICAgQ3NzUGFyYW1ldGVyOiB0aGlzLmdldFN0cm9rZUNzc1BhcmFtZXRlcnMoe1xuICAgICAgICAgIHN0cm9rZTogb3B0aW9ucy5zdHJva2UsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IG9wdGlvbnMuc3Ryb2tlV2lkdGgsXG4gICAgICAgIH0gYXMgU3R5bGVzQ29uZmlnKSxcbiAgICAgIH0sXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge1xuICBTdHlsZXNDb25maWcsXG4gIFJ1bGVJdGVtLFxuICBQb2x5Z29uU3ltYm9saXplckl0ZW0sXG4gIFJ1bGUsXG4gIFRyYW5zZm9ybWF0aW9uLFxuICBUZXh0U3ltYm9saXplcixcbn0gZnJvbSAnLi9kZWYnXG5pbXBvcnQgeyBTTERTdHlsZXMgfSBmcm9tICcuL1NMRFN0eWxlcydcbmltcG9ydCB7IGlzTm90aGluZyB9IGZyb20gJy4uL3V0aWxzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvbHlnb25TdHlsZXNDb25maWcgZXh0ZW5kcyBTdHlsZXNDb25maWcge1xuICByZW5kZXJUeXBlOiAnc2luZ2xlJyB8ICdzZWdtZW50ZWQnIHwgJ2NsYXNzaWZpZWQnXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvbHlnb25TdHlsZXMgZXh0ZW5kcyBTTERTdHlsZXMge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgbGF5ZXJOYW1lOiBzdHJpbmcsXG4gICAgcHJvdGVjdGVkIHN0eWxlc0NmZzogUG9seWdvblN0eWxlc0NvbmZpZ1xuICApIHtcbiAgICBzdXBlcihsYXllck5hbWUsIHN0eWxlc0NmZylcbiAgfVxuICBwcm90ZWN0ZWQgZ2V0UnVsZShzdHlsZXNDZmc6IFBvbHlnb25TdHlsZXNDb25maWcpOiBSdWxlSXRlbVtdIHtcbiAgICBzd2l0Y2ggKHN0eWxlc0NmZy5yZW5kZXJUeXBlKSB7XG4gICAgICBjYXNlICdzaW5nbGUnOiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNpbmdsZVJlbmRlclJ1bGUoc3R5bGVzQ2ZnKVxuICAgICAgfVxuICAgICAgY2FzZSAnc2VnbWVudGVkJzoge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWdtZW50ZWRSZW5kZXJSdWxlKHN0eWxlc0NmZylcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NsYXNzaWZpZWQnOiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENsYXNzaWZpZWRSZW5kZXJSdWxlKHN0eWxlc0NmZylcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcHJvdGVjdGVkIGdldFRyYW5zZm9ybWF0aW9uKF86IFN0eWxlc0NvbmZpZyk6IFRyYW5zZm9ybWF0aW9uIHwgbnVsbCB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICBwcml2YXRlIGdldFNpbmdsZVJlbmRlclJ1bGUoc3R5bGVzQ2ZnOiBQb2x5Z29uU3R5bGVzQ29uZmlnKTogUnVsZSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgUG9seWdvblN5bWJvbGl6ZXI6IFtcbiAgICAgICAgICB0aGlzLmdldFBvbHlnb25TeW1ib2xpemVySXRlbSh7XG4gICAgICAgICAgICBzdHJva2U6IHN0eWxlc0NmZy5zdHJva2UsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogc3R5bGVzQ2ZnLnN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgZmlsbDogc3R5bGVzQ2ZnLmZpbGwsXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogc3R5bGVzQ2ZnLmZpbGxPcGFjaXR5LFxuICAgICAgICAgIH0pLFxuICAgICAgICBdLFxuICAgICAgICBUZXh0U3ltYm9saXplcjogdGhpcy5nZXRUZXh0U3ltYm9saXplcihzdHlsZXNDZmcucG9wdXBQcm9wKSxcbiAgICAgIH0sXG4gICAgXVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRTZWdtZW50ZWRSZW5kZXJSdWxlKHN0eWxlc0NmZzogUG9seWdvblN0eWxlc0NvbmZpZyk6IFJ1bGUge1xuICAgIGlmIChpc05vdGhpbmcoc3R5bGVzQ2ZnLnJhbmdlU2l6ZSkpIHtcbiAgICAgIHRocm93IHRoaXMuc2xkRXJyb3IoXG4gICAgICAgIGBpbnZhbGlkIFBvaW50U3R5bGVzQ29uZmlnLnJhbmdlU2l6ZTogJHtzdHlsZXNDZmcucmFuZ2VTaXplfWBcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKGlzTm90aGluZyhzdHlsZXNDZmcuc2VnbWVudGVkUHJvcCkpIHtcbiAgICAgIHRocm93IHRoaXMuc2xkRXJyb3IoXG4gICAgICAgIGBpbnZhbGlkIFBvaW50U3R5bGVzQ29uZmlnLnNlZ21lbnRlZFByb3A6ICR7c3R5bGVzQ2ZnLnNlZ21lbnRlZFByb3B9YFxuICAgICAgKVxuICAgIH1cbiAgICBjb25zdCBzaXplUmFuZ2UgPSBzdHlsZXNDZmcucmFuZ2VTaXplW3N0eWxlc0NmZy5zZWdtZW50ZWRQcm9wXVxuICAgIGlmIChpc05vdGhpbmcoc2l6ZVJhbmdlKSkge1xuICAgICAgdGhyb3cgdGhpcy5zbGRFcnJvcihcbiAgICAgICAgYGludmFsaWQgUG9pbnRTdHlsZXNDb25maWcucmFuZ2VTaXplWyR7XG4gICAgICAgICAgc3R5bGVzQ2ZnLnNlZ21lbnRlZFByb3BcbiAgICAgICAgfV06ICR7c2l6ZVJhbmdlfWBcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmFuZ2VDb2xvclJlZnMoc2l6ZVJhbmdlLCBzdHlsZXNDZmcuc2VnbWVudGVkQ29sb3JzKS5tYXAoXG4gICAgICAocmVmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgRmlsdGVyOiB0aGlzLmdldFJhbmdlRmlsdGVyKHN0eWxlc0NmZy5zZWdtZW50ZWRQcm9wLCByZWYucmFuZ2UpLFxuICAgICAgICAgIFBvbHlnb25TeW1ib2xpemVyOiBbXG4gICAgICAgICAgICB0aGlzLmdldFBvbHlnb25TeW1ib2xpemVySXRlbSh7XG4gICAgICAgICAgICAgIHN0cm9rZTogcmVmLmNvbG9yLFxuICAgICAgICAgICAgICBzdHJva2VXaWR0aDogc3R5bGVzQ2ZnLnN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgICBmaWxsOiByZWYuY29sb3IsXG4gICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiBzdHlsZXNDZmcuZmlsbE9wYWNpdHksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIFRleHRTeW1ib2xpemVyOiB0aGlzLmdldFRleHRTeW1ib2xpemVyKHN0eWxlc0NmZy5wb3B1cFByb3ApLFxuICAgICAgICB9IGFzIFJ1bGVJdGVtXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRDbGFzc2lmaWVkUmVuZGVyUnVsZShzdHlsZXNDZmc6IFBvbHlnb25TdHlsZXNDb25maWcpOiBSdWxlIHtcbiAgICBpZiAoaXNOb3RoaW5nKHN0eWxlc0NmZy5yYW5nZVByb3ApKSB7XG4gICAgICB0aHJvdyB0aGlzLnNsZEVycm9yKFxuICAgICAgICBgaW52YWxpZCBQb2ludFN0eWxlc0NvbmZpZy5yYW5nZVByb3A6ICR7c3R5bGVzQ2ZnLnJhbmdlUHJvcH1gXG4gICAgICApXG4gICAgfVxuICAgIGlmIChpc05vdGhpbmcoc3R5bGVzQ2ZnLmNsYXNzaWZpZWRQcm9wKSkge1xuICAgICAgdGhyb3cgdGhpcy5zbGRFcnJvcihcbiAgICAgICAgYGludmFsaWQgUG9pbnRTdHlsZXNDb25maWcuY2xhc3NpZmllZFByb3A6ICR7c3R5bGVzQ2ZnLmNsYXNzaWZpZWRQcm9wfWBcbiAgICAgIClcbiAgICB9XG4gICAgY29uc3QgcHJvcFJhbmdlID0gc3R5bGVzQ2ZnLnJhbmdlUHJvcFtzdHlsZXNDZmcuY2xhc3NpZmllZFByb3BdXG4gICAgaWYgKGlzTm90aGluZyhwcm9wUmFuZ2UpKSB7XG4gICAgICB0aHJvdyB0aGlzLnNsZEVycm9yKFxuICAgICAgICBgaW52YWxpZCBQb2ludFN0eWxlc0NvbmZpZy5yYW5nZVByb3BbJHtcbiAgICAgICAgICBzdHlsZXNDZmcuY2xhc3NpZmllZFByb3BcbiAgICAgICAgfV06ICR7cHJvcFJhbmdlfWBcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0UHJvcENvbG9yUmVmcyhwcm9wUmFuZ2UsIHN0eWxlc0NmZy5jbGFzc2lmaWVkQ29sb3JzKS5tYXAoXG4gICAgICAocmVmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgRmlsdGVyOiB0aGlzLmdldFR5cGVGaWx0ZXIoc3R5bGVzQ2ZnLmNsYXNzaWZpZWRQcm9wLCByZWYucHJvcCksXG4gICAgICAgICAgUG9seWdvblN5bWJvbGl6ZXI6IFtcbiAgICAgICAgICAgIHRoaXMuZ2V0UG9seWdvblN5bWJvbGl6ZXJJdGVtKHtcbiAgICAgICAgICAgICAgc3Ryb2tlOiByZWYuY29sb3IsXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBzdHlsZXNDZmcuc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgICAgIGZpbGw6IHJlZi5jb2xvcixcbiAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IHN0eWxlc0NmZy5maWxsT3BhY2l0eSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgVGV4dFN5bWJvbGl6ZXI6IHRoaXMuZ2V0VGV4dFN5bWJvbGl6ZXIoc3R5bGVzQ2ZnLnBvcHVwUHJvcCksXG4gICAgICAgIH0gYXMgUnVsZUl0ZW1cbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBwcml2YXRlIGdldFBvbHlnb25TeW1ib2xpemVySXRlbShvcHRpb25zOiB7XG4gICAgc3Ryb2tlOiBzdHJpbmdcbiAgICBzdHJva2VXaWR0aDogbnVtYmVyXG4gICAgZmlsbDogc3RyaW5nXG4gICAgZmlsbE9wYWNpdHk6IG51bWJlclxuICB9KTogUG9seWdvblN5bWJvbGl6ZXJJdGVtIHtcbiAgICByZXR1cm4ge1xuICAgICAgRmlsbDoge1xuICAgICAgICBDc3NQYXJhbWV0ZXI6IHRoaXMuZ2V0RmlsbENzc1BhcmFtZXRlcnMoe1xuICAgICAgICAgIGZpbGw6IG9wdGlvbnMuZmlsbCxcbiAgICAgICAgICBmaWxsT3BhY2l0eTogb3B0aW9ucy5maWxsT3BhY2l0eSB8fCAxLFxuICAgICAgICB9IGFzIFN0eWxlc0NvbmZpZyksXG4gICAgICB9LFxuICAgICAgU3Ryb2tlOiB7XG4gICAgICAgIENzc1BhcmFtZXRlcjogdGhpcy5nZXRTdHJva2VDc3NQYXJhbWV0ZXJzKHtcbiAgICAgICAgICBzdHJva2U6IG9wdGlvbnMuc3Ryb2tlLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiBvcHRpb25zLnN0cm9rZVdpZHRoLFxuICAgICAgICB9IGFzIFN0eWxlc0NvbmZpZyksXG4gICAgICB9LFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0VGV4dFN5bWJvbGl6ZXIoZGlzcGxheVByb3A6IHN0cmluZyk6IFRleHRTeW1ib2xpemVyIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICBMYWJlbDoge1xuICAgICAgICAgIFByb3BlcnR5TmFtZToge1xuICAgICAgICAgICAgX3RleHQ6IGRpc3BsYXlQcm9wLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIEdlb21ldHJ5OiB7XG4gICAgICAgICAgRnVuY3Rpb246IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgX2F0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnY2VudHJvaWQnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBQcm9wZXJ0eU5hbWU6IHtcbiAgICAgICAgICAgICAgICBfdGV4dDogJ2dlb21ldHJ5JyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAgTGFiZWxQbGFjZW1lbnQ6IHtcbiAgICAgICAgICBQb2ludFBsYWNlbWVudDoge1xuICAgICAgICAgICAgQW5jaG9yUG9pbnQ6IHtcbiAgICAgICAgICAgICAgQW5jaG9yUG9pbnRYOiB7XG4gICAgICAgICAgICAgICAgX3RleHQ6IDAuNSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgQW5jaG9yUG9pbnRZOiB7XG4gICAgICAgICAgICAgICAgX3RleHQ6IDAuNSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgXVxuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBjb252ZXJ0IGZyb20gJ3htbC1qcydcbmV4cG9ydCBpbnRlcmZhY2UgR2V0RmVhdHVyZUluZm9QYXJhbXMgZXh0ZW5kcyBMLldNU09wdGlvbnMge1xuICBtYXA6IEwuTWFwXG4gIGxhdGxuZzogTC5MYXRMbmdcbiAgd21zVVJMOiBzdHJpbmdcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZlYXR1cmVJbmZvKG9wdGlvbnM6IEdldEZlYXR1cmVJbmZvUGFyYW1zKSB7XG4gIGNvbnN0IHVybCA9IGdldEZlYXR1cmVJbmZvVXJsKG9wdGlvbnMpXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgIG1vZGU6ICdjb3JzJyxcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gIH0pXG4gIHJldHVybiByZXMuanNvbigpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDYXBhYmlsaXRpZXMod21zVVJMOiBzdHJpbmcpIHtcbiAgY29uc3QgdXJsID0gZ2V0Q2FwYWJpbGl0aWVzVXJsKHdtc1VSTClcbiAgY29uc3QganNvbkRhdGEgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICBtb2RlOiAnY29ycycsXG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICB9KVxuICAgIC50aGVuKChyZXMpID0+IHJlcy50ZXh0KCkpXG4gICAgLnRoZW4oKHN0cikgPT5cbiAgICAgIGNvbnZlcnQueG1sMmpzKHN0ciwge1xuICAgICAgICBjb21wYWN0OiB0cnVlLFxuICAgICAgfSlcbiAgICApXG4gIHJldHVybiBqc29uRGF0YSBhcyBhbnlcbn1cblxuZnVuY3Rpb24gZ2V0RmVhdHVyZUluZm9Vcmwob3B0aW9uczogR2V0RmVhdHVyZUluZm9QYXJhbXMpIHtcbiAgY29uc3QgeyB3bXNVUkwsIG1hcCwgbGF0bG5nLCBsYXllcnMsIHN0eWxlcyB9ID0gb3B0aW9uc1xuICBjb25zdCBwb2ludCA9IG1hcC5sYXRMbmdUb0NvbnRhaW5lclBvaW50KGxhdGxuZylcbiAgY29uc3Qgc2l6ZSA9IG1hcC5nZXRTaXplKClcbiAgY29uc3QgcGFyYW1zID0ge1xuICAgIHNlcnZpY2U6ICdXTVMnLFxuICAgIHZlcnNpb246ICcxLjEuMScsXG4gICAgcmVxdWVzdDogJ0dldEZlYXR1cmVJbmZvJyxcbiAgICBsYXllcnMsXG4gICAgc3R5bGVzLFxuICAgIHNyczogJ0VQU0c6NDMyNicsXG4gICAgYmJveDogbWFwLmdldEJvdW5kcygpLnRvQkJveFN0cmluZygpLFxuICAgIGhlaWdodDogc2l6ZS55LFxuICAgIHdpZHRoOiBzaXplLngsXG4gICAgcXVlcnlfbGF5ZXJzOiBsYXllcnMsXG4gICAgeDogTWF0aC5yb3VuZChwb2ludC54KSxcbiAgICB5OiBNYXRoLnJvdW5kKHBvaW50LnkpLFxuICAgIGluZm9fZm9ybWF0OiAnYXBwbGljYXRpb24vanNvbicsXG4gIH1cbiAgcmV0dXJuIHdtc1VSTCArIEwuVXRpbC5nZXRQYXJhbVN0cmluZyhwYXJhbXMsIHdtc1VSTClcbn1cblxuZnVuY3Rpb24gZ2V0Q2FwYWJpbGl0aWVzVXJsKHdtc1VSTDogc3RyaW5nKSB7XG4gIGNvbnN0IHBhcmFtcyA9IHtcbiAgICBzZXJ2aWNlOiAnV01TJyxcbiAgICB2ZXJzaW9uOiAnMS4xLjEnLFxuICAgIHJlcXVlc3Q6ICdHZXRDYXBhYmlsaXRpZXMnLFxuICB9XG4gIHJldHVybiB3bXNVUkwgKyBMLlV0aWwuZ2V0UGFyYW1TdHJpbmcocGFyYW1zLCB3bXNVUkwpXG59XG4iLCJpbnRlcmZhY2UgQ29uZmlnIHtcbiAgZGlzdGFuY2U6IG51bWJlclxuICBtYXA6IEwuTWFwXG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkTGF5ZXIge1xuICBwcml2YXRlIGRpc3RhbmNlOiBudW1iZXJcbiAgcHJpdmF0ZSBtYXA6IEwuTWFwXG4gIHByaXZhdGUgZ3JpZExheWVyMTogTC5Qb2x5bGluZVxuICBwcml2YXRlIGdyaWRMYXllcjI6IEwuUG9seWxpbmVcbiAgcHJpdmF0ZSBncmlkTGF5ZXIzOiBMLlBvbHlsaW5lXG4gIHByaXZhdGUgbWlubGF0OiBudW1iZXJcbiAgcHJpdmF0ZSBtYXhsYXQ6IG51bWJlclxuICBwcml2YXRlIG1pbmxuZzogbnVtYmVyXG4gIHByaXZhdGUgbWF4bG5nOiBudW1iZXJcbiAgcHJpdmF0ZSB6b29tTGV2ZWxCZXN0TWV0ZXI6IGFueVxuICBwcml2YXRlIGxhdGxuZ0xpc3Q6IGFueVxuICBwcml2YXRlIGN1c3RvbU1ldGVyTGF0bG5nTGlzdDogYW55XG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQ29uZmlnKSB7XG4gICAgdGhpcy5kaXN0YW5jZSA9IGNvbmZpZy5kaXN0YW5jZVxuICAgIHRoaXMubWFwID0gY29uZmlnLm1hcFxuICAgIHRoaXMuZ3JpZExheWVyMSA9IG51bGxcbiAgICB0aGlzLmdyaWRMYXllcjIgPSBudWxsXG4gICAgdGhpcy5ncmlkTGF5ZXIzID0gbnVsbFxuXG4gICAgdGhpcy5jdXN0b21NZXRlckxhdGxuZ0xpc3QgPSB7fVxuXG4gICAgdGhpcy5taW5sYXQgPSAxOFxuICAgIHRoaXMubWF4bGF0ID0gNTRcbiAgICB0aGlzLm1pbmxuZyA9IDcyXG4gICAgdGhpcy5tYXhsbmcgPSAxMzlcblxuICAgIHRoaXMuem9vbUxldmVsQmVzdE1ldGVyID0ge1xuICAgICAgMTg6IDQsXG4gICAgICAxNzogOCxcbiAgICAgIDE2OiAxNSxcbiAgICAgIDE1OiAzMCxcbiAgICAgIDE0OiA2MixcbiAgICAgIDEzOiAxMjUsXG4gICAgICAxMjogMjI1LFxuICAgICAgMTE6IDQ1MCxcbiAgICAgIDEwOiA5MDAsXG4gICAgICA5OiAxODAwLFxuICAgICAgODogMzYwMCxcbiAgICAgIDc6IDc1MDAsXG4gICAgICA2OiAxNTAwMCxcbiAgICAgIDU6IDMwMDAwLFxuICAgICAgNDogNjAwMDAsXG4gICAgICAzOiAxMTAwMDAsXG4gICAgfVxuXG4gICAgdGhpcy5tYXAub24oJ3pvb20nLCB0aGlzLmRyYXcsIHRoaXMpXG4gICAgdGhpcy5tYXAub24oJ21vdmUnLCB0aGlzLmRyYXcsIHRoaXMpXG4gICAgdGhpcy5sYXRsbmdMaXN0ID0gdGhpcy5nZXRMYXRsbmdMaXN0KHRoaXMuZGlzdGFuY2UpXG4gIH1cblxuICBwdWJsaWMgZHJhdygpIHtcbiAgICB0aGlzLnNob3dHcmlkTGF5ZXJCeVpvb20odGhpcy5kaXN0YW5jZSwgdGhpcy5tYXAuZ2V0Wm9vbSgpKVxuICB9XG5cbiAgcHVibGljIHJlbW92ZSgpIHtcbiAgICB0aGlzLm1hcC5vZmYoJ3pvb20nLCB0aGlzLmRyYXcsIHRoaXMpXG4gICAgdGhpcy5tYXAub2ZmKCdtb3ZlJywgdGhpcy5kcmF3LCB0aGlzKVxuICAgIGlmICh0aGlzLmdyaWRMYXllcjEpIHtcbiAgICAgIHRoaXMuZ3JpZExheWVyMS5yZW1vdmUoKVxuICAgIH1cbiAgICBpZiAodGhpcy5ncmlkTGF5ZXIyKSB7XG4gICAgICB0aGlzLmdyaWRMYXllcjIucmVtb3ZlKClcbiAgICB9XG4gICAgaWYgKHRoaXMuZ3JpZExheWVyMykge1xuICAgICAgdGhpcy5ncmlkTGF5ZXIzLnJlbW92ZSgpXG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldFBvbHlnb25CeVBvaW50KGxhdExuZzogbnVtYmVyW10pIHtcbiAgICBjb25zdCB7IGxhdExpc3QsIGxuZ0xpc3QgfSA9IHRoaXMubGF0bG5nTGlzdFxuXG4gICAgY29uc3QgbGF0SW5kZXggPSB0aGlzLmJpbmFyeV9zZWFyY2gobGF0TGlzdCwgbGF0TG5nWzBdKVxuICAgIGNvbnN0IGxuZ0luZGV4ID0gdGhpcy5iaW5hcnlfc2VhcmNoKGxuZ0xpc3QsIGxhdExuZ1sxXSlcblxuICAgIGNvbnN0IGxhdCA9IFtsYXRMaXN0W2xhdEluZGV4XSwgbGF0TGlzdFtsYXRJbmRleCArIDFdXVxuICAgIGNvbnN0IGxuZyA9IFtsbmdMaXN0W2xuZ0luZGV4XSwgbG5nTGlzdFtsbmdJbmRleCArIDFdXVxuXG4gICAgcmV0dXJuIFtcbiAgICAgIFtsYXRbMF0sIGxuZ1swXV0sXG4gICAgICBbbGF0WzBdLCBsbmdbMV1dLFxuICAgICAgW2xhdFsxXSwgbG5nWzFdXSxcbiAgICAgIFtsYXRbMV0sIGxuZ1swXV0sXG4gICAgICBbbGF0WzBdLCBsbmdbMF1dLFxuICAgIF1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0TmV4dFBvaW50QnlEaXN0YW5jZShsYXRsbmc6IG51bWJlcltdLCBtZXRlcjogbnVtYmVyKSB7XG4gICAgY29uc3QgbGF0aXR1ZGUgPSBsYXRsbmdbMF1cbiAgICBjb25zdCBsb25naXR1ZGUgPSBsYXRsbmdbMV1cbiAgICBjb25zdCBlYXJ0aCA9IDYzNzguMTM3IC8vIHJhZGl1cyBvZiB0aGUgZWFydGggaW4ga2lsb21ldGVyXG4gICAgY29uc3QgcGkgPSBNYXRoLlBJXG4gICAgY29uc3QgY29zID0gTWF0aC5jb3NcbiAgICBjb25zdCBtID0gMSAvICgoKDIgKiBwaSkgLyAzNjApICogZWFydGgpIC8gMTAwMCAvLyAxIG1ldGVyIGluIGRlZ3JlZVxuXG4gICAgY29uc3QgbmV3TGF0aXR1ZGUgPSBsYXRpdHVkZSArIG1ldGVyICogbVxuXG4gICAgY29uc3QgbmV3TG9uZ2l0dWRlID0gbG9uZ2l0dWRlICsgKG1ldGVyICogbSkgLyBjb3MobGF0aXR1ZGUgKiAocGkgLyAxODApKVxuXG4gICAgcmV0dXJuIFtuZXdMYXRpdHVkZSwgbmV3TG9uZ2l0dWRlXVxuICB9XG5cbiAgcHJpdmF0ZSBzaG93R2xvYmFsR3JpZChtZXRlcjogbnVtYmVyLCBjb2xvcjogc3RyaW5nKSB7XG4gICAgY29uc3QgbGluZUxpc3QgPSBbXVxuICAgIGNvbnN0IG1heGxhdCA9IHRoaXMubWF4bGF0XG4gICAgY29uc3QgbWF4bG5nID0gdGhpcy5tYXhsbmdcbiAgICBjb25zdCBtaW5sYXQgPSB0aGlzLm1pbmxhdFxuICAgIGNvbnN0IG1pbmxuZyA9IHRoaXMubWlubG5nXG5cbiAgICBpZiAoIXRoaXMuY3VzdG9tTWV0ZXJMYXRsbmdMaXN0W21ldGVyXSkge1xuICAgICAgdGhpcy5jdXN0b21NZXRlckxhdGxuZ0xpc3RbbWV0ZXJdID0gdGhpcy5nZXRMYXRsbmdMaXN0KG1ldGVyKVxuICAgIH1cblxuICAgIGNvbnN0IHsgbGF0TGlzdCwgbG5nTGlzdCB9ID0gdGhpcy5jdXN0b21NZXRlckxhdGxuZ0xpc3RbbWV0ZXJdXG4gICAgbGV0IGxhdDogYW55XG4gICAgbGV0IGxuZzogYW55XG4gICAgY29uc3QgbWFwQm91bmRzID0gdGhpcy5tYXAuZ2V0Qm91bmRzKClcbiAgICBjb25zdCBub3J0aFdlc3QgPSBtYXBCb3VuZHMuZ2V0Tm9ydGhXZXN0KClcbiAgICBjb25zdCBzb3V0aEVhc3QgPSBtYXBCb3VuZHMuZ2V0U291dGhFYXN0KClcblxuICAgIGNvbnN0IGxhdExvd0luZGV4ID0gdGhpcy5iaW5hcnlfc2VhcmNoKGxhdExpc3QsIHNvdXRoRWFzdC5sYXQpXG5cbiAgICBjb25zdCBsbmdMb3dJbmRleCA9IHRoaXMuYmluYXJ5X3NlYXJjaChsbmdMaXN0LCBub3J0aFdlc3QubG5nKVxuXG4gICAgZm9yIChsZXQgaSA9IGxhdExvd0luZGV4OyBpIDwgbGF0TGlzdC5sZW5ndGggLSAyOyBpKyspIHtcbiAgICAgIGlmIChub3J0aFdlc3QubGF0ID4gbGF0TGlzdFtpXSAmJiBzb3V0aEVhc3QubGF0IDwgbGF0TGlzdFtpXSkge1xuICAgICAgICBsaW5lTGlzdC5wdXNoKFtbbGF0TGlzdFtpXSwgbWlubG5nXSwgW2xhdExpc3RbaV0sIG1heGxuZ11dKVxuICAgICAgfVxuICAgICAgLy8gZml4IHJpZ2h0IHRvcCBsaW5lXG4gICAgICBpZiAobm9ydGhXZXN0LmxhdCA8IGxhdExpc3RbaV0pIHtcbiAgICAgICAgbGluZUxpc3QucHVzaChbW2xhdExpc3RbaV0sIG1pbmxuZ10sIFtsYXRMaXN0W2ldLCBtYXhsbmddXSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXQgPSBsaW5lTGlzdFtsaW5lTGlzdC5sZW5ndGggLSAxXVswXVswXVxuXG4gICAgZm9yIChsZXQgaSA9IGxuZ0xvd0luZGV4OyBpIDwgbG5nTGlzdC5sZW5ndGggLSAyOyBpKyspIHtcbiAgICAgIGlmIChub3J0aFdlc3QubG5nIDwgbG5nTGlzdFtpXSAmJiBzb3V0aEVhc3QubG5nID4gbG5nTGlzdFtpXSkge1xuICAgICAgICBsaW5lTGlzdC5wdXNoKFtbbWlubGF0LCBsbmdMaXN0W2ldXSwgW21heGxhdCwgbG5nTGlzdFtpXV1dKVxuICAgICAgfVxuICAgICAgaWYgKHNvdXRoRWFzdC5sbmcgPCBsbmdMaXN0W2ldKSB7XG4gICAgICAgIGxpbmVMaXN0LnB1c2goW1ttaW5sYXQsIGxuZ0xpc3RbaV1dLCBbbWF4bGF0LCBsbmdMaXN0W2ldXV0pXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgbG5nID0gbGluZUxpc3RbbGluZUxpc3QubGVuZ3RoIC0gMV1bMF1bMV1cblxuICAgIGxpbmVMaXN0LmZvckVhY2goKGl0KSA9PiB7XG4gICAgICBpZiAoaXRbMV1bMV0gPT09IG1heGxuZykge1xuICAgICAgICBpdFsxXVsxXSA9IGxuZ1xuICAgICAgfVxuICAgICAgaWYgKGl0WzFdWzBdID09PSBtYXhsYXQpIHtcbiAgICAgICAgaXRbMV1bMF0gPSBsYXRcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIEwucG9seWxpbmUobGluZUxpc3QgYXMgTC5MYXRMbmdFeHByZXNzaW9uW11bXSwge1xuICAgICAgY29sb3IsXG4gICAgICB3ZWlnaHQ6IDEsXG4gICAgfSkuYWRkVG8odGhpcy5tYXApXG4gIH1cblxuICBwcml2YXRlIHNob3dHcmlkTGF5ZXJCeVpvb20obWV0ZXI6IG51bWJlciwgem9vbTogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMuZ3JpZExheWVyMSkge1xuICAgICAgdGhpcy5ncmlkTGF5ZXIxLnJlbW92ZSgpXG4gICAgfVxuICAgIGlmICh0aGlzLmdyaWRMYXllcjIpIHtcbiAgICAgIHRoaXMuZ3JpZExheWVyMi5yZW1vdmUoKVxuICAgIH1cbiAgICBpZiAodGhpcy5ncmlkTGF5ZXIzKSB7XG4gICAgICB0aGlzLmdyaWRMYXllcjMucmVtb3ZlKClcbiAgICB9XG4gICAgY29uc3QgYmVzdE1ldGVyID0gdGhpcy56b29tTGV2ZWxCZXN0TWV0ZXJbem9vbV1cbiAgICBjb25zdCBtb2QgPSBiZXN0TWV0ZXIgJSBtZXRlclxuICAgIGNvbnN0IHF1b3RpZW50ID0gYmVzdE1ldGVyIC8gbWV0ZXJcbiAgICBsZXQgcmVhbE1ldGVyID0gbWV0ZXJcbiAgICBpZiAobW9kIDwgbWV0ZXIgLyAyKSB7XG4gICAgICByZWFsTWV0ZXIgPSBxdW90aWVudCAqIG1ldGVyXG4gICAgfVxuICAgIGlmIChtb2QgPj0gbWV0ZXIgLyAyKSB7XG4gICAgICByZWFsTWV0ZXIgPSAocXVvdGllbnQgKyAxKSAqIG1ldGVyXG4gICAgfVxuICAgIGlmIChtZXRlciA+IGJlc3RNZXRlciB8fCB6b29tID09PSAxOCkge1xuICAgICAgdGhpcy5ncmlkTGF5ZXIzID0gdGhpcy5zaG93R2xvYmFsR3JpZChtZXRlciwgJyNjY2MnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMuZ3JpZExheWVyMyA9IHRoaXMuc2hvd0dsb2JhbEdyaWQocmVhbE1ldGVyLCAnI2NjYycpXG4gICAgdGhpcy5ncmlkTGF5ZXIyID0gdGhpcy5zaG93R2xvYmFsR3JpZChyZWFsTWV0ZXIgKiA0LCAnIzk5OScpXG4gICAgdGhpcy5ncmlkTGF5ZXIxID0gdGhpcy5zaG93R2xvYmFsR3JpZChyZWFsTWV0ZXIgKiA4LCAnIzY2NicpXG4gIH1cblxuICBwcml2YXRlIGdldExhdGxuZ0xpc3QobWV0ZXI6IG51bWJlcikge1xuICAgIGNvbnN0IG1heGxhdCA9IHRoaXMubWF4bGF0XG4gICAgY29uc3QgbWF4bG5nID0gdGhpcy5tYXhsbmdcbiAgICBjb25zdCBtaW5sYXQgPSB0aGlzLm1pbmxhdFxuICAgIGNvbnN0IG1pbmxuZyA9IHRoaXMubWlubG5nXG4gICAgbGV0IGxhdCA9IG1pbmxhdFxuICAgIGxldCBsbmcgPSBtaW5sbmdcbiAgICBjb25zdCBsYXRMaXN0ID0gW11cbiAgICBjb25zdCBsbmdMaXN0ID0gW11cblxuICAgIHdoaWxlIChsYXQgPCBtYXhsYXQpIHtcbiAgICAgIGNvbnN0IHBvaW50ID0gW2xhdCwgbWlubG5nXVxuICAgICAgbGF0TGlzdC5wdXNoKGxhdClcbiAgICAgIGNvbnN0IG5ld1BvaW50ID0gdGhpcy5nZXROZXh0UG9pbnRCeURpc3RhbmNlKHBvaW50LCBtZXRlcilcblxuICAgICAgbGF0ID0gbmV3UG9pbnRbMF1cbiAgICB9XG5cbiAgICB3aGlsZSAobG5nIDwgbWF4bG5nKSB7XG4gICAgICBjb25zdCBwb2ludCA9IFttaW5sYXQsIGxuZ11cbiAgICAgIGNvbnN0IG5ld1BvaW50ID0gdGhpcy5nZXROZXh0UG9pbnRCeURpc3RhbmNlKHBvaW50LCBtZXRlcilcblxuICAgICAgbG5nTGlzdC5wdXNoKGxuZylcbiAgICAgIGxuZyA9IG5ld1BvaW50WzFdXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgbGF0TGlzdCwgbG5nTGlzdCB9XG4gIH1cblxuICBwcml2YXRlIGJpbmFyeV9zZWFyY2goYXJyOiBudW1iZXJbXSwga2V5OiBudW1iZXIpIHtcbiAgICBsZXQgbG93ID0gMFxuICAgIGxldCBoaWdoID0gYXJyLmxlbmd0aCAtIDJcblxuICAgIHdoaWxlIChsb3cgPD0gaGlnaCkge1xuICAgICAgY29uc3QgbWlkID0gTWF0aC5mbG9vcigoaGlnaCArIGxvdykgLyAyKVxuICAgICAgaWYgKGtleSA+PSBhcnJbbWlkXSAmJiBrZXkgPCBhcnJbbWlkICsgMV0pIHtcbiAgICAgICAgcmV0dXJuIG1pZFxuICAgICAgfSBlbHNlIGlmIChrZXkgPiBhcnJbbWlkXSAmJiBrZXkgPiBhcnJbbWlkICsgMV0pIHtcbiAgICAgICAgbG93ID0gbWlkICsgMVxuICAgICAgfSBlbHNlIGlmIChrZXkgPCBhcnJbbWlkXSAmJiBrZXkgPCBhcnJbbWlkICsgMV0pIHtcbiAgICAgICAgaGlnaCA9IG1pZCAtIDFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgSUxheWVyLCBDaGFubmVsRnVuYywgRGF0YUxpc3RJdGVtIH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMnXG5pbXBvcnQgeyBnZXRGZWF0dXJlSW5mbywgZ2V0Q2FwYWJpbGl0aWVzIH0gZnJvbSAnLi91dGlscydcbmltcG9ydCB7IGlzVW5kZWZpbmVkLCBpc051bGwsIGlzTm90aGluZyB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IEdyaWRMYXllciBmcm9tICcuLi9ncmlkL0dyaWRMYXllcidcbmltcG9ydCBNYXJrZXJzTGF5ZXIgZnJvbSAnLi4vbWFya2VyL01hcmtlcnNMYXllcidcblxudHlwZSBHZXRTdHlsZXMgPSAob3B0aW9uczogYW55KSA9PiBQcm9taXNlPHN0cmluZz5cbnR5cGUgR2V0TGF5ZXJzID0gKG9wdGlvbnM6IGFueSkgPT4gUHJvbWlzZTxzdHJpbmc+XG50eXBlIEdldEVudlBhcmFtcyA9IChvcHRpb25zOiBhbnkpID0+IFByb21pc2U8b2JqZWN0PlxudHlwZSBHZXRDcWxGaWx0ZXIgPSAob3B0aW9uczogYW55KSA9PiBQcm9taXNlPHN0cmluZz5cbmV4cG9ydCBpbnRlcmZhY2UgV21zVGlsZU9wdGlvbnMgZXh0ZW5kcyBMLldNU09wdGlvbnMge1xuICB3bXNVUkw/OiBzdHJpbmdcbiAgZ2V0TGF5ZXJzPzogR2V0TGF5ZXJzXG4gIGdldFN0eWxlcz86IEdldFN0eWxlc1xuICBnZXRFbnZQYXJhbXM/OiBHZXRFbnZQYXJhbXNcbiAgZ2V0Q3FsRmlsdGVyPzogR2V0Q3FsRmlsdGVyXG59XG5cbmNvbnN0IFBPUFVQX0NPTlRFTlRfTlVMTF9URVhUID0gJ+aXoOaVsOaNridcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZUxheWVyIGltcGxlbWVudHMgSUxheWVyIHtcbiAgcHJpdmF0ZSB2aXNpYmxlOiBib29sZWFuXG4gIHByaXZhdGUgdGlsZUxheWVyOiBMLlRpbGVMYXllclxuICBwcml2YXRlIHBvcHVwOiBMLlBvcHVwXG4gIHByaXZhdGUgcG9wdXBQcm9wOiBzdHJpbmdcbiAgcHJpdmF0ZSBwb3B1cERhdGE6IGFueVxuICBwcml2YXRlIGxheWVyczogc3RyaW5nXG4gIHByaXZhdGUgc3R5bGVzOiBzdHJpbmdcbiAgcHJpdmF0ZSBlbnZQYXJhbXM6IG9iamVjdFxuICBwcml2YXRlIGNxbEZpbHRlcjogc3RyaW5nXG4gIHByaXZhdGUgZ3JpZExheWVyOiBHcmlkTGF5ZXJcbiAgcHJpdmF0ZSBjbHVzdGVyTGF5ZXI6IE1hcmtlcnNMYXllclxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgbWFwOiBMLk1hcCxcbiAgICBwdWJsaWMgb3B0aW9uczogV21zVGlsZU9wdGlvbnMsXG4gICAgcHVibGljIGNoYW5uZWxGdW5jOiBDaGFubmVsRnVuYyxcbiAgICBwdWJsaWMgZGF0YTogYW55XG4gICkge1xuICAgIHRoaXMudmlzaWJsZSA9IHRydWVcbiAgICB0aGlzLnRpbGVMYXllciA9IG51bGxcbiAgICB0aGlzLnBvcHVwID0gbnVsbFxuICAgIHRoaXMucG9wdXBQcm9wID0gbnVsbFxuICAgIHRoaXMucG9wdXBEYXRhID0gbnVsbFxuICAgIHRoaXMubGF5ZXJzID0gdGhpcy5vcHRpb25zLmxheWVyc1xuICAgIHRoaXMuc3R5bGVzID0gdGhpcy5vcHRpb25zLnN0eWxlc1xuICAgIHRoaXMuZ3JpZExheWVyID0gbnVsbFxuICAgIHRoaXMuZW52UGFyYW1zID0gbnVsbFxuICAgIHRoaXMuY3FsRmlsdGVyID0gbnVsbFxuICAgIHRoaXMuaW5pdEV2ZW50cygpXG4gIH1cbiAgcHVibGljIGFzeW5jIGRyYXcoKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodGhpcy5jbHVzdGVyTGF5ZXIpIHtcbiAgICAgIHRoaXMuY2x1c3RlckxheWVyLmRlc3Ryb3koKVxuICAgIH1cbiAgICBpZiAodGhpcy50aWxlTGF5ZXIpIHtcbiAgICAgIHRoaXMudGlsZUxheWVyLnJlbW92ZSgpXG4gICAgfVxuICAgIHRoaXMudGlsZUxheWVyID0gYXdhaXQgdGhpcy5nZXRMYXllcigpXG4gICAgaWYgKHRoaXMudGlsZUxheWVyKSB7XG4gICAgICB0aGlzLnRpbGVMYXllci5hZGRUbyh0aGlzLm1hcClcbiAgICB9XG4gIH1cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudGlsZUxheWVyKSB7XG4gICAgICB0aGlzLnRpbGVMYXllci5yZW1vdmUoKVxuICAgIH1cbiAgICBpZiAodGhpcy5ncmlkTGF5ZXIpIHtcbiAgICAgIHRoaXMuZ3JpZExheWVyLnJlbW92ZSgpXG4gICAgfVxuICAgIGlmICh0aGlzLnBvcHVwKSB7XG4gICAgICB0aGlzLnBvcHVwLnJlbW92ZSgpXG4gICAgfVxuICAgIGlmICh0aGlzLmNsdXN0ZXJMYXllcikge1xuICAgICAgdGhpcy5jbHVzdGVyTGF5ZXIuZGVzdHJveSgpXG4gICAgfVxuICAgIHRoaXMuZGVzdHJveUV2ZW50cygpXG4gIH1cbiAgcHVibGljIGdldERhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YVxuICB9XG4gIHB1YmxpYyBnZXRPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnNcbiAgfVxuICBwdWJsaWMgYXN5bmMgZml0Qm91bmRzKCkge1xuICAgIC8vIHRlbXBcbiAgICBpZiAodGhpcy5jbHVzdGVyTGF5ZXIpIHtcbiAgICAgIHRoaXMuY2x1c3RlckxheWVyLmZpdEJvdW5kcygpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBib3VuZHMgPSBhd2FpdCB0aGlzLmdldEJvdW5kcygpXG4gICAgaWYgKGJvdW5kcykge1xuICAgICAgdGhpcy5tYXAuZml0Qm91bmRzKGJvdW5kcylcbiAgICB9XG4gIH1cbiAgcHVibGljIGFzeW5jIGdldEJvdW5kcygpIHtcbiAgICBjb25zdCBqc0RhdGEgPSBhd2FpdCBnZXRDYXBhYmlsaXRpZXModGhpcy5vcHRpb25zLndtc1VSTClcbiAgICBjb25zdCBsYXllckxpc3QgPSBqc0RhdGEuV01UX01TX0NhcGFiaWxpdGllcy5DYXBhYmlsaXR5LkxheWVyLkxheWVyIGFzIGFueVtdXG4gICAgaWYgKCF0aGlzLmxheWVycykge1xuICAgICAgY29uc29sZS53YXJuKCd3bXMuY29uZmlnLmxheWVycyBpcyBudWxsJylcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IGxheWVycyA9IHRoaXMubGF5ZXJzLnNwbGl0KCcsJylcbiAgICBjb25zdCBsYXllclRhYmxlTmFtZUxpc3QgPSBsYXllcnMubWFwKChpdCkgPT4gaXQuc3BsaXQoJzonKVsxXSlcbiAgICBjb25zdCBsYXllckluZm9zID0gbGF5ZXJUYWJsZU5hbWVMaXN0XG4gICAgICAubWFwKCh0YWJsZU5hbWUpID0+IHtcbiAgICAgICAgcmV0dXJuIGxheWVyTGlzdC5maW5kKChpdCkgPT4gaXQuTmFtZS5fdGV4dCA9PT0gdGFibGVOYW1lKVxuICAgICAgfSlcbiAgICAgIC5maWx0ZXIoKGl0KSA9PiAhaXNVbmRlZmluZWQoaXQpKVxuICAgIGlmIChsYXllckluZm9zLmxlbmd0aCA8PSAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ25vdCBmb3VuZCBsYXllckluZm8nKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgbWlueCxcbiAgICAgIG1pbnksXG4gICAgICBtYXh4LFxuICAgICAgbWF4eSxcbiAgICB9ID0gbGF5ZXJJbmZvc1swXS5MYXRMb25Cb3VuZGluZ0JveC5fYXR0cmlidXRlc1xuICAgIGNvbnN0IGluaXRpYWxCb3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhcbiAgICAgIEwubGF0TG5nKG1pbnksIG1pbngpLFxuICAgICAgTC5sYXRMbmcobWF4eSwgbWF4eClcbiAgICApXG4gICAgY29uc3QgYWxsQm91bmRzID0gbGF5ZXJJbmZvcy5zbGljZSgxKS5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgY29uc3QgeyBtaW54LCBtaW55LCBtYXh4LCBtYXh5IH0gPSBjdXJyLkxhdExvbkJvdW5kaW5nQm94Ll9hdHRyaWJ1dGVzXG4gICAgICByZXR1cm4gcHJldi5leHRlbmQoTC5sYXRMbmcobWlueSwgbWlueCkpLmV4dGVuZChMLmxhdExuZyhtYXh5LCBtYXh4KSlcbiAgICB9LCBpbml0aWFsQm91bmRzKVxuICAgIHJldHVybiBhbGxCb3VuZHNcbiAgfVxuICBwdWJsaWMgdG9nZ2xlVmlzaWJsZSh2aXNpYmxlOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZVxuICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgIHRoaXMuZHJhdygpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVzdHJveSgpXG4gICAgfVxuICB9XG4gIHB1YmxpYyBwaXRjaChfaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKVxuICB9XG4gIHB1YmxpYyBzZXRQb3B1cFByb3AocHJvcDogc3RyaW5nKSB7XG4gICAgdGhpcy5wb3B1cFByb3AgPSBwcm9wXG4gICAgaWYgKHRoaXMucG9wdXAgJiYgdGhpcy5wb3B1cC5pc09wZW4oKSkge1xuICAgICAgY29uc3QgcG9wdXBDb250ZW50ID0gdGhpcy5nZXRQb3B1cENvbnRlbnQoKVxuICAgICAgaWYgKCFpc051bGwocG9wdXBDb250ZW50KSkge1xuICAgICAgICB0aGlzLnBvcHVwLnNldENvbnRlbnQocG9wdXBDb250ZW50KVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBwdWJsaWMgc2hvd0dyaWQoZGlzdGFuY2U6IG51bWJlciA9IDEwMCkge1xuICAgIHRoaXMuaGlkZUdyaWQoKVxuICAgIHRoaXMuZ3JpZExheWVyID0gbmV3IEdyaWRMYXllcih7IG1hcDogdGhpcy5tYXAsIGRpc3RhbmNlIH0pXG4gICAgdGhpcy5ncmlkTGF5ZXIuZHJhdygpXG4gIH1cbiAgcHVibGljIGhpZGVHcmlkKCkge1xuICAgIGlmICh0aGlzLmdyaWRMYXllcikge1xuICAgICAgdGhpcy5ncmlkTGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgX2NsdXN0ZXIoZGF0YUxpc3Q6IERhdGFMaXN0SXRlbVtdKSB7XG4gICAgaWYgKHRoaXMudGlsZUxheWVyKSB7XG4gICAgICB0aGlzLnRpbGVMYXllci5yZW1vdmUoKVxuICAgIH1cbiAgICBjb25zdCBjbHVzdGVyTGF5ZXIgPSBuZXcgTWFya2Vyc0xheWVyKFxuICAgICAgdGhpcy5tYXAsXG4gICAgICBkYXRhTGlzdCxcbiAgICAgIHtcbiAgICAgICAgcmVuZGVyVHlwZTogJ2NsdXN0ZXInLFxuICAgICAgICBpY29uVHlwZTogJ3VuaWNvZGUnLFxuICAgICAgICBpY29uVW5pY29kZTogJyYjeGU2NTUnLFxuICAgICAgfSxcbiAgICAgIHRoaXMuY2hhbm5lbEZ1bmNcbiAgICApXG4gICAgY2x1c3RlckxheWVyLmRyYXcoKVxuICAgIHRoaXMuY2x1c3RlckxheWVyID0gY2x1c3RlckxheWVyXG4gICAgcmV0dXJuIGNsdXN0ZXJMYXllclxuICB9XG4gIHByaXZhdGUgYXN5bmMgZ2V0TGF5ZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgd21zVVJMLFxuICAgICAgZ2V0TGF5ZXJzLFxuICAgICAgZ2V0U3R5bGVzLFxuICAgICAgZ2V0RW52UGFyYW1zLFxuICAgICAgZ2V0Q3FsRmlsdGVyLFxuICAgIH0gPSB0aGlzLm9wdGlvbnNcbiAgICBpZiAoZ2V0TGF5ZXJzKSB7XG4gICAgICB0aGlzLmxheWVycyA9IGF3YWl0IGdldExheWVycyh0aGlzLmdldERhdGEoKSlcbiAgICB9XG4gICAgaWYgKGdldFN0eWxlcykge1xuICAgICAgdGhpcy5zdHlsZXMgPSBhd2FpdCBnZXRTdHlsZXModGhpcy5nZXREYXRhKCkpXG4gICAgfVxuICAgIGlmIChnZXRFbnZQYXJhbXMpIHtcbiAgICAgIHRoaXMuZW52UGFyYW1zID0gYXdhaXQgZ2V0RW52UGFyYW1zKHRoaXMuZ2V0RGF0YSgpKVxuICAgIH1cbiAgICBpZiAoZ2V0Q3FsRmlsdGVyKSB7XG4gICAgICB0aGlzLmNxbEZpbHRlciA9IGF3YWl0IGdldENxbEZpbHRlcih0aGlzLmdldERhdGEoKSlcbiAgICB9XG4gICAgY29uc3QgdGlsZUxheWVyID0gTC50aWxlTGF5ZXIud21zKHdtc1VSTCwge1xuICAgICAgbGF5ZXJzOiB0aGlzLmxheWVycyxcbiAgICAgIHN0eWxlczogdGhpcy5zdHlsZXMsXG4gICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICAgIGZvcm1hdDogJ2ltYWdlL3BuZycsXG4gICAgICBjcnM6IEwuQ1JTLkVQU0c0MzI2LFxuICAgIH0pXG4gICAgaWYgKCFpc051bGwodGhpcy5lbnZQYXJhbXMpKSB7XG4gICAgICB0aWxlTGF5ZXIuc2V0UGFyYW1zKHtcbiAgICAgICAgZW52OiBPYmplY3QuZW50cmllcyh0aGlzLmVudlBhcmFtcylcbiAgICAgICAgICAubWFwKChbaywgdl0pID0+IGAke2t9OiR7dn1gKVxuICAgICAgICAgIC5qb2luKCc7JyksXG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAoIWlzTnVsbCh0aGlzLmNxbEZpbHRlcikpIHtcbiAgICAgIHRpbGVMYXllci5zZXRQYXJhbXMoe1xuICAgICAgICBjcWxfZmlsdGVyOiB0aGlzLmNxbEZpbHRlcixcbiAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiB0aWxlTGF5ZXJcbiAgfVxuICBwcml2YXRlIGFzeW5jIGNsaWNrSGFuZGxlcihlOiBMLkxlYWZsZXRNb3VzZUV2ZW50KSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZ2V0RmVhdHVyZUluZm8oZSlcbiAgICBpZiAodGhpcy5wb3B1cCkge1xuICAgICAgdGhpcy5wb3B1cC5yZW1vdmUoKVxuICAgIH1cbiAgICBpZiAoZGF0YS5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmNoYW5uZWxGdW5jKCdjbGljaycsIGRhdGEpXG4gICAgICBpZiAoaXNOdWxsKHRoaXMucG9wdXBQcm9wKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHRoaXMucG9wdXBEYXRhID0gZGF0YS5mZWF0dXJlc1swXS5wcm9wZXJ0aWVzXG4gICAgICBjb25zdCBwb3B1cENvbnRlbnQgPSB0aGlzLmdldFBvcHVwQ29udGVudCgpXG4gICAgICBpZiAoaXNOdWxsKHBvcHVwQ29udGVudCkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB0aGlzLnBvcHVwID0gTC5wb3B1cCgpXG4gICAgICAgIC5zZXRMYXRMbmcoZS5sYXRsbmcpXG4gICAgICAgIC5zZXRDb250ZW50KHBvcHVwQ29udGVudClcbiAgICAgICAgLm9wZW5Pbih0aGlzLm1hcClcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBnZXRQb3B1cENvbnRlbnQoKTogbnVsbCB8IHN0cmluZyB7XG4gICAgaWYgKGlzTm90aGluZyh0aGlzLnBvcHVwUHJvcCkpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IHBvcHVwQ29udGVudCA9IHRoaXMucG9wdXBEYXRhW3RoaXMucG9wdXBQcm9wXVxuICAgIGlmIChpc1VuZGVmaW5lZChwb3B1cENvbnRlbnQpKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICBpZiAoaXNOdWxsKHBvcHVwQ29udGVudCkpIHtcbiAgICAgIHJldHVybiBQT1BVUF9DT05URU5UX05VTExfVEVYVFxuICAgIH1cbiAgICByZXR1cm4gYCR7cG9wdXBDb250ZW50fWBcbiAgfVxuICBwcml2YXRlIGFzeW5jIGNvbnRleHRtZW51SGFuZGxlcihlOiBMLkxlYWZsZXRNb3VzZUV2ZW50KSB7XG4gICAgaWYgKHRoaXMucG9wdXApIHtcbiAgICAgIHRoaXMucG9wdXAucmVtb3ZlKClcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZ2V0RmVhdHVyZUluZm8oZSlcbiAgICB0aGlzLmNoYW5uZWxGdW5jKCdjb250ZXh0bWVudScsIGRhdGEpXG4gIH1cbiAgcHJpdmF0ZSBhc3luYyBnZXRGZWF0dXJlSW5mbyhlOiBMLkxlYWZsZXRNb3VzZUV2ZW50KSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0RmVhdHVyZUluZm8oe1xuICAgICAgbWFwOiB0aGlzLm1hcCxcbiAgICAgIGxhdGxuZzogZS5sYXRsbmcsXG4gICAgICB3bXNVUkw6IHRoaXMub3B0aW9ucy53bXNVUkwsXG4gICAgICBsYXllcnM6IHRoaXMubGF5ZXJzLFxuICAgICAgc3R5bGVzOiB0aGlzLnN0eWxlcyxcbiAgICB9KVxuICAgIHJldHVybiB7XG4gICAgICBmZWF0dXJlczogcmVzLmZlYXR1cmVzLFxuICAgICAgb3JpZ2luYWxFdmVudDogZSxcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBpbml0RXZlbnRzKCkge1xuICAgIHRoaXMubWFwLm9uKCdjb250ZXh0bWVudScsIHRoaXMuY29udGV4dG1lbnVIYW5kbGVyLCB0aGlzKVxuICAgIHRoaXMubWFwLm9uKCdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGVyLCB0aGlzKVxuICB9XG4gIHByaXZhdGUgZGVzdHJveUV2ZW50cygpIHtcbiAgICB0aGlzLm1hcC5vZmYoJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIsIHRoaXMpXG4gIH1cbn1cbiIsImltcG9ydCBNYXJrZXIgZnJvbSAnLi9tYXJrZXIvTWFya2VyJ1xuaW1wb3J0IE1hcmtlcnNMYXllciBmcm9tICcuL21hcmtlci9NYXJrZXJzTGF5ZXInXG5pbXBvcnQgTWFya2Vyc0J1ZmZlckxheWVyIGZyb20gJy4vbWFya2VyL01hcmtlcnNCdWZmZXJMYXllcidcbmltcG9ydCBQb2x5bGluZSBmcm9tICcuL3BvbHlsaW5lL1BvbHlsaW5lJ1xuaW1wb3J0IFBvbHlsaW5lc0xheWVyIGZyb20gJy4vcG9seWxpbmUvUG9seWxpbmVzTGF5ZXInXG5pbXBvcnQgUG9seWxpbmVzQnVmZmVyTGF5ZXIgZnJvbSAnLi9wb2x5bGluZS9Qb2x5bGluZXNCdWZmZXJMYXllcidcbmltcG9ydCBQb2x5Z29uIGZyb20gJy4vcG9seWdvbi9Qb2x5Z29uJ1xuaW1wb3J0IFBvbHlnb25zTGF5ZXIgZnJvbSAnLi9wb2x5Z29uL1BvbHlnb25zTGF5ZXInXG5pbXBvcnQgR3JpZHNMYXllciBmcm9tICcuL3BvbHlnb24vR3JpZHNMYXllcidcbmltcG9ydCBEeW5hbWljSGVhdExheWVyIGZyb20gJy4vZHluYW1pY0hlYXRMYXllci9EeW5hbWljSGVhdExheWVyJ1xuaW1wb3J0IFdtc1RpbGUgZnJvbSAnLi93bXNUaWxlL1dtc1RpbGUnXG5pbXBvcnQgUG9pbnRTdHlsZXMgZnJvbSAnLi9TTEQvUG9pbnRTdHlsZXMnXG5pbXBvcnQgTGluZVN0eWxlcyBmcm9tICcuL1NMRC9MaW5lU3R5bGVzJ1xuaW1wb3J0IFBvbHlnb25TdHlsZXMgZnJvbSAnLi9TTEQvUG9seWdvblN0eWxlcydcbmltcG9ydCBSYXN0ZXJTdHlsZXMgZnJvbSAnLi9TTEQvUmFzdGVyU3R5bGVzJ1xuaW1wb3J0IFRpbGVMYXllciBmcm9tICcuL3dtc1RpbGUvVGlsZUxheWVyJ1xuaW1wb3J0IEdyaWRMYXllciBmcm9tICcuL2dyaWQvR3JpZExheWVyJ1xuXG5leHBvcnQge1xuICBNYXJrZXIsXG4gIE1hcmtlcnNMYXllcixcbiAgTWFya2Vyc0J1ZmZlckxheWVyLFxuICBQb2x5bGluZSxcbiAgUG9seWxpbmVzTGF5ZXIsXG4gIFBvbHlsaW5lc0J1ZmZlckxheWVyLFxuICBQb2x5Z29uLFxuICBQb2x5Z29uc0xheWVyLFxuICBHcmlkc0xheWVyLFxuICBEeW5hbWljSGVhdExheWVyLFxuICBXbXNUaWxlLFxuICBQb2ludFN0eWxlcyxcbiAgTGluZVN0eWxlcyxcbiAgUG9seWdvblN0eWxlcyxcbiAgUmFzdGVyU3R5bGVzLFxuICBUaWxlTGF5ZXIsXG4gIEdyaWRMYXllcixcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=