!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.leafletMap=e():t.leafletMap=e()}(window,function(){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);class i extends L.Marker{constructor(t,e){super(t,e)}setData(t){this.__data=t}getData(){return this.__data}}class o{constructor(t,e,s,i){this.type="marker",this.map=t,this.dataList=e,this.options=Object.assign({},{renderType:"point",renderPointColorType:"single",iconType:"unicode",iconSize:[20,20],iconClass:"iconfont",iconColor:"#3388FF",iconAnchor:[10,20],segmentedColors:["#3388FF"],isCluster:!1,heatOptions:{max:1,minOpacity:1}},s),this.channelFunc=i,this.visible=!0,this.layer=null,this.focusedMarker=null,this.hoveredMarker=null,this.focusedDisplayMarker=null,this.markers=[],this.markerLayer=null,this.heatLayer=null,this.clusterLayer=null,this.segmentedMin=1/0,this.segmentedStep=1,this.zoomStartCb=this._zoomStartCb.bind(this),this.zoomEndCb=this._zoomEndCb.bind(this)}draw(t){return this.visible=!0,this.options=Object.assign(this.options,t),this.initMarkers(),this.redraw()}redraw(){if(this.visible){if(this.layer&&this.layer.remove(),this.options.isCluster&&"point"===this.options.renderType)this.layer=this.configClusterLayer();else switch(this.options.renderType){case"point":this.layer=this.configMarkerLayer();break;case"cluster":this.layer=this.configClusterLayer();break;case"heat":this.layer=this.configHeatLayer();break;default:throw new Error(`renderType 不支持"${this.options.renderType}"`)}return this.map.addLayer(this.layer),this}}setData(t){this.dataList=t}setOptions(t,e=!1){this.options=Object.assign(this.options,t),e&&this.redraw()}fitBounds(){this.map.fitBounds(this.getBounds())}getBounds(){return this.markers.length<=0?this.map.getBounds():this.markers.map(t=>[t.getLatLng().lat,t.getLatLng().lng])}destroy(){this.layer&&this.map.removeLayer(this.layer),this.map.off("zoomstart",this.zoomStartCb),this.map.off("zoomend",this.zoomEndCb)}toggleVisible(t){this.visible=t,this.layer&&(t?this.map.addLayer(this.layer):this.map.removeLayer(this.layer))}changeColor(t){this.options.iconColor=t,this.redraw()}changeIcon(t){this.options.iconUnicode=t,this.redraw()}pitch(t){this.markers.forEach(e=>{e.getData().id!==t||e.fire("click")})}_zoomStartCb(){this.visible&&("marker"===this.type&&("point"!==this.options.renderType||this.options.isCluster)||this.map.removeLayer(this.markerLayer))}_zoomEndCb(){this.visible&&("marker"===this.type&&("point"!==this.options.renderType||this.options.isCluster)||this.map.addLayer(this.markerLayer))}configMarkerLayer(){this.markerLayer&&this.markerLayer.remove();const t=L.canvasIconLayer({}).addTo(this.map);return t.addOnClickListener((t,[{data:e}])=>{this.markerClickHandler(e)}),t.addOnHoverListener((t,[{data:e}])=>{this.hoveredMarker&&this.hoveredMarker.closeTooltip(),this.hoveredMarker=e,this.hoveredMarker.getTooltip()?this.hoveredMarker.openTooltip():this.options.tooltipAttr&&this.hoveredMarker.bindTooltip(""+this.hoveredMarker.getData()[this.options.tooltipAttr])}),t.addMarkers(this.markers),this.map.on("zoomstart",this.zoomStartCb),this.map.on("zoomend",this.zoomEndCb),this.map.panTo(this.map.getCenter()),this.markerLayer=t,this.markerLayer}getToolTipContent(t){return""+t[this.options.tooltipAttr]}initMarkers(){this.cacheSegmentParams(),this.markers=[],this.dataList.forEach(t=>{const e=L.geoJSON(t.geometry).getLayers()[0],s=new i([e.getLatLng().lat,e.getLatLng().lng],{icon:this.getMarkerIcon(t)});s.setData(t),this.markers.push(s)})}markerClickHandler(t){this.focusedMarker=t,this.focusedDisplayMarker&&this.focusedDisplayMarker.removeFrom(this.map),this.focusedDisplayMarker=new i(t.getLatLng(),{icon:this.getLargerMarkerIcon(t.getData())}),this.focusedDisplayMarker.addTo(this.map),this.focusedDisplayMarker.bindPopup(this.getPopupContent(t.getData())).openPopup(),this.focusedDisplayMarker.on("popupclose",()=>{this.focusedDisplayMarker.remove()}),this.map.panTo(this.focusedMarker.getLatLng()),this.channelFunc("on-click-marker",t)}configClusterLayer(){return this.clusterLayer&&this.clusterLayer.remove(),this.clusterLayer=L.markerClusterGroup(),this.clusterLayer.addLayers(this.markers.map(t=>{const e=new i(t.getLatLng(),{icon:this.getMarkerIcon(t.getData())});return e.setData(t.getData()),e.bindTooltip(""+e.getData()[this.options.tooltipAttr]),e.bindPopup(""+e.getData()[this.options.popupAttr]),e.on("click",()=>{this.markerClickHandler(e)}),e})),this.clusterLayer}configHeatLayer(){return this.heatLayer&&this.heatLayer.remove(),this.markers.forEach(t=>{const e=t.getLatLng(),s=this.options.heatOptions&&this.options.heatOptions.dimensionAttr;let i=s&&t.getData()[s]||this.options.heatOptions.max;"number"!=typeof i&&(i=this.options.heatOptions.max),t.setLatLng(L.latLng(e.lat,e.lng,i))}),this.heatLayer=L.heatLayer(this.markers.map(t=>t.getLatLng()),Object.assign({},this.options.heatOptions,{minOpacity:1})),this.heatLayer}getLargerMarkerIcon(t){return this._getMarkerIcon(t,!0)}getMarkerIcon(t){return this._getMarkerIcon(t,!1)}_getMarkerIcon(t,e){const s=this.options.iconSize,i=this.options.iconAnchor,o=[1.5*s[0],1.5*s[1]],r=[1.5*i[0],1.5*i[1]],n=this.options.iconColor;switch(this.options.iconType){case"image":case"font_class":case"symbol":case"unicode":return L.divIcon({html:this.getCustomIconHTML(t,{iconSize:e?o:s,iconColor:n}),className:e?"large-div-icon-marker":"",iconSize:e?o:s,iconAnchor:e?r:i,tooltipAnchor:e?[0,-r[1]/2]:[0,-i[1]/2],popupAnchor:e?[0,-r[1]/2]:[0,-i[1]/2]});default:throw new Error(`renderType 不能为 ${this.options.iconType}`)}}getCustomIconHTML(t,e){if(this.options.iconRenderer)return e=Object.assign({},this.options,e),this.options.iconRenderer(t,e);switch(this.options.renderPointColorType){case"single":switch(this.options.iconType){case"font_class":return`\n              <i class="${this.options.iconClass}"\n                style="\n                  color: ${e.iconColor};\n                  font-size: ${e.iconSize[0]}px;\n                "\n                />\n            `;case"symbol":return`\n              <svg class="icon-symbol" aria-hidden="true">\n                <use xlink:href="${this.options.iconSymbol}" />\n              </svg>\n            `;case"unicode":return`\n              <i\n                class="${this.options.iconClass}"\n                style="\n                  color: ${e.iconColor};\n                  font-size: ${e.iconSize[0]}px;\n                "\n                >\n                ${this.options.iconUnicode}\n              </i>\n            `}break;case"segmented":switch(this.options.iconType){case"font_class":return`\n              <i\n                class="${this.options.iconClass}"\n                style="\n                  color: ${this.getSegmentedMarkerColor(t)};\n                  font-size: ${e.iconSize[0]}px;\n                "\n                />\n            `;case"symbol":return`\n              <svg class="icon-symbol" aria-hidden="true">\n                <use xlink:href="${this.options.iconSymbol}" />\n              </svg>\n            `;case"unicode":return`\n              <i\n                class="${this.options.iconClass}"\n                style="\n                  color: ${this.getSegmentedMarkerColor(t)};\n                  font-size: ${e.iconSize[0]}px;\n                "\n                >\n                ${this.options.iconUnicode}\n              </i>\n            `}break;default:throw new Error(`renderPointColorType 不支持"${this.options.renderPointColorType}"`)}}cacheSegmentParams(){const t=this.options.segmentedColors.length;let e=-1/0,s=1/0;for(const t of this.dataList){const i=t[this.options.segmentedAttr];e=Math.max(e,i),s=Math.min(s,i)}const i=(e-s+1)/t;this.segmentedMin=s,this.segmentedStep=i}getSegmentedMarkerColor(t){const e=t[this.options.segmentedAttr];return this.options.segmentedColors[parseInt(""+(e-this.segmentedMin)/this.segmentedStep,10)]}getPopupContent(t){return this.options.popupAttr?`${this.options.popupAttr}: ${t[this.options.popupAttr]}`:""}}class r extends o{constructor(t,e,s,i){super(t,e,s,i),this.type="markerBuffer";this.options=Object.assign(this.options,{bufferOptions:{radius:1e3,stroke:!0,weight:1}},s)}draw(t){return this.options=Object.assign(this.options,t),this.initMarkers(),this.redraw()}redraw(){if(this.visible)return this.markerLayer&&this.map.removeLayer(this.markerLayer),this.bufferLayer&&this.map.removeLayer(this.bufferLayer),this.markerLayer=this.configMarkerLayer(),this.bufferLayer=this.configBufferLayer(),this.layer=L.layerGroup(),this.layer.addLayer(this.markerLayer),this.layer.addLayer(this.bufferLayer),this.map.addLayer(this.layer),this}getBounds(){return this.markers.length<=0?this.map.getBounds():this.markers.reduce((t,e)=>t.extend(e.getLatLng().toBounds(this.options.bufferOptions.radius)),this.markers[0].getLatLng().toBounds(this.options.bufferOptions.radius))}configBufferLayer(){const t=L.layerGroup();return this.markers.forEach(e=>{const s=L.circle(e.getLatLng(),this.options.bufferOptions);this.options.bufferTooltipAttr&&s.bindTooltip(""+e.getData()[this.options.bufferTooltipAttr]),t.addLayer(s)}),t}}class n extends L.Polyline{constructor(t,e){super(t,e)}setData(t){this.__data=t}getData(){return this.__data}}class a{constructor(t,e,s,i){this.type="polyline",this.map=t,this.dataList=e,this.options=s,this.channelFunc=i,this.visible=!0,this.polylines=[],this.segmentedMin=1/0,this.segmentedStep=1,this.options=Object.assign({},{color:"#3388FF",renderPolylineColorType:"single",segmentedColors:["#3388FF"]},s)}draw(t){return this.options=Object.assign(this.options,t),this.initPolylines(),this.redraw()}redraw(){if(this.visible)return this.layer&&this.layer.remove(),this.layer=this.configPolylineLayer(),this.map.addLayer(this.layer),this}fitBounds(){this.map.fitBounds(this.getBounds())}getBounds(){return this.polylines.length<=0?this.map.getBounds():this.polylines.reduce((t,e)=>t.extend(e.getBounds()),this.polylines[0].getBounds())}destroy(){this.layer&&this.map.removeLayer(this.layer)}toggleVisible(t){this.visible=t,this.layer&&(t?this.map.addLayer(this.layer):this.map.removeLayer(this.layer))}changeColor(t){this.options.fillColor=t,this.redraw()}pitch(t){this.polylines.forEach(e=>{e.getData().id!==t||e.fire("click")})}initPolylines(){this.cacheSegmentParams(),this.polylines=this.dataList.map(t=>{const e=L.geoJSON(t.geometry).getLayers()[0],s=new n(e.getLatLngs());return s.setData(t),s})}getSegmentedPolylineColor(t){const e=t[this.options.segmentedAttr];return this.options.segmentedColors[parseInt(""+(e-this.segmentedMin)/this.segmentedStep,10)]}polylineClickHandler(t){this.channelFunc("on-click-polyline",t)}getToolTipContent(t){return""+t[this.options.tooltipAttr]}getPopupContent(t){return""+t[this.options.popupAttr]}configPolylineLayer(){return this.polylineLayer=L.layerGroup(),this.polylines.forEach(t=>{let e=this.options.color;"segmented"===this.options.renderPolylineColorType&&(e=this.getSegmentedPolylineColor(t.getData()));const s=Object.assign({},this.options,{color:e}),i=new n(t.getLatLngs(),s);i.on("click",()=>{this.polylineClickHandler(t)}),i.setData(t.getData()),this.options.tooltipAttr&&i.bindTooltip(this.getToolTipContent(i.getData())),this.options.popupAttr&&i.bindPopup(this.getPopupContent(i.getData())),this.polylineLayer.addLayer(i)}),this.polylineLayer}cacheSegmentParams(){const t=this.options.segmentedColors.length;let e=-1/0,s=1/0;for(const t of this.dataList){const i=t[this.options.segmentedAttr];e=Math.max(e,i),s=Math.min(s,i)}const i=(e-s+1)/t;this.segmentedMin=s,this.segmentedStep=i}}class h extends a{constructor(t,e,s,i){super(t,e,s,i);this.type="polylineBuffer",this.map=t,this.dataList=e,this.options=s,this.channelFunc=i,this.visible=!0,this.polylines=[],this.segmentedMin=1/0,this.segmentedStep=1,this.options=Object.assign({},{renderPolylineColorType:"single",segmentedColors:["#3388FF"],corridor:100,color:"#3388FF",opacity:.5},s)}draw(t){return this.options=Object.assign(this.options,t),this.initPolylines(),this.redraw()}redraw(){if(this.visible)return this.layer&&this.layer.remove(),this.layer=this.configPolylineBufferLayer(),this.map.addLayer(this.layer),this}fitBounds(){this.map.fitBounds(this.getBounds())}getBounds(){return this.polylines.length<=0?this.map.getBounds():this.polylines.reduce((t,e)=>t.extend(e.getBounds()),this.polylines[0].getBounds())}changeColor(t){this.options.color=t,this.redraw()}configPolylineBufferLayer(){return this.polylineLayer=L.layerGroup(),this.polylines.forEach(t=>{t.on("click",()=>{this.polylineClickHandler(t)});const e=Object.assign({},this.options,{color:"single"===this.options.renderPolylineColorType?this.options.color:this.getSegmentedPolylineColor(t.getData())}),s=L.corridor(t.getLatLngs().map(t=>L.latLng([t.lat,t.lng])),e);this.options.tooltipAttr&&s.bindTooltip(this.getToolTipContent(t.getData())),this.polylineLayer.addLayer(s)}),this.polylineLayer}}class l extends L.Polygon{constructor(t,e){super(t,e)}setData(t){this.__data=t}getData(){return this.__data}}class p{constructor(t,e,s,i){this.type="polygon",this.map=t,this.dataList=e,this.options=s,this.channelFunc=i,this.visible=!0,this.polygons=[],this.segmentedMin=1/0,this.segmentedStep=1,this.options=Object.assign({},{color:"#3388FF",fillColor:"#3388FF",renderPolygonColorType:"single",segmentedColors:["#3388FF"]},s)}draw(t){return this.options=Object.assign(this.options,t),this.initPolygons(),this.redraw()}redraw(){if(this.visible)return this.layer&&this.layer.remove(),this.layer=this.configPolygonLayer(),this.map.addLayer(this.layer),this}fitBounds(){this.map.fitBounds(this.getBounds())}getBounds(){return this.polygons.length<=0?this.map.getBounds():this.polygons.reduce((t,e)=>t.extend(e.getBounds()),this.polygons[0].getBounds())}destroy(){this.layer&&this.map.removeLayer(this.layer)}toggleVisible(t){this.visible=t,this.layer&&(t?this.map.addLayer(this.layer):this.map.removeLayer(this.layer))}changeColor(t){this.options.fillColor=t,this.redraw()}pitch(t){this.polygons.forEach(e=>{e.getData().id!==t||e.fire("click")})}getToolTipContent(t){return""+t[this.options.tooltipAttr]}getPopupContent(t){return""+t[this.options.popupAttr]}cacheSegmentParams(){const t=this.options.segmentedColors.length;let e=-1/0,s=1/0;for(const t of this.dataList){const i=t[this.options.segmentedAttr];e=Math.max(e,i),s=Math.min(s,i)}const i=(e-s+1)/t;this.segmentedMin=s,this.segmentedStep=i}getSegmentedPolygonColor(t){const e=t[this.options.segmentedAttr];return this.options.segmentedColors[parseInt(""+(e-this.segmentedMin)/this.segmentedStep,10)]}polygonClickHandler(t){this.channelFunc("on-click-polygon",t)}initPolygons(){this.cacheSegmentParams(),this.polygons=[],this.dataList.forEach(t=>{const e=L.geoJSON(t.geometry).getLayers()[0],s=new l(e.getLatLngs());s.setData(t),this.polygons.push(s)})}configPolygonLayer(){return this.polygonLayer=L.layerGroup(),this.polygons.forEach(t=>{let e=this.options.color;"segmented"===this.options.renderPolygonColorType&&(e=this.getSegmentedPolygonColor(t.getData()));const s=Object.assign({},this.options,{color:e}),i=new l(t.getLatLngs(),s);i.setData(t.getData()),i.on("click",()=>{this.polygonClickHandler(t)}),this.options.tooltipAttr&&i.bindTooltip(this.getToolTipContent(i.getData())),this.options.popupAttr&&i.bindPopup(this.getPopupContent(i.getData())),this.polygonLayer.addLayer(i)}),this.polygonLayer}}class c{constructor(t,e,s,i){this.map=t,this.dynamicDataList=e,this.options=s,this.channelFunc=i,this.currentStep=0,this.isPause=!0}restart(){this.isPause=!1,this.currentStep=0,this.gotoStep(this.currentStep),this.start()}start(){this.isPause=!1,this.options.auto&&setTimeout(()=>{if(!this.isPause)if(this.currentStep>=this.dynamicDataList.length-1){if(!this.options.loop)return;this.restart()}else this.currentStep++,this.gotoStep(this.currentStep),this.start()},this.options.interval)}pause(){this.isPause=!0}prev(){this.currentStep--,this.currentStep=(this.currentStep+this.dynamicDataList.length)%this.dynamicDataList.length,this.gotoStep(this.currentStep)}next(){this.currentStep++,this.currentStep=this.currentStep%this.dynamicDataList.length,this.gotoStep(this.currentStep)}gotoStep(t){if(t<0||t>=this.dynamicDataList.length)throw new Error(`gotoStep(${t}): step is out of index `);this.layer.setData(this.dynamicDataList[t]),this.layer.draw()}draw(t){return this.initOptions(t),this.initLayer(),this.layer.draw(),this}initOptions(t){this.options=Object.assign({loop:!1,auto:!1,interval:1e3},this.options,t)}initLayer(){const t={renderType:"heat",heatOptions:this.options};return this.layer=new o(this.map,this.dynamicDataList[0],t,this.channelFunc),this.layer}}s.d(e,"Marker",function(){return i}),s.d(e,"MarkersLayer",function(){return o}),s.d(e,"MarkersBufferLayer",function(){return r}),s.d(e,"Polyline",function(){return n}),s.d(e,"PolylinesLayer",function(){return a}),s.d(e,"PolylinesBufferLayer",function(){return h}),s.d(e,"Polygon",function(){return l}),s.d(e,"PolygonsLayer",function(){return p}),s.d(e,"DynamicHeatLayer",function(){return c});e.default={Marker:i,MarkersLayer:o,MarkersBufferLayer:r,Polyline:n,PolylinesLayer:a,PolylinesBufferLayer:h,Polygon:l,PolygonsLayer:p,DynamicHeatLayer:c}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWFmbGV0TWFwL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvbWFya2VyL01hcmtlci50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL21hcmtlci9NYXJrZXJzTGF5ZXIudHMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL3NyYy9tYXJrZXIvTWFya2Vyc0J1ZmZlckxheWVyLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvcG9seWxpbmUvUG9seWxpbmUudHMiLCJ3ZWJwYWNrOi8vbGVhZmxldE1hcC8uL3NyYy9wb2x5bGluZS9Qb2x5bGluZXNMYXllci50cyIsIndlYnBhY2s6Ly9sZWFmbGV0TWFwLy4vc3JjL3BvbHlsaW5lL1BvbHlsaW5lc0J1ZmZlckxheWVyLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvcG9seWdvbi9Qb2x5Z29uLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvcG9seWdvbi9Qb2x5Z29uc0xheWVyLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvZHluYW1pY0hlYXRMYXllci9EeW5hbWljSGVhdExheWVyLnRzIiwid2VicGFjazovL2xlYWZsZXRNYXAvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIk1hcmtlciIsIkwiLCJbb2JqZWN0IE9iamVjdF0iLCJsYXRsbmciLCJvcHRpb25zIiwic3VwZXIiLCJkYXRhIiwidGhpcyIsIl9fZGF0YSIsIk1hcmtlcnNMYXllcl9NYXJrZXJzTGF5ZXIiLCJtYXAiLCJkYXRhTGlzdCIsImNoYW5uZWxGdW5jIiwidHlwZSIsImFzc2lnbiIsInJlbmRlclR5cGUiLCJyZW5kZXJQb2ludENvbG9yVHlwZSIsImljb25UeXBlIiwiaWNvblNpemUiLCJpY29uQ2xhc3MiLCJpY29uQ29sb3IiLCJpY29uQW5jaG9yIiwic2VnbWVudGVkQ29sb3JzIiwiaXNDbHVzdGVyIiwiaGVhdE9wdGlvbnMiLCJtYXgiLCJtaW5PcGFjaXR5IiwidmlzaWJsZSIsImxheWVyIiwiZm9jdXNlZE1hcmtlciIsImhvdmVyZWRNYXJrZXIiLCJmb2N1c2VkRGlzcGxheU1hcmtlciIsIm1hcmtlcnMiLCJtYXJrZXJMYXllciIsImhlYXRMYXllciIsImNsdXN0ZXJMYXllciIsInNlZ21lbnRlZE1pbiIsIkluZmluaXR5Iiwic2VnbWVudGVkU3RlcCIsInpvb21TdGFydENiIiwiX3pvb21TdGFydENiIiwiem9vbUVuZENiIiwiX3pvb21FbmRDYiIsImluaXRNYXJrZXJzIiwicmVkcmF3IiwicmVtb3ZlIiwiY29uZmlnQ2x1c3RlckxheWVyIiwiY29uZmlnTWFya2VyTGF5ZXIiLCJjb25maWdIZWF0TGF5ZXIiLCJFcnJvciIsImFkZExheWVyIiwiZml0Qm91bmRzIiwiZ2V0Qm91bmRzIiwibGVuZ3RoIiwibWFya2VyIiwiZ2V0TGF0TG5nIiwibGF0IiwibG5nIiwicmVtb3ZlTGF5ZXIiLCJvZmYiLCJjb2xvciIsImljb25Vbmljb2RlIiwiaWQiLCJmb3JFYWNoIiwiZ2V0RGF0YSIsImZpcmUiLCJjYW52YXNJY29uTGF5ZXIiLCJhZGRUbyIsImFkZE9uQ2xpY2tMaXN0ZW5lciIsIl8iLCJtYXJrZXJDbGlja0hhbmRsZXIiLCJhZGRPbkhvdmVyTGlzdGVuZXIiLCJjbG9zZVRvb2x0aXAiLCJnZXRUb29sdGlwIiwib3BlblRvb2x0aXAiLCJ0b29sdGlwQXR0ciIsImJpbmRUb29sdGlwIiwiYWRkTWFya2VycyIsIm9uIiwicGFuVG8iLCJnZXRDZW50ZXIiLCJjYWNoZVNlZ21lbnRQYXJhbXMiLCJnZW9KU09OIiwiZ2VvbWV0cnkiLCJnZXRMYXllcnMiLCJpY29uIiwiZ2V0TWFya2VySWNvbiIsInNldERhdGEiLCJwdXNoIiwicmVtb3ZlRnJvbSIsImdldExhcmdlck1hcmtlckljb24iLCJiaW5kUG9wdXAiLCJnZXRQb3B1cENvbnRlbnQiLCJvcGVuUG9wdXAiLCJtYXJrZXJDbHVzdGVyR3JvdXAiLCJhZGRMYXllcnMiLCJwb3B1cEF0dHIiLCJsYXRMbmciLCJkaW1lbnNpb25BdHRyIiwiYWx0Iiwic2V0TGF0TG5nIiwiaXQiLCJfZ2V0TWFya2VySWNvbiIsImlzTGFyZ2VyIiwibGFyZ2VySWNvblNpemUiLCJsYXJnZXJJY29uQW5jaG9yIiwiZGl2SWNvbiIsImh0bWwiLCJnZXRDdXN0b21JY29uSFRNTCIsImNsYXNzTmFtZSIsInRvb2x0aXBBbmNob3IiLCJwb3B1cEFuY2hvciIsImljb25SZW5kZXJlciIsImljb25TeW1ib2wiLCJnZXRTZWdtZW50ZWRNYXJrZXJDb2xvciIsInNlZ21lbnRlZExlbmd0aCIsIm1heFZhbCIsIm1pblZhbCIsInZhbCIsInNlZ21lbnRlZEF0dHIiLCJNYXRoIiwibWluIiwic3RlcCIsInBhcnNlSW50IiwiTWFya2Vyc0J1ZmZlckxheWVyX01hcmtlcnNCdWZmZXJMYXllciIsImJ1ZmZlck9wdGlvbnMiLCJyYWRpdXMiLCJzdHJva2UiLCJ3ZWlnaHQiLCJidWZmZXJMYXllciIsImNvbmZpZ0J1ZmZlckxheWVyIiwibGF5ZXJHcm91cCIsInJlZHVjZSIsInByZXYiLCJjdXJyIiwiZXh0ZW5kIiwidG9Cb3VuZHMiLCJncm91cExheWVyIiwiY2lyY2xlTGF5ZXIiLCJjaXJjbGUiLCJidWZmZXJUb29sdGlwQXR0ciIsIlBvbHlsaW5lIiwibGF0bG5ncyIsIlBvbHlsaW5lc0xheWVyX1BvbHlsaW5lc0xheWVyIiwicG9seWxpbmVzIiwicmVuZGVyUG9seWxpbmVDb2xvclR5cGUiLCJpbml0UG9seWxpbmVzIiwiY29uZmlnUG9seWxpbmVMYXllciIsImZpbGxDb2xvciIsInBvbHlsaW5lIiwiZ2V0TGF0TG5ncyIsInBvbHlsaW5lTGF5ZXIiLCJnZXRTZWdtZW50ZWRQb2x5bGluZUNvbG9yIiwibmV3UG9seWxpbmUiLCJwb2x5bGluZUNsaWNrSGFuZGxlciIsImdldFRvb2xUaXBDb250ZW50IiwiUG9seWxpbmVzQnVmZmVyTGF5ZXJfUG9seWxpbmVzQnVmZmVyTGF5ZXIiLCJjb3JyaWRvciIsIm9wYWNpdHkiLCJjb25maWdQb2x5bGluZUJ1ZmZlckxheWVyIiwicG9seWxpbmVCdWZmZXIiLCJQb2x5Z29uIiwiUG9seWdvbnNMYXllcl9Qb2x5Z29uc0xheWVyIiwicG9seWdvbnMiLCJyZW5kZXJQb2x5Z29uQ29sb3JUeXBlIiwiaW5pdFBvbHlnb25zIiwiY29uZmlnUG9seWdvbkxheWVyIiwicG9seWdvbiIsInBvbHlnb25MYXllciIsImdldFNlZ21lbnRlZFBvbHlnb25Db2xvciIsIm5ld1BvbHlnb24iLCJwb2x5Z29uQ2xpY2tIYW5kbGVyIiwiRHluYW1pY0hlYXRMYXllcl9EeW5hbWljSGVhdExheWVyIiwiZHluYW1pY0RhdGFMaXN0IiwiY3VycmVudFN0ZXAiLCJpc1BhdXNlIiwiZ290b1N0ZXAiLCJzdGFydCIsImF1dG8iLCJzZXRUaW1lb3V0IiwibG9vcCIsInJlc3RhcnQiLCJpbnRlcnZhbCIsImRyYXciLCJpbml0T3B0aW9ucyIsImluaXRMYXllciIsIm1hcmtlcnNMYXllck9wdGlvbnMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiTWFya2Vyc0xheWVyIiwiTWFya2Vyc0J1ZmZlckxheWVyIiwiUG9seWxpbmVzTGF5ZXIiLCJQb2x5bGluZXNCdWZmZXJMYXllciIsIlBvbHlnb25zTGF5ZXIiLCJEeW5hbWljSGVhdExheWVyIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGlCQUFBQyxTQUFBLGlCQUFBQyxPQUNBQSxPQUFBRCxRQUFBRCxJQUNBLG1CQUFBRyxlQUFBQyxJQUNBRCxVQUFBSCxHQUNBLGlCQUFBQyxRQUNBQSxRQUFBLFdBQUFELElBRUFELEVBQUEsV0FBQUMsSUFSQSxDQVNDSyxPQUFBLFdBQ0QsbUJDVEEsSUFBQUMsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQVAsUUFHQSxJQUFBQyxFQUFBSSxFQUFBRSxJQUNBQyxFQUFBRCxFQUNBRSxHQUFBLEVBQ0FULFlBVUEsT0FOQVUsRUFBQUgsR0FBQUksS0FBQVYsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQU0sR0FHQUwsRUFBQVEsR0FBQSxFQUdBUixFQUFBRCxRQTBEQSxPQXJEQU0sRUFBQU0sRUFBQUYsRUFHQUosRUFBQU8sRUFBQVIsRUFHQUMsRUFBQVEsRUFBQSxTQUFBZCxFQUFBZSxFQUFBQyxHQUNBVixFQUFBVyxFQUFBakIsRUFBQWUsSUFDQUcsT0FBQUMsZUFBQW5CLEVBQUFlLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDVixFQUFBZ0IsRUFBQSxTQUFBdEIsR0FDQSxvQkFBQXVCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFuQixFQUFBdUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFuQixFQUFBLGNBQWlEeUIsT0FBQSxLQVFqRG5CLEVBQUFvQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBbkIsRUFBQW1CLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxP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LEVBQUFxTixFQUFBLGtDQUFBekIsSUFBQXBNLEVBQUFRLEVBQUFxTixFQUFBLHFDQUFBZixJQVVBZSxFQUFBLFNBQ0UzTCxTQUNBNEwsYUFBQW5MLEVBQ0FvTCxtQkFBQWpFLEVBQ0FpQixXQUNBaUQsZUFBQS9DLEVBQ0FnRCxxQkFBQW5DLEVBQ0FLLFVBQ0ErQixjQUFBOUIsRUFDQStCLGlCQUFBckIiLCJmaWxlIjoibGVhZmxldC1sYXllci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJsZWFmbGV0TWFwXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImxlYWZsZXRNYXBcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCB7IERhdGFMaXN0SXRlbSB9IGZyb20gJy4uL2RlZmluaXRpb25zJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXJrZXIgZXh0ZW5kcyBMLk1hcmtlciB7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lXG4gIHByaXZhdGUgX19kYXRhOiBEYXRhTGlzdEl0ZW1cbiAgY29uc3RydWN0b3IobGF0bG5nOiBMLkxhdExuZ0V4cHJlc3Npb24sIG9wdGlvbnM/OiBMLk1hcmtlck9wdGlvbnMpIHtcbiAgICBzdXBlcihsYXRsbmcsIG9wdGlvbnMpXG4gIH1cbiAgcHVibGljIHNldERhdGEoZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgdGhpcy5fX2RhdGEgPSBkYXRhXG4gIH1cbiAgcHVibGljIGdldERhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19kYXRhXG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFMaXN0SXRlbSwgQ2hhbm5lbEZ1bmMgfSBmcm9tICcuLi9kZWZpbml0aW9ucydcbmltcG9ydCBNYXJrZXIgZnJvbSAnLi9NYXJrZXInXG5cbi8qKiDmuLLmn5PmoLflvI8g5pWj54K5fOeDreWKm+WbviAqL1xudHlwZSBNYXJrZXJzTGF5ZXJSZW5kZXJUeXBlID0gJ3BvaW50JyB8ICdoZWF0JyB8ICdjbHVzdGVyJ1xuXG4vKiog5riy5p+T6aKc6Imy5qC35byPIOWNleiJsnzliIbmrrUgKi9cbnR5cGUgTWFya2Vyc0xheWVyUmVuZGVyUG9pbnRDb2xvclR5cGUgPSAnc2luZ2xlJyB8ICdzZWdtZW50ZWQnXG5cbi8qKiDmlaPngrnlm77moIfnsbvlnosgaWNvbmZvbnR8c3ZnfGltYWdlICovXG50eXBlIE1hcmtlcnNMYXllckljb25UeXBlID0gJ2ZvbnRfY2xhc3MnIHwgJ3VuaWNvZGUnIHwgJ3N5bWJvbCcgfCAnaW1hZ2UnXG5cbmludGVyZmFjZSBJY29uUmVuZGVyRnVuY09wdGlvbiB7XG4gIGljb25TaXplOiBbbnVtYmVyLCBudW1iZXJdXG4gIGljb25Db2xvcjogc3RyaW5nXG59XG50eXBlIEljb25SZW5kZXJGdW5jID0gKFxuICBkYXRhOiBEYXRhTGlzdEl0ZW0sXG4gIHBhcmFtczogSWNvblJlbmRlckZ1bmNPcHRpb25cbikgPT4gc3RyaW5nXG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFya2Vyc0xheWVyT3B0aW9ucyB7XG4gIHJlbmRlclR5cGU6IE1hcmtlcnNMYXllclJlbmRlclR5cGVcbiAgcmVuZGVyUG9pbnRDb2xvclR5cGU/OiBNYXJrZXJzTGF5ZXJSZW5kZXJQb2ludENvbG9yVHlwZVxuICBpY29uVHlwZT86IE1hcmtlcnNMYXllckljb25UeXBlXG5cbiAgaWNvbkltYWdlVXJsPzogc3RyaW5nXG4gIGljb25TaXplPzogW251bWJlciwgbnVtYmVyXVxuICBpY29uQ2xhc3M/OiBzdHJpbmdcbiAgaWNvblVuaWNvZGU/OiBzdHJpbmdcbiAgaWNvblN5bWJvbD86IHN0cmluZ1xuICBpY29uQ29sb3I/OiBzdHJpbmdcbiAgaWNvbkFuY2hvcj86IFtudW1iZXIsIG51bWJlcl1cbiAgaWNvblJlbmRlcmVyPzogSWNvblJlbmRlckZ1bmNcblxuICAvLyDmmK/lkKbogZrlkIjvvIzkvJjlhYjnuqfpq5jkuo4gcmVuZGVyVHlwZSA9PSBwb2ludFxuICBpc0NsdXN0ZXI/OiBib29sZWFuXG5cbiAgLyoqIHBvcHVwIOWxleekuuWtl+autSAqL1xuICBwb3B1cEF0dHI/OiBzdHJpbmdcbiAgLyoqIHRvb2x0aXAg5bGV56S65a2X5q61ICovXG4gIHRvb2x0aXBBdHRyPzogc3RyaW5nXG5cbiAgb3BhY2l0eT86IG51bWJlclxuXG4gIC8qKiDliIbmrrXmuLLmn5Pnu5/orqHlrZfmrrUgKi9cbiAgc2VnbWVudGVkQXR0cj86IHN0cmluZ1xuICBzZWdtZW50ZWRDb2xvcnM/OiBzdHJpbmdbXVxuXG4gIGhlYXRPcHRpb25zPzogTWFya2Vyc0hlYXRMYXllck9wdGlvbnNcbiAgY2x1c3Rlck9wdGlvbnM/OiBMLk1hcmtlcnNDbHVzdGVyT3B0aW9uc1xufVxuXG4vKiog6L2s5YyW5Li654Ot5Yqb5Zu+55qEIG9wdGlvbnMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWFya2Vyc0hlYXRMYXllck9wdGlvbnMgZXh0ZW5kcyBMLkhlYXRMYXllck9wdGlvbnMge1xuICBkaW1lbnNpb25BdHRyPzogc3RyaW5nXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmtlcnNMYXllciB7XG4gIHB1YmxpYyBtYXA6IEwuTWFwXG4gIHB1YmxpYyBkYXRhTGlzdDogRGF0YUxpc3RJdGVtW11cbiAgcHVibGljIG9wdGlvbnM6IE1hcmtlcnNMYXllck9wdGlvbnNcbiAgcHVibGljIGNoYW5uZWxGdW5jOiBDaGFubmVsRnVuY1xuXG4gIHB1YmxpYyB0eXBlOiBzdHJpbmdcblxuICBwcm90ZWN0ZWQgbWFya2VyczogTWFya2VyW11cblxuICBwcm90ZWN0ZWQgZm9jdXNlZE1hcmtlcjogTWFya2VyXG4gIHByb3RlY3RlZCBob3ZlcmVkTWFya2VyOiBNYXJrZXJcbiAgLyoqIOmcgOimgeWxleekuueahOaUvuWkp+eahOWbvuaghyAqL1xuICBwcm90ZWN0ZWQgZm9jdXNlZERpc3BsYXlNYXJrZXI6IE1hcmtlclxuICBwcm90ZWN0ZWQgbWFya2VyTGF5ZXI6IEwuQ2FudmFzSWNvbkxheWVyXG5cbiAgcHJvdGVjdGVkIHZpc2libGU6IGJvb2xlYW5cbiAgcHJvdGVjdGVkIGxheWVyOlxuICAgIHwgTC5DYW52YXNJY29uTGF5ZXJcbiAgICB8IEwuSGVhdExheWVyXG4gICAgfCBMLk1hcmtlcnNDbHVzdGVyXG4gICAgfCBMLkxheWVyR3JvdXBcbiAgcHJvdGVjdGVkIHpvb21TdGFydENiOiAoKSA9PiB2b2lkXG4gIHByb3RlY3RlZCB6b29tRW5kQ2I6ICgpID0+IHZvaWRcbiAgcHJpdmF0ZSBoZWF0TGF5ZXI6IEwuSGVhdExheWVyXG4gIHByaXZhdGUgY2x1c3RlckxheWVyOiBMLk1hcmtlcnNDbHVzdGVyXG5cbiAgcHJpdmF0ZSBzZWdtZW50ZWRNaW46IG51bWJlclxuICBwcml2YXRlIHNlZ21lbnRlZFN0ZXA6IG51bWJlclxuICBjb25zdHJ1Y3RvcihcbiAgICBtYXA6IEwuTWFwLFxuICAgIGRhdGFMaXN0OiBEYXRhTGlzdEl0ZW1bXSxcbiAgICBvcHRpb25zOiBNYXJrZXJzTGF5ZXJPcHRpb25zLFxuICAgIGNoYW5uZWxGdW5jOiBDaGFubmVsRnVuY1xuICApIHtcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9uczogTWFya2Vyc0xheWVyT3B0aW9ucyA9IHtcbiAgICAgIHJlbmRlclR5cGU6ICdwb2ludCcsXG4gICAgICByZW5kZXJQb2ludENvbG9yVHlwZTogJ3NpbmdsZScsXG4gICAgICBpY29uVHlwZTogJ3VuaWNvZGUnLFxuICAgICAgaWNvblNpemU6IFsyMCwgMjBdLFxuICAgICAgaWNvbkNsYXNzOiAnaWNvbmZvbnQnLFxuICAgICAgaWNvbkNvbG9yOiAnIzMzODhGRicsXG4gICAgICBpY29uQW5jaG9yOiBbMTAsIDIwXSxcbiAgICAgIHNlZ21lbnRlZENvbG9yczogWycjMzM4OEZGJ10sXG4gICAgICBpc0NsdXN0ZXI6IGZhbHNlLFxuICAgICAgaGVhdE9wdGlvbnM6IHtcbiAgICAgICAgbWF4OiAxLFxuICAgICAgICBtaW5PcGFjaXR5OiAxLFxuICAgICAgfSxcbiAgICB9XG4gICAgdGhpcy50eXBlID0gJ21hcmtlcidcbiAgICB0aGlzLm1hcCA9IG1hcFxuICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhTGlzdFxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKVxuICAgIHRoaXMuY2hhbm5lbEZ1bmMgPSBjaGFubmVsRnVuY1xuXG4gICAgdGhpcy52aXNpYmxlID0gdHJ1ZVxuICAgIHRoaXMubGF5ZXIgPSBudWxsXG4gICAgdGhpcy5mb2N1c2VkTWFya2VyID0gbnVsbFxuICAgIHRoaXMuaG92ZXJlZE1hcmtlciA9IG51bGxcbiAgICB0aGlzLmZvY3VzZWREaXNwbGF5TWFya2VyID0gbnVsbFxuICAgIHRoaXMubWFya2VycyA9IFtdXG4gICAgdGhpcy5tYXJrZXJMYXllciA9IG51bGxcbiAgICB0aGlzLmhlYXRMYXllciA9IG51bGxcbiAgICB0aGlzLmNsdXN0ZXJMYXllciA9IG51bGxcblxuICAgIHRoaXMuc2VnbWVudGVkTWluID0gSW5maW5pdHlcbiAgICB0aGlzLnNlZ21lbnRlZFN0ZXAgPSAxXG5cbiAgICB0aGlzLnpvb21TdGFydENiID0gdGhpcy5fem9vbVN0YXJ0Q2IuYmluZCh0aGlzKVxuICAgIHRoaXMuem9vbUVuZENiID0gdGhpcy5fem9vbUVuZENiLmJpbmQodGhpcylcbiAgfVxuICBwdWJsaWMgZHJhdyhvcHRpb25zPzogTWFya2Vyc0xheWVyT3B0aW9ucykge1xuICAgIHRoaXMudmlzaWJsZSA9IHRydWVcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucylcbiAgICB0aGlzLmluaXRNYXJrZXJzKClcbiAgICByZXR1cm4gdGhpcy5yZWRyYXcoKVxuICB9XG4gIHB1YmxpYyByZWRyYXcoKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodGhpcy5sYXllcikge1xuICAgICAgdGhpcy5sYXllci5yZW1vdmUoKVxuICAgIH1cblxuICAgIC8vIOS8mOWFiOWIpOaWrSBpc0NsdXN0ZXJcbiAgICBpZiAodGhpcy5vcHRpb25zLmlzQ2x1c3RlciAmJiB0aGlzLm9wdGlvbnMucmVuZGVyVHlwZSA9PT0gJ3BvaW50Jykge1xuICAgICAgdGhpcy5sYXllciA9IHRoaXMuY29uZmlnQ2x1c3RlckxheWVyKClcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoICh0aGlzLm9wdGlvbnMucmVuZGVyVHlwZSkge1xuICAgICAgICBjYXNlICdwb2ludCc6IHtcbiAgICAgICAgICB0aGlzLmxheWVyID0gdGhpcy5jb25maWdNYXJrZXJMYXllcigpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdjbHVzdGVyJzoge1xuICAgICAgICAgIHRoaXMubGF5ZXIgPSB0aGlzLmNvbmZpZ0NsdXN0ZXJMYXllcigpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdoZWF0Jzoge1xuICAgICAgICAgIHRoaXMubGF5ZXIgPSB0aGlzLmNvbmZpZ0hlYXRMYXllcigpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZW5kZXJUeXBlIOS4jeaUr+aMgVwiJHt0aGlzLm9wdGlvbnMucmVuZGVyVHlwZX1cImApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllcilcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIHB1YmxpYyBzZXREYXRhKGRhdGE6IERhdGFMaXN0SXRlbVtdKSB7XG4gICAgdGhpcy5kYXRhTGlzdCA9IGRhdGFcbiAgfVxuICBwdWJsaWMgc2V0T3B0aW9ucyhvcHRpb25zOiBNYXJrZXJzTGF5ZXJPcHRpb25zLCByZWRyYXcgPSBmYWxzZSkge1xuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKVxuICAgIGlmIChyZWRyYXcpIHtcbiAgICAgIHRoaXMucmVkcmF3KClcbiAgICB9XG4gIH1cbiAgcHVibGljIGZpdEJvdW5kcygpIHtcbiAgICB0aGlzLm1hcC5maXRCb3VuZHModGhpcy5nZXRCb3VuZHMoKSlcbiAgfVxuICBwdWJsaWMgZ2V0Qm91bmRzKCk6IEwuTGF0TG5nQm91bmRzRXhwcmVzc2lvbiB7XG4gICAgaWYgKHRoaXMubWFya2Vycy5sZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwLmdldEJvdW5kcygpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLm1hcmtlcnMubWFwKFxuICAgICAgKG1hcmtlcikgPT5cbiAgICAgICAgW21hcmtlci5nZXRMYXRMbmcoKS5sYXQsIG1hcmtlci5nZXRMYXRMbmcoKS5sbmddIGFzIFtudW1iZXIsIG51bWJlcl1cbiAgICApXG4gIH1cbiAgcHVibGljIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMubGF5ZXIpIHtcbiAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKHRoaXMubGF5ZXIpXG4gICAgfVxuICAgIHRoaXMubWFwLm9mZignem9vbXN0YXJ0JywgdGhpcy56b29tU3RhcnRDYilcbiAgICB0aGlzLm1hcC5vZmYoJ3pvb21lbmQnLCB0aGlzLnpvb21FbmRDYilcbiAgfVxuICBwdWJsaWMgdG9nZ2xlVmlzaWJsZSh2aXNpYmxlOiBib29sZWFuKSB7XG4gICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZVxuICAgIGlmICghdGhpcy5sYXllcikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmxheWVyKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmxheWVyKVxuICAgIH1cbiAgfVxuICBwdWJsaWMgY2hhbmdlQ29sb3IoY29sb3I6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy5pY29uQ29sb3IgPSBjb2xvclxuICAgIHRoaXMucmVkcmF3KClcbiAgfVxuICBwdWJsaWMgY2hhbmdlSWNvbihpY29uVW5pY29kZTogc3RyaW5nKSB7XG4gICAgdGhpcy5vcHRpb25zLmljb25Vbmljb2RlID0gaWNvblVuaWNvZGVcbiAgICB0aGlzLnJlZHJhdygpXG4gIH1cbiAgcHVibGljIHBpdGNoKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLm1hcmtlcnMuZm9yRWFjaCgobWFya2VyKSA9PiB7XG4gICAgICBpZiAobWFya2VyLmdldERhdGEoKS5pZCA9PT0gaWQpIHtcbiAgICAgICAgbWFya2VyLmZpcmUoJ2NsaWNrJylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBwcm90ZWN0ZWQgX3pvb21TdGFydENiKCkge1xuICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMudHlwZSA9PT0gJ21hcmtlcicpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVuZGVyVHlwZSA9PT0gJ3BvaW50JyAmJiAhdGhpcy5vcHRpb25zLmlzQ2x1c3Rlcikge1xuICAgICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLm1hcmtlckxheWVyKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLm1hcmtlckxheWVyKVxuICAgIH1cbiAgfVxuICBwcm90ZWN0ZWQgX3pvb21FbmRDYigpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0aGlzLnR5cGUgPT09ICdtYXJrZXInKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJlbmRlclR5cGUgPT09ICdwb2ludCcgJiYgIXRoaXMub3B0aW9ucy5pc0NsdXN0ZXIpIHtcbiAgICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5tYXJrZXJMYXllcilcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5tYXJrZXJMYXllcilcbiAgICB9XG4gIH1cbiAgLyoqIOa4suafk+S4uuaVo+eCueWbviAqL1xuICBwcm90ZWN0ZWQgY29uZmlnTWFya2VyTGF5ZXIoKSB7XG4gICAgaWYgKHRoaXMubWFya2VyTGF5ZXIpIHtcbiAgICAgIHRoaXMubWFya2VyTGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gICAgY29uc3QgY2FudmFzSWNvbkxheWVyID0gTC5jYW52YXNJY29uTGF5ZXIoe30pLmFkZFRvKHRoaXMubWFwKVxuICAgIC8vIOa3u+WKoOeCueWHu+S6i+S7tlxuICAgIGNhbnZhc0ljb25MYXllci5hZGRPbkNsaWNrTGlzdGVuZXIoKF8sIFt7IGRhdGE6IG1hcmtlciB9XSkgPT4ge1xuICAgICAgdGhpcy5tYXJrZXJDbGlja0hhbmRsZXIobWFya2VyIGFzIE1hcmtlcilcbiAgICB9KVxuICAgIC8vIOa3u+WKoCBob3ZlciDkuovku7ZcbiAgICBjYW52YXNJY29uTGF5ZXIuYWRkT25Ib3Zlckxpc3RlbmVyKChfLCBbeyBkYXRhOiBtYXJrZXIgfV0pID0+IHtcbiAgICAgIC8vIOS5i+WJjeaciSBob3ZlciDnmoTlhbPpl60gdG9vbHRpcFxuICAgICAgaWYgKHRoaXMuaG92ZXJlZE1hcmtlcikge1xuICAgICAgICB0aGlzLmhvdmVyZWRNYXJrZXIuY2xvc2VUb29sdGlwKClcbiAgICAgIH1cbiAgICAgIHRoaXMuaG92ZXJlZE1hcmtlciA9IG1hcmtlciBhcyBNYXJrZXJcblxuICAgICAgaWYgKHRoaXMuaG92ZXJlZE1hcmtlci5nZXRUb29sdGlwKCkpIHtcbiAgICAgICAgLy8g5aaC5p6c5bey57uP6K6+572uIHRvb2x0aXAg55u05o6l5bGV56S6IHRvb2x0aXBcbiAgICAgICAgdGhpcy5ob3ZlcmVkTWFya2VyLm9wZW5Ub29sdGlwKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOWQpuWImee7keWumiB0b29sdGlwIOW5tuWxleekulxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRvb2x0aXBBdHRyKSB7XG4gICAgICAgICAgdGhpcy5ob3ZlcmVkTWFya2VyLmJpbmRUb29sdGlwKFxuICAgICAgICAgICAgJycgKyB0aGlzLmhvdmVyZWRNYXJrZXIuZ2V0RGF0YSgpW3RoaXMub3B0aW9ucy50b29sdGlwQXR0cl1cbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIGNhbnZhc0ljb25MYXllci5hZGRNYXJrZXJzKHRoaXMubWFya2VycylcblxuICAgIHRoaXMubWFwLm9uKCd6b29tc3RhcnQnLCB0aGlzLnpvb21TdGFydENiKVxuICAgIHRoaXMubWFwLm9uKCd6b29tZW5kJywgdGhpcy56b29tRW5kQ2IpXG5cbiAgICAvLyDop6PlhrPliJ3mrKHmuLLmn5PkuI3lh7rlm77moIfpl67pophcbiAgICB0aGlzLm1hcC5wYW5Ubyh0aGlzLm1hcC5nZXRDZW50ZXIoKSlcblxuICAgIHRoaXMubWFya2VyTGF5ZXIgPSBjYW52YXNJY29uTGF5ZXJcbiAgICByZXR1cm4gdGhpcy5tYXJrZXJMYXllclxuICB9XG4gIHByb3RlY3RlZCBnZXRUb29sVGlwQ29udGVudChkYXRhOiBEYXRhTGlzdEl0ZW0pIHtcbiAgICByZXR1cm4gJycgKyBkYXRhW3RoaXMub3B0aW9ucy50b29sdGlwQXR0cl1cbiAgfVxuICBwcm90ZWN0ZWQgaW5pdE1hcmtlcnMoKSB7XG4gICAgLy8g57yT5a2YIHNlZ21lbnQg55u45YWz5pWw5o2uXG4gICAgdGhpcy5jYWNoZVNlZ21lbnRQYXJhbXMoKVxuICAgIHRoaXMubWFya2VycyA9IFtdXG4gICAgdGhpcy5kYXRhTGlzdC5mb3JFYWNoKChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBsYXllciA9IEwuZ2VvSlNPTihkYXRhLmdlb21ldHJ5KS5nZXRMYXllcnMoKVswXVxuXG4gICAgICBjb25zdCBtYXJrZXIgPSBuZXcgTWFya2VyKFxuICAgICAgICBbXG4gICAgICAgICAgKGxheWVyIGFzIEwuTWFya2VyKS5nZXRMYXRMbmcoKS5sYXQsXG4gICAgICAgICAgKGxheWVyIGFzIEwuTWFya2VyKS5nZXRMYXRMbmcoKS5sbmcsXG4gICAgICAgIF0sXG4gICAgICAgIHtcbiAgICAgICAgICBpY29uOiB0aGlzLmdldE1hcmtlckljb24oZGF0YSksXG4gICAgICAgIH1cbiAgICAgIClcblxuICAgICAgLy8g5bCG55u45YWz5YC857uR5a6a5YiwIG1hcmtlcuS4ilxuICAgICAgbWFya2VyLnNldERhdGEoZGF0YSlcblxuICAgICAgdGhpcy5tYXJrZXJzLnB1c2gobWFya2VyKVxuICAgIH0pXG4gIH1cbiAgLy8g5aSE55CGIG1hcmtlciDngrnlh7vkuovku7ZcbiAgcHJpdmF0ZSBtYXJrZXJDbGlja0hhbmRsZXIobWFya2VyOiBNYXJrZXIpIHtcbiAgICB0aGlzLmZvY3VzZWRNYXJrZXIgPSBtYXJrZXJcbiAgICAvLyDliKDpmaTliY3kuIDkuKrmlL7lpKflm77moIdcbiAgICBpZiAodGhpcy5mb2N1c2VkRGlzcGxheU1hcmtlcikge1xuICAgICAgdGhpcy5mb2N1c2VkRGlzcGxheU1hcmtlci5yZW1vdmVGcm9tKHRoaXMubWFwKVxuICAgIH1cbiAgICAvLyDnlJ/miJDlvZPliY3mlL7lpKflm77moIdcbiAgICB0aGlzLmZvY3VzZWREaXNwbGF5TWFya2VyID0gbmV3IE1hcmtlcihtYXJrZXIuZ2V0TGF0TG5nKCksIHtcbiAgICAgIGljb246IHRoaXMuZ2V0TGFyZ2VyTWFya2VySWNvbihtYXJrZXIuZ2V0RGF0YSgpKSxcbiAgICB9KVxuICAgIHRoaXMuZm9jdXNlZERpc3BsYXlNYXJrZXIuYWRkVG8odGhpcy5tYXApXG5cbiAgICB0aGlzLmZvY3VzZWREaXNwbGF5TWFya2VyXG4gICAgICAuYmluZFBvcHVwKHRoaXMuZ2V0UG9wdXBDb250ZW50KG1hcmtlci5nZXREYXRhKCkpKVxuICAgICAgLm9wZW5Qb3B1cCgpXG4gICAgdGhpcy5mb2N1c2VkRGlzcGxheU1hcmtlci5vbigncG9wdXBjbG9zZScsICgpID0+IHtcbiAgICAgIHRoaXMuZm9jdXNlZERpc3BsYXlNYXJrZXIucmVtb3ZlKClcbiAgICB9KVxuXG4gICAgdGhpcy5tYXAucGFuVG8odGhpcy5mb2N1c2VkTWFya2VyLmdldExhdExuZygpKVxuICAgIHRoaXMuY2hhbm5lbEZ1bmMoJ29uLWNsaWNrLW1hcmtlcicsIG1hcmtlcilcbiAgfVxuICBwcml2YXRlIGNvbmZpZ0NsdXN0ZXJMYXllcigpIHtcbiAgICAvLyDlsZXnpLrogZrlkIjlm77lsYJcbiAgICBpZiAodGhpcy5jbHVzdGVyTGF5ZXIpIHtcbiAgICAgIHRoaXMuY2x1c3RlckxheWVyLnJlbW92ZSgpXG4gICAgfVxuICAgIHRoaXMuY2x1c3RlckxheWVyID0gTC5tYXJrZXJDbHVzdGVyR3JvdXAoKVxuICAgIHRoaXMuY2x1c3RlckxheWVyLmFkZExheWVycyhcbiAgICAgIHRoaXMubWFya2Vycy5tYXAoKG0pID0+IHtcbiAgICAgICAgY29uc3QgbWFya2VyID0gbmV3IE1hcmtlcihtLmdldExhdExuZygpLCB7XG4gICAgICAgICAgaWNvbjogdGhpcy5nZXRNYXJrZXJJY29uKG0uZ2V0RGF0YSgpKSxcbiAgICAgICAgfSlcbiAgICAgICAgbWFya2VyLnNldERhdGEobS5nZXREYXRhKCkpXG4gICAgICAgIG1hcmtlci5iaW5kVG9vbHRpcCgnJyArIG1hcmtlci5nZXREYXRhKClbdGhpcy5vcHRpb25zLnRvb2x0aXBBdHRyXSlcbiAgICAgICAgbWFya2VyLmJpbmRQb3B1cCgnJyArIG1hcmtlci5nZXREYXRhKClbdGhpcy5vcHRpb25zLnBvcHVwQXR0cl0pXG4gICAgICAgIG1hcmtlci5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5tYXJrZXJDbGlja0hhbmRsZXIobWFya2VyKVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gbWFya2VyXG4gICAgICB9KVxuICAgIClcbiAgICByZXR1cm4gdGhpcy5jbHVzdGVyTGF5ZXJcbiAgfVxuXG4gIC8qKiDmuLLmn5PkuLrng63lipvlm74gKi9cbiAgcHJpdmF0ZSBjb25maWdIZWF0TGF5ZXIoKSB7XG4gICAgaWYgKHRoaXMuaGVhdExheWVyKSB7XG4gICAgICB0aGlzLmhlYXRMYXllci5yZW1vdmUoKVxuICAgIH1cbiAgICB0aGlzLm1hcmtlcnMuZm9yRWFjaCgobWFya2VyKSA9PiB7XG4gICAgICBjb25zdCBsYXRMbmcgPSBtYXJrZXIuZ2V0TGF0TG5nKClcbiAgICAgIGNvbnN0IGRpbWVuc2lvbkF0dHIgPVxuICAgICAgICB0aGlzLm9wdGlvbnMuaGVhdE9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmhlYXRPcHRpb25zLmRpbWVuc2lvbkF0dHJcbiAgICAgIGxldCBhbHQgPVxuICAgICAgICAoZGltZW5zaW9uQXR0ciAmJiBtYXJrZXIuZ2V0RGF0YSgpW2RpbWVuc2lvbkF0dHJdKSB8fFxuICAgICAgICB0aGlzLm9wdGlvbnMuaGVhdE9wdGlvbnMubWF4XG4gICAgICBpZiAodHlwZW9mIGFsdCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgYWx0ID0gdGhpcy5vcHRpb25zLmhlYXRPcHRpb25zLm1heFxuICAgICAgfVxuICAgICAgbWFya2VyLnNldExhdExuZyhMLmxhdExuZyhsYXRMbmcubGF0LCBsYXRMbmcubG5nLCBhbHQpKVxuICAgIH0pXG4gICAgdGhpcy5oZWF0TGF5ZXIgPSBMLmhlYXRMYXllcihcbiAgICAgIHRoaXMubWFya2Vycy5tYXAoKGl0KSA9PiBpdC5nZXRMYXRMbmcoKSksXG4gICAgICAvLyBUT0RPOiDkvb/nlKggbWVyZ2VDb25maWcg566A5YyWXG4gICAgICBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMuaGVhdE9wdGlvbnMsIHsgbWluT3BhY2l0eTogMSB9KVxuICAgIClcbiAgICByZXR1cm4gdGhpcy5oZWF0TGF5ZXJcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TGFyZ2VyTWFya2VySWNvbihkYXRhOiBEYXRhTGlzdEl0ZW0pIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0TWFya2VySWNvbihkYXRhLCB0cnVlKVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRNYXJrZXJJY29uKGRhdGE6IERhdGFMaXN0SXRlbSkge1xuICAgIHJldHVybiB0aGlzLl9nZXRNYXJrZXJJY29uKGRhdGEsIGZhbHNlKVxuICB9XG5cbiAgLyoqIOiOt+WPluW9k+WJjSBtYXJrZXIg6ZyA6KaB5bGV56S655qEIGljb24gKi9cbiAgcHJpdmF0ZSBfZ2V0TWFya2VySWNvbihcbiAgICBkYXRhOiBEYXRhTGlzdEl0ZW0sXG4gICAgaXNMYXJnZXI6IGJvb2xlYW5cbiAgKTogTC5JY29uIHwgTC5EaXZJY29uIHtcbiAgICBjb25zdCBpY29uU2l6ZSA9IHRoaXMub3B0aW9ucy5pY29uU2l6ZVxuICAgIGNvbnN0IGljb25BbmNob3IgPSB0aGlzLm9wdGlvbnMuaWNvbkFuY2hvclxuICAgIGNvbnN0IGxhcmdlckljb25TaXplID0gW2ljb25TaXplWzBdICogMS41LCBpY29uU2l6ZVsxXSAqIDEuNV0gYXMgW1xuICAgICAgbnVtYmVyLFxuICAgICAgbnVtYmVyXG4gICAgXVxuICAgIGNvbnN0IGxhcmdlckljb25BbmNob3IgPSBbaWNvbkFuY2hvclswXSAqIDEuNSwgaWNvbkFuY2hvclsxXSAqIDEuNV0gYXMgW1xuICAgICAgbnVtYmVyLFxuICAgICAgbnVtYmVyXG4gICAgXVxuXG4gICAgY29uc3QgaWNvbkNvbG9yID0gdGhpcy5vcHRpb25zLmljb25Db2xvclxuXG4gICAgc3dpdGNoICh0aGlzLm9wdGlvbnMuaWNvblR5cGUpIHtcbiAgICAgIGNhc2UgJ2ltYWdlJzoge1xuICAgICAgICAvLyByZXR1cm4gTC5pY29uKHtcbiAgICAgICAgLy8gICBpY29uVXJsOiB0aGlzLm9wdGlvbnMuaWNvbkltYWdlVXJsLFxuICAgICAgICAvLyAgIGljb25TaXplOiBpc0xhcmdlciA/IGxhcmdlckljb25TaXplIDogaWNvblNpemUsXG4gICAgICAgIC8vICAgaWNvbkFuY2hvcixcbiAgICAgICAgLy8gfSlcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2ZvbnRfY2xhc3MnOlxuICAgICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgIGNhc2UgJ3VuaWNvZGUnOiB7XG4gICAgICAgIHJldHVybiBMLmRpdkljb24oe1xuICAgICAgICAgIGh0bWw6IHRoaXMuZ2V0Q3VzdG9tSWNvbkhUTUwoZGF0YSwge1xuICAgICAgICAgICAgaWNvblNpemU6IGlzTGFyZ2VyID8gbGFyZ2VySWNvblNpemUgOiBpY29uU2l6ZSxcbiAgICAgICAgICAgIGljb25Db2xvcixcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBjbGFzc05hbWU6IGlzTGFyZ2VyID8gJ2xhcmdlLWRpdi1pY29uLW1hcmtlcicgOiAnJyxcbiAgICAgICAgICBpY29uU2l6ZTogaXNMYXJnZXIgPyBsYXJnZXJJY29uU2l6ZSA6IGljb25TaXplLFxuICAgICAgICAgIGljb25BbmNob3I6IGlzTGFyZ2VyID8gbGFyZ2VySWNvbkFuY2hvciA6IGljb25BbmNob3IsXG4gICAgICAgICAgdG9vbHRpcEFuY2hvcjogaXNMYXJnZXJcbiAgICAgICAgICAgID8gWzAsIC1sYXJnZXJJY29uQW5jaG9yWzFdIC8gMl1cbiAgICAgICAgICAgIDogWzAsIC1pY29uQW5jaG9yWzFdIC8gMl0sXG4gICAgICAgICAgcG9wdXBBbmNob3I6IGlzTGFyZ2VyXG4gICAgICAgICAgICA/IFswLCAtbGFyZ2VySWNvbkFuY2hvclsxXSAvIDJdXG4gICAgICAgICAgICA6IFswLCAtaWNvbkFuY2hvclsxXSAvIDJdLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlbmRlclR5cGUg5LiN6IO95Li6ICR7dGhpcy5vcHRpb25zLmljb25UeXBlfWApXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHByaXZhdGUgZ2V0Q3VzdG9tSWNvbkhUTUwoXG4gICAgZGF0YTogRGF0YUxpc3RJdGVtLFxuICAgIG9wdGlvbnM/OiBJY29uUmVuZGVyRnVuY09wdGlvblxuICApOiBzdHJpbmcge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaWNvblJlbmRlcmVyKSB7XG4gICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKVxuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pY29uUmVuZGVyZXIoZGF0YSwgb3B0aW9ucylcbiAgICB9XG4gICAgc3dpdGNoICh0aGlzLm9wdGlvbnMucmVuZGVyUG9pbnRDb2xvclR5cGUpIHtcbiAgICAgIGNhc2UgJ3NpbmdsZSc6IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLm9wdGlvbnMuaWNvblR5cGUpIHtcbiAgICAgICAgICAvLyDkvb/nlKggY2xhc3NcbiAgICAgICAgICBjYXNlICdmb250X2NsYXNzJzoge1xuICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCIke3RoaXMub3B0aW9ucy5pY29uQ2xhc3N9XCJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIlxuICAgICAgICAgICAgICAgICAgY29sb3I6ICR7b3B0aW9ucy5pY29uQ29sb3J9O1xuICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAke29wdGlvbnMuaWNvblNpemVbMF19cHg7XG4gICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgYFxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyDkvb/nlKggc3ZnXG4gICAgICAgICAgY2FzZSAnc3ltYm9sJzoge1xuICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb24tc3ltYm9sXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPVwiJHt0aGlzLm9wdGlvbnMuaWNvblN5bWJvbH1cIiAvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8g5L2/55SoIHVuaWNvZGVcbiAgICAgICAgICBjYXNlICd1bmljb2RlJzoge1xuICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgICBjbGFzcz1cIiR7dGhpcy5vcHRpb25zLmljb25DbGFzc31cIlxuICAgICAgICAgICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJHtvcHRpb25zLmljb25Db2xvcn07XG4gICAgICAgICAgICAgICAgICBmb250LXNpemU6ICR7b3B0aW9ucy5pY29uU2l6ZVswXX1weDtcbiAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAke3RoaXMub3B0aW9ucy5pY29uVW5pY29kZX1cbiAgICAgICAgICAgICAgPC9pPlxuICAgICAgICAgICAgYFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnc2VnbWVudGVkJzoge1xuICAgICAgICBzd2l0Y2ggKHRoaXMub3B0aW9ucy5pY29uVHlwZSkge1xuICAgICAgICAgIC8vIOS9v+eUqCBjbGFzc1xuICAgICAgICAgIGNhc2UgJ2ZvbnRfY2xhc3MnOiB7XG4gICAgICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgICA8aVxuICAgICAgICAgICAgICAgIGNsYXNzPVwiJHt0aGlzLm9wdGlvbnMuaWNvbkNsYXNzfVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAke3RoaXMuZ2V0U2VnbWVudGVkTWFya2VyQ29sb3IoZGF0YSl9O1xuICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAke29wdGlvbnMuaWNvblNpemVbMF19cHg7XG4gICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgYFxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyDkvb/nlKggc3ZnXG4gICAgICAgICAgY2FzZSAnc3ltYm9sJzoge1xuICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb24tc3ltYm9sXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPVwiJHt0aGlzLm9wdGlvbnMuaWNvblN5bWJvbH1cIiAvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8g5L2/55SoIHVuaWNvZGVcbiAgICAgICAgICBjYXNlICd1bmljb2RlJzoge1xuICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgICBjbGFzcz1cIiR7dGhpcy5vcHRpb25zLmljb25DbGFzc31cIlxuICAgICAgICAgICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJHt0aGlzLmdldFNlZ21lbnRlZE1hcmtlckNvbG9yKGRhdGEpfTtcbiAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogJHtvcHRpb25zLmljb25TaXplWzBdfXB4O1xuICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICR7dGhpcy5vcHRpb25zLmljb25Vbmljb2RlfVxuICAgICAgICAgICAgICA8L2k+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgcmVuZGVyUG9pbnRDb2xvclR5cGUg5LiN5pSv5oyBXCIke3RoaXMub3B0aW9ucy5yZW5kZXJQb2ludENvbG9yVHlwZX1cImBcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBwcml2YXRlIGNhY2hlU2VnbWVudFBhcmFtcygpIHtcbiAgICBjb25zdCBzZWdtZW50ZWRMZW5ndGggPSB0aGlzLm9wdGlvbnMuc2VnbWVudGVkQ29sb3JzLmxlbmd0aFxuICAgIGxldCBtYXhWYWwgPSAtSW5maW5pdHlcbiAgICBsZXQgbWluVmFsID0gSW5maW5pdHlcbiAgICBmb3IgKGNvbnN0IGRhdGEgb2YgdGhpcy5kYXRhTGlzdCkge1xuICAgICAgY29uc3QgdmFsID0gZGF0YVt0aGlzLm9wdGlvbnMuc2VnbWVudGVkQXR0cl1cbiAgICAgIG1heFZhbCA9IE1hdGgubWF4KG1heFZhbCwgdmFsKVxuICAgICAgbWluVmFsID0gTWF0aC5taW4obWluVmFsLCB2YWwpXG4gICAgfVxuICAgIGNvbnN0IHN0ZXAgPSAobWF4VmFsIC0gbWluVmFsICsgMSkgLyBzZWdtZW50ZWRMZW5ndGhcbiAgICB0aGlzLnNlZ21lbnRlZE1pbiA9IG1pblZhbFxuICAgIHRoaXMuc2VnbWVudGVkU3RlcCA9IHN0ZXBcbiAgfVxuICBwcml2YXRlIGdldFNlZ21lbnRlZE1hcmtlckNvbG9yKGRhdGE6IERhdGFMaXN0SXRlbSk6IHN0cmluZyB7XG4gICAgY29uc3QgdmFsID0gZGF0YVt0aGlzLm9wdGlvbnMuc2VnbWVudGVkQXR0cl1cbiAgICBjb25zdCBjb2xvciA9IHRoaXMub3B0aW9ucy5zZWdtZW50ZWRDb2xvcnNbXG4gICAgICBwYXJzZUludCgnJyArICh2YWwgLSB0aGlzLnNlZ21lbnRlZE1pbikgLyB0aGlzLnNlZ21lbnRlZFN0ZXAsIDEwKVxuICAgIF1cbiAgICByZXR1cm4gY29sb3JcbiAgfVxuICBwcml2YXRlIGdldFBvcHVwQ29udGVudChkYXRhOiBEYXRhTGlzdEl0ZW0pIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5wb3B1cEF0dHIpIHtcbiAgICAgIHJldHVybiAnJ1xuICAgIH1cbiAgICByZXR1cm4gYCR7dGhpcy5vcHRpb25zLnBvcHVwQXR0cn06ICR7ZGF0YVt0aGlzLm9wdGlvbnMucG9wdXBBdHRyXX1gXG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFMaXN0SXRlbSwgQ2hhbm5lbEZ1bmMgfSBmcm9tICcuLi9kZWZpbml0aW9ucydcbmltcG9ydCBNYXJrZXJzTGF5ZXIsIHsgTWFya2Vyc0xheWVyT3B0aW9ucyB9IGZyb20gJy4vTWFya2Vyc0xheWVyJ1xuaW50ZXJmYWNlIE1hcmtlcnNCdWZmZXJMYXllck9wdGlvbnMgZXh0ZW5kcyBNYXJrZXJzTGF5ZXJPcHRpb25zIHtcbiAgYnVmZmVyVG9vbHRpcEF0dHI6IHN0cmluZ1xuICBidWZmZXJPcHRpb25zOiBMLkNpcmNsZU1hcmtlck9wdGlvbnNcbn1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmtlcnNCdWZmZXJMYXllciBleHRlbmRzIE1hcmtlcnNMYXllciB7XG4gIHB1YmxpYyBvcHRpb25zOiBNYXJrZXJzQnVmZmVyTGF5ZXJPcHRpb25zXG4gIHByaXZhdGUgYnVmZmVyTGF5ZXI6IEwuTGF5ZXJHcm91cFxuICBjb25zdHJ1Y3RvcihcbiAgICBtYXA6IEwuTWFwLFxuICAgIGRhdGFMaXN0OiBEYXRhTGlzdEl0ZW1bXSxcbiAgICBvcHRpb25zOiBNYXJrZXJzQnVmZmVyTGF5ZXJPcHRpb25zLFxuICAgIGNoYW5uZWxGdW5jOiBDaGFubmVsRnVuY1xuICApIHtcbiAgICBzdXBlcihtYXAsIGRhdGFMaXN0LCBvcHRpb25zLCBjaGFubmVsRnVuYylcbiAgICB0aGlzLnR5cGUgPSAnbWFya2VyQnVmZmVyJ1xuICAgIGNvbnN0IGRlZmF1bHRCdWZmZXJPcHRpb25zOiBMLkNpcmNsZU1hcmtlck9wdGlvbnMgPSB7XG4gICAgICByYWRpdXM6IDEwMDAsXG4gICAgICBzdHJva2U6IHRydWUsXG4gICAgICB3ZWlnaHQ6IDEsXG4gICAgfVxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB0aGlzLm9wdGlvbnMsXG4gICAgICB7IGJ1ZmZlck9wdGlvbnM6IGRlZmF1bHRCdWZmZXJPcHRpb25zIH0sXG4gICAgICBvcHRpb25zXG4gICAgKVxuICB9XG5cbiAgcHVibGljIGRyYXcob3B0aW9ucz86IE1hcmtlcnNCdWZmZXJMYXllck9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucylcbiAgICB0aGlzLmluaXRNYXJrZXJzKClcbiAgICByZXR1cm4gdGhpcy5yZWRyYXcoKVxuICB9XG5cbiAgcHVibGljIHJlZHJhdygpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0aGlzLm1hcmtlckxheWVyKSB7XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLm1hcmtlckxheWVyKVxuICAgIH1cbiAgICBpZiAodGhpcy5idWZmZXJMYXllcikge1xuICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIodGhpcy5idWZmZXJMYXllcilcbiAgICB9XG4gICAgdGhpcy5tYXJrZXJMYXllciA9IHRoaXMuY29uZmlnTWFya2VyTGF5ZXIoKVxuICAgIHRoaXMuYnVmZmVyTGF5ZXIgPSB0aGlzLmNvbmZpZ0J1ZmZlckxheWVyKClcblxuICAgIHRoaXMubGF5ZXIgPSBMLmxheWVyR3JvdXAoKVxuICAgIHRoaXMubGF5ZXIuYWRkTGF5ZXIodGhpcy5tYXJrZXJMYXllcilcbiAgICB0aGlzLmxheWVyLmFkZExheWVyKHRoaXMuYnVmZmVyTGF5ZXIpXG5cbiAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmxheWVyKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBwdWJsaWMgZ2V0Qm91bmRzKCk6IEwuTGF0TG5nQm91bmRzRXhwcmVzc2lvbiB7XG4gICAgaWYgKHRoaXMubWFya2Vycy5sZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwLmdldEJvdW5kcygpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLm1hcmtlcnMucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7XG4gICAgICByZXR1cm4gcHJldi5leHRlbmQoXG4gICAgICAgIGN1cnIuZ2V0TGF0TG5nKCkudG9Cb3VuZHModGhpcy5vcHRpb25zLmJ1ZmZlck9wdGlvbnMucmFkaXVzKVxuICAgICAgKVxuICAgIH0sIHRoaXMubWFya2Vyc1swXS5nZXRMYXRMbmcoKS50b0JvdW5kcyh0aGlzLm9wdGlvbnMuYnVmZmVyT3B0aW9ucy5yYWRpdXMpKVxuICB9XG5cbiAgcHJpdmF0ZSBjb25maWdCdWZmZXJMYXllcigpIHtcbiAgICBjb25zdCBncm91cExheWVyID0gTC5sYXllckdyb3VwKClcbiAgICB0aGlzLm1hcmtlcnMuZm9yRWFjaCgobWFya2VyKSA9PiB7XG4gICAgICBjb25zdCBjaXJjbGVMYXllciA9IEwuY2lyY2xlKFxuICAgICAgICBtYXJrZXIuZ2V0TGF0TG5nKCksXG4gICAgICAgIHRoaXMub3B0aW9ucy5idWZmZXJPcHRpb25zXG4gICAgICApXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmJ1ZmZlclRvb2x0aXBBdHRyKSB7XG4gICAgICAgIGNpcmNsZUxheWVyLmJpbmRUb29sdGlwKFxuICAgICAgICAgICcnICsgbWFya2VyLmdldERhdGEoKVt0aGlzLm9wdGlvbnMuYnVmZmVyVG9vbHRpcEF0dHJdXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGdyb3VwTGF5ZXIuYWRkTGF5ZXIoY2lyY2xlTGF5ZXIpXG4gICAgfSlcbiAgICByZXR1cm4gZ3JvdXBMYXllclxuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhTGlzdEl0ZW0gfSBmcm9tICcuLi9kZWZpbml0aW9ucydcblxuZXhwb3J0IHR5cGUgUG9seWxpbmVPcHRpb25zID0gTC5MYXRMbmdFeHByZXNzaW9uW10gfCBMLkxhdExuZ0V4cHJlc3Npb25bXVtdXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2x5bGluZSBleHRlbmRzIEwuUG9seWxpbmUge1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dmFyaWFibGUtbmFtZVxuICBwcml2YXRlIF9fZGF0YTogRGF0YUxpc3RJdGVtXG4gIGNvbnN0cnVjdG9yKGxhdGxuZ3M6IFBvbHlsaW5lT3B0aW9ucywgb3B0aW9ucz86IEwuUG9seWxpbmVPcHRpb25zKSB7XG4gICAgc3VwZXIobGF0bG5ncywgb3B0aW9ucylcbiAgfVxuICBwdWJsaWMgc2V0RGF0YShkYXRhOiBEYXRhTGlzdEl0ZW0pIHtcbiAgICB0aGlzLl9fZGF0YSA9IGRhdGFcbiAgfVxuICBwdWJsaWMgZ2V0RGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fX2RhdGFcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGF0YUxpc3RJdGVtLCBDaGFubmVsRnVuYyB9IGZyb20gJy4uL2RlZmluaXRpb25zJ1xuaW1wb3J0IFBvbHlsaW5lLCB7IFBvbHlsaW5lT3B0aW9ucyB9IGZyb20gJy4vUG9seWxpbmUnXG5cbi8qKiDmuLLmn5PpopzoibLmoLflvI8g5Y2V6ImyfOWIhuautSAqL1xudHlwZSBQb2x5bGluZUxheWVyUmVuZGVyQ29sb3JUeXBlID0gJ3NpbmdsZScgfCAnc2VnbWVudGVkJ1xuaW50ZXJmYWNlIFBvbHlsaW5lTGF5ZXJPcHRpb25zIGV4dGVuZHMgTC5Qb2x5bGluZU9wdGlvbnMge1xuICByZW5kZXJQb2x5bGluZUNvbG9yVHlwZTogUG9seWxpbmVMYXllclJlbmRlckNvbG9yVHlwZVxuXG4gIC8qKiBwb3B1cCDlsZXnpLrlrZfmrrUgKi9cbiAgcG9wdXBBdHRyPzogc3RyaW5nXG4gIC8qKiB0b29sdGlwIOWxleekuuWtl+autSAqL1xuICB0b29sdGlwQXR0cj86IHN0cmluZ1xuXG4gIG9wYWNpdHk/OiBudW1iZXJcblxuICAvKiog5YiG5q615riy5p+T57uf6K6h5a2X5q61ICovXG4gIHNlZ21lbnRlZEF0dHI/OiBzdHJpbmdcbiAgc2VnbWVudGVkQ29sb3JzPzogc3RyaW5nW11cbn1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvbHlsaW5lc0xheWVyIHtcbiAgcHVibGljIHR5cGU6IHN0cmluZ1xuXG4gIHByb3RlY3RlZCB2aXNpYmxlOiBib29sZWFuXG4gIHByb3RlY3RlZCBsYXllcjogTC5MYXllckdyb3VwXG5cbiAgcHJvdGVjdGVkIG1hcDogTC5NYXBcbiAgcHJvdGVjdGVkIGRhdGFMaXN0OiBEYXRhTGlzdEl0ZW1bXVxuICBwcm90ZWN0ZWQgb3B0aW9uczogUG9seWxpbmVMYXllck9wdGlvbnNcbiAgcHJvdGVjdGVkIGNoYW5uZWxGdW5jOiBDaGFubmVsRnVuY1xuICBwcm90ZWN0ZWQgcG9seWxpbmVzOiBQb2x5bGluZVtdXG4gIHByb3RlY3RlZCBzZWdtZW50ZWRNaW46IG51bWJlclxuICBwcm90ZWN0ZWQgc2VnbWVudGVkU3RlcDogbnVtYmVyXG4gIC8vIHByaXZhdGUgZm9jdXNlZFBvbHlsaW5lOiBQb2x5bGluZVxuICBwcm90ZWN0ZWQgcG9seWxpbmVMYXllcjogTC5MYXllckdyb3VwXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1hcDogTC5NYXAsXG4gICAgZGF0YUxpc3Q6IERhdGFMaXN0SXRlbVtdLFxuICAgIG9wdGlvbnM6IFBvbHlsaW5lTGF5ZXJPcHRpb25zLFxuICAgIGNoYW5uZWxGdW5jOiBDaGFubmVsRnVuY1xuICApIHtcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9uczogUG9seWxpbmVMYXllck9wdGlvbnMgPSB7XG4gICAgICBjb2xvcjogJyMzMzg4RkYnLFxuICAgICAgcmVuZGVyUG9seWxpbmVDb2xvclR5cGU6ICdzaW5nbGUnLFxuICAgICAgc2VnbWVudGVkQ29sb3JzOiBbJyMzMzg4RkYnXSxcbiAgICB9XG4gICAgdGhpcy50eXBlID0gJ3BvbHlsaW5lJ1xuICAgIHRoaXMubWFwID0gbWFwXG4gICAgdGhpcy5kYXRhTGlzdCA9IGRhdGFMaXN0XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICAgIHRoaXMuY2hhbm5lbEZ1bmMgPSBjaGFubmVsRnVuY1xuXG4gICAgdGhpcy52aXNpYmxlID0gdHJ1ZVxuICAgIHRoaXMucG9seWxpbmVzID0gW11cbiAgICB0aGlzLnNlZ21lbnRlZE1pbiA9IEluZmluaXR5XG4gICAgdGhpcy5zZWdtZW50ZWRTdGVwID0gMVxuICAgIC8vIHRoaXMuZm9jdXNlZFBvbHlsaW5lID0gbnVsbFxuXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpXG4gIH1cbiAgcHVibGljIGRyYXcob3B0aW9ucz86IFBvbHlsaW5lTGF5ZXJPcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpXG4gICAgdGhpcy5pbml0UG9seWxpbmVzKClcbiAgICByZXR1cm4gdGhpcy5yZWRyYXcoKVxuICB9XG4gIHB1YmxpYyByZWRyYXcoKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodGhpcy5sYXllcikge1xuICAgICAgdGhpcy5sYXllci5yZW1vdmUoKVxuICAgIH1cbiAgICB0aGlzLmxheWVyID0gdGhpcy5jb25maWdQb2x5bGluZUxheWVyKClcbiAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmxheWVyKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgcHVibGljIGZpdEJvdW5kcygpIHtcbiAgICB0aGlzLm1hcC5maXRCb3VuZHModGhpcy5nZXRCb3VuZHMoKSlcbiAgfVxuICBwdWJsaWMgZ2V0Qm91bmRzKCk6IEwuTGF0TG5nQm91bmRzRXhwcmVzc2lvbiB7XG4gICAgaWYgKHRoaXMucG9seWxpbmVzLmxlbmd0aCA8PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0Qm91bmRzKClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucG9seWxpbmVzLnJlZHVjZShcbiAgICAgIChwcmV2LCBjdXJyKSA9PiBwcmV2LmV4dGVuZChjdXJyLmdldEJvdW5kcygpKSxcbiAgICAgIHRoaXMucG9seWxpbmVzWzBdLmdldEJvdW5kcygpXG4gICAgKVxuICB9XG4gIHB1YmxpYyBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmxheWVyKSB7XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmxheWVyKVxuICAgIH1cbiAgfVxuICBwdWJsaWMgdG9nZ2xlVmlzaWJsZSh2aXNpYmxlOiBib29sZWFuKSB7XG4gICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZVxuICAgIGlmICghdGhpcy5sYXllcikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmxheWVyKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmxheWVyKVxuICAgIH1cbiAgfVxuICBwdWJsaWMgY2hhbmdlQ29sb3IoY29sb3I6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy5maWxsQ29sb3IgPSBjb2xvclxuICAgIHRoaXMucmVkcmF3KClcbiAgfVxuICBwdWJsaWMgcGl0Y2goaWQ6IHN0cmluZykge1xuICAgIHRoaXMucG9seWxpbmVzLmZvckVhY2goKHBvbHlsaW5lKSA9PiB7XG4gICAgICBpZiAocG9seWxpbmUuZ2V0RGF0YSgpLmlkID09PSBpZCkge1xuICAgICAgICBwb2x5bGluZS5maXJlKCdjbGljaycpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgcHJvdGVjdGVkIGluaXRQb2x5bGluZXMoKSB7XG4gICAgLy8g57yT5a2YIHNlZ21lbnQg55u45YWz5pWw5o2uXG4gICAgdGhpcy5jYWNoZVNlZ21lbnRQYXJhbXMoKVxuXG4gICAgdGhpcy5wb2x5bGluZXMgPSB0aGlzLmRhdGFMaXN0Lm1hcCgoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgbGF5ZXIgPSBMLmdlb0pTT04oZGF0YS5nZW9tZXRyeSkuZ2V0TGF5ZXJzKClbMF1cbiAgICAgIC8vIGxldCBjb2xvciA9IHRoaXMub3B0aW9ucy5jb2xvclxuICAgICAgLy8gaWYgKHRoaXMub3B0aW9ucy5yZW5kZXJQb2x5bGluZUNvbG9yVHlwZSA9PT0gJ3NlZ21lbnRlZCcpIHtcbiAgICAgIC8vICAgY29sb3IgPSB0aGlzLmdldFNlZ21lbnRlZFBvbHlsaW5lQ29sb3IoZGF0YSlcbiAgICAgIC8vIH1cbiAgICAgIGNvbnN0IHBvbHlsaW5lID0gbmV3IFBvbHlsaW5lKFxuICAgICAgICAobGF5ZXIgYXMgTC5Qb2x5bGluZSkuZ2V0TGF0TG5ncygpIGFzIFBvbHlsaW5lT3B0aW9uc1xuICAgICAgKVxuXG4gICAgICAvLyDlsIbnm7jlhbPlgLznu5HlrprliLAgbWFya2Vy5LiKXG4gICAgICBwb2x5bGluZS5zZXREYXRhKGRhdGEpXG5cbiAgICAgIHJldHVybiBwb2x5bGluZVxuICAgIH0pXG4gIH1cbiAgcHJvdGVjdGVkIGdldFNlZ21lbnRlZFBvbHlsaW5lQ29sb3IoZGF0YTogRGF0YUxpc3RJdGVtKTogc3RyaW5nIHtcbiAgICBjb25zdCB2YWwgPSBkYXRhW3RoaXMub3B0aW9ucy5zZWdtZW50ZWRBdHRyXVxuICAgIGNvbnN0IGNvbG9yID0gdGhpcy5vcHRpb25zLnNlZ21lbnRlZENvbG9yc1tcbiAgICAgIHBhcnNlSW50KCcnICsgKHZhbCAtIHRoaXMuc2VnbWVudGVkTWluKSAvIHRoaXMuc2VnbWVudGVkU3RlcCwgMTApXG4gICAgXVxuICAgIHJldHVybiBjb2xvclxuICB9XG4gIHByb3RlY3RlZCBwb2x5bGluZUNsaWNrSGFuZGxlcihwb2x5bGluZTogUG9seWxpbmUpIHtcbiAgICAvLyB0aGlzLmZvY3VzZWRQb2x5bGluZSA9IHBvbHlsaW5lXG4gICAgdGhpcy5jaGFubmVsRnVuYygnb24tY2xpY2stcG9seWxpbmUnLCBwb2x5bGluZSlcbiAgfVxuICBwcm90ZWN0ZWQgZ2V0VG9vbFRpcENvbnRlbnQoZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgcmV0dXJuICcnICsgZGF0YVt0aGlzLm9wdGlvbnMudG9vbHRpcEF0dHJdXG4gIH1cbiAgcHJvdGVjdGVkIGdldFBvcHVwQ29udGVudChkYXRhOiBEYXRhTGlzdEl0ZW0pIHtcbiAgICByZXR1cm4gJycgKyBkYXRhW3RoaXMub3B0aW9ucy5wb3B1cEF0dHJdXG4gIH1cbiAgcHJpdmF0ZSBjb25maWdQb2x5bGluZUxheWVyKCkge1xuICAgIHRoaXMucG9seWxpbmVMYXllciA9IEwubGF5ZXJHcm91cCgpXG4gICAgdGhpcy5wb2x5bGluZXMuZm9yRWFjaCgocG9seWxpbmUpID0+IHtcbiAgICAgIGxldCBjb2xvciA9IHRoaXMub3B0aW9ucy5jb2xvclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW5kZXJQb2x5bGluZUNvbG9yVHlwZSA9PT0gJ3NlZ21lbnRlZCcpIHtcbiAgICAgICAgY29sb3IgPSB0aGlzLmdldFNlZ21lbnRlZFBvbHlsaW5lQ29sb3IocG9seWxpbmUuZ2V0RGF0YSgpKVxuICAgICAgfVxuICAgICAgY29uc3Qgb3B0aW9uczogTC5Qb2x5bGluZU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMsIHtcbiAgICAgICAgY29sb3IsXG4gICAgICB9KVxuICAgICAgY29uc3QgbmV3UG9seWxpbmUgPSBuZXcgUG9seWxpbmUoXG4gICAgICAgIHBvbHlsaW5lLmdldExhdExuZ3MoKSBhcyBQb2x5bGluZU9wdGlvbnMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIClcbiAgICAgIG5ld1BvbHlsaW5lLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5wb2x5bGluZUNsaWNrSGFuZGxlcihwb2x5bGluZSlcbiAgICAgIH0pXG4gICAgICBuZXdQb2x5bGluZS5zZXREYXRhKHBvbHlsaW5lLmdldERhdGEoKSlcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbHRpcEF0dHIpIHtcbiAgICAgICAgbmV3UG9seWxpbmUuYmluZFRvb2x0aXAodGhpcy5nZXRUb29sVGlwQ29udGVudChuZXdQb2x5bGluZS5nZXREYXRhKCkpKVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wb3B1cEF0dHIpIHtcbiAgICAgICAgbmV3UG9seWxpbmUuYmluZFBvcHVwKHRoaXMuZ2V0UG9wdXBDb250ZW50KG5ld1BvbHlsaW5lLmdldERhdGEoKSkpXG4gICAgICB9XG4gICAgICB0aGlzLnBvbHlsaW5lTGF5ZXIuYWRkTGF5ZXIobmV3UG9seWxpbmUpXG4gICAgfSlcbiAgICByZXR1cm4gdGhpcy5wb2x5bGluZUxheWVyXG4gIH1cbiAgcHJpdmF0ZSBjYWNoZVNlZ21lbnRQYXJhbXMoKSB7XG4gICAgY29uc3Qgc2VnbWVudGVkTGVuZ3RoID0gdGhpcy5vcHRpb25zLnNlZ21lbnRlZENvbG9ycy5sZW5ndGhcbiAgICBsZXQgbWF4VmFsID0gLUluZmluaXR5XG4gICAgbGV0IG1pblZhbCA9IEluZmluaXR5XG4gICAgZm9yIChjb25zdCBkYXRhIG9mIHRoaXMuZGF0YUxpc3QpIHtcbiAgICAgIGNvbnN0IHZhbCA9IGRhdGFbdGhpcy5vcHRpb25zLnNlZ21lbnRlZEF0dHJdXG4gICAgICBtYXhWYWwgPSBNYXRoLm1heChtYXhWYWwsIHZhbClcbiAgICAgIG1pblZhbCA9IE1hdGgubWluKG1pblZhbCwgdmFsKVxuICAgIH1cbiAgICBjb25zdCBzdGVwID0gKG1heFZhbCAtIG1pblZhbCArIDEpIC8gc2VnbWVudGVkTGVuZ3RoXG4gICAgdGhpcy5zZWdtZW50ZWRNaW4gPSBtaW5WYWxcbiAgICB0aGlzLnNlZ21lbnRlZFN0ZXAgPSBzdGVwXG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFMaXN0SXRlbSwgQ2hhbm5lbEZ1bmMgfSBmcm9tICcuLi9kZWZpbml0aW9ucydcbmltcG9ydCBQb2x5bGluZXNMYXllciBmcm9tICcuL1BvbHlsaW5lc0xheWVyJ1xuXG4vKiog5riy5p+T6aKc6Imy5qC35byPIOWNleiJsnzliIbmrrUgKi9cbnR5cGUgUG9seWxpbmVMYXllclJlbmRlckNvbG9yVHlwZSA9ICdzaW5nbGUnIHwgJ3NlZ21lbnRlZCdcbmludGVyZmFjZSBQb2x5bGluZUJ1ZmZlckxheWVyT3B0aW9ucyBleHRlbmRzIEwuQ29ycmlkb3JPcHRpb25zIHtcbiAgcmVuZGVyUG9seWxpbmVDb2xvclR5cGU6IFBvbHlsaW5lTGF5ZXJSZW5kZXJDb2xvclR5cGVcblxuICAvKiogcG9wdXAg5bGV56S65a2X5q61ICovXG4gIHBvcHVwQXR0cj86IHN0cmluZ1xuICAvKiogdG9vbHRpcCDlsZXnpLrlrZfmrrUgKi9cbiAgdG9vbHRpcEF0dHI/OiBzdHJpbmdcblxuICBvcGFjaXR5PzogbnVtYmVyXG5cbiAgLyoqIOWIhuautea4suafk+e7n+iuoeWtl+autSAqL1xuICBzZWdtZW50ZWRBdHRyPzogc3RyaW5nXG4gIHNlZ21lbnRlZENvbG9ycz86IHN0cmluZ1tdXG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2x5bGluZXNCdWZmZXJMYXllciBleHRlbmRzIFBvbHlsaW5lc0xheWVyIHtcbiAgcHVibGljIHR5cGU6IHN0cmluZ1xuICBwcm90ZWN0ZWQgb3B0aW9uczogUG9seWxpbmVCdWZmZXJMYXllck9wdGlvbnNcbiAgY29uc3RydWN0b3IoXG4gICAgbWFwOiBMLk1hcCxcbiAgICBkYXRhTGlzdDogRGF0YUxpc3RJdGVtW10sXG4gICAgb3B0aW9uczogUG9seWxpbmVCdWZmZXJMYXllck9wdGlvbnMsXG4gICAgY2hhbm5lbEZ1bmM6IENoYW5uZWxGdW5jXG4gICkge1xuICAgIHN1cGVyKG1hcCwgZGF0YUxpc3QsIG9wdGlvbnMsIGNoYW5uZWxGdW5jKVxuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zOiBQb2x5bGluZUJ1ZmZlckxheWVyT3B0aW9ucyA9IHtcbiAgICAgIHJlbmRlclBvbHlsaW5lQ29sb3JUeXBlOiAnc2luZ2xlJyxcbiAgICAgIHNlZ21lbnRlZENvbG9yczogWycjMzM4OEZGJ10sXG4gICAgICBjb3JyaWRvcjogMTAwLFxuICAgICAgY29sb3I6ICcjMzM4OEZGJyxcbiAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICB9XG4gICAgdGhpcy50eXBlID0gJ3BvbHlsaW5lQnVmZmVyJ1xuICAgIHRoaXMubWFwID0gbWFwXG4gICAgdGhpcy5kYXRhTGlzdCA9IGRhdGFMaXN0XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICAgIHRoaXMuY2hhbm5lbEZ1bmMgPSBjaGFubmVsRnVuY1xuXG4gICAgdGhpcy52aXNpYmxlID0gdHJ1ZVxuICAgIHRoaXMucG9seWxpbmVzID0gW11cbiAgICB0aGlzLnNlZ21lbnRlZE1pbiA9IEluZmluaXR5XG4gICAgdGhpcy5zZWdtZW50ZWRTdGVwID0gMVxuICAgIC8vIHRoaXMuZm9jdXNlZFBvbHlsaW5lID0gbnVsbFxuXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpXG4gIH1cbiAgcHVibGljIGRyYXcob3B0aW9ucz86IFBvbHlsaW5lQnVmZmVyTGF5ZXJPcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpXG4gICAgdGhpcy5pbml0UG9seWxpbmVzKClcbiAgICByZXR1cm4gdGhpcy5yZWRyYXcoKVxuICB9XG4gIHB1YmxpYyByZWRyYXcoKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodGhpcy5sYXllcikge1xuICAgICAgdGhpcy5sYXllci5yZW1vdmUoKVxuICAgIH1cbiAgICB0aGlzLmxheWVyID0gdGhpcy5jb25maWdQb2x5bGluZUJ1ZmZlckxheWVyKClcbiAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmxheWVyKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgcHVibGljIGZpdEJvdW5kcygpIHtcbiAgICB0aGlzLm1hcC5maXRCb3VuZHModGhpcy5nZXRCb3VuZHMoKSlcbiAgfVxuICBwdWJsaWMgZ2V0Qm91bmRzKCk6IEwuTGF0TG5nQm91bmRzRXhwcmVzc2lvbiB7XG4gICAgaWYgKHRoaXMucG9seWxpbmVzLmxlbmd0aCA8PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0Qm91bmRzKClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucG9seWxpbmVzLnJlZHVjZShcbiAgICAgIChwcmV2LCBjdXJyKSA9PiBwcmV2LmV4dGVuZChjdXJyLmdldEJvdW5kcygpKSxcbiAgICAgIHRoaXMucG9seWxpbmVzWzBdLmdldEJvdW5kcygpXG4gICAgKVxuICB9XG4gIHB1YmxpYyBjaGFuZ2VDb2xvcihjb2xvcjogc3RyaW5nKSB7XG4gICAgdGhpcy5vcHRpb25zLmNvbG9yID0gY29sb3JcbiAgICB0aGlzLnJlZHJhdygpXG4gIH1cbiAgcHJpdmF0ZSBjb25maWdQb2x5bGluZUJ1ZmZlckxheWVyKCkge1xuICAgIHRoaXMucG9seWxpbmVMYXllciA9IEwubGF5ZXJHcm91cCgpXG4gICAgdGhpcy5wb2x5bGluZXMuZm9yRWFjaCgocG9seWxpbmUpID0+IHtcbiAgICAgIHBvbHlsaW5lLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5wb2x5bGluZUNsaWNrSGFuZGxlcihwb2x5bGluZSlcbiAgICAgIH0pXG4gICAgICBjb25zdCBvcHRpb25zOiBQb2x5bGluZUJ1ZmZlckxheWVyT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICB0aGlzLm9wdGlvbnMsXG4gICAgICAgIHtcbiAgICAgICAgICBjb2xvcjpcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5yZW5kZXJQb2x5bGluZUNvbG9yVHlwZSA9PT0gJ3NpbmdsZSdcbiAgICAgICAgICAgICAgPyB0aGlzLm9wdGlvbnMuY29sb3JcbiAgICAgICAgICAgICAgOiB0aGlzLmdldFNlZ21lbnRlZFBvbHlsaW5lQ29sb3IocG9seWxpbmUuZ2V0RGF0YSgpKSxcbiAgICAgICAgfVxuICAgICAgKVxuXG4gICAgICBjb25zdCBwb2x5bGluZUJ1ZmZlciA9IEwuY29ycmlkb3IoXG4gICAgICAgIChwb2x5bGluZS5nZXRMYXRMbmdzKCkgYXMgTC5MYXRMbmdbXSkubWFwKChsYXRMbmcpID0+XG4gICAgICAgICAgTC5sYXRMbmcoW2xhdExuZy5sYXQsIGxhdExuZy5sbmddKVxuICAgICAgICApLFxuICAgICAgICBvcHRpb25zXG4gICAgICApXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRvb2x0aXBBdHRyKSB7XG4gICAgICAgIHBvbHlsaW5lQnVmZmVyLmJpbmRUb29sdGlwKHRoaXMuZ2V0VG9vbFRpcENvbnRlbnQocG9seWxpbmUuZ2V0RGF0YSgpKSlcbiAgICAgIH1cbiAgICAgIHRoaXMucG9seWxpbmVMYXllci5hZGRMYXllcihwb2x5bGluZUJ1ZmZlcilcbiAgICB9KVxuICAgIHJldHVybiB0aGlzLnBvbHlsaW5lTGF5ZXJcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGF0YUxpc3RJdGVtIH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvbHlnb24gZXh0ZW5kcyBMLlBvbHlnb24ge1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dmFyaWFibGUtbmFtZVxuICBwcml2YXRlIF9fZGF0YTogRGF0YUxpc3RJdGVtXG4gIGNvbnN0cnVjdG9yKFxuICAgIGxhdGxuZ3M6XG4gICAgICB8IEwuTGF0TG5nRXhwcmVzc2lvbltdXG4gICAgICB8IEwuTGF0TG5nRXhwcmVzc2lvbltdW11cbiAgICAgIHwgTC5MYXRMbmdFeHByZXNzaW9uW11bXVtdLFxuICAgIG9wdGlvbnM/OiBMLlBvbHlsaW5lT3B0aW9uc1xuICApIHtcbiAgICBzdXBlcihsYXRsbmdzLCBvcHRpb25zKVxuICB9XG4gIHB1YmxpYyBzZXREYXRhKGRhdGE6IERhdGFMaXN0SXRlbSkge1xuICAgIHRoaXMuX19kYXRhID0gZGF0YVxuICB9XG4gIHB1YmxpYyBnZXREYXRhKCkge1xuICAgIHJldHVybiB0aGlzLl9fZGF0YVxuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhTGlzdEl0ZW0sIENoYW5uZWxGdW5jIH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMnXG5pbXBvcnQgUG9seWdvbiBmcm9tICcuL1BvbHlnb24nXG5cbi8qKiDmuLLmn5PpopzoibLmoLflvI8g5Y2V6ImyfOWIhuautSAqL1xudHlwZSBQb2x5Z29uTGF5ZXJSZW5kZXJDb2xvclR5cGUgPSAnc2luZ2xlJyB8ICdzZWdtZW50ZWQnXG5leHBvcnQgaW50ZXJmYWNlIFBvbHlnb25MYXllck9wdGlvbnMgZXh0ZW5kcyBMLlBvbHlsaW5lT3B0aW9ucyB7XG4gIHJlbmRlclBvbHlnb25Db2xvclR5cGU6IFBvbHlnb25MYXllclJlbmRlckNvbG9yVHlwZVxuXG4gIC8qKiBwb3B1cCDlsZXnpLrlrZfmrrUgKi9cbiAgcG9wdXBBdHRyPzogc3RyaW5nXG4gIC8qKiB0b29sdGlwIOWxleekuuWtl+autSAqL1xuICB0b29sdGlwQXR0cj86IHN0cmluZ1xuXG4gIG9wYWNpdHk/OiBudW1iZXJcblxuICAvKiog5YiG5q615riy5p+T57uf6K6h5a2X5q61ICovXG4gIHNlZ21lbnRlZEF0dHI/OiBzdHJpbmdcbiAgc2VnbWVudGVkQ29sb3JzPzogc3RyaW5nW11cbn1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvbHlnb25zTGF5ZXIge1xuICBwdWJsaWMgdHlwZTogc3RyaW5nXG5cbiAgcHJvdGVjdGVkIHZpc2libGU6IGJvb2xlYW5cbiAgcHJvdGVjdGVkIGxheWVyOiBMLkxheWVyR3JvdXBcblxuICBwcm90ZWN0ZWQgbWFwOiBMLk1hcFxuICBwcm90ZWN0ZWQgZGF0YUxpc3Q6IERhdGFMaXN0SXRlbVtdXG4gIHByb3RlY3RlZCBvcHRpb25zOiBQb2x5Z29uTGF5ZXJPcHRpb25zXG4gIHByb3RlY3RlZCBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgcHJvdGVjdGVkIHNlZ21lbnRlZE1pbjogbnVtYmVyXG4gIHByb3RlY3RlZCBzZWdtZW50ZWRTdGVwOiBudW1iZXJcbiAgcHJvdGVjdGVkIHBvbHlnb25zOiBQb2x5Z29uW11cbiAgLy8gcHJpdmF0ZSBmb2N1c2VkUG9seWdvbjogUG9seWdvblxuICBwcm90ZWN0ZWQgcG9seWdvbkxheWVyOiBMLkxheWVyR3JvdXBcblxuICBjb25zdHJ1Y3RvcihcbiAgICBtYXA6IEwuTWFwLFxuICAgIGRhdGFMaXN0OiBEYXRhTGlzdEl0ZW1bXSxcbiAgICBvcHRpb25zOiBQb2x5Z29uTGF5ZXJPcHRpb25zLFxuICAgIGNoYW5uZWxGdW5jOiBDaGFubmVsRnVuY1xuICApIHtcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9uczogUG9seWdvbkxheWVyT3B0aW9ucyA9IHtcbiAgICAgIGNvbG9yOiAnIzMzODhGRicsXG4gICAgICBmaWxsQ29sb3I6ICcjMzM4OEZGJyxcbiAgICAgIHJlbmRlclBvbHlnb25Db2xvclR5cGU6ICdzaW5nbGUnLFxuICAgICAgc2VnbWVudGVkQ29sb3JzOiBbJyMzMzg4RkYnXSxcbiAgICB9XG4gICAgdGhpcy50eXBlID0gJ3BvbHlnb24nXG4gICAgdGhpcy5tYXAgPSBtYXBcbiAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YUxpc3RcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gICAgdGhpcy5jaGFubmVsRnVuYyA9IGNoYW5uZWxGdW5jXG5cbiAgICB0aGlzLnZpc2libGUgPSB0cnVlXG4gICAgdGhpcy5wb2x5Z29ucyA9IFtdXG4gICAgdGhpcy5zZWdtZW50ZWRNaW4gPSBJbmZpbml0eVxuICAgIHRoaXMuc2VnbWVudGVkU3RlcCA9IDFcbiAgICAvLyB0aGlzLmZvY3VzZWRQb2x5Z29uID0gbnVsbFxuXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpXG4gIH1cbiAgcHVibGljIGRyYXcob3B0aW9ucz86IFBvbHlnb25MYXllck9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucylcbiAgICB0aGlzLmluaXRQb2x5Z29ucygpXG4gICAgcmV0dXJuIHRoaXMucmVkcmF3KClcbiAgfVxuICBwdWJsaWMgcmVkcmF3KCkge1xuICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMubGF5ZXIpIHtcbiAgICAgIHRoaXMubGF5ZXIucmVtb3ZlKClcbiAgICB9XG4gICAgdGhpcy5sYXllciA9IHRoaXMuY29uZmlnUG9seWdvbkxheWVyKClcbiAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmxheWVyKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgcHVibGljIGZpdEJvdW5kcygpIHtcbiAgICB0aGlzLm1hcC5maXRCb3VuZHModGhpcy5nZXRCb3VuZHMoKSlcbiAgfVxuICBwdWJsaWMgZ2V0Qm91bmRzKCk6IEwuTGF0TG5nQm91bmRzRXhwcmVzc2lvbiB7XG4gICAgaWYgKHRoaXMucG9seWdvbnMubGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcC5nZXRCb3VuZHMoKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wb2x5Z29ucy5yZWR1Y2UoXG4gICAgICAocHJldiwgY3VycikgPT4gcHJldi5leHRlbmQoY3Vyci5nZXRCb3VuZHMoKSksXG4gICAgICB0aGlzLnBvbHlnb25zWzBdLmdldEJvdW5kcygpXG4gICAgKVxuICB9XG4gIHB1YmxpYyBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmxheWVyKSB7XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmxheWVyKVxuICAgIH1cbiAgfVxuICBwdWJsaWMgdG9nZ2xlVmlzaWJsZSh2aXNpYmxlOiBib29sZWFuKSB7XG4gICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZVxuICAgIGlmICghdGhpcy5sYXllcikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmxheWVyKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmxheWVyKVxuICAgIH1cbiAgfVxuICBwdWJsaWMgY2hhbmdlQ29sb3IoY29sb3I6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy5maWxsQ29sb3IgPSBjb2xvclxuICAgIHRoaXMucmVkcmF3KClcbiAgfVxuICBwdWJsaWMgcGl0Y2goaWQ6IHN0cmluZykge1xuICAgIHRoaXMucG9seWdvbnMuZm9yRWFjaCgocG9seWdvbikgPT4ge1xuICAgICAgaWYgKHBvbHlnb24uZ2V0RGF0YSgpLmlkID09PSBpZCkge1xuICAgICAgICBwb2x5Z29uLmZpcmUoJ2NsaWNrJylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBwcm90ZWN0ZWQgZ2V0VG9vbFRpcENvbnRlbnQoZGF0YTogRGF0YUxpc3RJdGVtKSB7XG4gICAgcmV0dXJuICcnICsgZGF0YVt0aGlzLm9wdGlvbnMudG9vbHRpcEF0dHJdXG4gIH1cbiAgcHJvdGVjdGVkIGdldFBvcHVwQ29udGVudChkYXRhOiBEYXRhTGlzdEl0ZW0pIHtcbiAgICByZXR1cm4gJycgKyBkYXRhW3RoaXMub3B0aW9ucy5wb3B1cEF0dHJdXG4gIH1cbiAgcHJvdGVjdGVkIGNhY2hlU2VnbWVudFBhcmFtcygpIHtcbiAgICBjb25zdCBzZWdtZW50ZWRMZW5ndGggPSB0aGlzLm9wdGlvbnMuc2VnbWVudGVkQ29sb3JzLmxlbmd0aFxuICAgIGxldCBtYXhWYWwgPSAtSW5maW5pdHlcbiAgICBsZXQgbWluVmFsID0gSW5maW5pdHlcbiAgICBmb3IgKGNvbnN0IGRhdGEgb2YgdGhpcy5kYXRhTGlzdCkge1xuICAgICAgY29uc3QgdmFsID0gZGF0YVt0aGlzLm9wdGlvbnMuc2VnbWVudGVkQXR0cl1cbiAgICAgIG1heFZhbCA9IE1hdGgubWF4KG1heFZhbCwgdmFsKVxuICAgICAgbWluVmFsID0gTWF0aC5taW4obWluVmFsLCB2YWwpXG4gICAgfVxuICAgIGNvbnN0IHN0ZXAgPSAobWF4VmFsIC0gbWluVmFsICsgMSkgLyBzZWdtZW50ZWRMZW5ndGhcbiAgICB0aGlzLnNlZ21lbnRlZE1pbiA9IG1pblZhbFxuICAgIHRoaXMuc2VnbWVudGVkU3RlcCA9IHN0ZXBcbiAgfVxuICBwcm90ZWN0ZWQgZ2V0U2VnbWVudGVkUG9seWdvbkNvbG9yKGRhdGE6IERhdGFMaXN0SXRlbSk6IHN0cmluZyB7XG4gICAgY29uc3QgdmFsID0gZGF0YVt0aGlzLm9wdGlvbnMuc2VnbWVudGVkQXR0cl1cbiAgICBjb25zdCBjb2xvciA9IHRoaXMub3B0aW9ucy5zZWdtZW50ZWRDb2xvcnNbXG4gICAgICBwYXJzZUludCgnJyArICh2YWwgLSB0aGlzLnNlZ21lbnRlZE1pbikgLyB0aGlzLnNlZ21lbnRlZFN0ZXAsIDEwKVxuICAgIF1cbiAgICByZXR1cm4gY29sb3JcbiAgfVxuICBwcm90ZWN0ZWQgcG9seWdvbkNsaWNrSGFuZGxlcihwb2x5Z29uOiBQb2x5Z29uKSB7XG4gICAgLy8gdGhpcy5mb2N1c2VkUG9seWdvbiA9IHBvbHlnb25cbiAgICB0aGlzLmNoYW5uZWxGdW5jKCdvbi1jbGljay1wb2x5Z29uJywgcG9seWdvbilcbiAgfVxuICBwcm90ZWN0ZWQgaW5pdFBvbHlnb25zKCkge1xuICAgIC8vIOe8k+WtmCBzZWdtZW50IOebuOWFs+aVsOaNrlxuICAgIHRoaXMuY2FjaGVTZWdtZW50UGFyYW1zKClcbiAgICB0aGlzLnBvbHlnb25zID0gW11cbiAgICB0aGlzLmRhdGFMaXN0LmZvckVhY2goKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IGxheWVyID0gTC5nZW9KU09OKGRhdGEuZ2VvbWV0cnkpLmdldExheWVycygpWzBdXG4gICAgICBjb25zdCBwb2x5Z29uID0gbmV3IFBvbHlnb24oKGxheWVyIGFzIEwuUG9seWdvbikuZ2V0TGF0TG5ncygpKVxuXG4gICAgICAvLyDlsIbnm7jlhbPlgLznu5HlrprliLAgbWFya2Vy5LiKXG4gICAgICBwb2x5Z29uLnNldERhdGEoZGF0YSlcblxuICAgICAgdGhpcy5wb2x5Z29ucy5wdXNoKHBvbHlnb24pXG4gICAgfSlcbiAgfVxuICBwcml2YXRlIGNvbmZpZ1BvbHlnb25MYXllcigpIHtcbiAgICB0aGlzLnBvbHlnb25MYXllciA9IEwubGF5ZXJHcm91cCgpXG4gICAgdGhpcy5wb2x5Z29ucy5mb3JFYWNoKChwb2x5Z29uKSA9PiB7XG4gICAgICBsZXQgY29sb3IgPSB0aGlzLm9wdGlvbnMuY29sb3JcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVuZGVyUG9seWdvbkNvbG9yVHlwZSA9PT0gJ3NlZ21lbnRlZCcpIHtcbiAgICAgICAgY29sb3IgPSB0aGlzLmdldFNlZ21lbnRlZFBvbHlnb25Db2xvcihwb2x5Z29uLmdldERhdGEoKSlcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9wdGlvbnM6IEwuUG9seWxpbmVPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zLCB7XG4gICAgICAgIGNvbG9yLFxuICAgICAgfSlcbiAgICAgIC8vIOmHjeaWsOW6lOeUqCBvcHRpb25zXG4gICAgICBjb25zdCBuZXdQb2x5Z29uID0gbmV3IFBvbHlnb24ocG9seWdvbi5nZXRMYXRMbmdzKCksIG9wdGlvbnMpXG4gICAgICBuZXdQb2x5Z29uLnNldERhdGEocG9seWdvbi5nZXREYXRhKCkpXG4gICAgICBuZXdQb2x5Z29uLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5wb2x5Z29uQ2xpY2tIYW5kbGVyKHBvbHlnb24pXG4gICAgICB9KVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy50b29sdGlwQXR0cikge1xuICAgICAgICBuZXdQb2x5Z29uLmJpbmRUb29sdGlwKHRoaXMuZ2V0VG9vbFRpcENvbnRlbnQobmV3UG9seWdvbi5nZXREYXRhKCkpKVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wb3B1cEF0dHIpIHtcbiAgICAgICAgbmV3UG9seWdvbi5iaW5kUG9wdXAodGhpcy5nZXRQb3B1cENvbnRlbnQobmV3UG9seWdvbi5nZXREYXRhKCkpKVxuICAgICAgfVxuXG4gICAgICB0aGlzLnBvbHlnb25MYXllci5hZGRMYXllcihuZXdQb2x5Z29uKVxuICAgIH0pXG4gICAgcmV0dXJuIHRoaXMucG9seWdvbkxheWVyXG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFMaXN0SXRlbSwgQ2hhbm5lbEZ1bmMgfSBmcm9tICcuLi9kZWZpbml0aW9ucydcbmltcG9ydCBNYXJrZXJzTGF5ZXIsIHtcbiAgTWFya2Vyc0xheWVyT3B0aW9ucyxcbiAgTWFya2Vyc0hlYXRMYXllck9wdGlvbnMsXG59IGZyb20gJy4uL21hcmtlci9NYXJrZXJzTGF5ZXInXG5cbmludGVyZmFjZSBEeW5hbWljSGVhdExheWVyT3B0aW9ucyBleHRlbmRzIE1hcmtlcnNIZWF0TGF5ZXJPcHRpb25zIHtcbiAgLyoqIOaYr+WQpuW+queOr+aSreaUviAqL1xuICBsb29wOiBib29sZWFuXG4gIC8qKiDmmK/lkKboh6rliqjmkq3mlL4gKi9cbiAgYXV0bzogYm9vbGVhblxuICAvKiog6Ze06ZqU5pe26Ze0ICovXG4gIGludGVydmFsOiBudW1iZXJcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHluYW1pY0hlYXRMYXllciB7XG4gIC8qKiDlvZPliY3mkq3mlL7liLDnrKzlh6DmraUgKi9cbiAgcHJpdmF0ZSBjdXJyZW50U3RlcDogbnVtYmVyXG5cbiAgcHJpdmF0ZSBtYXA6IEwuTWFwXG4gIHByaXZhdGUgZHluYW1pY0RhdGFMaXN0OiBEYXRhTGlzdEl0ZW1bXVtdXG4gIHByaXZhdGUgb3B0aW9uczogRHluYW1pY0hlYXRMYXllck9wdGlvbnNcbiAgcHJpdmF0ZSBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgcHJpdmF0ZSBsYXllcjogTWFya2Vyc0xheWVyXG4gIHByaXZhdGUgaXNQYXVzZTogYm9vbGVhblxuICBjb25zdHJ1Y3RvcihcbiAgICBtYXA6IEwuTWFwLFxuICAgIGR5bmFtaWNEYXRhTGlzdDogRGF0YUxpc3RJdGVtW11bXSxcbiAgICBvcHRpb25zOiBEeW5hbWljSGVhdExheWVyT3B0aW9ucyxcbiAgICBjaGFubmVsRnVuYzogQ2hhbm5lbEZ1bmNcbiAgKSB7XG4gICAgdGhpcy5tYXAgPSBtYXBcbiAgICB0aGlzLmR5bmFtaWNEYXRhTGlzdCA9IGR5bmFtaWNEYXRhTGlzdFxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLmNoYW5uZWxGdW5jID0gY2hhbm5lbEZ1bmNcbiAgICB0aGlzLmN1cnJlbnRTdGVwID0gMFxuICAgIHRoaXMuaXNQYXVzZSA9IHRydWVcbiAgfVxuICBwdWJsaWMgcmVzdGFydCgpIHtcbiAgICB0aGlzLmlzUGF1c2UgPSBmYWxzZVxuICAgIHRoaXMuY3VycmVudFN0ZXAgPSAwXG4gICAgdGhpcy5nb3RvU3RlcCh0aGlzLmN1cnJlbnRTdGVwKVxuICAgIHRoaXMuc3RhcnQoKVxuICB9XG4gIHB1YmxpYyBzdGFydCgpIHtcbiAgICB0aGlzLmlzUGF1c2UgPSBmYWxzZVxuICAgIGlmICghdGhpcy5vcHRpb25zLmF1dG8pIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzUGF1c2UpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvKiog5pKt5pS+5a6M5q+VICovXG4gICAgICBpZiAodGhpcy5jdXJyZW50U3RlcCA+PSB0aGlzLmR5bmFtaWNEYXRhTGlzdC5sZW5ndGggLSAxKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmxvb3ApIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc3RhcnQoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcCsrXG4gICAgICAgIHRoaXMuZ290b1N0ZXAodGhpcy5jdXJyZW50U3RlcClcbiAgICAgICAgdGhpcy5zdGFydCgpXG4gICAgICB9XG4gICAgfSwgdGhpcy5vcHRpb25zLmludGVydmFsKVxuICB9XG4gIHB1YmxpYyBwYXVzZSgpIHtcbiAgICB0aGlzLmlzUGF1c2UgPSB0cnVlXG4gIH1cbiAgcHVibGljIHByZXYoKSB7XG4gICAgdGhpcy5jdXJyZW50U3RlcC0tXG4gICAgdGhpcy5jdXJyZW50U3RlcCA9XG4gICAgICAodGhpcy5jdXJyZW50U3RlcCArIHRoaXMuZHluYW1pY0RhdGFMaXN0Lmxlbmd0aCkgJVxuICAgICAgdGhpcy5keW5hbWljRGF0YUxpc3QubGVuZ3RoXG4gICAgdGhpcy5nb3RvU3RlcCh0aGlzLmN1cnJlbnRTdGVwKVxuICB9XG4gIHB1YmxpYyBuZXh0KCkge1xuICAgIHRoaXMuY3VycmVudFN0ZXArK1xuICAgIHRoaXMuY3VycmVudFN0ZXAgPSB0aGlzLmN1cnJlbnRTdGVwICUgdGhpcy5keW5hbWljRGF0YUxpc3QubGVuZ3RoXG4gICAgdGhpcy5nb3RvU3RlcCh0aGlzLmN1cnJlbnRTdGVwKVxuICB9XG4gIHB1YmxpYyBnb3RvU3RlcChzdGVwOiBudW1iZXIpIHtcbiAgICBpZiAoc3RlcCA8IDAgfHwgc3RlcCA+PSB0aGlzLmR5bmFtaWNEYXRhTGlzdC5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgZ290b1N0ZXAoJHtzdGVwfSk6IHN0ZXAgaXMgb3V0IG9mIGluZGV4IGApXG4gICAgfVxuICAgIHRoaXMubGF5ZXIuc2V0RGF0YSh0aGlzLmR5bmFtaWNEYXRhTGlzdFtzdGVwXSlcbiAgICB0aGlzLmxheWVyLmRyYXcoKVxuICB9XG4gIHB1YmxpYyBkcmF3KG9wdGlvbnM/OiBEeW5hbWljSGVhdExheWVyT3B0aW9ucykge1xuICAgIHRoaXMuaW5pdE9wdGlvbnMob3B0aW9ucylcbiAgICB0aGlzLmluaXRMYXllcigpXG4gICAgdGhpcy5sYXllci5kcmF3KClcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIHByaXZhdGUgaW5pdE9wdGlvbnMob3B0aW9ucz86IER5bmFtaWNIZWF0TGF5ZXJPcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgIGF1dG86IGZhbHNlLFxuICAgICAgICBpbnRlcnZhbDogMTAwMCxcbiAgICAgIH0sXG4gICAgICB0aGlzLm9wdGlvbnMsXG4gICAgICBvcHRpb25zXG4gICAgKVxuICB9XG4gIHByaXZhdGUgaW5pdExheWVyKCkge1xuICAgIGNvbnN0IG1hcmtlcnNMYXllck9wdGlvbnM6IE1hcmtlcnNMYXllck9wdGlvbnMgPSB7XG4gICAgICByZW5kZXJUeXBlOiAnaGVhdCcsXG4gICAgICBoZWF0T3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgIH1cbiAgICB0aGlzLmxheWVyID0gbmV3IE1hcmtlcnNMYXllcihcbiAgICAgIHRoaXMubWFwLFxuICAgICAgdGhpcy5keW5hbWljRGF0YUxpc3RbMF0sXG4gICAgICBtYXJrZXJzTGF5ZXJPcHRpb25zLFxuICAgICAgdGhpcy5jaGFubmVsRnVuY1xuICAgIClcbiAgICByZXR1cm4gdGhpcy5sYXllclxuICB9XG59XG4iLCJpbXBvcnQgTWFya2VyIGZyb20gJy4vbWFya2VyL01hcmtlcidcbmltcG9ydCBNYXJrZXJzTGF5ZXIgZnJvbSAnLi9tYXJrZXIvTWFya2Vyc0xheWVyJ1xuaW1wb3J0IE1hcmtlcnNCdWZmZXJMYXllciBmcm9tICcuL21hcmtlci9NYXJrZXJzQnVmZmVyTGF5ZXInXG5pbXBvcnQgUG9seWxpbmUgZnJvbSAnLi9wb2x5bGluZS9Qb2x5bGluZSdcbmltcG9ydCBQb2x5bGluZXNMYXllciBmcm9tICcuL3BvbHlsaW5lL1BvbHlsaW5lc0xheWVyJ1xuaW1wb3J0IFBvbHlsaW5lc0J1ZmZlckxheWVyIGZyb20gJy4vcG9seWxpbmUvUG9seWxpbmVzQnVmZmVyTGF5ZXInXG5pbXBvcnQgUG9seWdvbiBmcm9tICcuL3BvbHlnb24vUG9seWdvbidcbmltcG9ydCBQb2x5Z29uc0xheWVyIGZyb20gJy4vcG9seWdvbi9Qb2x5Z29uc0xheWVyJ1xuaW1wb3J0IER5bmFtaWNIZWF0TGF5ZXIgZnJvbSAnLi9keW5hbWljSGVhdExheWVyL0R5bmFtaWNIZWF0TGF5ZXInXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgTWFya2VyLFxuICBNYXJrZXJzTGF5ZXIsXG4gIE1hcmtlcnNCdWZmZXJMYXllcixcbiAgUG9seWxpbmUsXG4gIFBvbHlsaW5lc0xheWVyLFxuICBQb2x5bGluZXNCdWZmZXJMYXllcixcbiAgUG9seWdvbixcbiAgUG9seWdvbnNMYXllcixcbiAgRHluYW1pY0hlYXRMYXllcixcbn1cbmV4cG9ydCB7XG4gIE1hcmtlcixcbiAgTWFya2Vyc0xheWVyLFxuICBNYXJrZXJzQnVmZmVyTGF5ZXIsXG4gIFBvbHlsaW5lLFxuICBQb2x5bGluZXNMYXllcixcbiAgUG9seWxpbmVzQnVmZmVyTGF5ZXIsXG4gIFBvbHlnb24sXG4gIFBvbHlnb25zTGF5ZXIsXG4gIER5bmFtaWNIZWF0TGF5ZXIsXG59XG4iXSwic291cmNlUm9vdCI6IiJ9